/**
* plotly.js (custom - minified) v3.1.2
* Copyright 2012-2025, Plotly, Inc.
* All rights reserved.
* Licensed under the MIT license
*/
(
 function(root, factory) {
  if (typeof module === "object" && module.exports) {
   module.exports = factory();
  } else {
   root.moduleName = factory();
  }
} (typeof self !== "undefined" ? self : this, () => {
"use strict";var Plotly=(()=>{var Iw=Object.defineProperty;var Cse=Object.getOwnPropertyDescriptor;var kse=Object.getOwnPropertyNames;var Lse=Object.prototype.hasOwnProperty;var fa=(e,r)=>()=>(e&&(r=e(e=0)),r);var fe=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),Rse=(e,r)=>{for(var t in r)Iw(e,t,{get:r[t],enumerable:!0})},Fse=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of kse(r))!Lse.call(e,a)&&a!==t&&Iw(e,a,{get:()=>r[a],enumerable:!(n=Cse(r,a))||n.enumerable});return e};var Dse=e=>Fse(Iw({},"__esModule",{value:!0}),e);var _2=fe(a9=>{"use strict";a9.version="3.1.2"});var o9=fe((i9,w2)=>{(function(r,t,n){t[r]=t[r]||n(),typeof w2!="undefined"&&w2.exports&&(w2.exports=t[r])})("Promise",typeof window!="undefined"?window:i9,function(){"use strict";var r,t,n,a=Object.prototype.toString,o=typeof setImmediate!="undefined"?function(M){return setImmediate(M)}:setTimeout;try{Object.defineProperty({},"x",{}),r=function(M,E,b,T){return Object.defineProperty(M,E,{value:b,writable:!0,configurable:T!==!1})}}catch(y){r=function(E,b,T){return E[b]=T,E}}n=function(){var M,E,b;function T(p,_){this.fn=p,this.self=_,this.next=void 0}return{add:function(_,g){b=new T(_,g),E?E.next=b:M=b,E=b,b=void 0},drain:function(){var _=M;for(M=E=t=void 0;_;)_.fn.call(_.self),_=_.next}}}();function i(y,M){n.add(y,M),t||(t=o(n.drain))}function l(y){var M,E=typeof y;return y!=null&&(E=="object"||E=="function")&&(M=y.then),typeof M=="function"?M:!1}function f(){for(var y=0;y<this.chain.length;y++)s(this,this.state===1?this.chain[y].success:this.chain[y].failure,this.chain[y]);this.chain.length=0}function s(y,M,E){var b,T;try{M===!1?E.reject(y.msg):(M===!0?b=y.msg:b=M.call(void 0,y.msg),b===E.promise?E.reject(TypeError("Promise-chain cycle")):(T=l(b))?T.call(b,E.resolve,E.reject):E.resolve(b))}catch(p){E.reject(p)}}function u(y){var M,E=this;if(!E.triggered){E.triggered=!0,E.def&&(E=E.def);try{(M=l(y))?i(function(){var b=new x(E);try{M.call(y,function(){u.apply(b,arguments)},function(){c.apply(b,arguments)})}catch(T){c.call(b,T)}}):(E.msg=y,E.state=1,E.chain.length>0&&i(f,E))}catch(b){c.call(new x(E),b)}}}function c(y){var M=this;M.triggered||(M.triggered=!0,M.def&&(M=M.def),M.msg=y,M.state=2,M.chain.length>0&&i(f,M))}function v(y,M,E,b){for(var T=0;T<M.length;T++)(function(_){y.resolve(M[_]).then(function(h){E(_,h)},b)})(T)}function x(y){this.def=y,this.triggered=!1}function m(y){this.promise=y,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function w(y){if(typeof y!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var M=new m(this);this.then=function(b,T){var p={success:typeof b=="function"?b:!0,failure:typeof T=="function"?T:!1};return p.promise=new this.constructor(function(g,h){if(typeof g!="function"||typeof h!="function")throw TypeError("Not a function");p.resolve=g,p.reject=h}),M.chain.push(p),M.state!==0&&i(f,M),p.promise},this.catch=function(b){return this.then(void 0,b)};try{y.call(void 0,function(b){u.call(M,b)},function(b){c.call(M,b)})}catch(E){c.call(M,E)}}var A=r({},"constructor",w,!1);return w.prototype=A,r(A,"__NPO__",0,!1),r(w,"resolve",function(M){var E=this;return M&&typeof M=="object"&&M.__NPO__===1?M:new E(function(T,p){if(typeof T!="function"||typeof p!="function")throw TypeError("Not a function");T(M)})}),r(w,"reject",function(M){return new this(function(b,T){if(typeof b!="function"||typeof T!="function")throw TypeError("Not a function");T(M)})}),r(w,"all",function(M){var E=this;return a.call(M)!="[object Array]"?E.reject(TypeError("Not an array")):M.length===0?E.resolve([]):new E(function(T,p){if(typeof T!="function"||typeof p!="function")throw TypeError("Not a function");var _=M.length,g=Array(_),h=0;v(E,M,function(d,R){g[d]=R,++h===_&&T(g)},p)})}),r(w,"race",function(M){var E=this;return a.call(M)!="[object Array]"?E.reject(TypeError("Not an array")):new E(function(T,p){if(typeof T!="function"||typeof p!="function")throw TypeError("Not a function");v(E,M,function(g,h){T(h)},p)})}),w})});var Ln=fe((iDe,A2)=>{(function(){var e={version:"3.8.2"},r=[].slice,t=function(C){return r.call(C)},n=self.document;function a(C){return C&&(C.ownerDocument||C.document||C).documentElement}function o(C){return C&&(C.ownerDocument&&C.ownerDocument.defaultView||C.document&&C||C.defaultView)}if(n)try{t(n.documentElement.childNodes)[0].nodeType}catch(C){t=function(N){for(var U=N.length,X=new Array(U);U--;)X[U]=N[U];return X}}if(Date.now||(Date.now=function(){return+new Date}),n)try{n.createElement("DIV").style.setProperty("opacity",0,"")}catch(C){var i=this.Element.prototype,l=i.setAttribute,f=i.setAttributeNS,s=this.CSSStyleDeclaration.prototype,u=s.setProperty;i.setAttribute=function(N,U){l.call(this,N,U+"")},i.setAttributeNS=function(N,U,X){f.call(this,N,U,X+"")},s.setProperty=function(N,U,X){u.call(this,N,U+"",X)}}e.ascending=c;function c(C,N){return C<N?-1:C>N?1:C>=N?0:NaN}e.descending=function(C,N){return N<C?-1:N>C?1:N>=C?0:NaN},e.min=function(C,N){var U=-1,X=C.length,$,ee;if(arguments.length===1){for(;++U<X;)if((ee=C[U])!=null&&ee>=ee){$=ee;break}for(;++U<X;)(ee=C[U])!=null&&$>ee&&($=ee)}else{for(;++U<X;)if((ee=N.call(C,C[U],U))!=null&&ee>=ee){$=ee;break}for(;++U<X;)(ee=N.call(C,C[U],U))!=null&&$>ee&&($=ee)}return $},e.max=function(C,N){var U=-1,X=C.length,$,ee;if(arguments.length===1){for(;++U<X;)if((ee=C[U])!=null&&ee>=ee){$=ee;break}for(;++U<X;)(ee=C[U])!=null&&ee>$&&($=ee)}else{for(;++U<X;)if((ee=N.call(C,C[U],U))!=null&&ee>=ee){$=ee;break}for(;++U<X;)(ee=N.call(C,C[U],U))!=null&&ee>$&&($=ee)}return $},e.extent=function(C,N){var U=-1,X=C.length,$,ee,ve;if(arguments.length===1){for(;++U<X;)if((ee=C[U])!=null&&ee>=ee){$=ve=ee;break}for(;++U<X;)(ee=C[U])!=null&&($>ee&&($=ee),ve<ee&&(ve=ee))}else{for(;++U<X;)if((ee=N.call(C,C[U],U))!=null&&ee>=ee){$=ve=ee;break}for(;++U<X;)(ee=N.call(C,C[U],U))!=null&&($>ee&&($=ee),ve<ee&&(ve=ee))}return[$,ve]};function v(C){return C===null?NaN:+C}function x(C){return!isNaN(C)}e.sum=function(C,N){var U=0,X=C.length,$,ee=-1;if(arguments.length===1)for(;++ee<X;)x($=+C[ee])&&(U+=$);else for(;++ee<X;)x($=+N.call(C,C[ee],ee))&&(U+=$);return U},e.mean=function(C,N){var U=0,X=C.length,$,ee=-1,ve=X;if(arguments.length===1)for(;++ee<X;)x($=v(C[ee]))?U+=$:--ve;else for(;++ee<X;)x($=v(N.call(C,C[ee],ee)))?U+=$:--ve;if(ve)return U/ve},e.quantile=function(C,N){var U=(C.length-1)*N+1,X=Math.floor(U),$=+C[X-1],ee=U-X;return ee?$+ee*(C[X]-$):$},e.median=function(C,N){var U=[],X=C.length,$,ee=-1;if(arguments.length===1)for(;++ee<X;)x($=v(C[ee]))&&U.push($);else for(;++ee<X;)x($=v(N.call(C,C[ee],ee)))&&U.push($);if(U.length)return e.quantile(U.sort(c),.5)},e.variance=function(C,N){var U=C.length,X=0,$,ee,ve=0,se=-1,xe=0;if(arguments.length===1)for(;++se<U;)x($=v(C[se]))&&(ee=$-X,X+=ee/++xe,ve+=ee*($-X));else for(;++se<U;)x($=v(N.call(C,C[se],se)))&&(ee=$-X,X+=ee/++xe,ve+=ee*($-X));if(xe>1)return ve/(xe-1)},e.deviation=function(){var C=e.variance.apply(this,arguments);return C&&Math.sqrt(C)};function m(C){return{left:function(N,U,X,$){for(arguments.length<3&&(X=0),arguments.length<4&&($=N.length);X<$;){var ee=X+$>>>1;C(N[ee],U)<0?X=ee+1:$=ee}return X},right:function(N,U,X,$){for(arguments.length<3&&(X=0),arguments.length<4&&($=N.length);X<$;){var ee=X+$>>>1;C(N[ee],U)>0?$=ee:X=ee+1}return X}}}var w=m(c);e.bisectLeft=w.left,e.bisect=e.bisectRight=w.right,e.bisector=function(C){return m(C.length===1?function(N,U){return c(C(N),U)}:C)},e.shuffle=function(C,N,U){(X=arguments.length)<3&&(U=C.length,X<2&&(N=0));for(var X=U-N,$,ee;X;)ee=Math.random()*X--|0,$=C[X+N],C[X+N]=C[ee+N],C[ee+N]=$;return C},e.permute=function(C,N){for(var U=N.length,X=new Array(U);U--;)X[U]=C[N[U]];return X},e.pairs=function(C){for(var N=0,U=C.length-1,X,$=C[0],ee=new Array(U<0?0:U);N<U;)ee[N]=[X=$,$=C[++N]];return ee},e.transpose=function(C){if(!(ee=C.length))return[];for(var N=-1,U=e.min(C,A),X=new Array(U);++N<U;)for(var $=-1,ee,ve=X[N]=new Array(ee);++$<ee;)ve[$]=C[$][N];return X};function A(C){return C.length}e.zip=function(){return e.transpose(arguments)},e.keys=function(C){var N=[];for(var U in C)N.push(U);return N},e.values=function(C){var N=[];for(var U in C)N.push(C[U]);return N},e.entries=function(C){var N=[];for(var U in C)N.push({key:U,value:C[U]});return N},e.merge=function(C){for(var N=C.length,U,X=-1,$=0,ee,ve;++X<N;)$+=C[X].length;for(ee=new Array($);--N>=0;)for(ve=C[N],U=ve.length;--U>=0;)ee[--$]=ve[U];return ee};var y=Math.abs;e.range=function(C,N,U){if(arguments.length<3&&(U=1,arguments.length<2&&(N=C,C=0)),(N-C)/U===1/0)throw new Error("infinite range");var X=[],$=M(y(U)),ee=-1,ve;if(C*=$,N*=$,U*=$,U<0)for(;(ve=C+U*++ee)>N;)X.push(ve/$);else for(;(ve=C+U*++ee)<N;)X.push(ve/$);return X};function M(C){for(var N=1;C*N%1;)N*=10;return N}function E(C,N){for(var U in N)Object.defineProperty(C.prototype,U,{value:N[U],enumerable:!1})}e.map=function(C,N){var U=new b;if(C instanceof b)C.forEach(function(se,xe){U.set(se,xe)});else if(Array.isArray(C)){var X=-1,$=C.length,ee;if(arguments.length===1)for(;++X<$;)U.set(X,C[X]);else for(;++X<$;)U.set(N.call(C,ee=C[X],X),ee)}else for(var ve in C)U.set(ve,C[ve]);return U};function b(){this._=Object.create(null)}var T="__proto__",p="\0";E(b,{has:h,get:function(C){return this._[_(C)]},set:function(C,N){return this._[_(C)]=N},remove:S,keys:d,values:function(){var C=[];for(var N in this._)C.push(this._[N]);return C},entries:function(){var C=[];for(var N in this._)C.push({key:g(N),value:this._[N]});return C},size:R,empty:L,forEach:function(C){for(var N in this._)C.call(this,g(N),this._[N])}});function _(C){return(C+="")===T||C[0]===p?p+C:C}function g(C){return(C+="")[0]===p?C.slice(1):C}function h(C){return _(C)in this._}function S(C){return(C=_(C))in this._&&delete this._[C]}function d(){var C=[];for(var N in this._)C.push(g(N));return C}function R(){var C=0;for(var N in this._)++C;return C}function L(){for(var C in this._)return!1;return!0}e.nest=function(){var C={},N=[],U=[],X,$;function ee(se,xe,ke){if(ke>=N.length)return $?$.call(C,xe):X?xe.sort(X):xe;for(var Le=-1,Je=xe.length,Ke=N[ke++],Er,Lr,or,gr=new b,wr;++Le<Je;)(wr=gr.get(Er=Ke(Lr=xe[Le])))?wr.push(Lr):gr.set(Er,[Lr]);return se?(Lr=se(),or=function(Rr,Fr){Lr.set(Rr,ee(se,Fr,ke))}):(Lr={},or=function(Rr,Fr){Lr[Rr]=ee(se,Fr,ke)}),gr.forEach(or),Lr}function ve(se,xe){if(xe>=N.length)return se;var ke=[],Le=U[xe++];return se.forEach(function(Je,Ke){ke.push({key:Je,values:ve(Ke,xe)})}),Le?ke.sort(function(Je,Ke){return Le(Je.key,Ke.key)}):ke}return C.map=function(se,xe){return ee(xe,se,0)},C.entries=function(se){return ve(ee(e.map,se,0),0)},C.key=function(se){return N.push(se),C},C.sortKeys=function(se){return U[N.length-1]=se,C},C.sortValues=function(se){return X=se,C},C.rollup=function(se){return $=se,C},C},e.set=function(C){var N=new F;if(C)for(var U=0,X=C.length;U<X;++U)N.add(C[U]);return N};function F(){this._=Object.create(null)}E(F,{has:h,add:function(C){return this._[_(C+="")]=!0,C},remove:S,values:d,size:R,empty:L,forEach:function(C){for(var N in this._)C.call(this,g(N))}}),e.behavior={};function O(C){return C}e.rebind=function(C,N){for(var U=1,X=arguments.length,$;++U<X;)C[$=arguments[U]]=P(C,N,N[$]);return C};function P(C,N,U){return function(){var X=U.apply(N,arguments);return X===N?C:X}}function I(C,N){if(N in C)return N;N=N.charAt(0).toUpperCase()+N.slice(1);for(var U=0,X=k.length;U<X;++U){var $=k[U]+N;if($ in C)return $}}var k=["webkit","ms","moz","Moz","o","O"];function D(){}e.dispatch=function(){for(var C=new z,N=-1,U=arguments.length;++N<U;)C[arguments[N]]=q(C);return C};function z(){}z.prototype.on=function(C,N){var U=C.indexOf("."),X="";if(U>=0&&(X=C.slice(U+1),C=C.slice(0,U)),C)return arguments.length<2?this[C].on(X):this[C].on(X,N);if(arguments.length===2){if(N==null)for(C in this)this.hasOwnProperty(C)&&this[C].on(X,null);return this}};function q(C){var N=[],U=new b;function X(){for(var $=N,ee=-1,ve=$.length,se;++ee<ve;)(se=$[ee].on)&&se.apply(this,arguments);return C}return X.on=function($,ee){var ve=U.get($),se;return arguments.length<2?ve&&ve.on:(ve&&(ve.on=null,N=N.slice(0,se=N.indexOf(ve)).concat(N.slice(se+1)),U.remove($)),ee&&N.push(U.set($,{on:ee})),C)},X}e.event=null;function j(){e.event.preventDefault()}function Q(){for(var C=e.event,N;N=C.sourceEvent;)C=N;return C}function K(C){for(var N=new z,U=0,X=arguments.length;++U<X;)N[arguments[U]]=q(N);return N.of=function($,ee){return function(ve){try{var se=ve.sourceEvent=e.event;ve.target=C,e.event=ve,N[ve.type].apply($,ee)}finally{e.event=se}}},N}e.requote=function(C){return C.replace(G,"\\$&")};var G=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,B={}.__proto__?function(C,N){C.__proto__=N}:function(C,N){for(var U in N)C[U]=N[U]};function Z(C){return B(C,te),C}var ie=function(C,N){return N.querySelector(C)},J=function(C,N){return N.querySelectorAll(C)},le=function(C,N){var U=C.matches||C[I(C,"matchesSelector")];return le=function(X,$){return U.call(X,$)},le(C,N)};typeof Sizzle=="function"&&(ie=function(C,N){return Sizzle(C,N)[0]||null},J=Sizzle,le=Sizzle.matchesSelector),e.selection=function(){return e.select(n.documentElement)};var te=e.selection.prototype=[];te.select=function(C){var N=[],U,X,$,ee;C=V(C);for(var ve=-1,se=this.length;++ve<se;){N.push(U=[]),U.parentNode=($=this[ve]).parentNode;for(var xe=-1,ke=$.length;++xe<ke;)(ee=$[xe])?(U.push(X=C.call(ee,ee.__data__,xe,ve)),X&&"__data__"in ee&&(X.__data__=ee.__data__)):U.push(null)}return Z(N)};function V(C){return typeof C=="function"?C:function(){return ie(C,this)}}te.selectAll=function(C){var N=[],U,X;C=ne(C);for(var $=-1,ee=this.length;++$<ee;)for(var ve=this[$],se=-1,xe=ve.length;++se<xe;)(X=ve[se])&&(N.push(U=t(C.call(X,X.__data__,se,$))),U.parentNode=X);return Z(N)};function ne(C){return typeof C=="function"?C:function(){return J(C,this)}}var Y="http://www.w3.org/1999/xhtml",oe={svg:"http://www.w3.org/2000/svg",xhtml:Y,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};e.ns={prefix:oe,qualify:function(C){var N=C.indexOf(":"),U=C;return N>=0&&(U=C.slice(0,N))!=="xmlns"&&(C=C.slice(N+1)),oe.hasOwnProperty(U)?{space:oe[U],local:C}:C}},te.attr=function(C,N){if(arguments.length<2){if(typeof C=="string"){var U=this.node();return C=e.ns.qualify(C),C.local?U.getAttributeNS(C.space,C.local):U.getAttribute(C)}for(N in C)this.each(pe(N,C[N]));return this}return this.each(pe(C,N))};function pe(C,N){C=e.ns.qualify(C);function U(){this.removeAttribute(C)}function X(){this.removeAttributeNS(C.space,C.local)}function $(){this.setAttribute(C,N)}function ee(){this.setAttributeNS(C.space,C.local,N)}function ve(){var xe=N.apply(this,arguments);xe==null?this.removeAttribute(C):this.setAttribute(C,xe)}function se(){var xe=N.apply(this,arguments);xe==null?this.removeAttributeNS(C.space,C.local):this.setAttributeNS(C.space,C.local,xe)}return N==null?C.local?X:U:typeof N=="function"?C.local?se:ve:C.local?ee:$}function we(C){return C.trim().replace(/\s+/g," ")}te.classed=function(C,N){if(arguments.length<2){if(typeof C=="string"){var U=this.node(),X=(C=Re(C)).length,$=-1;if(N=U.classList){for(;++$<X;)if(!N.contains(C[$]))return!1}else for(N=U.getAttribute("class");++$<X;)if(!De(C[$]).test(N))return!1;return!0}for(N in C)this.each(Ae(N,C[N]));return this}return this.each(Ae(C,N))};function De(C){return new RegExp("(?:^|\\s+)"+e.requote(C)+"(?:\\s+|$)","g")}function Re(C){return(C+"").trim().split(/^|\s+/)}function Ae(C,N){C=Re(C).map(Ie);var U=C.length;function X(){for(var ee=-1;++ee<U;)C[ee](this,N)}function $(){for(var ee=-1,ve=N.apply(this,arguments);++ee<U;)C[ee](this,ve)}return typeof N=="function"?$:X}function Ie(C){var N=De(C);return function(U,X){if($=U.classList)return X?$.add(C):$.remove(C);var $=U.getAttribute("class")||"";X?(N.lastIndex=0,N.test($)||U.setAttribute("class",we($+" "+C))):U.setAttribute("class",we($.replace(N," ")))}}te.style=function(C,N,U){var X=arguments.length;if(X<3){if(typeof C!="string"){X<2&&(N="");for(U in C)this.each(Be(U,C[U],N));return this}if(X<2){var $=this.node();return o($).getComputedStyle($,null).getPropertyValue(C)}U=""}return this.each(Be(C,N,U))};function Be(C,N,U){function X(){this.style.removeProperty(C)}function $(){this.style.setProperty(C,N,U)}function ee(){var ve=N.apply(this,arguments);ve==null?this.style.removeProperty(C):this.style.setProperty(C,ve,U)}return N==null?X:typeof N=="function"?ee:$}te.property=function(C,N){if(arguments.length<2){if(typeof C=="string")return this.node()[C];for(N in C)this.each(je(N,C[N]));return this}return this.each(je(C,N))};function je(C,N){function U(){delete this[C]}function X(){this[C]=N}function $(){var ee=N.apply(this,arguments);ee==null?delete this[C]:this[C]=ee}return N==null?U:typeof N=="function"?$:X}te.text=function(C){return arguments.length?this.each(typeof C=="function"?function(){var N=C.apply(this,arguments);this.textContent=N==null?"":N}:C==null?function(){this.textContent=""}:function(){this.textContent=C}):this.node().textContent},te.html=function(C){return arguments.length?this.each(typeof C=="function"?function(){var N=C.apply(this,arguments);this.innerHTML=N==null?"":N}:C==null?function(){this.innerHTML=""}:function(){this.innerHTML=C}):this.node().innerHTML},te.append=function(C){return C=Ne(C),this.select(function(){return this.appendChild(C.apply(this,arguments))})};function Ne(C){function N(){var X=this.ownerDocument,$=this.namespaceURI;return $===Y&&X.documentElement.namespaceURI===Y?X.createElement(C):X.createElementNS($,C)}function U(){return this.ownerDocument.createElementNS(C.space,C.local)}return typeof C=="function"?C:(C=e.ns.qualify(C)).local?U:N}te.insert=function(C,N){return C=Ne(C),N=V(N),this.select(function(){return this.insertBefore(C.apply(this,arguments),N.apply(this,arguments)||null)})},te.remove=function(){return this.each(Qe)};function Qe(){var C=this.parentNode;C&&C.removeChild(this)}te.data=function(C,N){var U=-1,X=this.length,$,ee;if(!arguments.length){for(C=new Array(X=($=this[0]).length);++U<X;)(ee=$[U])&&(C[U]=ee.__data__);return C}function ve(Le,Je){var Ke,Er=Le.length,Lr=Je.length,or=Math.min(Er,Lr),gr=new Array(Lr),wr=new Array(Lr),Rr=new Array(Er),Fr,vr;if(N){var at=new b,ct=new Array(Er),At;for(Ke=-1;++Ke<Er;)(Fr=Le[Ke])&&(at.has(At=N.call(Fr,Fr.__data__,Ke))?Rr[Ke]=Fr:at.set(At,Fr),ct[Ke]=At);for(Ke=-1;++Ke<Lr;)(Fr=at.get(At=N.call(Je,vr=Je[Ke],Ke)))?Fr!==!0&&(gr[Ke]=Fr,Fr.__data__=vr):wr[Ke]=pr(vr),at.set(At,!0);for(Ke=-1;++Ke<Er;)Ke in ct&&at.get(ct[Ke])!==!0&&(Rr[Ke]=Le[Ke])}else{for(Ke=-1;++Ke<or;)Fr=Le[Ke],vr=Je[Ke],Fr?(Fr.__data__=vr,gr[Ke]=Fr):wr[Ke]=pr(vr);for(;Ke<Lr;++Ke)wr[Ke]=pr(Je[Ke]);for(;Ke<Er;++Ke)Rr[Ke]=Le[Ke]}wr.update=gr,wr.parentNode=gr.parentNode=Rr.parentNode=Le.parentNode,se.push(wr),xe.push(gr),ke.push(Rr)}var se=dr([]),xe=Z([]),ke=Z([]);if(typeof C=="function")for(;++U<X;)ve($=this[U],C.call($,$.parentNode.__data__,U));else for(;++U<X;)ve($=this[U],C);return xe.enter=function(){return se},xe.exit=function(){return ke},xe};function pr(C){return{__data__:C}}te.datum=function(C){return arguments.length?this.property("__data__",C):this.property("__data__")},te.filter=function(C){var N=[],U,X,$;typeof C!="function"&&(C=Se(C));for(var ee=0,ve=this.length;ee<ve;ee++){N.push(U=[]),U.parentNode=(X=this[ee]).parentNode;for(var se=0,xe=X.length;se<xe;se++)($=X[se])&&C.call($,$.__data__,se,ee)&&U.push($)}return Z(N)};function Se(C){return function(){return le(this,C)}}te.order=function(){for(var C=-1,N=this.length;++C<N;)for(var U=this[C],X=U.length-1,$=U[X],ee;--X>=0;)(ee=U[X])&&($&&$!==ee.nextSibling&&$.parentNode.insertBefore(ee,$),$=ee);return this},te.sort=function(C){C=Fe.apply(this,arguments);for(var N=-1,U=this.length;++N<U;)this[N].sort(C);return this.order()};function Fe(C){return arguments.length||(C=c),function(N,U){return N&&U?C(N.__data__,U.__data__):!N-!U}}te.each=function(C){return hr(this,function(N,U,X){C.call(N,N.__data__,U,X)})};function hr(C,N){for(var U=0,X=C.length;U<X;U++)for(var $=C[U],ee=0,ve=$.length,se;ee<ve;ee++)(se=$[ee])&&N(se,ee,U);return C}te.call=function(C){var N=t(arguments);return C.apply(N[0]=this,N),this},te.empty=function(){return!this.node()},te.node=function(){for(var C=0,N=this.length;C<N;C++)for(var U=this[C],X=0,$=U.length;X<$;X++){var ee=U[X];if(ee)return ee}return null},te.size=function(){var C=0;return hr(this,function(){++C}),C};function dr(C){return B(C,kr),C}var kr=[];e.selection.enter=dr,e.selection.enter.prototype=kr,kr.append=te.append,kr.empty=te.empty,kr.node=te.node,kr.call=te.call,kr.size=te.size,kr.select=function(C){for(var N=[],U,X,$,ee,ve,se=-1,xe=this.length;++se<xe;){$=(ee=this[se]).update,N.push(U=[]),U.parentNode=ee.parentNode;for(var ke=-1,Le=ee.length;++ke<Le;)(ve=ee[ke])?(U.push($[ke]=X=C.call(ee.parentNode,ve.__data__,ke,se)),X.__data__=ve.__data__):U.push(null)}return Z(N)},kr.insert=function(C,N){return arguments.length<2&&(N=Ue(this)),te.insert.call(this,C,N)};function Ue(C){var N,U;return function(X,$,ee){var ve=C[ee].update,se=ve.length,xe;for(ee!=U&&(U=ee,N=0),$>=N&&(N=$+1);!(xe=ve[N])&&++N<se;);return xe}}e.select=function(C){var N;return typeof C=="string"?(N=[ie(C,n)],N.parentNode=n.documentElement):(N=[C],N.parentNode=a(C)),Z([N])},e.selectAll=function(C){var N;return typeof C=="string"?(N=t(J(C,n)),N.parentNode=n.documentElement):(N=t(C),N.parentNode=null),Z([N])},te.on=function(C,N,U){var X=arguments.length;if(X<3){if(typeof C!="string"){X<2&&(N=!1);for(U in C)this.each(He(U,C[U],N));return this}if(X<2)return(X=this.node()["__on"+C])&&X._;U=!1}return this.each(He(C,N,U))};function He(C,N,U){var X="__on"+C,$=C.indexOf("."),ee=fr;$>0&&(C=C.slice(0,$));var ve=Xe.get(C);ve&&(C=ve,ee=Mr);function se(){var Le=this[X];Le&&(this.removeEventListener(C,Le,Le.$),delete this[X])}function xe(){var Le=ee(N,t(arguments));se.call(this),this.addEventListener(C,this[X]=Le,Le.$=U),Le._=N}function ke(){var Le=new RegExp("^__on([^.]+)"+e.requote(C)+"$"),Je;for(var Ke in this)if(Je=Ke.match(Le)){var Er=this[Ke];this.removeEventListener(Je[1],Er,Er.$),delete this[Ke]}}return $?N?xe:se:N?D:ke}var Xe=e.map({mouseenter:"mouseover",mouseleave:"mouseout"});n&&Xe.forEach(function(C){"on"+C in n&&Xe.remove(C)});function fr(C,N){return function(U){var X=e.event;e.event=U,N[0]=this.__data__;try{C.apply(this,N)}finally{e.event=X}}}function Mr(C,N){var U=fr(C,N);return function(X){var $=this,ee=X.relatedTarget;(!ee||ee!==$&&!(ee.compareDocumentPosition($)&8))&&U.call($,X)}}var qr,et=0;function jr(C){var N=".dragsuppress-"+ ++et,U="click"+N,X=e.select(o(C)).on("touchmove"+N,j).on("dragstart"+N,j).on("selectstart"+N,j);if(qr==null&&(qr="onselectstart"in C?!1:I(C.style,"userSelect")),qr){var $=a(C).style,ee=$[qr];$[qr]="none"}return function(ve){if(X.on(N,null),qr&&($[qr]=ee),ve){var se=function(){X.on(U,null)};X.on(U,function(){j(),se()},!0),setTimeout(se,0)}}}e.mouse=function(C){return _r(C,Q())};var Or=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function _r(C,N){N.changedTouches&&(N=N.changedTouches[0]);var U=C.ownerSVGElement||C;if(U.createSVGPoint){var X=U.createSVGPoint();if(Or<0){var $=o(C);if($.scrollX||$.scrollY){U=e.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ee=U[0][0].getScreenCTM();Or=!(ee.f||ee.e),U.remove()}}return Or?(X.x=N.pageX,X.y=N.pageY):(X.x=N.clientX,X.y=N.clientY),X=X.matrixTransform(C.getScreenCTM().inverse()),[X.x,X.y]}var ve=C.getBoundingClientRect();return[N.clientX-ve.left-C.clientLeft,N.clientY-ve.top-C.clientTop]}e.touch=function(C,N,U){if(arguments.length<3&&(U=N,N=Q().changedTouches),N){for(var X=0,$=N.length,ee;X<$;++X)if((ee=N[X]).identifier===U)return _r(C,ee)}},e.behavior.drag=function(){var C=K($,"drag","dragstart","dragend"),N=null,U=ee(D,e.mouse,o,"mousemove","mouseup"),X=ee(qe,e.touch,O,"touchmove","touchend");function $(){this.on("mousedown.drag",U).on("touchstart.drag",X)}function ee(ve,se,xe,ke,Le){return function(){var Je=this,Ke=e.event.target.correspondingElement||e.event.target,Er=Je.parentNode,Lr=C.of(Je,arguments),or=0,gr=ve(),wr=".drag"+(gr==null?"":"-"+gr),Rr,Fr=e.select(xe(Ke)).on(ke+wr,ct).on(Le+wr,At),vr=jr(Ke),at=se(Er,gr);N?(Rr=N.apply(Je,arguments),Rr=[Rr.x-at[0],Rr.y-at[1]]):Rr=[0,0],Lr({type:"dragstart"});function ct(){var Ft=se(Er,gr),Gt,Ht;Ft&&(Gt=Ft[0]-at[0],Ht=Ft[1]-at[1],or|=Gt|Ht,at=Ft,Lr({type:"drag",x:Ft[0]+Rr[0],y:Ft[1]+Rr[1],dx:Gt,dy:Ht}))}function At(){se(Er,gr)&&(Fr.on(ke+wr,null).on(Le+wr,null),vr(or),Lr({type:"dragend"}))}}}return $.origin=function(ve){return arguments.length?(N=ve,$):N},e.rebind($,C,"on")};function qe(){return e.event.changedTouches[0].identifier}e.touches=function(C,N){return arguments.length<2&&(N=Q().touches),N?t(N).map(function(U){var X=_r(C,U);return X.identifier=U.identifier,X}):[]};var nr=1e-6,Te=nr*nr,be=Math.PI,Ge=2*be,ae=Ge-nr,W=be/2,re=be/180,Ee=180/be;function We(C){return C>0?1:C<0?-1:0}function lr(C,N,U){return(N[0]-C[0])*(U[1]-C[1])-(N[1]-C[1])*(U[0]-C[0])}function sr(C){return C>1?0:C<-1?be:Math.acos(C)}function Yr(C){return C>1?W:C<-1?-W:Math.asin(C)}function rt(C){return((C=Math.exp(C))-1/C)/2}function zr(C){return((C=Math.exp(C))+1/C)/2}function vt(C){return((C=Math.exp(2*C))-1)/(C+1)}function dt(C){return(C=Math.sin(C/2))*C}var qt=Math.SQRT2,Nt=2,_t=4;e.interpolateZoom=function(C,N){var U=C[0],X=C[1],$=C[2],ee=N[0],ve=N[1],se=N[2],xe=ee-U,ke=ve-X,Le=xe*xe+ke*ke,Je,Ke;if(Le<Te)Ke=Math.log(se/$)/qt,Je=function(Rr){return[U+Rr*xe,X+Rr*ke,$*Math.exp(qt*Rr*Ke)]};else{var Er=Math.sqrt(Le),Lr=(se*se-$*$+_t*Le)/(2*$*Nt*Er),or=(se*se-$*$-_t*Le)/(2*se*Nt*Er),gr=Math.log(Math.sqrt(Lr*Lr+1)-Lr),wr=Math.log(Math.sqrt(or*or+1)-or);Ke=(wr-gr)/qt,Je=function(Rr){var Fr=Rr*Ke,vr=zr(gr),at=$/(Nt*Er)*(vr*vt(qt*Fr+gr)-rt(gr));return[U+at*xe,X+at*ke,$*vr/zr(qt*Fr+gr)]}}return Je.duration=Ke*1e3,Je},e.behavior.zoom=function(){var C={x:0,y:0,k:1},N,U,X,$=[960,500],ee=Jt,ve=250,se=0,xe="mousedown.zoom",ke="mousemove.zoom",Le="mouseup.zoom",Je,Ke="touchstart.zoom",Er,Lr=K(Fr,"zoomstart","zoom","zoomend"),or,gr,wr,Rr;$t||($t="onwheel"in n?(Ut=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in n?(Ut=function(){return e.event.wheelDelta},"mousewheel"):(Ut=function(){return-e.event.detail},"MozMousePixelScroll"));function Fr(kt){kt.on(xe,en).on($t+".zoom",Ra).on("dblclick.zoom",Zn).on(Ke,Bn)}Fr.event=function(kt){kt.each(function(){var fn=Lr.of(this,arguments),hn=C;Gl?e.select(this).transition().each("start.zoom",function(){C=this.__chart__||{x:0,y:0,k:1},Ht(fn)}).tween("zoom:zoom",function(){var On=$[0],ca=$[1],qa=U?U[0]:On/2,si=U?U[1]:ca/2,fi=e.interpolateZoom([(qa-C.x)/C.k,(si-C.y)/C.k,On/C.k],[(qa-hn.x)/hn.k,(si-hn.y)/hn.k,On/hn.k]);return function(Vi){var H=fi(Vi),ce=On/H[2];this.__chart__=C={x:qa-H[0]*ce,y:si-H[1]*ce,k:ce},sn(fn)}}).each("interrupt.zoom",function(){Wt(fn)}).each("end.zoom",function(){Wt(fn)}):(this.__chart__=C,Ht(fn),sn(fn),Wt(fn))})},Fr.translate=function(kt){return arguments.length?(C={x:+kt[0],y:+kt[1],k:C.k},Gt(),Fr):[C.x,C.y]},Fr.scale=function(kt){return arguments.length?(C={x:C.x,y:C.y,k:null},ct(+kt),Gt(),Fr):C.k},Fr.scaleExtent=function(kt){return arguments.length?(ee=kt==null?Jt:[+kt[0],+kt[1]],Fr):ee},Fr.center=function(kt){return arguments.length?(X=kt&&[+kt[0],+kt[1]],Fr):X},Fr.size=function(kt){return arguments.length?($=kt&&[+kt[0],+kt[1]],Fr):$},Fr.duration=function(kt){return arguments.length?(ve=+kt,Fr):ve},Fr.x=function(kt){return arguments.length?(gr=kt,or=kt.copy(),C={x:0,y:0,k:1},Fr):gr},Fr.y=function(kt){return arguments.length?(Rr=kt,wr=kt.copy(),C={x:0,y:0,k:1},Fr):Rr};function vr(kt){return[(kt[0]-C.x)/C.k,(kt[1]-C.y)/C.k]}function at(kt){return[kt[0]*C.k+C.x,kt[1]*C.k+C.y]}function ct(kt){C.k=Math.max(ee[0],Math.min(ee[1],kt))}function At(kt,fn){fn=at(fn),C.x+=kt[0]-fn[0],C.y+=kt[1]-fn[1]}function Ft(kt,fn,hn,On){kt.__chart__={x:C.x,y:C.y,k:C.k},ct(Math.pow(2,On)),At(U=fn,hn),kt=e.select(kt),ve>0&&(kt=kt.transition().duration(ve)),kt.call(Fr.event)}function Gt(){gr&&gr.domain(or.range().map(function(kt){return(kt-C.x)/C.k}).map(or.invert)),Rr&&Rr.domain(wr.range().map(function(kt){return(kt-C.y)/C.k}).map(wr.invert))}function Ht(kt){se++||kt({type:"zoomstart"})}function sn(kt){Gt(),kt({type:"zoom",scale:C.k,translate:[C.x,C.y]})}function Wt(kt){--se||(kt({type:"zoomend"}),U=null)}function en(){var kt=this,fn=Lr.of(kt,arguments),hn=0,On=e.select(o(kt)).on(ke,si).on(Le,fi),ca=vr(e.mouse(kt)),qa=jr(kt);Zc.call(kt),Ht(fn);function si(){hn=1,At(e.mouse(kt),ca),sn(fn)}function fi(){On.on(ke,null).on(Le,null),qa(hn),Wt(fn)}}function Bn(){var kt=this,fn=Lr.of(kt,arguments),hn={},On=0,ca,qa=".zoom-"+e.event.changedTouches[0].identifier,si="touchmove"+qa,fi="touchend"+qa,Vi=[],H=e.select(kt),ce=jr(kt);Ye(),Ht(fn),H.on(xe,null).on(Ke,Ye);function ge(){var tr=e.touches(kt);return ca=C.k,tr.forEach(function(Ar){Ar.identifier in hn&&(hn[Ar.identifier]=vr(Ar))}),tr}function Ye(){var tr=e.event.target;e.select(tr).on(si,rr).on(fi,ar),Vi.push(tr);for(var Ar=e.event.changedTouches,Pr=0,Ir=Ar.length;Pr<Ir;++Pr)hn[Ar[Pr].identifier]=null;var Nr=ge(),mt=Date.now();if(Nr.length===1){if(mt-Er<500){var it=Nr[0];Ft(kt,it,hn[it.identifier],Math.floor(Math.log(C.k)/Math.LN2)+1),j()}Er=mt}else if(Nr.length>1){var it=Nr[0],Wr=Nr[1],mr=it[0]-Wr[0],Oe=it[1]-Wr[1];On=mr*mr+Oe*Oe}}function rr(){var tr=e.touches(kt),Ar,Pr,Ir,Nr;Zc.call(kt);for(var mt=0,it=tr.length;mt<it;++mt,Nr=null)if(Ir=tr[mt],Nr=hn[Ir.identifier]){if(Pr)break;Ar=Ir,Pr=Nr}if(Nr){var Wr=(Wr=Ir[0]-Ar[0])*Wr+(Wr=Ir[1]-Ar[1])*Wr,mr=On&&Math.sqrt(Wr/On);Ar=[(Ar[0]+Ir[0])/2,(Ar[1]+Ir[1])/2],Pr=[(Pr[0]+Nr[0])/2,(Pr[1]+Nr[1])/2],ct(mr*ca)}Er=null,At(Ar,Pr),sn(fn)}function ar(){if(e.event.touches.length){for(var tr=e.event.changedTouches,Ar=0,Pr=tr.length;Ar<Pr;++Ar)delete hn[tr[Ar].identifier];for(var Ir in hn)return void ge()}e.selectAll(Vi).on(qa,null),H.on(xe,en).on(Ke,Bn),ce(),Wt(fn)}}function Ra(){var kt=Lr.of(this,arguments);Je?clearTimeout(Je):(Zc.call(this),N=vr(U=X||e.mouse(this)),Ht(kt)),Je=setTimeout(function(){Je=null,Wt(kt)},50),j(),ct(Math.pow(2,Ut()*.002)*C.k),At(U,N),sn(kt)}function Zn(){var kt=e.mouse(this),fn=Math.log(C.k)/Math.LN2;Ft(this,kt,vr(kt),e.event.shiftKey?Math.ceil(fn)-1:Math.floor(fn)+1)}return e.rebind(Fr,Lr,"on")};var Jt=[0,1/0],Ut,$t;e.color=cn;function cn(){}cn.prototype.toString=function(){return this.rgb()+""},e.hsl=jt;function jt(C,N,U){return this instanceof jt?(this.h=+C,this.s=+N,void(this.l=+U)):arguments.length<2?C instanceof jt?new jt(C.h,C.s,C.l):gn(""+C,Pn,jt):new jt(C,N,U)}var Kt=jt.prototype=new cn;Kt.brighter=function(C){return C=Math.pow(.7,arguments.length?C:1),new jt(this.h,this.s,this.l/C)},Kt.darker=function(C){return C=Math.pow(.7,arguments.length?C:1),new jt(this.h,this.s,C*this.l)},Kt.rgb=function(){return _n(this.h,this.s,this.l)};function _n(C,N,U){var X,$;C=isNaN(C)?0:(C%=360)<0?C+360:C,N=isNaN(N)||N<0?0:N>1?1:N,U=U<0?0:U>1?1:U,$=U<=.5?U*(1+N):U+N-U*N,X=2*U-$;function ee(se){return se>360?se-=360:se<0&&(se+=360),se<60?X+($-X)*se/60:se<180?$:se<240?X+($-X)*(240-se)/60:X}function ve(se){return Math.round(ee(se)*255)}return new Ya(ve(C+120),ve(C),ve(C-120))}e.hcl=Cn;function Cn(C,N,U){return this instanceof Cn?(this.h=+C,this.c=+N,void(this.l=+U)):arguments.length<2?C instanceof Cn?new Cn(C.h,C.c,C.l):C instanceof la?Ci(C.l,C.a,C.b):Ci((C=Pt((C=e.rgb(C)).r,C.g,C.b)).l,C.a,C.b):new Cn(C,N,U)}var ua=Cn.prototype=new cn;ua.brighter=function(C){return new Cn(this.h,this.c,Math.min(100,this.l+Mn*(arguments.length?C:1)))},ua.darker=function(C){return new Cn(this.h,this.c,Math.max(0,this.l-Mn*(arguments.length?C:1)))},ua.rgb=function(){return ra(this.h,this.c,this.l).rgb()};function ra(C,N,U){return isNaN(C)&&(C=0),isNaN(N)&&(N=0),new la(U,Math.cos(C*=re)*N,Math.sin(C)*N)}e.lab=la;function la(C,N,U){return this instanceof la?(this.l=+C,this.a=+N,void(this.b=+U)):arguments.length<2?C instanceof la?new la(C.l,C.a,C.b):C instanceof Cn?ra(C.h,C.c,C.l):Pt((C=Ya(C)).r,C.g,C.b):new la(C,N,U)}var Mn=18,Ea=.95047,oo=1,Zi=1.08883,Si=la.prototype=new cn;Si.brighter=function(C){return new la(Math.min(100,this.l+Mn*(arguments.length?C:1)),this.a,this.b)},Si.darker=function(C){return new la(Math.max(0,this.l-Mn*(arguments.length?C:1)),this.a,this.b)},Si.rgb=function(){return To(this.l,this.a,this.b)};function To(C,N,U){var X=(C+16)/116,$=X+N/500,ee=X-U/200;return $=Ll($)*Ea,X=Ll(X)*oo,ee=Ll(ee)*Zi,new Ya(xi(3.2404542*$-1.5371385*X-.4985314*ee),xi(-.969266*$+1.8760108*X+.041556*ee),xi(.0556434*$-.2040259*X+1.0572252*ee))}function Ci(C,N,U){return C>0?new Cn(Math.atan2(U,N)*Ee,Math.sqrt(N*N+U*U),C):new Cn(NaN,NaN,C)}function Ll(C){return C>.206893034?C*C*C:(C-4/29)/7.787037}function Rl(C){return C>.008856?Math.pow(C,1/3):7.787037*C+4/29}function xi(C){return Math.round(255*(C<=.00304?12.92*C:1.055*Math.pow(C,1/2.4)-.055))}e.rgb=Ya;function Ya(C,N,U){return this instanceof Ya?(this.r=~~C,this.g=~~N,void(this.b=~~U)):arguments.length<2?C instanceof Ya?new Ya(C.r,C.g,C.b):gn(""+C,Ya,_n):new Ya(C,N,U)}function oi(C){return new Ya(C>>16,C>>8&255,C&255)}function Mo(C){return oi(C)+""}var Wa=Ya.prototype=new cn;Wa.brighter=function(C){C=Math.pow(.7,arguments.length?C:1);var N=this.r,U=this.g,X=this.b,$=30;return!N&&!U&&!X?new Ya($,$,$):(N&&N<$&&(N=$),U&&U<$&&(U=$),X&&X<$&&(X=$),new Ya(Math.min(255,N/C),Math.min(255,U/C),Math.min(255,X/C)))},Wa.darker=function(C){return C=Math.pow(.7,arguments.length?C:1),new Ya(C*this.r,C*this.g,C*this.b)},Wa.hsl=function(){return Pn(this.r,this.g,this.b)},Wa.toString=function(){return"#"+Zt(this.r)+Zt(this.g)+Zt(this.b)};function Zt(C){return C<16?"0"+Math.max(0,C).toString(16):Math.min(255,C).toString(16)}function gn(C,N,U){var X=0,$=0,ee=0,ve,se,xe;if(ve=/([a-z]+)\((.*)\)/.exec(C=C.toLowerCase()),ve)switch(se=ve[2].split(","),ve[1]){case"hsl":return U(parseFloat(se[0]),parseFloat(se[1])/100,parseFloat(se[2])/100);case"rgb":return N(ia(se[0]),ia(se[1]),ia(se[2]))}return(xe=Xa.get(C))?N(xe.r,xe.g,xe.b):(C!=null&&C.charAt(0)==="#"&&!isNaN(xe=parseInt(C.slice(1),16))&&(C.length===4?(X=(xe&3840)>>4,X=X>>4|X,$=xe&240,$=$>>4|$,ee=xe&15,ee=ee<<4|ee):C.length===7&&(X=(xe&16711680)>>16,$=(xe&65280)>>8,ee=xe&255)),N(X,$,ee))}function Pn(C,N,U){var X=Math.min(C/=255,N/=255,U/=255),$=Math.max(C,N,U),ee=$-X,ve,se,xe=($+X)/2;return ee?(se=xe<.5?ee/($+X):ee/(2-$-X),C==$?ve=(N-U)/ee+(N<U?6:0):N==$?ve=(U-C)/ee+2:ve=(C-N)/ee+4,ve*=60):(ve=NaN,se=xe>0&&xe<1?0:ve),new jt(ve,se,xe)}function Pt(C,N,U){C=li(C),N=li(N),U=li(U);var X=Rl((.4124564*C+.3575761*N+.1804375*U)/Ea),$=Rl((.2126729*C+.7151522*N+.072175*U)/oo),ee=Rl((.0193339*C+.119192*N+.9503041*U)/Zi);return la(116*$-16,500*(X-$),200*($-ee))}function li(C){return(C/=255)<=.04045?C/12.92:Math.pow((C+.055)/1.055,2.4)}function ia(C){var N=parseFloat(C);return C.charAt(C.length-1)==="%"?Math.round(N*2.55):N}var Xa=e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Xa.forEach(function(C,N){Xa.set(C,oi(N))});function An(C){return typeof C=="function"?C:function(){return C}}e.functor=An,e.xhr=zo(O);function zo(C){return function(N,U,X){return arguments.length===2&&typeof U=="function"&&(X=U,U=null),Fl(N,U,C,X)}}function Fl(C,N,U,X){var $={},ee=e.dispatch("beforesend","progress","load","error"),ve={},se=new XMLHttpRequest,xe=null;self.XDomainRequest&&!("withCredentials"in se)&&/^(http(s)?:)?\/\//.test(C)&&(se=new XDomainRequest),"onload"in se?se.onload=se.onerror=ke:se.onreadystatechange=function(){se.readyState>3&&ke()};function ke(){var Le=se.status,Je;if(!Le&&Np(se)||Le>=200&&Le<300||Le===304){try{Je=U.call($,se)}catch(Ke){ee.error.call($,Ke);return}ee.load.call($,Je)}else ee.error.call($,se)}return se.onprogress=function(Le){var Je=e.event;e.event=Le;try{ee.progress.call($,se)}finally{e.event=Je}},$.header=function(Le,Je){return Le=(Le+"").toLowerCase(),arguments.length<2?ve[Le]:(Je==null?delete ve[Le]:ve[Le]=Je+"",$)},$.mimeType=function(Le){return arguments.length?(N=Le==null?null:Le+"",$):N},$.responseType=function(Le){return arguments.length?(xe=Le,$):xe},$.response=function(Le){return U=Le,$},["get","post"].forEach(function(Le){$[Le]=function(){return $.send.apply($,[Le].concat(t(arguments)))}}),$.send=function(Le,Je,Ke){if(arguments.length===2&&typeof Je=="function"&&(Ke=Je,Je=null),se.open(Le,C,!0),N!=null&&!("accept"in ve)&&(ve.accept=N+",*/*"),se.setRequestHeader)for(var Er in ve)se.setRequestHeader(Er,ve[Er]);return N!=null&&se.overrideMimeType&&se.overrideMimeType(N),xe!=null&&(se.responseType=xe),Ke!=null&&$.on("error",Ke).on("load",function(Lr){Ke(null,Lr)}),ee.beforesend.call($,se),se.send(Je==null?null:Je),$},$.abort=function(){return se.abort(),$},e.rebind($,ee,"on"),X==null?$:$.get(qi(X))}function qi(C){return C.length===1?function(N,U){C(N==null?U:null)}:C}function Np(C){var N=C.responseType;return N&&N!=="text"?C.response:C.responseText}e.dsv=function(C,N){var U=new RegExp('["'+C+`
]`),X=C.charCodeAt(0);function $(ke,Le,Je){arguments.length<3&&(Je=Le,Le=null);var Ke=Fl(ke,N,Le==null?ee:ve(Le),Je);return Ke.row=function(Er){return arguments.length?Ke.response((Le=Er)==null?ee:ve(Er)):Le},Ke}function ee(ke){return $.parse(ke.responseText)}function ve(ke){return function(Le){return $.parse(Le.responseText,ke)}}$.parse=function(ke,Le){var Je;return $.parseRows(ke,function(Ke,Er){if(Je)return Je(Ke,Er-1);var Lr=function(or){for(var gr={},wr=Ke.length,Rr=0;Rr<wr;++Rr)gr[Ke[Rr]]=or[Rr];return gr};Je=Le?function(or,gr){return Le(Lr(or),gr)}:Lr})},$.parseRows=function(ke,Le){var Je={},Ke={},Er=[],Lr=ke.length,or=0,gr=0,wr,Rr;function Fr(){if(or>=Lr)return Ke;if(Rr)return Rr=!1,Je;var at=or;if(ke.charCodeAt(at)===34){for(var ct=at;ct++<Lr;)if(ke.charCodeAt(ct)===34){if(ke.charCodeAt(ct+1)!==34)break;++ct}or=ct+2;var At=ke.charCodeAt(ct+1);return At===13?(Rr=!0,ke.charCodeAt(ct+2)===10&&++or):At===10&&(Rr=!0),ke.slice(at+1,ct).replace(/""/g,'"')}for(;or<Lr;){var At=ke.charCodeAt(or++),Ft=1;if(At===10)Rr=!0;else if(At===13)Rr=!0,ke.charCodeAt(or)===10&&(++or,++Ft);else if(At!==X)continue;return ke.slice(at,or-Ft)}return ke.slice(at)}for(;(wr=Fr())!==Ke;){for(var vr=[];wr!==Je&&wr!==Ke;)vr.push(wr),wr=Fr();Le&&(vr=Le(vr,gr++))==null||Er.push(vr)}return Er},$.format=function(ke){if(Array.isArray(ke[0]))return $.formatRows(ke);var Le=new F,Je=[];return ke.forEach(function(Ke){for(var Er in Ke)Le.has(Er)||Je.push(Le.add(Er))}),[Je.map(xe).join(C)].concat(ke.map(function(Ke){return Je.map(function(Er){return xe(Ke[Er])}).join(C)})).join(`
`)},$.formatRows=function(ke){return ke.map(se).join(`
`)};function se(ke){return ke.map(xe).join(C)}function xe(ke){return U.test(ke)?'"'+ke.replace(/\"/g,'""')+'"':ke}return $},e.csv=e.dsv(",","text/csv"),e.tsv=e.dsv("	","text/tab-separated-values");var Ia,Ql,tl,ki,Sf=this[I(this,"requestAnimationFrame")]||function(C){setTimeout(C,17)};e.timer=function(){nl.apply(this,arguments)};function nl(C,N,U){var X=arguments.length;X<2&&(N=0),X<3&&(U=Date.now());var $=U+N,ee={c:C,t:$,n:null};return Ql?Ql.n=ee:Ia=ee,Ql=ee,tl||(ki=clearTimeout(ki),tl=1,Sf(qo)),ee}function qo(){var C=es(),N=wc()-C;N>24?(isFinite(N)&&(clearTimeout(ki),ki=setTimeout(qo,N)),tl=0):(tl=1,Sf(qo))}e.timer.flush=function(){es(),wc()};function es(){for(var C=Date.now(),N=Ia;N;)C>=N.t&&N.c(C-N.t)&&(N.c=null),N=N.n;return C}function wc(){for(var C,N=Ia,U=1/0;N;)N.c?(N.t<U&&(U=N.t),N=(C=N).n):N=C?C.n=N.n:Ia=N.n;return Ql=C,U}e.round=function(C,N){return N?Math.round(C*(N=Math.pow(10,N)))/N:Math.round(C)},e.geom={};function al(C){return C[0]}function Fs(C){return C[1]}e.geom.hull=function(C){var N=al,U=Fs;if(arguments.length)return X(C);function X($){if($.length<3)return[];var ee=An(N),ve=An(U),se,xe=$.length,ke=[],Le=[];for(se=0;se<xe;se++)ke.push([+ee.call(this,$[se],se),+ve.call(this,$[se],se),se]);for(ke.sort(Bp),se=0;se<xe;se++)Le.push([ke[se][0],-ke[se][1]]);var Je=sd(ke),Ke=sd(Le),Er=Ke[0]===Je[0],Lr=Ke[Ke.length-1]===Je[Je.length-1],or=[];for(se=Je.length-1;se>=0;--se)or.push($[ke[Je[se]][2]]);for(se=+Er;se<Ke.length-Lr;++se)or.push($[ke[Ke[se]][2]]);return or}return X.x=function($){return arguments.length?(N=$,X):N},X.y=function($){return arguments.length?(U=$,X):U},X};function sd(C){for(var N=C.length,U=[0,1],X=2,$=2;$<N;$++){for(;X>1&&lr(C[U[X-2]],C[U[X-1]],C[$])<=0;)--X;U[X++]=$}return U.slice(0,X)}function Bp(C,N){return C[0]-N[0]||C[1]-N[1]}e.geom.polygon=function(C){return B(C,Ac),C};var Ac=e.geom.polygon.prototype=[];Ac.area=function(){for(var C=-1,N=this.length,U,X=this[N-1],$=0;++C<N;)U=X,X=this[C],$+=U[1]*X[0]-U[0]*X[1];return $*.5},Ac.centroid=function(C){var N=-1,U=this.length,X=0,$=0,ee,ve=this[U-1],se;for(arguments.length||(C=-1/(6*this.area()));++N<U;)ee=ve,ve=this[N],se=ee[0]*ve[1]-ve[0]*ee[1],X+=(ee[0]+ve[0])*se,$+=(ee[1]+ve[1])*se;return[X*C,$*C]},Ac.clip=function(C){for(var N,U=rs(C),X=-1,$=this.length-rs(this),ee,ve,se=this[$-1],xe,ke,Le;++X<$;){for(N=C.slice(),C.length=0,xe=this[X],ke=N[(ve=N.length-U)-1],ee=-1;++ee<ve;)Le=N[ee],rh(Le,se,xe)?(rh(ke,se,xe)||C.push(Ds(ke,Le,se,xe)),C.push(Le)):rh(ke,se,xe)&&C.push(Ds(ke,Le,se,xe)),ke=Le;U&&C.push(C[0]),se=xe}return C};function rh(C,N,U){return(U[0]-N[0])*(C[1]-N[1])<(U[1]-N[1])*(C[0]-N[0])}function Ds(C,N,U,X){var $=C[0],ee=U[0],ve=N[0]-$,se=X[0]-ee,xe=C[1],ke=U[1],Le=N[1]-xe,Je=X[1]-ke,Ke=(se*(xe-ke)-Je*($-ee))/(Je*ve-se*Le);return[$+Ke*ve,xe+Ke*Le]}function rs(C){var N=C[0],U=C[C.length-1];return!(N[0]-U[0]||N[1]-U[1])}var il,Uo,Li,Cf=[],Is,Dl,kf=[];function th(){Ff(this),this.edge=this.site=this.circle=null}function Tc(C){var N=Cf.pop()||new th;return N.site=C,N}function pu(C){Rf(C),Li.remove(C),Cf.push(C),Ff(C)}function nh(C){var N=C.circle,U=N.x,X=N.cy,$={x:U,y:X},ee=C.P,ve=C.N,se=[C];pu(C);for(var xe=ee;xe.circle&&y(U-xe.circle.x)<nr&&y(X-xe.circle.cy)<nr;)ee=xe.P,se.unshift(xe),pu(xe),xe=ee;se.unshift(xe),Rf(xe);for(var ke=ve;ke.circle&&y(U-ke.circle.x)<nr&&y(X-ke.circle.cy)<nr;)ve=ke.N,se.push(ke),pu(ke),ke=ve;se.push(ke),Rf(ke);var Le=se.length,Je;for(Je=1;Je<Le;++Je)ke=se[Je],xe=se[Je-1],ts(ke.edge,xe.site,ke.site,$);xe=se[0],ke=se[Le-1],ke.edge=mu(xe.site,ke.site,null,$),$i(xe),$i(ke)}function ah(C){for(var N=C.x,U=C.y,X,$,ee,ve,se=Li._;se;)if(ee=Mc(se,U)-N,ee>nr)se=se.L;else if(ve=N-ih(se,U),ve>nr){if(!se.R){X=se;break}se=se.R}else{ee>-nr?(X=se.P,$=se):ve>-nr?(X=se,$=se.N):X=$=se;break}var xe=Tc(C);if(Li.insert(X,xe),!(!X&&!$)){if(X===$){Rf(X),$=Tc(X.site),Li.insert(xe,$),xe.edge=$.edge=mu(X.site,xe.site),$i(X),$i($);return}if(!$){xe.edge=mu(X.site,xe.site);return}Rf(X),Rf($);var ke=X.site,Le=ke.x,Je=ke.y,Ke=C.x-Le,Er=C.y-Je,Lr=$.site,or=Lr.x-Le,gr=Lr.y-Je,wr=2*(Ke*gr-Er*or),Rr=Ke*Ke+Er*Er,Fr=or*or+gr*gr,vr={x:(gr*Rr-Er*Fr)/wr+Le,y:(Ke*Fr-or*Rr)/wr+Je};ts($.edge,ke,Lr,vr),xe.edge=mu(ke,C,null,vr),$.edge=mu(C,Lr,null,vr),$i(X),$i($)}}function Mc(C,N){var U=C.site,X=U.x,$=U.y,ee=$-N;if(!ee)return X;var ve=C.P;if(!ve)return-1/0;U=ve.site;var se=U.x,xe=U.y,ke=xe-N;if(!ke)return se;var Le=se-X,Je=1/ee-1/ke,Ke=Le/ke;return Je?(-Ke+Math.sqrt(Ke*Ke-2*Je*(Le*Le/(-2*ke)-xe+ke/2+$-ee/2)))/Je+X:(X+se)/2}function ih(C,N){var U=C.N;if(U)return Mc(U,N);var X=C.site;return X.y===N?X.x:1/0}function Ec(C){this.site=C,this.edges=[]}Ec.prototype.prepare=function(){for(var C=this.edges,N=C.length,U;N--;)U=C[N].edge,(!U.b||!U.a)&&C.splice(N,1);return C.sort(Lf),C.length};function Go(C){for(var N=C[0][0],U=C[1][0],X=C[0][1],$=C[1][1],ee,ve,se,xe,ke=Uo,Le=ke.length,Je,Ke,Er,Lr,or,gr;Le--;)if(Je=ke[Le],!(!Je||!Je.prepare()))for(Er=Je.edges,Lr=Er.length,Ke=0;Ke<Lr;)gr=Er[Ke].end(),se=gr.x,xe=gr.y,or=Er[++Ke%Lr].start(),ee=or.x,ve=or.y,(y(se-ee)>nr||y(xe-ve)>nr)&&(Er.splice(Ke,0,new Sc(Up(Je.site,gr,y(se-N)<nr&&$-xe>nr?{x:N,y:y(ee-N)<nr?ve:$}:y(xe-$)<nr&&U-se>nr?{x:y(ve-$)<nr?ee:U,y:$}:y(se-U)<nr&&xe-X>nr?{x:U,y:y(ee-U)<nr?ve:X}:y(xe-X)<nr&&se-N>nr?{x:y(ve-X)<nr?ee:N,y:X}:null),Je.site,null)),++Lr)}function Lf(C,N){return N.angle-C.angle}function gu(){Ff(this),this.x=this.y=this.arc=this.site=this.cy=null}function $i(C){var N=C.P,U=C.N;if(!(!N||!U)){var X=N.site,$=C.site,ee=U.site;if(X!==ee){var ve=$.x,se=$.y,xe=X.x-ve,ke=X.y-se,Le=ee.x-ve,gr=ee.y-se,Je=2*(xe*gr-ke*Le);if(!(Je>=-Te)){var Ke=xe*xe+ke*ke,Er=Le*Le+gr*gr,Lr=(gr*Ke-ke*Er)/Je,or=(xe*Er-Le*Ke)/Je,gr=or+se,wr=kf.pop()||new gu;wr.arc=C,wr.site=$,wr.x=Lr+ve,wr.y=gr+Math.sqrt(Lr*Lr+or*or),wr.cy=gr,C.circle=wr;for(var Rr=null,Fr=Dl._;Fr;)if(wr.y<Fr.y||wr.y===Fr.y&&wr.x<=Fr.x)if(Fr.L)Fr=Fr.L;else{Rr=Fr.P;break}else if(Fr.R)Fr=Fr.R;else{Rr=Fr;break}Dl.insert(Rr,wr),Rr||(Is=wr)}}}}function Rf(C){var N=C.circle;N&&(N.P||(Is=N.N),Dl.remove(N),kf.push(N),Ff(N),C.circle=null)}function zp(C,N,U,X){return function($){var ee=$.a,ve=$.b,se=ee.x,xe=ee.y,ke=ve.x,Le=ve.y,Je=0,Ke=1,Er=ke-se,Lr=Le-xe,or;if(or=C-se,!(!Er&&or>0)){if(or/=Er,Er<0){if(or<Je)return;or<Ke&&(Ke=or)}else if(Er>0){if(or>Ke)return;or>Je&&(Je=or)}if(or=U-se,!(!Er&&or<0)){if(or/=Er,Er<0){if(or>Ke)return;or>Je&&(Je=or)}else if(Er>0){if(or<Je)return;or<Ke&&(Ke=or)}if(or=N-xe,!(!Lr&&or>0)){if(or/=Lr,Lr<0){if(or<Je)return;or<Ke&&(Ke=or)}else if(Lr>0){if(or>Ke)return;or>Je&&(Je=or)}if(or=X-xe,!(!Lr&&or<0)){if(or/=Lr,Lr<0){if(or>Ke)return;or>Je&&(Je=or)}else if(Lr>0){if(or<Je)return;or<Ke&&(Ke=or)}return Je>0&&($.a={x:se+Je*Er,y:xe+Je*Lr}),Ke<1&&($.b={x:se+Ke*Er,y:xe+Ke*Lr}),$}}}}}}function qp(C){for(var N=il,U=zp(C[0][0],C[0][1],C[1][0],C[1][1]),X=N.length,$;X--;)$=N[X],(!yu($,C)||!U($)||y($.a.x-$.b.x)<nr&&y($.a.y-$.b.y)<nr)&&($.a=$.b=null,N.splice(X,1))}function yu(C,N){var U=C.b;if(U)return!0;var X=C.a,$=N[0][0],ee=N[1][0],ve=N[0][1],se=N[1][1],xe=C.l,ke=C.r,Le=xe.x,Je=xe.y,Ke=ke.x,Er=ke.y,Lr=(Le+Ke)/2,or=(Je+Er)/2,gr,wr;if(Er===Je){if(Lr<$||Lr>=ee)return;if(Le>Ke){if(!X)X={x:Lr,y:ve};else if(X.y>=se)return;U={x:Lr,y:se}}else{if(!X)X={x:Lr,y:se};else if(X.y<ve)return;U={x:Lr,y:ve}}}else if(gr=(Le-Ke)/(Er-Je),wr=or-gr*Lr,gr<-1||gr>1)if(Le>Ke){if(!X)X={x:(ve-wr)/gr,y:ve};else if(X.y>=se)return;U={x:(se-wr)/gr,y:se}}else{if(!X)X={x:(se-wr)/gr,y:se};else if(X.y<ve)return;U={x:(ve-wr)/gr,y:ve}}else if(Je<Er){if(!X)X={x:$,y:gr*$+wr};else if(X.x>=ee)return;U={x:ee,y:gr*ee+wr}}else{if(!X)X={x:ee,y:gr*ee+wr};else if(X.x<$)return;U={x:$,y:gr*$+wr}}return C.a=X,C.b=U,!0}function fd(C,N){this.l=C,this.r=N,this.a=this.b=null}function mu(C,N,U,X){var $=new fd(C,N);return il.push($),U&&ts($,C,N,U),X&&ts($,N,C,X),Uo[C.i].edges.push(new Sc($,C,N)),Uo[N.i].edges.push(new Sc($,N,C)),$}function Up(C,N,U){var X=new fd(C,null);return X.a=N,X.b=U,il.push(X),X}function ts(C,N,U,X){!C.a&&!C.b?(C.a=X,C.l=N,C.r=U):C.l===U?C.b=X:C.a=X}function Sc(C,N,U){var X=C.a,$=C.b;this.edge=C,this.site=N,this.angle=U?Math.atan2(U.y-N.y,U.x-N.x):C.l===N?Math.atan2($.x-X.x,X.y-$.y):Math.atan2(X.x-$.x,$.y-X.y)}Sc.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Ps(){this._=null}function Ff(C){C.U=C.C=C.L=C.R=C.P=C.N=null}Ps.prototype={insert:function(C,N){var U,X,$;if(C){if(N.P=C,N.N=C.N,C.N&&(C.N.P=N),C.N=N,C.R){for(C=C.R;C.L;)C=C.L;C.L=N}else C.R=N;U=C}else this._?(C=ud(this._),N.P=null,N.N=C,C.P=C.L=N,U=C):(N.P=N.N=null,this._=N,U=null);for(N.L=N.R=null,N.U=U,N.C=!0,C=N;U&&U.C;)X=U.U,U===X.L?($=X.R,$&&$.C?(U.C=$.C=!1,X.C=!0,C=X):(C===U.R&&(Os(this,U),C=U,U=C.U),U.C=!1,X.C=!0,Il(this,X))):($=X.L,$&&$.C?(U.C=$.C=!1,X.C=!0,C=X):(C===U.L&&(Il(this,U),C=U,U=C.U),U.C=!1,X.C=!0,Os(this,X))),U=C.U;this._.C=!1},remove:function(C){C.N&&(C.N.P=C.P),C.P&&(C.P.N=C.N),C.N=C.P=null;var N=C.U,U,X=C.L,$=C.R,ee,ve;if(X?$?ee=ud($):ee=X:ee=$,N?N.L===C?N.L=ee:N.R=ee:this._=ee,X&&$?(ve=ee.C,ee.C=C.C,ee.L=X,X.U=ee,ee!==$?(N=ee.U,ee.U=C.U,C=ee.R,N.L=C,ee.R=$,$.U=ee):(ee.U=N,N=ee,C=ee.R)):(ve=C.C,C=ee),C&&(C.U=N),!ve){if(C&&C.C){C.C=!1;return}do{if(C===this._)break;if(C===N.L){if(U=N.R,U.C&&(U.C=!1,N.C=!0,Os(this,N),U=N.R),U.L&&U.L.C||U.R&&U.R.C){(!U.R||!U.R.C)&&(U.L.C=!1,U.C=!0,Il(this,U),U=N.R),U.C=N.C,N.C=U.R.C=!1,Os(this,N),C=this._;break}}else if(U=N.L,U.C&&(U.C=!1,N.C=!0,Il(this,N),U=N.L),U.L&&U.L.C||U.R&&U.R.C){(!U.L||!U.L.C)&&(U.R.C=!1,U.C=!0,Os(this,U),U=N.L),U.C=N.C,N.C=U.L.C=!1,Il(this,N),C=this._;break}U.C=!0,C=N,N=N.U}while(!C.C);C&&(C.C=!1)}}};function Os(C,N){var U=N,X=N.R,$=U.U;$?$.L===U?$.L=X:$.R=X:C._=X,X.U=$,U.U=X,U.R=X.L,U.R&&(U.R.U=U),X.L=U}function Il(C,N){var U=N,X=N.L,$=U.U;$?$.L===U?$.L=X:$.R=X:C._=X,X.U=$,U.U=X,U.L=X.R,U.L&&(U.L.U=U),X.R=U}function ud(C){for(;C.L;)C=C.L;return C}function Pl(C,N){var U=C.sort(Gp).pop(),X,$,ee;for(il=[],Uo=new Array(C.length),Li=new Ps,Dl=new Ps;;)if(ee=Is,U&&(!ee||U.y<ee.y||U.y===ee.y&&U.x<ee.x))(U.x!==X||U.y!==$)&&(Uo[U.i]=new Ec(U),ah(U),X=U.x,$=U.y),U=C.pop();else if(ee)nh(ee.arc);else break;N&&(qp(N),Go(N));var ve={cells:Uo,edges:il};return Li=Dl=il=Uo=null,ve}function Gp(C,N){return N.y-C.y||N.x-C.x}e.geom.voronoi=function(C){var N=al,U=Fs,X=N,$=U,ee=Cc;if(C)return ve(C);function ve(xe){var ke=new Array(xe.length),Le=ee[0][0],Je=ee[0][1],Ke=ee[1][0],Er=ee[1][1];return Pl(se(xe),ee).cells.forEach(function(Lr,or){var gr=Lr.edges,wr=Lr.site,Rr=ke[or]=gr.length?gr.map(function(Fr){var vr=Fr.start();return[vr.x,vr.y]}):wr.x>=Le&&wr.x<=Ke&&wr.y>=Je&&wr.y<=Er?[[Le,Er],[Ke,Er],[Ke,Je],[Le,Je]]:[];Rr.point=xe[or]}),ke}function se(xe){return xe.map(function(ke,Le){return{x:Math.round(X(ke,Le)/nr)*nr,y:Math.round($(ke,Le)/nr)*nr,i:Le}})}return ve.links=function(xe){return Pl(se(xe)).edges.filter(function(ke){return ke.l&&ke.r}).map(function(ke){return{source:xe[ke.l.i],target:xe[ke.r.i]}})},ve.triangles=function(xe){var ke=[];return Pl(se(xe)).cells.forEach(function(Le,Je){for(var Ke=Le.site,Er=Le.edges.sort(Lf),Lr=-1,or=Er.length,gr,wr,Rr=Er[or-1].edge,Fr=Rr.l===Ke?Rr.r:Rr.l;++Lr<or;)gr=Rr,wr=Fr,Rr=Er[Lr].edge,Fr=Rr.l===Ke?Rr.r:Rr.l,Je<wr.i&&Je<Fr.i&&Hp(Ke,wr,Fr)<0&&ke.push([xe[Je],xe[wr.i],xe[Fr.i]])}),ke},ve.x=function(xe){return arguments.length?(X=An(N=xe),ve):N},ve.y=function(xe){return arguments.length?($=An(U=xe),ve):U},ve.clipExtent=function(xe){return arguments.length?(ee=xe==null?Cc:xe,ve):ee===Cc?null:ee},ve.size=function(xe){return arguments.length?ve.clipExtent(xe&&[[0,0],xe]):ee===Cc?null:ee&&ee[1]},ve};var Cc=[[-1e6,-1e6],[1e6,1e6]];function Hp(C,N,U){return(C.x-U.x)*(N.y-C.y)-(C.x-N.x)*(U.y-C.y)}e.geom.delaunay=function(C){return e.geom.voronoi().triangles(C)},e.geom.quadtree=function(C,N,U,X,$){var ee=al,ve=Fs,se;if(se=arguments.length)return ee=Vp,ve=Yp,se===3&&($=U,X=N,U=N=0),xe(C);function xe(ke){var Le,Je=An(ee),Ke=An(ve),Er,Lr,or,gr,wr,Rr,Fr,vr;if(N!=null)wr=N,Rr=U,Fr=X,vr=$;else if(Fr=vr=-(wr=Rr=1/0),Er=[],Lr=[],gr=ke.length,se)for(or=0;or<gr;++or)Le=ke[or],Le.x<wr&&(wr=Le.x),Le.y<Rr&&(Rr=Le.y),Le.x>Fr&&(Fr=Le.x),Le.y>vr&&(vr=Le.y),Er.push(Le.x),Lr.push(Le.y);else for(or=0;or<gr;++or){var at=+Je(Le=ke[or],or),ct=+Ke(Le,or);at<wr&&(wr=at),ct<Rr&&(Rr=ct),at>Fr&&(Fr=at),ct>vr&&(vr=ct),Er.push(at),Lr.push(ct)}var At=Fr-wr,Ft=vr-Rr;At>Ft?vr=Rr+At:Fr=wr+Ft;function Gt(Wt,en,Bn,Ra,Zn,kt,fn,hn){if(!(isNaN(Bn)||isNaN(Ra)))if(Wt.leaf){var On=Wt.x,ca=Wt.y;if(On!=null)if(y(On-Bn)+y(ca-Ra)<.01)Ht(Wt,en,Bn,Ra,Zn,kt,fn,hn);else{var qa=Wt.point;Wt.x=Wt.y=Wt.point=null,Ht(Wt,qa,On,ca,Zn,kt,fn,hn),Ht(Wt,en,Bn,Ra,Zn,kt,fn,hn)}else Wt.x=Bn,Wt.y=Ra,Wt.point=en}else Ht(Wt,en,Bn,Ra,Zn,kt,fn,hn)}function Ht(Wt,en,Bn,Ra,Zn,kt,fn,hn){var On=(Zn+fn)*.5,ca=(kt+hn)*.5,qa=Bn>=On,si=Ra>=ca,fi=si<<1|qa;Wt.leaf=!1,Wt=Wt.nodes[fi]||(Wt.nodes[fi]=cd()),qa?Zn=On:fn=On,si?kt=ca:hn=ca,Gt(Wt,en,Bn,Ra,Zn,kt,fn,hn)}var sn=cd();if(sn.add=function(Wt){Gt(sn,Wt,+Je(Wt,++or),+Ke(Wt,or),wr,Rr,Fr,vr)},sn.visit=function(Wt){xu(Wt,sn,wr,Rr,Fr,vr)},sn.find=function(Wt){return oh(sn,Wt[0],Wt[1],wr,Rr,Fr,vr)},or=-1,N==null){for(;++or<gr;)Gt(sn,ke[or],Er[or],Lr[or],wr,Rr,Fr,vr);--or}else ke.forEach(sn.add);return Er=Lr=ke=Le=null,sn}return xe.x=function(ke){return arguments.length?(ee=ke,xe):ee},xe.y=function(ke){return arguments.length?(ve=ke,xe):ve},xe.extent=function(ke){return arguments.length?(ke==null?N=U=X=$=null:(N=+ke[0][0],U=+ke[0][1],X=+ke[1][0],$=+ke[1][1]),xe):N==null?null:[[N,U],[X,$]]},xe.size=function(ke){return arguments.length?(ke==null?N=U=X=$=null:(N=U=0,X=+ke[0],$=+ke[1]),xe):N==null?null:[X-N,$-U]},xe};function Vp(C){return C.x}function Yp(C){return C.y}function cd(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function xu(C,N,U,X,$,ee){if(!C(N,U,X,$,ee)){var ve=(U+$)*.5,se=(X+ee)*.5,xe=N.nodes;xe[0]&&xu(C,xe[0],U,X,ve,se),xe[1]&&xu(C,xe[1],ve,X,$,se),xe[2]&&xu(C,xe[2],U,se,ve,ee),xe[3]&&xu(C,xe[3],ve,se,$,ee)}}function oh(C,N,U,X,$,ee,ve){var se=1/0,xe;return function ke(Le,Je,Ke,Er,Lr){if(!(Je>ee||Ke>ve||Er<X||Lr<$)){if(or=Le.point){var or,gr=N-Le.x,wr=U-Le.y,Rr=gr*gr+wr*wr;if(Rr<se){var Fr=Math.sqrt(se=Rr);X=N-Fr,$=U-Fr,ee=N+Fr,ve=U+Fr,xe=or}}for(var vr=Le.nodes,at=(Je+Er)*.5,ct=(Ke+Lr)*.5,At=N>=at,Ft=U>=ct,Gt=Ft<<1|At,Ht=Gt+4;Gt<Ht;++Gt)if(Le=vr[Gt&3])switch(Gt&3){case 0:ke(Le,Je,Ke,at,ct);break;case 1:ke(Le,at,Ke,Er,ct);break;case 2:ke(Le,Je,ct,at,Lr);break;case 3:ke(Le,at,ct,Er,Lr);break}}}(C,X,$,ee,ve),xe}e.interpolateRgb=Ho;function Ho(C,N){C=e.rgb(C),N=e.rgb(N);var U=C.r,X=C.g,$=C.b,ee=N.r-U,ve=N.g-X,se=N.b-$;return function(xe){return"#"+Zt(Math.round(U+ee*xe))+Zt(Math.round(X+ve*xe))+Zt(Math.round($+se*xe))}}e.interpolateObject=hd;function hd(C,N){var U={},X={},$;for($ in C)$ in N?U[$]=Ol(C[$],N[$]):X[$]=C[$];for($ in N)$ in C||(X[$]=N[$]);return function(ee){for($ in U)X[$]=U[$](ee);return X}}e.interpolateNumber=Ui;function Ui(C,N){return C=+C,N=+N,function(U){return C*(1-U)+N*U}}e.interpolateString=Pa;function Pa(C,N){var U=lo.lastIndex=bu.lastIndex=0,X,$,ee,ve=-1,se=[],xe=[];for(C=C+"",N=N+"";(X=lo.exec(C))&&($=bu.exec(N));)(ee=$.index)>U&&(ee=N.slice(U,ee),se[ve]?se[ve]+=ee:se[++ve]=ee),(X=X[0])===($=$[0])?se[ve]?se[ve]+=$:se[++ve]=$:(se[++ve]=null,xe.push({i:ve,x:Ui(X,$)})),U=bu.lastIndex;return U<N.length&&(ee=N.slice(U),se[ve]?se[ve]+=ee:se[++ve]=ee),se.length<2?xe[0]?(N=xe[0].x,function(ke){return N(ke)+""}):function(){return N}:(N=xe.length,function(ke){for(var Le=0,Je;Le<N;++Le)se[(Je=xe[Le]).i]=Je.x(ke);return se.join("")})}var lo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bu=new RegExp(lo.source,"g");e.interpolate=Ol;function Ol(C,N){for(var U=e.interpolators.length,X;--U>=0&&!(X=e.interpolators[U](C,N)););return X}e.interpolators=[function(C,N){var U=typeof N;return(U==="string"?Xa.has(N.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(N)?Ho:Pa:N instanceof cn?Ho:Array.isArray(N)?Df:U==="object"&&isNaN(N)?hd:Ui)(C,N)}],e.interpolateArray=Df;function Df(C,N){var U=[],X=[],$=C.length,ee=N.length,ve=Math.min(C.length,N.length),se;for(se=0;se<ve;++se)U.push(Ol(C[se],N[se]));for(;se<$;++se)X[se]=C[se];for(;se<ee;++se)X[se]=N[se];return function(xe){for(se=0;se<ve;++se)X[se]=U[se](xe);return X}}var kc=function(){return O},lh=e.map({linear:kc,poly:ch,quad:function(){return fh},cubic:function(){return uh},sin:function(){return hh},exp:function(){return Xp},circle:function(){return jp},elastic:Zp,back:$p,bounce:function(){return _u}}),sh=e.map({in:O,out:Eo,"in-out":Vn,"out-in":function(C){return Vn(Eo(C))}});e.ease=function(C){var N=C.indexOf("-"),U=N>=0?C.slice(0,N):C,X=N>=0?C.slice(N+1):"in";return U=lh.get(U)||kc,X=sh.get(X)||O,Wp(X(U.apply(null,r.call(arguments,1))))};function Wp(C){return function(N){return N<=0?0:N>=1?1:C(N)}}function Eo(C){return function(N){return 1-C(1-N)}}function Vn(C){return function(N){return .5*(N<.5?C(2*N):2-C(2-2*N))}}function fh(C){return C*C}function uh(C){return C*C*C}function so(C){if(C<=0)return 0;if(C>=1)return 1;var N=C*C,U=N*C;return 4*(C<.5?U:3*(C-N)+U-.75)}function ch(C){return function(N){return Math.pow(N,C)}}function hh(C){return 1-Math.cos(C*W)}function Xp(C){return Math.pow(2,10*(C-1))}function jp(C){return 1-Math.sqrt(1-C*C)}function Zp(C,N){var U;return arguments.length<2&&(N=.45),arguments.length?U=N/Ge*Math.asin(1/C):(C=1,U=N/4),function(X){return 1+C*Math.pow(2,-10*X)*Math.sin((X-U)*Ge/N)}}function $p(C){return C||(C=1.70158),function(N){return N*N*((C+1)*N-C)}}function _u(C){return C<1/2.75?7.5625*C*C:C<2/2.75?7.5625*(C-=1.5/2.75)*C+.75:C<2.5/2.75?7.5625*(C-=2.25/2.75)*C+.9375:7.5625*(C-=2.625/2.75)*C+.984375}e.interpolateHcl=vh;function vh(C,N){C=e.hcl(C),N=e.hcl(N);var U=C.h,X=C.c,$=C.l,ee=N.h-U,ve=N.c-X,se=N.l-$;return isNaN(ve)&&(ve=0,X=isNaN(X)?N.c:X),isNaN(ee)?(ee=0,U=isNaN(U)?N.h:U):ee>180?ee-=360:ee<-180&&(ee+=360),function(xe){return ra(U+ee*xe,X+ve*xe,$+se*xe)+""}}e.interpolateHsl=Jp;function Jp(C,N){C=e.hsl(C),N=e.hsl(N);var U=C.h,X=C.s,$=C.l,ee=N.h-U,ve=N.s-X,se=N.l-$;return isNaN(ve)&&(ve=0,X=isNaN(X)?N.s:X),isNaN(ee)?(ee=0,U=isNaN(U)?N.h:U):ee>180?ee-=360:ee<-180&&(ee+=360),function(xe){return _n(U+ee*xe,X+ve*xe,$+se*xe)+""}}e.interpolateLab=dh;function dh(C,N){C=e.lab(C),N=e.lab(N);var U=C.l,X=C.a,$=C.b,ee=N.l-U,ve=N.a-X,se=N.b-$;return function(xe){return To(U+ee*xe,X+ve*xe,$+se*xe)+""}}e.interpolateRound=Lc;function Lc(C,N){return N-=C,function(U){return Math.round(C+N*U)}}e.transform=function(C){var N=n.createElementNS(e.ns.prefix.svg,"g");return(e.transform=function(U){if(U!=null){N.setAttribute("transform",U);var X=N.transform.baseVal.consolidate()}return new vd(X?X.matrix:Ns)})(C)};function vd(C){var N=[C.a,C.b],U=[C.c,C.d],X=dd(N),$=ns(N,U),ee=dd(Gi(U,N,-$))||0;N[0]*U[1]<U[0]*N[1]&&(N[0]*=-1,N[1]*=-1,X*=-1,$*=-1),this.rotate=(X?Math.atan2(N[1],N[0]):Math.atan2(-U[0],U[1]))*Ee,this.translate=[C.e,C.f],this.scale=[X,ee],this.skew=ee?Math.atan2($,ee)*Ee:0}vd.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function ns(C,N){return C[0]*N[0]+C[1]*N[1]}function dd(C){var N=Math.sqrt(ns(C,C));return N&&(C[0]/=N,C[1]/=N),N}function Gi(C,N,U){return C[0]+=U*N[0],C[1]+=U*N[1],C}var Ns={a:1,b:0,c:0,d:1,e:0,f:0};e.interpolateTransform=Rc;function as(C){return C.length?C.pop()+",":""}function ph(C,N,U,X){if(C[0]!==N[0]||C[1]!==N[1]){var $=U.push("translate(",null,",",null,")");X.push({i:$-4,x:Ui(C[0],N[0])},{i:$-2,x:Ui(C[1],N[1])})}else(N[0]||N[1])&&U.push("translate("+N+")")}function gh(C,N,U,X){C!==N?(C-N>180?N+=360:N-C>180&&(C+=360),X.push({i:U.push(as(U)+"rotate(",null,")")-2,x:Ui(C,N)})):N&&U.push(as(U)+"rotate("+N+")")}function yh(C,N,U,X){C!==N?X.push({i:U.push(as(U)+"skewX(",null,")")-2,x:Ui(C,N)}):N&&U.push(as(U)+"skewX("+N+")")}function mh(C,N,U,X){if(C[0]!==N[0]||C[1]!==N[1]){var $=U.push(as(U)+"scale(",null,",",null,")");X.push({i:$-4,x:Ui(C[0],N[0])},{i:$-2,x:Ui(C[1],N[1])})}else(N[0]!==1||N[1]!==1)&&U.push(as(U)+"scale("+N+")")}function Rc(C,N){var U=[],X=[];return C=e.transform(C),N=e.transform(N),ph(C.translate,N.translate,U,X),gh(C.rotate,N.rotate,U,X),yh(C.skew,N.skew,U,X),mh(C.scale,N.scale,U,X),C=N=null,function($){for(var ee=-1,ve=X.length,se;++ee<ve;)U[(se=X[ee]).i]=se.x($);return U.join("")}}function xh(C,N){return N=(N-=C=+C)||1/N,function(U){return(U-C)/N}}function bh(C,N){return N=(N-=C=+C)||1/N,function(U){return Math.max(0,Math.min(1,(U-C)/N))}}e.layout={},e.layout.bundle=function(){return function(C){for(var N=[],U=-1,X=C.length;++U<X;)N.push(_h(C[U]));return N}};function _h(C){for(var N=C.source,U=C.target,X=wh(N,U),$=[N];N!==X;)N=N.parent,$.push(N);for(var ee=$.length;U!==X;)$.splice(ee,0,U),U=U.parent;return $}function Oa(C){for(var N=[],U=C.parent;U!=null;)N.push(C),C=U,U=U.parent;return N.push(C),N}function wh(C,N){if(C===N)return C;for(var U=Oa(C),X=Oa(N),$=U.pop(),ee=X.pop(),ve=null;$===ee;)ve=$,$=U.pop(),ee=X.pop();return ve}e.layout.chord=function(){var C={},N,U,X,$,ee=0,ve,se,xe;function ke(){var Je={},Ke=[],Er=e.range($),Lr=[],or,gr,wr,Rr,Fr;for(N=[],U=[],or=0,Rr=-1;++Rr<$;){for(gr=0,Fr=-1;++Fr<$;)gr+=X[Rr][Fr];Ke.push(gr),Lr.push(e.range($)),or+=gr}for(ve&&Er.sort(function(sn,Wt){return ve(Ke[sn],Ke[Wt])}),se&&Lr.forEach(function(sn,Wt){sn.sort(function(en,Bn){return se(X[Wt][en],X[Wt][Bn])})}),or=(Ge-ee*$)/or,gr=0,Rr=-1;++Rr<$;){for(wr=gr,Fr=-1;++Fr<$;){var vr=Er[Rr],at=Lr[vr][Fr],ct=X[vr][at],At=gr,Ft=gr+=ct*or;Je[vr+"-"+at]={index:vr,subindex:at,startAngle:At,endAngle:Ft,value:ct}}U[vr]={index:vr,startAngle:wr,endAngle:gr,value:Ke[vr]},gr+=ee}for(Rr=-1;++Rr<$;)for(Fr=Rr-1;++Fr<$;){var Gt=Je[Rr+"-"+Fr],Ht=Je[Fr+"-"+Rr];(Gt.value||Ht.value)&&N.push(Gt.value<Ht.value?{source:Ht,target:Gt}:{source:Gt,target:Ht})}xe&&Le()}function Le(){N.sort(function(Je,Ke){return xe((Je.source.value+Je.target.value)/2,(Ke.source.value+Ke.target.value)/2)})}return C.matrix=function(Je){return arguments.length?($=(X=Je)&&X.length,N=U=null,C):X},C.padding=function(Je){return arguments.length?(ee=Je,N=U=null,C):ee},C.sortGroups=function(Je){return arguments.length?(ve=Je,N=U=null,C):ve},C.sortSubgroups=function(Je){return arguments.length?(se=Je,N=null,C):se},C.sortChords=function(Je){return arguments.length?(xe=Je,N&&Le(),C):xe},C.chords=function(){return N||ke(),N},C.groups=function(){return U||ke(),U},C},e.layout.force=function(){var C={},N=e.dispatch("start","tick","end"),U,X=[1,1],$,ee,ve=.9,se=Ah,xe=Th,ke=-30,Le=Mh,Je=.1,Ke=.64,Er=[],Lr=[],or,gr,wr;function Rr(vr){return function(at,ct,At,Ft){if(at.point!==vr){var Gt=at.cx-vr.x,Ht=at.cy-vr.y,sn=Ft-ct,Wt=Gt*Gt+Ht*Ht;if(sn*sn/Ke<Wt){if(Wt<Le){var en=at.charge/Wt;vr.px-=Gt*en,vr.py-=Ht*en}return!0}if(at.point&&Wt&&Wt<Le){var en=at.pointCharge/Wt;vr.px-=Gt*en,vr.py-=Ht*en}}return!at.charge}}C.tick=function(){if((ee*=.99)<.005)return U=null,N.end({type:"end",alpha:ee=0}),!0;var vr=Er.length,at=Lr.length,ct,At,Ft,Gt,Ht,sn,Wt,en,Bn;for(At=0;At<at;++At)Ft=Lr[At],Gt=Ft.source,Ht=Ft.target,en=Ht.x-Gt.x,Bn=Ht.y-Gt.y,(sn=en*en+Bn*Bn)&&(sn=ee*gr[At]*((sn=Math.sqrt(sn))-or[At])/sn,en*=sn,Bn*=sn,Ht.x-=en*(Wt=Gt.weight+Ht.weight?Gt.weight/(Gt.weight+Ht.weight):.5),Ht.y-=Bn*Wt,Gt.x+=en*(Wt=1-Wt),Gt.y+=Bn*Wt);if((Wt=ee*Je)&&(en=X[0]/2,Bn=X[1]/2,At=-1,Wt))for(;++At<vr;)Ft=Er[At],Ft.x+=(en-Ft.x)*Wt,Ft.y+=(Bn-Ft.y)*Wt;if(ke)for(Fc(ct=e.geom.quadtree(Er),ee,wr),At=-1;++At<vr;)(Ft=Er[At]).fixed||ct.visit(Rr(Ft));for(At=-1;++At<vr;)Ft=Er[At],Ft.fixed?(Ft.x=Ft.px,Ft.y=Ft.py):(Ft.x-=(Ft.px-(Ft.px=Ft.x))*ve,Ft.y-=(Ft.py-(Ft.py=Ft.y))*ve);N.tick({type:"tick",alpha:ee})},C.nodes=function(vr){return arguments.length?(Er=vr,C):Er},C.links=function(vr){return arguments.length?(Lr=vr,C):Lr},C.size=function(vr){return arguments.length?(X=vr,C):X},C.linkDistance=function(vr){return arguments.length?(se=typeof vr=="function"?vr:+vr,C):se},C.distance=C.linkDistance,C.linkStrength=function(vr){return arguments.length?(xe=typeof vr=="function"?vr:+vr,C):xe},C.friction=function(vr){return arguments.length?(ve=+vr,C):ve},C.charge=function(vr){return arguments.length?(ke=typeof vr=="function"?vr:+vr,C):ke},C.chargeDistance=function(vr){return arguments.length?(Le=vr*vr,C):Math.sqrt(Le)},C.gravity=function(vr){return arguments.length?(Je=+vr,C):Je},C.theta=function(vr){return arguments.length?(Ke=vr*vr,C):Math.sqrt(Ke)},C.alpha=function(vr){return arguments.length?(vr=+vr,ee?vr>0?ee=vr:(U.c=null,U.t=NaN,U=null,N.end({type:"end",alpha:ee=0})):vr>0&&(N.start({type:"start",alpha:ee=vr}),U=nl(C.tick)),C):ee},C.start=function(){var vr,at=Er.length,ct=Lr.length,At=X[0],Ft=X[1],Gt,Ht;for(vr=0;vr<at;++vr)(Ht=Er[vr]).index=vr,Ht.weight=0;for(vr=0;vr<ct;++vr)Ht=Lr[vr],typeof Ht.source=="number"&&(Ht.source=Er[Ht.source]),typeof Ht.target=="number"&&(Ht.target=Er[Ht.target]),++Ht.source.weight,++Ht.target.weight;for(vr=0;vr<at;++vr)Ht=Er[vr],isNaN(Ht.x)&&(Ht.x=sn("x",At)),isNaN(Ht.y)&&(Ht.y=sn("y",Ft)),isNaN(Ht.px)&&(Ht.px=Ht.x),isNaN(Ht.py)&&(Ht.py=Ht.y);if(or=[],typeof se=="function")for(vr=0;vr<ct;++vr)or[vr]=+se.call(this,Lr[vr],vr);else for(vr=0;vr<ct;++vr)or[vr]=se;if(gr=[],typeof xe=="function")for(vr=0;vr<ct;++vr)gr[vr]=+xe.call(this,Lr[vr],vr);else for(vr=0;vr<ct;++vr)gr[vr]=xe;if(wr=[],typeof ke=="function")for(vr=0;vr<at;++vr)wr[vr]=+ke.call(this,Er[vr],vr);else for(vr=0;vr<at;++vr)wr[vr]=ke;function sn(Wt,en){if(!Gt){for(Gt=new Array(at),Zn=0;Zn<at;++Zn)Gt[Zn]=[];for(Zn=0;Zn<ct;++Zn){var Bn=Lr[Zn];Gt[Bn.source.index].push(Bn.target),Gt[Bn.target.index].push(Bn.source)}}for(var Ra=Gt[vr],Zn=-1,kt=Ra.length,fn;++Zn<kt;)if(!isNaN(fn=Ra[Zn][Wt]))return fn;return Math.random()*en}return C.resume()},C.resume=function(){return C.alpha(.1)},C.stop=function(){return C.alpha(0)},C.drag=function(){if($||($=e.behavior.drag().origin(O).on("dragstart.force",Kp).on("drag.force",Fr).on("dragend.force",bi)),!arguments.length)return $;this.on("mouseover.force",wu).on("mouseout.force",Vo).call($)};function Fr(vr){vr.px=e.event.x,vr.py=e.event.y,C.resume()}return e.rebind(C,N,"on")};function Kp(C){C.fixed|=2}function bi(C){C.fixed&=-7}function wu(C){C.fixed|=4,C.px=C.x,C.py=C.y}function Vo(C){C.fixed&=-5}function Fc(C,N,U){var X=0,$=0;if(C.charge=0,!C.leaf)for(var ee=C.nodes,ve=ee.length,se=-1,xe;++se<ve;)xe=ee[se],xe!=null&&(Fc(xe,N,U),C.charge+=xe.charge,X+=xe.charge*xe.cx,$+=xe.charge*xe.cy);if(C.point){C.leaf||(C.point.x+=Math.random()-.5,C.point.y+=Math.random()-.5);var ke=N*U[C.point.index];C.charge+=C.pointCharge=ke,X+=ke*C.point.x,$+=ke*C.point.y}C.cx=X/C.charge,C.cy=$/C.charge}var Ah=20,Th=1,Mh=1/0;e.layout.hierarchy=function(){var C=rg,N=Qp,U=eg;function X($){var ee=[$],ve=[],se;for($.depth=0;(se=ee.pop())!=null;)if(ve.push(se),(ke=N.call(X,se,se.depth))&&(xe=ke.length)){for(var xe,ke,Le;--xe>=0;)ee.push(Le=ke[xe]),Le.parent=se,Le.depth=se.depth+1;U&&(se.value=0),se.children=ke}else U&&(se.value=+U.call(X,se,se.depth)||0),delete se.children;return ol($,function(Je){var Ke,Er;C&&(Ke=Je.children)&&Ke.sort(C),U&&(Er=Je.parent)&&(Er.value+=Je.value)}),ve}return X.sort=function($){return arguments.length?(C=$,X):C},X.children=function($){return arguments.length?(N=$,X):N},X.value=function($){return arguments.length?(U=$,X):U},X.revalue=function($){return U&&(Au($,function(ee){ee.children&&(ee.value=0)}),ol($,function(ee){var ve;ee.children||(ee.value=+U.call(X,ee,ee.depth)||0),(ve=ee.parent)&&(ve.value+=ee.value)})),$},X};function Bs(C,N){return e.rebind(C,N,"sort","children","value"),C.nodes=C,C.links=tg,C}function Au(C,N){for(var U=[C];(C=U.pop())!=null;)if(N(C),($=C.children)&&(X=$.length))for(var X,$;--X>=0;)U.push($[X])}function ol(C,N){for(var U=[C],X=[];(C=U.pop())!=null;)if(X.push(C),(ve=C.children)&&(ee=ve.length))for(var $=-1,ee,ve;++$<ee;)U.push(ve[$]);for(;(C=X.pop())!=null;)N(C)}function Qp(C){return C.children}function eg(C){return C.value}function rg(C,N){return N.value-C.value}function tg(C){return e.merge(C.map(function(N){return(N.children||[]).map(function(U){return{source:N,target:U}})}))}e.layout.partition=function(){var C=e.layout.hierarchy(),N=[1,1];function U(ee,ve,se,xe){var ke=ee.children;if(ee.x=ve,ee.y=ee.depth*xe,ee.dx=se,ee.dy=xe,ke&&(Je=ke.length)){var Le=-1,Je,Ke,Er;for(se=ee.value?se/ee.value:0;++Le<Je;)U(Ke=ke[Le],ve,Er=Ke.value*se,xe),ve+=Er}}function X(ee){var ve=ee.children,se=0;if(ve&&(ke=ve.length))for(var xe=-1,ke;++xe<ke;)se=Math.max(se,X(ve[xe]));return 1+se}function $(ee,ve){var se=C.call(this,ee,ve);return U(se[0],0,N[0],N[1]/X(se[0])),se}return $.size=function(ee){return arguments.length?(N=ee,$):N},Bs($,C)},e.layout.pie=function(){var C=Number,N=If,U=0,X=Ge,$=0;function ee(ve){var se=ve.length,xe=ve.map(function(Rr,Fr){return+C.call(ee,Rr,Fr)}),ke=+(typeof U=="function"?U.apply(this,arguments):U),Le=(typeof X=="function"?X.apply(this,arguments):X)-ke,Je=Math.min(Math.abs(Le)/se,+(typeof $=="function"?$.apply(this,arguments):$)),Ke=Je*(Le<0?-1:1),Er=e.sum(xe),Lr=Er?(Le-se*Ke)/Er:0,or=e.range(se),gr=[],wr;return N!=null&&or.sort(N===If?function(Rr,Fr){return xe[Fr]-xe[Rr]}:function(Rr,Fr){return N(ve[Rr],ve[Fr])}),or.forEach(function(Rr){gr[Rr]={data:ve[Rr],value:wr=xe[Rr],startAngle:ke,endAngle:ke+=wr*Lr+Ke,padAngle:Je}}),gr}return ee.value=function(ve){return arguments.length?(C=ve,ee):C},ee.sort=function(ve){return arguments.length?(N=ve,ee):N},ee.startAngle=function(ve){return arguments.length?(U=ve,ee):U},ee.endAngle=function(ve){return arguments.length?(X=ve,ee):X},ee.padAngle=function(ve){return arguments.length?($=ve,ee):$},ee};var If={};e.layout.stack=function(){var C=O,N=Us,U=Sh,X=ag,$=zs,ee=ng;function ve(se,xe){if(!(Lr=se.length))return se;var ke=se.map(function(Rr,Fr){return C.call(ve,Rr,Fr)}),Le=ke.map(function(Rr){return Rr.map(function(Fr,vr){return[$.call(ve,Fr,vr),ee.call(ve,Fr,vr)]})}),Je=N.call(ve,Le,xe);ke=e.permute(ke,Je),Le=e.permute(Le,Je);var Ke=U.call(ve,Le,xe),Er=ke[0].length,Lr,or,gr,wr;for(gr=0;gr<Er;++gr)for(X.call(ve,ke[0][gr],wr=Ke[gr],Le[0][gr][1]),or=1;or<Lr;++or)X.call(ve,ke[or][gr],wr+=Le[or-1][gr][1],Le[or][gr][1]);return se}return ve.values=function(se){return arguments.length?(C=se,ve):C},ve.order=function(se){return arguments.length?(N=typeof se=="function"?se:Eh.get(se)||Us,ve):N},ve.offset=function(se){return arguments.length?(U=typeof se=="function"?se:qs.get(se)||Sh,ve):U},ve.x=function(se){return arguments.length?($=se,ve):$},ve.y=function(se){return arguments.length?(ee=se,ve):ee},ve.out=function(se){return arguments.length?(X=se,ve):X},ve};function zs(C){return C.x}function ng(C){return C.y}function ag(C,N,U){C.y0=N,C.y=U}var Eh=e.map({"inside-out":function(C){var N=C.length,U,X,$=C.map(Ch),ee=C.map(ig),ve=e.range(N).sort(function(Je,Ke){return $[Je]-$[Ke]}),se=0,xe=0,ke=[],Le=[];for(U=0;U<N;++U)X=ve[U],se<xe?(se+=ee[X],ke.push(X)):(xe+=ee[X],Le.push(X));return Le.reverse().concat(ke)},reverse:function(C){return e.range(C.length).reverse()},default:Us}),qs=e.map({silhouette:function(C){var N=C.length,U=C[0].length,X=[],$=0,ee,ve,se,xe=[];for(ve=0;ve<U;++ve){for(ee=0,se=0;ee<N;ee++)se+=C[ee][ve][1];se>$&&($=se),X.push(se)}for(ve=0;ve<U;++ve)xe[ve]=($-X[ve])/2;return xe},wiggle:function(C){var N=C.length,U=C[0],X=U.length,$,ee,ve,se,xe,ke,Le,Je,Ke,Er=[];for(Er[0]=Je=Ke=0,ee=1;ee<X;++ee){for($=0,se=0;$<N;++$)se+=C[$][ee][1];for($=0,xe=0,Le=U[ee][0]-U[ee-1][0];$<N;++$){for(ve=0,ke=(C[$][ee][1]-C[$][ee-1][1])/(2*Le);ve<$;++ve)ke+=(C[ve][ee][1]-C[ve][ee-1][1])/Le;xe+=ke*C[$][ee][1]}Er[ee]=Je-=se?xe/se*Le:0,Je<Ke&&(Ke=Je)}for(ee=0;ee<X;++ee)Er[ee]-=Ke;return Er},expand:function(C){var N=C.length,U=C[0].length,X=1/N,$,ee,ve,se=[];for(ee=0;ee<U;++ee){for($=0,ve=0;$<N;$++)ve+=C[$][ee][1];if(ve)for($=0;$<N;$++)C[$][ee][1]/=ve;else for($=0;$<N;$++)C[$][ee][1]=X}for(ee=0;ee<U;++ee)se[ee]=0;return se},zero:Sh});function Us(C){return e.range(C.length)}function Sh(C){for(var N=-1,U=C[0].length,X=[];++N<U;)X[N]=0;return X}function Ch(C){for(var N=1,U=0,X=C[0][1],$,ee=C.length;N<ee;++N)($=C[N][1])>X&&(U=N,X=$);return U}function ig(C){return C.reduce(og,0)}function og(C,N){return C+N[1]}e.layout.histogram=function(){var C=!0,N=Number,U=sg,X=lg;function $(ee,Ke){for(var se=[],xe=ee.map(N,this),ke=U.call(this,xe,Ke),Le=X.call(this,ke,xe,Ke),Je,Ke=-1,Er=xe.length,Lr=Le.length-1,or=C?1:1/Er,gr;++Ke<Lr;)Je=se[Ke]=[],Je.dx=Le[Ke+1]-(Je.x=Le[Ke]),Je.y=0;if(Lr>0)for(Ke=-1;++Ke<Er;)gr=xe[Ke],gr>=ke[0]&&gr<=ke[1]&&(Je=se[e.bisect(Le,gr,1,Lr)-1],Je.y+=or,Je.push(ee[Ke]));return se}return $.value=function(ee){return arguments.length?(N=ee,$):N},$.range=function(ee){return arguments.length?(U=An(ee),$):U},$.bins=function(ee){return arguments.length?(X=typeof ee=="number"?function(ve){return pd(ve,ee)}:An(ee),$):X},$.frequency=function(ee){return arguments.length?(C=!!ee,$):C},$};function lg(C,N){return pd(C,Math.ceil(Math.log(N.length)/Math.LN2+1))}function pd(C,N){for(var U=-1,X=+C[0],$=(C[1]-X)/N,ee=[];++U<=N;)ee[U]=$*U+X;return ee}function sg(C){return[e.min(C),e.max(C)]}e.layout.pack=function(){var C=e.layout.hierarchy().sort(Tu),N=0,U=[1,1],X;function $(ee,ve){var se=C.call(this,ee,ve),xe=se[0],ke=U[0],Le=U[1],Je=X==null?Math.sqrt:typeof X=="function"?X:function(){return X};if(xe.x=xe.y=0,ol(xe,function(Er){Er.r=+Je(Er.value)}),ol(xe,yd),N){var Ke=N*(X?1:Math.max(2*xe.r/ke,2*xe.r/Le))/2;ol(xe,function(Er){Er.r+=Ke}),ol(xe,yd),ol(xe,function(Er){Er.r-=Ke})}return md(xe,ke/2,Le/2,X?1:1/Math.max(2*xe.r/ke,2*xe.r/Le)),se}return $.size=function(ee){return arguments.length?(U=ee,$):U},$.radius=function(ee){return arguments.length?(X=ee==null||typeof ee=="function"?ee:+ee,$):X},$.padding=function(ee){return arguments.length?(N=+ee,$):N},Bs($,C)};function Tu(C,N){return C.value-N.value}function kh(C,N){var U=C._pack_next;C._pack_next=N,N._pack_prev=C,N._pack_next=U,U._pack_prev=N}function Dc(C,N){C._pack_next=N,N._pack_prev=C}function gd(C,N){var U=N.x-C.x,X=N.y-C.y,$=C.r+N.r;return .999*$*$>U*U+X*X}function yd(C){if(!(N=C.children)||!(Ke=N.length))return;var N,U=1/0,X=-1/0,$=1/0,ee=-1/0,ve,se,xe,ke,Le,Je,Ke;function Er(vr){U=Math.min(vr.x-vr.r,U),X=Math.max(vr.x+vr.r,X),$=Math.min(vr.y-vr.r,$),ee=Math.max(vr.y+vr.r,ee)}if(N.forEach(fg),ve=N[0],ve.x=-ve.r,ve.y=0,Er(ve),Ke>1&&(se=N[1],se.x=se.r,se.y=0,Er(se),Ke>2))for(xe=N[2],b2(ve,se,xe),Er(xe),kh(ve,xe),ve._pack_prev=xe,kh(xe,se),se=ve._pack_next,ke=3;ke<Ke;ke++){b2(ve,se,xe=N[ke]);var Lr=0,or=1,gr=1;for(Le=se._pack_next;Le!==se;Le=Le._pack_next,or++)if(gd(Le,xe)){Lr=1;break}if(Lr==1)for(Je=ve._pack_prev;Je!==Le._pack_prev&&!gd(Je,xe);Je=Je._pack_prev,gr++);Lr?(or<gr||or==gr&&se.r<ve.r?Dc(ve,se=Le):Dc(ve=Je,se),ke--):(kh(ve,xe),se=xe,Er(xe))}var wr=(U+X)/2,Rr=($+ee)/2,Fr=0;for(ke=0;ke<Ke;ke++)xe=N[ke],xe.x-=wr,xe.y-=Rr,Fr=Math.max(Fr,xe.r+Math.sqrt(xe.x*xe.x+xe.y*xe.y));C.r=Fr,N.forEach(ug)}function fg(C){C._pack_next=C._pack_prev=C}function ug(C){delete C._pack_next,delete C._pack_prev}function md(C,N,U,X){var $=C.children;if(C.x=N+=X*C.x,C.y=U+=X*C.y,C.r*=X,$)for(var ee=-1,ve=$.length;++ee<ve;)md($[ee],N,U,X)}function b2(C,N,U){var X=C.r+U.r,$=N.x-C.x,ee=N.y-C.y;if(X&&($||ee)){var ve=N.r+U.r,se=$*$+ee*ee;ve*=ve,X*=X;var xe=.5+(X-ve)/(2*se),ke=Math.sqrt(Math.max(0,2*ve*(X+se)-(X-=se)*X-ve*ve))/(2*se);U.x=C.x+xe*$+ke*ee,U.y=C.y+xe*ee-ke*$}else U.x=C.x+X,U.y=C.y}e.layout.tree=function(){var C=e.layout.hierarchy().sort(null).value(null),N=xd,U=[1,1],X=null;function $(Le,Je){var Ke=C.call(this,Le,Je),Er=Ke[0],Lr=ee(Er);if(ol(Lr,ve),Lr.parent.m=-Lr.z,Au(Lr,se),X)Au(Er,ke);else{var or=Er,gr=Er,wr=Er;Au(Er,function(at){at.x<or.x&&(or=at),at.x>gr.x&&(gr=at),at.depth>wr.depth&&(wr=at)});var Rr=N(or,gr)/2-or.x,Fr=U[0]/(gr.x+N(gr,or)/2+Rr),vr=U[1]/(wr.depth||1);Au(Er,function(at){at.x=(at.x+Rr)*Fr,at.y=at.depth*vr})}return Ke}function ee(Le){for(var Je={A:null,children:[Le]},Ke=[Je],Er;(Er=Ke.pop())!=null;)for(var Lr=Er.children,or,gr=0,wr=Lr.length;gr<wr;++gr)Ke.push((Lr[gr]=or={_:Lr[gr],parent:Er,children:(or=Lr[gr].children)&&or.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:gr}).a=or);return Je.children[0]}function ve(Le){var Je=Le.children,Ke=Le.parent.children,Er=Le.i?Ke[Le.i-1]:null;if(Je.length){Mu(Le);var Lr=(Je[0].z+Je[Je.length-1].z)/2;Er?(Le.z=Er.z+N(Le._,Er._),Le.m=Le.z-Lr):Le.z=Lr}else Er&&(Le.z=Er.z+N(Le._,Er._));Le.parent.A=xe(Le,Er,Le.parent.A||Ke[0])}function se(Le){Le._.x=Le.z+Le.parent.m,Le.m+=Le.parent.m}function xe(Le,Je,Ke){if(Je){for(var Er=Le,Lr=Le,or=Je,gr=Er.parent.children[0],wr=Er.m,Rr=Lr.m,Fr=or.m,vr=gr.m,at;or=hg(or),Er=cg(Er),or&&Er;)gr=cg(gr),Lr=hg(Lr),Lr.a=Le,at=or.z+Fr-Er.z-wr+N(or._,Er._),at>0&&(vg(Lh(or,Le,Ke),Le,at),wr+=at,Rr+=at),Fr+=or.m,wr+=Er.m,vr+=gr.m,Rr+=Lr.m;or&&!hg(Lr)&&(Lr.t=or,Lr.m+=Fr-Rr),Er&&!cg(gr)&&(gr.t=Er,gr.m+=wr-vr,Ke=Le)}return Ke}function ke(Le){Le.x*=U[0],Le.y=Le.depth*U[1]}return $.separation=function(Le){return arguments.length?(N=Le,$):N},$.size=function(Le){return arguments.length?(X=(U=Le)==null?ke:null,$):X?null:U},$.nodeSize=function(Le){return arguments.length?(X=(U=Le)==null?null:ke,$):X?U:null},Bs($,C)};function xd(C,N){return C.parent==N.parent?1:2}function cg(C){var N=C.children;return N.length?N[0]:C.t}function hg(C){var N=C.children,U;return(U=N.length)?N[U-1]:C.t}function vg(C,N,U){var X=U/(N.i-C.i);N.c-=X,N.s+=U,C.c+=X,N.z+=U,N.m+=U}function Mu(C){for(var N=0,U=0,X=C.children,$=X.length,ee;--$>=0;)ee=X[$],ee.z+=N,ee.m+=N,N+=ee.s+(U+=ee.c)}function Lh(C,N,U){return C.a.parent===N.parent?C.a:U}e.layout.cluster=function(){var C=e.layout.hierarchy().sort(null).value(null),N=xd,U=[1,1],X=!1;function $(ee,ve){var se=C.call(this,ee,ve),xe=se[0],ke,Le=0;ol(xe,function(or){var gr=or.children;gr&&gr.length?(or.x=Rh(gr),or.y=Ka(gr)):(or.x=ke?Le+=N(or,ke):0,or.y=0,ke=or)});var Je=bd(xe),Ke=_d(xe),Er=Je.x-N(Je,Ke)/2,Lr=Ke.x+N(Ke,Je)/2;return ol(xe,X?function(or){or.x=(or.x-xe.x)*U[0],or.y=(xe.y-or.y)*U[1]}:function(or){or.x=(or.x-Er)/(Lr-Er)*U[0],or.y=(1-(xe.y?or.y/xe.y:1))*U[1]}),se}return $.separation=function(ee){return arguments.length?(N=ee,$):N},$.size=function(ee){return arguments.length?(X=(U=ee)==null,$):X?null:U},$.nodeSize=function(ee){return arguments.length?(X=(U=ee)!=null,$):X?U:null},Bs($,C)};function Ka(C){return 1+e.max(C,function(N){return N.y})}function Rh(C){return C.reduce(function(N,U){return N+U.x},0)/C.length}function bd(C){var N=C.children;return N&&N.length?bd(N[0]):C}function _d(C){var N=C.children,U;return N&&(U=N.length)?_d(N[U-1]):C}e.layout.treemap=function(){var C=e.layout.hierarchy(),N=Math.round,U=[1,1],X=null,$=Fh,ee=!1,ve,se="squarify",xe=.5*(1+Math.sqrt(5));function ke(or,gr){for(var wr=-1,Rr=or.length,Fr,vr;++wr<Rr;)vr=(Fr=or[wr]).value*(gr<0?0:gr),Fr.area=isNaN(vr)||vr<=0?0:vr}function Le(or){var gr=or.children;if(gr&&gr.length){var wr=$(or),Rr=[],Fr=gr.slice(),vr,at=1/0,ct,At=se==="slice"?wr.dx:se==="dice"?wr.dy:se==="slice-dice"?or.depth&1?wr.dy:wr.dx:Math.min(wr.dx,wr.dy),Ft;for(ke(Fr,wr.dx*wr.dy/or.value),Rr.area=0;(Ft=Fr.length)>0;)Rr.push(vr=Fr[Ft-1]),Rr.area+=vr.area,se!=="squarify"||(ct=Ke(Rr,At))<=at?(Fr.pop(),at=ct):(Rr.area-=Rr.pop().area,Er(Rr,At,wr,!1),At=Math.min(wr.dx,wr.dy),Rr.length=Rr.area=0,at=1/0);Rr.length&&(Er(Rr,At,wr,!0),Rr.length=Rr.area=0),gr.forEach(Le)}}function Je(or){var gr=or.children;if(gr&&gr.length){var wr=$(or),Rr=gr.slice(),Fr,vr=[];for(ke(Rr,wr.dx*wr.dy/or.value),vr.area=0;Fr=Rr.pop();)vr.push(Fr),vr.area+=Fr.area,Fr.z!=null&&(Er(vr,Fr.z?wr.dx:wr.dy,wr,!Rr.length),vr.length=vr.area=0);gr.forEach(Je)}}function Ke(or,gr){for(var wr=or.area,Rr,Fr=0,vr=1/0,at=-1,ct=or.length;++at<ct;)(Rr=or[at].area)&&(Rr<vr&&(vr=Rr),Rr>Fr&&(Fr=Rr));return wr*=wr,gr*=gr,wr?Math.max(gr*Fr*xe/wr,wr/(gr*vr*xe)):1/0}function Er(or,gr,wr,Rr){var Fr=-1,vr=or.length,at=wr.x,ct=wr.y,At=gr?N(or.area/gr):0,Ft;if(gr==wr.dx){for((Rr||At>wr.dy)&&(At=wr.dy);++Fr<vr;)Ft=or[Fr],Ft.x=at,Ft.y=ct,Ft.dy=At,at+=Ft.dx=Math.min(wr.x+wr.dx-at,At?N(Ft.area/At):0);Ft.z=!0,Ft.dx+=wr.x+wr.dx-at,wr.y+=At,wr.dy-=At}else{for((Rr||At>wr.dx)&&(At=wr.dx);++Fr<vr;)Ft=or[Fr],Ft.x=at,Ft.y=ct,Ft.dx=At,ct+=Ft.dy=Math.min(wr.y+wr.dy-ct,At?N(Ft.area/At):0);Ft.z=!1,Ft.dy+=wr.y+wr.dy-ct,wr.x+=At,wr.dx-=At}}function Lr(or){var gr=ve||C(or),wr=gr[0];return wr.x=wr.y=0,wr.value?(wr.dx=U[0],wr.dy=U[1]):wr.dx=wr.dy=0,ve&&C.revalue(wr),ke([wr],wr.dx*wr.dy/wr.value),(ve?Je:Le)(wr),ee&&(ve=gr),gr}return Lr.size=function(or){return arguments.length?(U=or,Lr):U},Lr.padding=function(or){if(!arguments.length)return X;function gr(Fr){var vr=or.call(Lr,Fr,Fr.depth);return vr==null?Fh(Fr):wd(Fr,typeof vr=="number"?[vr,vr,vr,vr]:vr)}function wr(Fr){return wd(Fr,or)}var Rr;return $=(X=or)==null?Fh:(Rr=typeof or)=="function"?gr:(Rr==="number"&&(or=[or,or,or,or]),wr),Lr},Lr.round=function(or){return arguments.length?(N=or?Math.round:Number,Lr):N!=Number},Lr.sticky=function(or){return arguments.length?(ee=or,ve=null,Lr):ee},Lr.ratio=function(or){return arguments.length?(xe=or,Lr):xe},Lr.mode=function(or){return arguments.length?(se=or+"",Lr):se},Bs(Lr,C)};function Fh(C){return{x:C.x,y:C.y,dx:C.dx,dy:C.dy}}function wd(C,N){var U=C.x+N[3],X=C.y+N[0],$=C.dx-N[1]-N[3],ee=C.dy-N[0]-N[2];return $<0&&(U+=$/2,$=0),ee<0&&(X+=ee/2,ee=0),{x:U,y:X,dx:$,dy:ee}}e.random={normal:function(C,N){var U=arguments.length;return U<2&&(N=1),U<1&&(C=0),function(){var X,$,ee;do X=Math.random()*2-1,$=Math.random()*2-1,ee=X*X+$*$;while(!ee||ee>1);return C+N*X*Math.sqrt(-2*Math.log(ee)/ee)}},logNormal:function(){var C=e.random.normal.apply(e,arguments);return function(){return Math.exp(C())}},bates:function(C){var N=e.random.irwinHall(C);return function(){return N()/C}},irwinHall:function(C){return function(){for(var N=0,U=0;U<C;U++)N+=Math.random();return N}}},e.scale={};function Ic(C){var N=C[0],U=C[C.length-1];return N<U?[N,U]:[U,N]}function Pc(C){return C.rangeExtent?C.rangeExtent():Ic(C.range())}function dg(C,N,U,X){var $=U(C[0],C[1]),ee=X(N[0],N[1]);return function(ve){return ee($(ve))}}function Nl(C,N){var U=0,X=C.length-1,$=C[U],ee=C[X],ve;return ee<$&&(ve=U,U=X,X=ve,ve=$,$=ee,ee=ve),C[U]=N.floor($),C[X]=N.ceil(ee),C}function Yn(C){return C?{floor:function(N){return Math.floor(N/C)*C},ceil:function(N){return Math.ceil(N/C)*C}}:Yo}var Yo={floor:O,ceil:O};function Wo(C,N,U,X){var $=[],ee=[],ve=0,se=Math.min(C.length,N.length)-1;for(C[se]<C[0]&&(C=C.slice().reverse(),N=N.slice().reverse());++ve<=se;)$.push(U(C[ve-1],C[ve])),ee.push(X(N[ve-1],N[ve]));return function(xe){var ke=e.bisect(C,xe,1,se)-1;return ee[ke]($[ke](xe))}}e.scale.linear=function(){return Ad([0,1],[0,1],Ol,!1)};function Ad(C,N,U,X){var $,ee;function ve(){var xe=Math.min(C.length,N.length)>2?Wo:dg,ke=X?bh:xh;return $=xe(C,N,ke,U),ee=xe(N,C,ke,Ol),se}function se(xe){return $(xe)}return se.invert=function(xe){return ee(xe)},se.domain=function(xe){return arguments.length?(C=xe.map(Number),ve()):C},se.range=function(xe){return arguments.length?(N=xe,ve()):N},se.rangeRound=function(xe){return se.range(xe).interpolate(Lc)},se.clamp=function(xe){return arguments.length?(X=xe,ve()):X},se.interpolate=function(xe){return arguments.length?(U=xe,ve()):U},se.ticks=function(xe){return Gs(C,xe)},se.tickFormat=function(xe,ke){return d3_scale_linearTickFormat(C,xe,ke)},se.nice=function(xe){return Oc(C,xe),ve()},se.copy=function(){return Ad(C,N,U,X)},ve()}function So(C,N){return e.rebind(C,N,"range","rangeRound","interpolate","clamp")}function Oc(C,N){return Nl(C,Yn(fo(C,N)[2])),Nl(C,Yn(fo(C,N)[2])),C}function fo(C,N){N==null&&(N=10);var U=Ic(C),X=U[1]-U[0],$=Math.pow(10,Math.floor(Math.log(X/N)/Math.LN10)),ee=N/X*$;return ee<=.15?$*=10:ee<=.35?$*=5:ee<=.75&&($*=2),U[0]=Math.ceil(U[0]/$)*$,U[1]=Math.floor(U[1]/$)*$+$*.5,U[2]=$,U}function Gs(C,N){return e.range.apply(e,fo(C,N))}var Eu={s:1,g:1,p:1,r:1,e:1};function Pf(C){return-Math.floor(Math.log(C)/Math.LN10+.01)}function Nc(C,N){var U=Pf(N[2]);return C in Eu?Math.abs(U-Pf(Math.max(y(N[0]),y(N[1]))))+ +(C!=="e"):U-(C==="%")*2}e.scale.log=function(){return Of(e.scale.linear().domain([0,1]),10,!0,[1,10])};function Of(C,N,U,X){function $(se){return(U?Math.log(se<0?0:se):-Math.log(se>0?0:-se))/Math.log(N)}function ee(se){return U?Math.pow(N,se):-Math.pow(N,-se)}function ve(se){return C($(se))}return ve.invert=function(se){return ee(C.invert(se))},ve.domain=function(se){return arguments.length?(U=se[0]>=0,C.domain((X=se.map(Number)).map($)),ve):X},ve.base=function(se){return arguments.length?(N=+se,C.domain(X.map($)),ve):N},ve.nice=function(){var se=Nl(X.map($),U?Math:Hs);return C.domain(se),X=se.map(ee),ve},ve.ticks=function(){var se=Ic(X),xe=[],ke=se[0],Le=se[1],Je=Math.floor($(ke)),Ke=Math.ceil($(Le)),Er=N%1?2:N;if(isFinite(Ke-Je)){if(U){for(;Je<Ke;Je++)for(var Lr=1;Lr<Er;Lr++)xe.push(ee(Je)*Lr);xe.push(ee(Je))}else for(xe.push(ee(Je));Je++<Ke;)for(var Lr=Er-1;Lr>0;Lr--)xe.push(ee(Je)*Lr);for(Je=0;xe[Je]<ke;Je++);for(Ke=xe.length;xe[Ke-1]>Le;Ke--);xe=xe.slice(Je,Ke)}return xe},ve.copy=function(){return Of(C.copy(),N,U,X)},So(ve,C)}var Hs={floor:function(C){return-Math.ceil(-C)},ceil:function(C){return-Math.floor(-C)}};e.scale.pow=function(){return Bc(e.scale.linear(),1,[0,1])};function Bc(C,N,U){var X=Nf(N),$=Nf(1/N);function ee(ve){return C(X(ve))}return ee.invert=function(ve){return $(C.invert(ve))},ee.domain=function(ve){return arguments.length?(C.domain((U=ve.map(Number)).map(X)),ee):U},ee.ticks=function(ve){return Gs(U,ve)},ee.tickFormat=function(ve,se){return d3_scale_linearTickFormat(U,ve,se)},ee.nice=function(ve){return ee.domain(Oc(U,ve))},ee.exponent=function(ve){return arguments.length?(X=Nf(N=ve),$=Nf(1/N),C.domain(U.map(X)),ee):N},ee.copy=function(){return Bc(C.copy(),N,U)},So(ee,C)}function Nf(C){return function(N){return N<0?-Math.pow(-N,C):Math.pow(N,C)}}e.scale.sqrt=function(){return e.scale.pow().exponent(.5)},e.scale.ordinal=function(){return zc([],{t:"range",a:[[]]})};function zc(C,N){var U,X,$;function ee(se){return X[((U.get(se)||(N.t==="range"?U.set(se,C.push(se)):NaN))-1)%X.length]}function ve(se,xe){return e.range(C.length).map(function(ke){return se+xe*ke})}return ee.domain=function(se){if(!arguments.length)return C;C=[],U=new b;for(var xe=-1,ke=se.length,Le;++xe<ke;)U.has(Le=se[xe])||U.set(Le,C.push(Le));return ee[N.t].apply(ee,N.a)},ee.range=function(se){return arguments.length?(X=se,$=0,N={t:"range",a:arguments},ee):X},ee.rangePoints=function(se,xe){arguments.length<2&&(xe=0);var ke=se[0],Le=se[1],Je=C.length<2?(ke=(ke+Le)/2,0):(Le-ke)/(C.length-1+xe);return X=ve(ke+Je*xe/2,Je),$=0,N={t:"rangePoints",a:arguments},ee},ee.rangeRoundPoints=function(se,xe){arguments.length<2&&(xe=0);var ke=se[0],Le=se[1],Je=C.length<2?(ke=Le=Math.round((ke+Le)/2),0):(Le-ke)/(C.length-1+xe)|0;return X=ve(ke+Math.round(Je*xe/2+(Le-ke-(C.length-1+xe)*Je)/2),Je),$=0,N={t:"rangeRoundPoints",a:arguments},ee},ee.rangeBands=function(se,xe,ke){arguments.length<2&&(xe=0),arguments.length<3&&(ke=xe);var Le=se[1]<se[0],Je=se[Le-0],Ke=se[1-Le],Er=(Ke-Je)/(C.length-xe+2*ke);return X=ve(Je+Er*ke,Er),Le&&X.reverse(),$=Er*(1-xe),N={t:"rangeBands",a:arguments},ee},ee.rangeRoundBands=function(se,xe,ke){arguments.length<2&&(xe=0),arguments.length<3&&(ke=xe);var Le=se[1]<se[0],Je=se[Le-0],Ke=se[1-Le],Er=Math.floor((Ke-Je)/(C.length-xe+2*ke));return X=ve(Je+Math.round((Ke-Je-(C.length-xe)*Er)/2),Er),Le&&X.reverse(),$=Math.round(Er*(1-xe)),N={t:"rangeRoundBands",a:arguments},ee},ee.rangeBand=function(){return $},ee.rangeExtent=function(){return Ic(N.a[0])},ee.copy=function(){return zc(C,N)},ee.domain(C)}e.scale.category10=function(){return e.scale.ordinal().range(Dh)},e.scale.category20=function(){return e.scale.ordinal().range(Ih)},e.scale.category20b=function(){return e.scale.ordinal().range(Su)},e.scale.category20c=function(){return e.scale.ordinal().range(Cu)};var Dh=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Mo),Ih=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Mo),Su=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Mo),Cu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Mo);e.scale.quantile=function(){return qc([],[])};function qc(C,N){var U;function X(){var ee=0,ve=N.length;for(U=[];++ee<ve;)U[ee-1]=e.quantile(C,ee/ve);return $}function $(ee){if(!isNaN(ee=+ee))return N[e.bisect(U,ee)]}return $.domain=function(ee){return arguments.length?(C=ee.map(v).filter(x).sort(c),X()):C},$.range=function(ee){return arguments.length?(N=ee,X()):N},$.quantiles=function(){return U},$.invertExtent=function(ee){return ee=N.indexOf(ee),ee<0?[NaN,NaN]:[ee>0?U[ee-1]:C[0],ee<U.length?U[ee]:C[C.length-1]]},$.copy=function(){return qc(C,N)},X()}e.scale.quantize=function(){return Uc(0,1,[0,1])};function Uc(C,N,U){var X,$;function ee(se){return U[Math.max(0,Math.min($,Math.floor(X*(se-C))))]}function ve(){return X=U.length/(N-C),$=U.length-1,ee}return ee.domain=function(se){return arguments.length?(C=+se[0],N=+se[se.length-1],ve()):[C,N]},ee.range=function(se){return arguments.length?(U=se,ve()):U},ee.invertExtent=function(se){return se=U.indexOf(se),se=se<0?NaN:se/X+C,[se,se+1/X]},ee.copy=function(){return Uc(C,N,U)},ve()}e.scale.threshold=function(){return Gc([.5],[0,1])};function Gc(C,N){function U(X){if(X<=X)return N[e.bisect(C,X)]}return U.domain=function(X){return arguments.length?(C=X,U):C},U.range=function(X){return arguments.length?(N=X,U):N},U.invertExtent=function(X){return X=N.indexOf(X),[C[X-1],C[X]]},U.copy=function(){return Gc(C,N)},U}e.scale.identity=function(){return Hc([0,1])};function Hc(C){function N(U){return+U}return N.invert=N,N.domain=N.range=function(U){return arguments.length?(C=U.map(N),N):C},N.ticks=function(U){return Gs(C,U)},N.tickFormat=function(U,X){return d3_scale_linearTickFormat(C,U,X)},N.copy=function(){return Hc(C)},N}e.svg={};function ku(){return 0}e.svg.arc=function(){var C=Ph,N=Lu,U=ku,X=Bf,$=zf,ee=Vc,ve=Ru;function se(){var ke=Math.max(0,+C.apply(this,arguments)),Le=Math.max(0,+N.apply(this,arguments)),Je=$.apply(this,arguments)-W,Ke=ee.apply(this,arguments)-W,Er=Math.abs(Ke-Je),Lr=Je>Ke?0:1;if(Le<ke&&(or=Le,Le=ke,ke=or),Er>=ae)return xe(Le,Lr)+(ke?xe(ke,1-Lr):"")+"Z";var or,gr,wr,Rr,Fr=0,vr=0,at,ct,At,Ft,Gt,Ht,sn,Wt,en=[];if((Rr=(+ve.apply(this,arguments)||0)/2)&&(wr=X===Bf?Math.sqrt(ke*ke+Le*Le):+X.apply(this,arguments),Lr||(vr*=-1),Le&&(vr=Yr(wr/Le*Math.sin(Rr))),ke&&(Fr=Yr(wr/ke*Math.sin(Rr)))),Le){at=Le*Math.cos(Je+vr),ct=Le*Math.sin(Je+vr),At=Le*Math.cos(Ke-vr),Ft=Le*Math.sin(Ke-vr);var Bn=Math.abs(Ke-Je-2*vr)<=be?0:1;if(vr&&qf(at,ct,At,Ft)===Lr^Bn){var Ra=(Je+Ke)/2;at=Le*Math.cos(Ra),ct=Le*Math.sin(Ra),At=Ft=null}}else at=ct=0;if(ke){Gt=ke*Math.cos(Ke-Fr),Ht=ke*Math.sin(Ke-Fr),sn=ke*Math.cos(Je+Fr),Wt=ke*Math.sin(Je+Fr);var Zn=Math.abs(Je-Ke+2*Fr)<=be?0:1;if(Fr&&qf(Gt,Ht,sn,Wt)===1-Lr^Zn){var kt=(Je+Ke)/2;Gt=ke*Math.cos(kt),Ht=ke*Math.sin(kt),sn=Wt=null}}else Gt=Ht=0;if(Er>nr&&(or=Math.min(Math.abs(Le-ke)/2,+U.apply(this,arguments)))>.001){gr=ke<Le^Lr?0:1;var fn=or,hn=or;if(Er<be){var On=sn==null?[Gt,Ht]:At==null?[at,ct]:Ds([at,ct],[sn,Wt],[At,Ft],[Gt,Ht]),ca=at-On[0],qa=ct-On[1],si=At-On[0],fi=Ft-On[1],Vi=1/Math.sin(Math.acos((ca*si+qa*fi)/(Math.sqrt(ca*ca+qa*qa)*Math.sqrt(si*si+fi*fi)))/2),H=Math.sqrt(On[0]*On[0]+On[1]*On[1]);hn=Math.min(or,(ke-H)/(Vi-1)),fn=Math.min(or,(Le-H)/(Vi+1))}if(At!=null){var ce=Uf(sn==null?[Gt,Ht]:[sn,Wt],[at,ct],Le,fn,Lr),ge=Uf([At,Ft],[Gt,Ht],Le,fn,Lr);or===fn?en.push("M",ce[0],"A",fn,",",fn," 0 0,",gr," ",ce[1],"A",Le,",",Le," 0 ",1-Lr^qf(ce[1][0],ce[1][1],ge[1][0],ge[1][1]),",",Lr," ",ge[1],"A",fn,",",fn," 0 0,",gr," ",ge[0]):en.push("M",ce[0],"A",fn,",",fn," 0 1,",gr," ",ge[0])}else en.push("M",at,",",ct);if(sn!=null){var Ye=Uf([at,ct],[sn,Wt],ke,-hn,Lr),rr=Uf([Gt,Ht],At==null?[at,ct]:[At,Ft],ke,-hn,Lr);or===hn?en.push("L",rr[0],"A",hn,",",hn," 0 0,",gr," ",rr[1],"A",ke,",",ke," 0 ",Lr^qf(rr[1][0],rr[1][1],Ye[1][0],Ye[1][1]),",",1-Lr," ",Ye[1],"A",hn,",",hn," 0 0,",gr," ",Ye[0]):en.push("L",rr[0],"A",hn,",",hn," 0 0,",gr," ",Ye[0])}else en.push("L",Gt,",",Ht)}else en.push("M",at,",",ct),At!=null&&en.push("A",Le,",",Le," 0 ",Bn,",",Lr," ",At,",",Ft),en.push("L",Gt,",",Ht),sn!=null&&en.push("A",ke,",",ke," 0 ",Zn,",",1-Lr," ",sn,",",Wt);return en.push("Z"),en.join("")}function xe(ke,Le){return"M0,"+ke+"A"+ke+","+ke+" 0 1,"+Le+" 0,"+-ke+"A"+ke+","+ke+" 0 1,"+Le+" 0,"+ke}return se.innerRadius=function(ke){return arguments.length?(C=An(ke),se):C},se.outerRadius=function(ke){return arguments.length?(N=An(ke),se):N},se.cornerRadius=function(ke){return arguments.length?(U=An(ke),se):U},se.padRadius=function(ke){return arguments.length?(X=ke==Bf?Bf:An(ke),se):X},se.startAngle=function(ke){return arguments.length?($=An(ke),se):$},se.endAngle=function(ke){return arguments.length?(ee=An(ke),se):ee},se.padAngle=function(ke){return arguments.length?(ve=An(ke),se):ve},se.centroid=function(){var ke=(+C.apply(this,arguments)+ +N.apply(this,arguments))/2,Le=(+$.apply(this,arguments)+ +ee.apply(this,arguments))/2-W;return[Math.cos(Le)*ke,Math.sin(Le)*ke]},se};var Bf="auto";function Ph(C){return C.innerRadius}function Lu(C){return C.outerRadius}function zf(C){return C.startAngle}function Vc(C){return C.endAngle}function Ru(C){return C&&C.padAngle}function qf(C,N,U,X){return(C-U)*N-(N-X)*C>0?0:1}function Uf(C,N,U,X,$){var ee=C[0]-N[0],ve=C[1]-N[1],se=($?X:-X)/Math.sqrt(ee*ee+ve*ve),xe=se*ve,ke=-se*ee,Le=C[0]+xe,Je=C[1]+ke,Ke=N[0]+xe,Er=N[1]+ke,Lr=(Le+Ke)/2,or=(Je+Er)/2,gr=Ke-Le,wr=Er-Je,Rr=gr*gr+wr*wr,Fr=U-X,vr=Le*Er-Ke*Je,at=(wr<0?-1:1)*Math.sqrt(Math.max(0,Fr*Fr*Rr-vr*vr)),ct=(vr*wr-gr*at)/Rr,At=(-vr*gr-wr*at)/Rr,Ft=(vr*wr+gr*at)/Rr,Gt=(-vr*gr+wr*at)/Rr,Ht=ct-Lr,sn=At-or,Wt=Ft-Lr,en=Gt-or;return Ht*Ht+sn*sn>Wt*Wt+en*en&&(ct=Ft,At=Gt),[[ct-xe,At-ke],[ct*U/Fr,At*U/Fr]]}function Gf(){return!0}function Yc(C){var N=al,U=Fs,X=Gf,$=Hi,ee=$.key,ve=.7;function se(xe){var ke=[],Le=[],Je=-1,Ke=xe.length,Er,Lr=An(N),or=An(U);function gr(){ke.push("M",$(C(Le),ve))}for(;++Je<Ke;)X.call(this,Er=xe[Je],Je)?Le.push([+Lr.call(this,Er,Je),+or.call(this,Er,Je)]):Le.length&&(gr(),Le=[]);return Le.length&&gr(),ke.length?ke.join(""):null}return se.x=function(xe){return arguments.length?(N=xe,se):N},se.y=function(xe){return arguments.length?(U=xe,se):U},se.defined=function(xe){return arguments.length?(X=xe,se):X},se.interpolate=function(xe){return arguments.length?(typeof xe=="function"?ee=$=xe:ee=($=Fu.get(xe)||Hi).key,se):ee},se.tension=function(xe){return arguments.length?(ve=xe,se):ve},se}e.svg.line=function(){return Yc(O)};var Fu=e.map({linear:Hi,"linear-closed":Hf,step:Bl,"step-before":Du,"step-after":zl,basis:Co,"basis-open":jo,"basis-closed":Zo,bundle:Iu,cardinal:Xo,"cardinal-open":_i,"cardinal-closed":Vs,monotone:Oh});Fu.forEach(function(C,N){N.key=C,N.closed=/-closed$/.test(C)});function Hi(C){return C.length>1?C.join("L"):C+"Z"}function Hf(C){return C.join("L")+"Z"}function Bl(C){for(var N=0,U=C.length,X=C[0],$=[X[0],",",X[1]];++N<U;)$.push("H",(X[0]+(X=C[N])[0])/2,"V",X[1]);return U>1&&$.push("H",X[0]),$.join("")}function Du(C){for(var N=0,U=C.length,X=C[0],$=[X[0],",",X[1]];++N<U;)$.push("V",(X=C[N])[1],"H",X[0]);return $.join("")}function zl(C){for(var N=0,U=C.length,X=C[0],$=[X[0],",",X[1]];++N<U;)$.push("H",(X=C[N])[0],"V",X[1]);return $.join("")}function _i(C,N){return C.length<4?Hi(C):C[1]+ll(C.slice(1,-1),ql(C,N))}function Vs(C,N){return C.length<3?Hf(C):C[0]+ll((C.push(C[0]),C),ql([C[C.length-2]].concat(C,[C[1]]),N))}function Xo(C,N){return C.length<3?Hi(C):C[0]+ll(C,ql(C,N))}function ll(C,N){if(N.length<1||C.length!=N.length&&C.length!=N.length+2)return Hi(C);var U=C.length!=N.length,X="",$=C[0],ee=C[1],ve=N[0],se=ve,xe=1;if(U&&(X+="Q"+(ee[0]-ve[0]*2/3)+","+(ee[1]-ve[1]*2/3)+","+ee[0]+","+ee[1],$=C[1],xe=2),N.length>1){se=N[1],ee=C[xe],xe++,X+="C"+($[0]+ve[0])+","+($[1]+ve[1])+","+(ee[0]-se[0])+","+(ee[1]-se[1])+","+ee[0]+","+ee[1];for(var ke=2;ke<N.length;ke++,xe++)ee=C[xe],se=N[ke],X+="S"+(ee[0]-se[0])+","+(ee[1]-se[1])+","+ee[0]+","+ee[1]}if(U){var Le=C[xe];X+="Q"+(ee[0]+se[0]*2/3)+","+(ee[1]+se[1]*2/3)+","+Le[0]+","+Le[1]}return X}function ql(C,N){for(var U=[],X=(1-N)/2,$,ee=C[0],ve=C[1],se=1,xe=C.length;++se<xe;)$=ee,ee=ve,ve=C[se],U.push([X*(ve[0]-$[0]),X*(ve[1]-$[1])]);return U}function Co(C){if(C.length<3)return Hi(C);var N=1,U=C.length,X=C[0],$=X[0],ee=X[1],ve=[$,$,$,(X=C[1])[0]],se=[ee,ee,ee,X[1]],xe=[$,",",ee,"L",Ri(ko,ve),",",Ri(ko,se)];for(C.push(C[U-1]);++N<=U;)X=C[N],ve.shift(),ve.push(X[0]),se.shift(),se.push(X[1]),uo(xe,ve,se);return C.pop(),xe.push("L",X),xe.join("")}function jo(C){if(C.length<4)return Hi(C);for(var N=[],U=-1,X=C.length,$,ee=[0],ve=[0];++U<3;)$=C[U],ee.push($[0]),ve.push($[1]);for(N.push(Ri(ko,ee)+","+Ri(ko,ve)),--U;++U<X;)$=C[U],ee.shift(),ee.push($[0]),ve.shift(),ve.push($[1]),uo(N,ee,ve);return N.join("")}function Zo(C){for(var N,U=-1,X=C.length,$=X+4,ee,ve=[],se=[];++U<4;)ee=C[U%X],ve.push(ee[0]),se.push(ee[1]);for(N=[Ri(ko,ve),",",Ri(ko,se)],--U;++U<$;)ee=C[U%X],ve.shift(),ve.push(ee[0]),se.shift(),se.push(ee[1]),uo(N,ve,se);return N.join("")}function Iu(C,N){var U=C.length-1;if(U)for(var X=C[0][0],$=C[0][1],ee=C[U][0]-X,ve=C[U][1]-$,se=-1,xe,ke;++se<=U;)xe=C[se],ke=se/U,xe[0]=N*xe[0]+(1-N)*(X+ke*ee),xe[1]=N*xe[1]+(1-N)*($+ke*ve);return Co(C)}function Ri(C,N){return C[0]*N[0]+C[1]*N[1]+C[2]*N[2]+C[3]*N[3]}var is=[0,2/3,1/3,0],Vf=[0,1/3,2/3,0],ko=[0,1/6,2/3,1/6];function uo(C,N,U){C.push("C",Ri(is,N),",",Ri(is,U),",",Ri(Vf,N),",",Ri(Vf,U),",",Ri(ko,N),",",Ri(ko,U))}function co(C,N){return(N[1]-C[1])/(N[0]-C[0])}function pg(C){for(var N=0,U=C.length-1,X=[],$=C[0],ee=C[1],ve=X[0]=co($,ee);++N<U;)X[N]=(ve+(ve=co($=ee,ee=C[N+1])))/2;return X[N]=ve,X}function gg(C){for(var N=[],U,X,$,ee,ve=pg(C),se=-1,xe=C.length-1;++se<xe;)U=co(C[se],C[se+1]),y(U)<nr?ve[se]=ve[se+1]=0:(X=ve[se]/U,$=ve[se+1]/U,ee=X*X+$*$,ee>9&&(ee=U*3/Math.sqrt(ee),ve[se]=ee*X,ve[se+1]=ee*$));for(se=-1;++se<=xe;)ee=(C[Math.min(xe,se+1)][0]-C[Math.max(0,se-1)][0])/(6*(1+ve[se]*ve[se])),N.push([ee||0,ve[se]*ee||0]);return N}function Oh(C){return C.length<3?Hi(C):C[0]+ll(C,gg(C))}e.svg.line.radial=function(){var C=Yc(Wc);return C.radius=C.x,delete C.x,C.angle=C.y,delete C.y,C};function Wc(C){for(var N,U=-1,X=C.length,$,ee;++U<X;)N=C[U],$=N[0],ee=N[1]-W,N[0]=$*Math.cos(ee),N[1]=$*Math.sin(ee);return C}function Xc(C){var N=al,U=al,X=0,$=Fs,ee=Gf,ve=Hi,se=ve.key,xe=ve,ke="L",Le=.7;function Je(Ke){var Er=[],Lr=[],or=[],gr=-1,wr=Ke.length,Rr,Fr=An(N),vr=An(X),at=N===U?function(){return At}:An(U),ct=X===$?function(){return Ft}:An($),At,Ft;function Gt(){Er.push("M",ve(C(or),Le),ke,xe(C(Lr.reverse()),Le),"Z")}for(;++gr<wr;)ee.call(this,Rr=Ke[gr],gr)?(Lr.push([At=+Fr.call(this,Rr,gr),Ft=+vr.call(this,Rr,gr)]),or.push([+at.call(this,Rr,gr),+ct.call(this,Rr,gr)])):Lr.length&&(Gt(),Lr=[],or=[]);return Lr.length&&Gt(),Er.length?Er.join(""):null}return Je.x=function(Ke){return arguments.length?(N=U=Ke,Je):U},Je.x0=function(Ke){return arguments.length?(N=Ke,Je):N},Je.x1=function(Ke){return arguments.length?(U=Ke,Je):U},Je.y=function(Ke){return arguments.length?(X=$=Ke,Je):$},Je.y0=function(Ke){return arguments.length?(X=Ke,Je):X},Je.y1=function(Ke){return arguments.length?($=Ke,Je):$},Je.defined=function(Ke){return arguments.length?(ee=Ke,Je):ee},Je.interpolate=function(Ke){return arguments.length?(typeof Ke=="function"?se=ve=Ke:se=(ve=Fu.get(Ke)||Hi).key,xe=ve.reverse||ve,ke=ve.closed?"M":"L",Je):se},Je.tension=function(Ke){return arguments.length?(Le=Ke,Je):Le},Je}Du.reverse=zl,zl.reverse=Du,e.svg.area=function(){return Xc(O)},e.svg.area.radial=function(){var C=Xc(Wc);return C.radius=C.x,delete C.x,C.innerRadius=C.x0,delete C.x0,C.outerRadius=C.x1,delete C.x1,C.angle=C.y,delete C.y,C.startAngle=C.y0,delete C.y0,C.endAngle=C.y1,delete C.y1,C};function Td(C){return C.source}function Lo(C){return C.target}e.svg.chord=function(){var C=Td,N=Lo,U=Pu,X=zf,$=Vc;function ee(Le,Je){var Ke=ve(this,C,Le,Je),Er=ve(this,N,Le,Je);return"M"+Ke.p0+xe(Ke.r,Ke.p1,Ke.a1-Ke.a0)+(se(Ke,Er)?ke(Ke.r,Ke.p1,Ke.r,Ke.p0):ke(Ke.r,Ke.p1,Er.r,Er.p0)+xe(Er.r,Er.p1,Er.a1-Er.a0)+ke(Er.r,Er.p1,Ke.r,Ke.p0))+"Z"}function ve(Le,Je,Ke,Er){var Lr=Je.call(Le,Ke,Er),or=U.call(Le,Lr,Er),gr=X.call(Le,Lr,Er)-W,wr=$.call(Le,Lr,Er)-W;return{r:or,a0:gr,a1:wr,p0:[or*Math.cos(gr),or*Math.sin(gr)],p1:[or*Math.cos(wr),or*Math.sin(wr)]}}function se(Le,Je){return Le.a0==Je.a0&&Le.a1==Je.a1}function xe(Le,Je,Ke){return"A"+Le+","+Le+" 0 "+ +(Ke>be)+",1 "+Je}function ke(Le,Je,Ke,Er){return"Q 0,0 "+Er}return ee.radius=function(Le){return arguments.length?(U=An(Le),ee):U},ee.source=function(Le){return arguments.length?(C=An(Le),ee):C},ee.target=function(Le){return arguments.length?(N=An(Le),ee):N},ee.startAngle=function(Le){return arguments.length?(X=An(Le),ee):X},ee.endAngle=function(Le){return arguments.length?($=An(Le),ee):$},ee};function Pu(C){return C.radius}e.svg.diagonal=function(){var C=Td,N=Lo,U=Md;function X($,ee){var ve=C.call(this,$,ee),se=N.call(this,$,ee),xe=(ve.y+se.y)/2,ke=[ve,{x:ve.x,y:xe},{x:se.x,y:xe},se];return ke=ke.map(U),"M"+ke[0]+"C"+ke[1]+" "+ke[2]+" "+ke[3]}return X.source=function($){return arguments.length?(C=An($),X):C},X.target=function($){return arguments.length?(N=An($),X):N},X.projection=function($){return arguments.length?(U=$,X):U},X};function Md(C){return[C.x,C.y]}e.svg.diagonal.radial=function(){var C=e.svg.diagonal(),N=Md,U=C.projection;return C.projection=function(X){return arguments.length?U(yg(N=X)):N},C};function yg(C){return function(){var N=C.apply(this,arguments),U=N[0],X=N[1]-W;return[U*Math.cos(X),U*Math.sin(X)]}}e.svg.symbol=function(){var C=xg,N=mg;function U(X,$){return(Sd.get(C.call(this,X,$))||Ed)(N.call(this,X,$))}return U.type=function(X){return arguments.length?(C=An(X),U):C},U.size=function(X){return arguments.length?(N=An(X),U):N},U};function mg(){return 64}function xg(){return"circle"}function Ed(C){var N=Math.sqrt(C/be);return"M0,"+N+"A"+N+","+N+" 0 1,1 0,"+-N+"A"+N+","+N+" 0 1,1 0,"+N+"Z"}var Sd=e.map({circle:Ed,cross:function(C){var N=Math.sqrt(C/5)/2;return"M"+-3*N+","+-N+"H"+-N+"V"+-3*N+"H"+N+"V"+-N+"H"+3*N+"V"+N+"H"+N+"V"+3*N+"H"+-N+"V"+N+"H"+-3*N+"Z"},diamond:function(C){var N=Math.sqrt(C/(2*Cd)),U=N*Cd;return"M0,"+-N+"L"+U+",0 0,"+N+" "+-U+",0Z"},square:function(C){var N=Math.sqrt(C)/2;return"M"+-N+","+-N+"L"+N+","+-N+" "+N+","+N+" "+-N+","+N+"Z"},"triangle-down":function(C){var N=Math.sqrt(C/jc),U=N*jc/2;return"M0,"+U+"L"+N+","+-U+" "+-N+","+-U+"Z"},"triangle-up":function(C){var N=Math.sqrt(C/jc),U=N*jc/2;return"M0,"+-U+"L"+N+","+U+" "+-N+","+U+"Z"}});e.svg.symbolTypes=Sd.keys();var jc=Math.sqrt(3),Cd=Math.tan(30*re);te.transition=function(C){for(var N=Gl||++Yf,U=Nu(C),X=[],$,ee,ve=os||{time:Date.now(),ease:so,delay:0,duration:250},se=-1,xe=this.length;++se<xe;){X.push($=[]);for(var ke=this[se],Le=-1,Je=ke.length;++Le<Je;)(ee=ke[Le])&&ls(ee,Le,U,N,ve),$.push(ee)}return Ul(X,U,N)},te.interrupt=function(C){return this.each(C==null?Zc:$c(Nu(C)))};var Zc=$c(Nu());function $c(C){return function(){var N,U,X;(N=this[C])&&(X=N[U=N.active])&&(X.timer.c=null,X.timer.t=NaN,--N.count?delete N[U]:delete this[C],N.active+=.5,X.event&&X.event.interrupt.call(this,this.__data__,X.index))}}function Ul(C,N,U){return B(C,xa),C.namespace=N,C.id=U,C}var xa=[],Yf=0,Gl,os;xa.call=te.call,xa.empty=te.empty,xa.node=te.node,xa.size=te.size,e.transition=function(C,N){return C&&C.transition?Gl?C.transition(N):C:e.selection().transition(C)},e.transition.prototype=xa,xa.select=function(C){var N=this.id,U=this.namespace,X=[],$,ee,ve;C=V(C);for(var se=-1,xe=this.length;++se<xe;){X.push($=[]);for(var ke=this[se],Le=-1,Je=ke.length;++Le<Je;)(ve=ke[Le])&&(ee=C.call(ve,ve.__data__,Le,se))?("__data__"in ve&&(ee.__data__=ve.__data__),ls(ee,Le,U,N,ve[U][N]),$.push(ee)):$.push(null)}return Ul(X,U,N)},xa.selectAll=function(C){var N=this.id,U=this.namespace,X=[],$,ee,ve,se,xe;C=ne(C);for(var ke=-1,Le=this.length;++ke<Le;)for(var Je=this[ke],Ke=-1,Er=Je.length;++Ke<Er;)if(ve=Je[Ke]){xe=ve[U][N],ee=C.call(ve,ve.__data__,Ke,ke),X.push($=[]);for(var Lr=-1,or=ee.length;++Lr<or;)(se=ee[Lr])&&ls(se,Lr,U,N,xe),$.push(se)}return Ul(X,U,N)},xa.filter=function(C){var N=[],U,X,$;typeof C!="function"&&(C=Se(C));for(var ee=0,ve=this.length;ee<ve;ee++){N.push(U=[]);for(var X=this[ee],se=0,xe=X.length;se<xe;se++)($=X[se])&&C.call($,$.__data__,se,ee)&&U.push($)}return Ul(N,this.namespace,this.id)},xa.tween=function(C,N){var U=this.id,X=this.namespace;return arguments.length<2?this.node()[X][U].tween.get(C):hr(this,N==null?function($){$[X][U].tween.remove(C)}:function($){$[X][U].tween.set(C,N)})};function Ys(C,N,U,X){var $=C.id,ee=C.namespace;return hr(C,typeof U=="function"?function(ve,se,xe){ve[ee][$].tween.set(N,X(U.call(ve,ve.__data__,se,xe)))}:(U=X(U),function(ve){ve[ee][$].tween.set(N,U)}))}xa.attr=function(C,N){if(arguments.length<2){for(N in C)this.attr(N,C[N]);return this}var U=C=="transform"?Rc:Ol,X=e.ns.qualify(C);function $(){this.removeAttribute(X)}function ee(){this.removeAttributeNS(X.space,X.local)}function ve(xe){return xe==null?$:(xe+="",function(){var ke=this.getAttribute(X),Le;return ke!==xe&&(Le=U(ke,xe),function(Je){this.setAttribute(X,Le(Je))})})}function se(xe){return xe==null?ee:(xe+="",function(){var ke=this.getAttributeNS(X.space,X.local),Le;return ke!==xe&&(Le=U(ke,xe),function(Je){this.setAttributeNS(X.space,X.local,Le(Je))})})}return Ys(this,"attr."+C,N,X.local?se:ve)},xa.attrTween=function(C,N){var U=e.ns.qualify(C);function X(ee,ve){var se=N.call(this,ee,ve,this.getAttribute(U));return se&&function(xe){this.setAttribute(U,se(xe))}}function $(ee,ve){var se=N.call(this,ee,ve,this.getAttributeNS(U.space,U.local));return se&&function(xe){this.setAttributeNS(U.space,U.local,se(xe))}}return this.tween("attr."+C,U.local?$:X)},xa.style=function(C,N,U){var X=arguments.length;if(X<3){if(typeof C!="string"){X<2&&(N="");for(U in C)this.style(U,C[U],N);return this}U=""}function $(){this.style.removeProperty(C)}function ee(ve){return ve==null?$:(ve+="",function(){var se=o(this).getComputedStyle(this,null).getPropertyValue(C),xe;return se!==ve&&(xe=Ol(se,ve),function(ke){this.style.setProperty(C,xe(ke),U)})})}return Ys(this,"style."+C,N,ee)},xa.styleTween=function(C,N,U){arguments.length<3&&(U="");function X($,ee){var ve=N.call(this,$,ee,o(this).getComputedStyle(this,null).getPropertyValue(C));return ve&&function(se){this.style.setProperty(C,ve(se),U)}}return this.tween("style."+C,X)},xa.text=function(C){return Ys(this,"text",C,Ou)};function Ou(C){return C==null&&(C=""),function(){this.textContent=C}}xa.remove=function(){var C=this.namespace;return this.each("end.transition",function(){var N;this[C].count<2&&(N=this.parentNode)&&N.removeChild(this)})},xa.ease=function(C){var N=this.id,U=this.namespace;return arguments.length<1?this.node()[U][N].ease:(typeof C!="function"&&(C=e.ease.apply(e,arguments)),hr(this,function(X){X[U][N].ease=C}))},xa.delay=function(C){var N=this.id,U=this.namespace;return arguments.length<1?this.node()[U][N].delay:hr(this,typeof C=="function"?function(X,$,ee){X[U][N].delay=+C.call(X,X.__data__,$,ee)}:(C=+C,function(X){X[U][N].delay=C}))},xa.duration=function(C){var N=this.id,U=this.namespace;return arguments.length<1?this.node()[U][N].duration:hr(this,typeof C=="function"?function(X,$,ee){X[U][N].duration=Math.max(1,C.call(X,X.__data__,$,ee))}:(C=Math.max(1,C),function(X){X[U][N].duration=C}))},xa.each=function(C,N){var U=this.id,X=this.namespace;if(arguments.length<2){var $=os,ee=Gl;try{Gl=U,hr(this,function(ve,se,xe){os=ve[X][U],C.call(ve,ve.__data__,se,xe)})}finally{os=$,Gl=ee}}else hr(this,function(ve){var se=ve[X][U];(se.event||(se.event=e.dispatch("start","end","interrupt"))).on(C,N)});return this},xa.transition=function(){for(var C=this.id,N=++Yf,U=this.namespace,X=[],$,ee,ve,se,xe=0,ke=this.length;xe<ke;xe++){X.push($=[]);for(var ee=this[xe],Le=0,Je=ee.length;Le<Je;Le++)(ve=ee[Le])&&(se=ve[U][C],ls(ve,Le,U,N,{time:se.time,ease:se.ease,delay:se.delay+se.duration,duration:se.duration})),$.push(ve)}return Ul(X,U,N)};function Nu(C){return C==null?"__transition__":"__transition_"+C+"__"}function ls(C,N,U,X,$){var ee=C[U]||(C[U]={active:0,count:0}),ve=ee[X],se,xe,ke,Le,Je;function Ke(or){var gr=ve.delay;if(xe.t=gr+se,gr<=or)return Er(or-gr);xe.c=Er}function Er(or){var gr=ee.active,wr=ee[gr];wr&&(wr.timer.c=null,wr.timer.t=NaN,--ee.count,delete ee[gr],wr.event&&wr.event.interrupt.call(C,C.__data__,wr.index));for(var Rr in ee)if(+Rr<X){var Fr=ee[Rr];Fr.timer.c=null,Fr.timer.t=NaN,--ee.count,delete ee[Rr]}xe.c=Lr,nl(function(){return xe.c&&Lr(or||1)&&(xe.c=null,xe.t=NaN),1},0,se),ee.active=X,ve.event&&ve.event.start.call(C,C.__data__,N),Je=[],ve.tween.forEach(function(vr,at){(at=at.call(C,C.__data__,N))&&Je.push(at)}),Le=ve.ease,ke=ve.duration}function Lr(or){for(var gr=or/ke,wr=Le(gr),Rr=Je.length;Rr>0;)Je[--Rr].call(C,wr);if(gr>=1)return ve.event&&ve.event.end.call(C,C.__data__,N),--ee.count?delete ee[X]:delete C[U],1}ve||(se=$.time,xe=nl(Ke,0,se),ve=ee[X]={tween:new b,time:se,timer:xe,delay:$.delay,duration:$.duration,ease:$.ease,index:N},$=null,++ee.count)}e.svg.axis=function(){var C=e.scale.linear(),N=Wf,U=6,X=6,$=3,ee=[10],ve=null,se;function xe(ke){ke.each(function(){var Le=e.select(this),Je=this.__chart__||C,Ke=this.__chart__=C.copy(),Er=ve==null?Ke.ticks?Ke.ticks.apply(Ke,ee):Ke.domain():ve,Lr=se==null?Ke.tickFormat?Ke.tickFormat.apply(Ke,ee):O:se,or=Le.selectAll(".tick").data(Er,Ke),gr=or.enter().insert("g",".domain").attr("class","tick").style("opacity",nr),wr=e.transition(or.exit()).style("opacity",nr).remove(),Rr=e.transition(or.order()).style("opacity",1),Fr=Math.max(U,0)+$,vr,at=Pc(Ke),ct=Le.selectAll(".domain").data([0]),At=(ct.enter().append("path").attr("class","domain"),e.transition(ct));gr.append("line"),gr.append("text");var Ft=gr.select("line"),Gt=Rr.select("line"),Ht=or.select("text").text(Lr),sn=gr.select("text"),Wt=Rr.select("text"),en=N==="top"||N==="left"?-1:1,Bn,Ra,Zn,kt;if(N==="bottom"||N==="top"?(vr=zu,Bn="x",Zn="y",Ra="x2",kt="y2",Ht.attr("dy",en<0?"0em":".71em").style("text-anchor","middle"),At.attr("d","M"+at[0]+","+en*X+"V0H"+at[1]+"V"+en*X)):(vr=qu,Bn="y",Zn="x",Ra="y2",kt="x2",Ht.attr("dy",".32em").style("text-anchor",en<0?"end":"start"),At.attr("d","M"+en*X+","+at[0]+"H0V"+at[1]+"H"+en*X)),Ft.attr(kt,en*U),sn.attr(Zn,en*Fr),Gt.attr(Ra,0).attr(kt,en*U),Wt.attr(Bn,0).attr(Zn,en*Fr),Ke.rangeBand){var fn=Ke,hn=fn.rangeBand()/2;Je=Ke=function(On){return fn(On)+hn}}else Je.rangeBand?Je=Ke:wr.call(vr,Ke,Je);gr.call(vr,Je,Ke),Rr.call(vr,Ke,Ke)})}return xe.scale=function(ke){return arguments.length?(C=ke,xe):C},xe.orient=function(ke){return arguments.length?(N=ke in Bu?ke+"":Wf,xe):N},xe.ticks=function(){return arguments.length?(ee=t(arguments),xe):ee},xe.tickValues=function(ke){return arguments.length?(ve=ke,xe):ve},xe.tickFormat=function(ke){return arguments.length?(se=ke,xe):se},xe.tickSize=function(ke){var Le=arguments.length;return Le?(U=+ke,X=+arguments[Le-1],xe):U},xe.innerTickSize=function(ke){return arguments.length?(U=+ke,xe):U},xe.outerTickSize=function(ke){return arguments.length?(X=+ke,xe):X},xe.tickPadding=function(ke){return arguments.length?($=+ke,xe):$},xe.tickSubdivide=function(){return arguments.length&&xe},xe};var Wf="bottom",Bu={top:1,right:1,bottom:1,left:1};function zu(C,N,U){C.attr("transform",function(X){var $=N(X);return"translate("+(isFinite($)?$:U(X))+",0)"})}function qu(C,N,U){C.attr("transform",function(X){var $=N(X);return"translate(0,"+(isFinite($)?$:U(X))+")"})}e.svg.brush=function(){var C=K(Le,"brushstart","brush","brushend"),N=null,U=null,X=[0,0],$=[0,0],ee,ve,se=!0,xe=!0,ke=Ws[0];function Le(or){or.each(function(){var gr=e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Lr).on("touchstart.brush",Lr),wr=gr.selectAll(".background").data([0]);wr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),gr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Rr=gr.selectAll(".resize").data(ke,O);Rr.exit().remove(),Rr.enter().append("g").attr("class",function(ct){return"resize "+ct}).style("cursor",function(ct){return Uu[ct]}).append("rect").attr("x",function(ct){return/[ew]$/.test(ct)?-3:null}).attr("y",function(ct){return/^[ns]/.test(ct)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Rr.style("display",Le.empty()?"none":null);var Fr=e.transition(gr),vr=e.transition(wr),at;N&&(at=Pc(N),vr.attr("x",at[0]).attr("width",at[1]-at[0]),Ke(Fr)),U&&(at=Pc(U),vr.attr("y",at[0]).attr("height",at[1]-at[0]),Er(Fr)),Je(Fr)})}Le.event=function(or){or.each(function(){var gr=C.of(this,arguments),wr={x:X,y:$,i:ee,j:ve},Rr=this.__chart__||wr;this.__chart__=wr,Gl?e.select(this).transition().each("start.brush",function(){ee=Rr.i,ve=Rr.j,X=Rr.x,$=Rr.y,gr({type:"brushstart"})}).tween("brush:brush",function(){var Fr=Df(X,wr.x),vr=Df($,wr.y);return ee=ve=null,function(at){X=wr.x=Fr(at),$=wr.y=vr(at),gr({type:"brush",mode:"resize"})}}).each("end.brush",function(){ee=wr.i,ve=wr.j,gr({type:"brush",mode:"resize"}),gr({type:"brushend"})}):(gr({type:"brushstart"}),gr({type:"brush",mode:"resize"}),gr({type:"brushend"}))})};function Je(or){or.selectAll(".resize").attr("transform",function(gr){return"translate("+X[+/e$/.test(gr)]+","+$[+/^s/.test(gr)]+")"})}function Ke(or){or.select(".extent").attr("x",X[0]),or.selectAll(".extent,.n>rect,.s>rect").attr("width",X[1]-X[0])}function Er(or){or.select(".extent").attr("y",$[0]),or.selectAll(".extent,.e>rect,.w>rect").attr("height",$[1]-$[0])}function Lr(){var or=this,gr=e.select(e.event.target),wr=C.of(or,arguments),Rr=e.select(or),Fr=gr.datum(),vr=!/^(n|s)$/.test(Fr)&&N,at=!/^(e|w)$/.test(Fr)&&U,ct=gr.classed("extent"),At=jr(or),Ft,Gt=e.mouse(or),Ht,sn=e.select(o(or)).on("keydown.brush",Bn).on("keyup.brush",Ra);if(e.event.changedTouches?sn.on("touchmove.brush",Zn).on("touchend.brush",fn):sn.on("mousemove.brush",Zn).on("mouseup.brush",fn),Rr.interrupt().selectAll("*").interrupt(),ct)Gt[0]=X[0]-Gt[0],Gt[1]=$[0]-Gt[1];else if(Fr){var Wt=+/w$/.test(Fr),en=+/^n/.test(Fr);Ht=[X[1-Wt]-Gt[0],$[1-en]-Gt[1]],Gt[0]=X[Wt],Gt[1]=$[en]}else e.event.altKey&&(Ft=Gt.slice());Rr.style("pointer-events","none").selectAll(".resize").style("display",null),e.select("body").style("cursor",gr.style("cursor")),wr({type:"brushstart"}),Zn();function Bn(){e.event.keyCode==32&&(ct||(Ft=null,Gt[0]-=X[1],Gt[1]-=$[1],ct=2),j())}function Ra(){e.event.keyCode==32&&ct==2&&(Gt[0]+=X[1],Gt[1]+=$[1],ct=0,j())}function Zn(){var hn=e.mouse(or),On=!1;Ht&&(hn[0]+=Ht[0],hn[1]+=Ht[1]),ct||(e.event.altKey?(Ft||(Ft=[(X[0]+X[1])/2,($[0]+$[1])/2]),Gt[0]=X[+(hn[0]<Ft[0])],Gt[1]=$[+(hn[1]<Ft[1])]):Ft=null),vr&&kt(hn,N,0)&&(Ke(Rr),On=!0),at&&kt(hn,U,1)&&(Er(Rr),On=!0),On&&(Je(Rr),wr({type:"brush",mode:ct?"move":"resize"}))}function kt(hn,On,ca){var qa=Pc(On),si=qa[0],fi=qa[1],Vi=Gt[ca],H=ca?$:X,ce=H[1]-H[0],ge,Ye;if(ct&&(si-=Vi,fi-=ce+Vi),ge=(ca?xe:se)?Math.max(si,Math.min(fi,hn[ca])):hn[ca],ct?Ye=(ge+=Vi)+ce:(Ft&&(Vi=Math.max(si,Math.min(fi,2*Ft[ca]-ge))),Vi<ge?(Ye=ge,ge=Vi):Ye=Vi),H[0]!=ge||H[1]!=Ye)return ca?ve=null:ee=null,H[0]=ge,H[1]=Ye,!0}function fn(){Zn(),Rr.style("pointer-events","all").selectAll(".resize").style("display",Le.empty()?"none":null),e.select("body").style("cursor",null),sn.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),At(),wr({type:"brushend"})}}return Le.x=function(or){return arguments.length?(N=or,ke=Ws[!N<<1|!U],Le):N},Le.y=function(or){return arguments.length?(U=or,ke=Ws[!N<<1|!U],Le):U},Le.clamp=function(or){return arguments.length?(N&&U?(se=!!or[0],xe=!!or[1]):N?se=!!or:U&&(xe=!!or),Le):N&&U?[se,xe]:N?se:U?xe:null},Le.extent=function(or){var gr,wr,Rr,Fr,vr;return arguments.length?(N&&(gr=or[0],wr=or[1],U&&(gr=gr[0],wr=wr[0]),ee=[gr,wr],N.invert&&(gr=N(gr),wr=N(wr)),wr<gr&&(vr=gr,gr=wr,wr=vr),(gr!=X[0]||wr!=X[1])&&(X=[gr,wr])),U&&(Rr=or[0],Fr=or[1],N&&(Rr=Rr[1],Fr=Fr[1]),ve=[Rr,Fr],U.invert&&(Rr=U(Rr),Fr=U(Fr)),Fr<Rr&&(vr=Rr,Rr=Fr,Fr=vr),(Rr!=$[0]||Fr!=$[1])&&($=[Rr,Fr])),Le):(N&&(ee?(gr=ee[0],wr=ee[1]):(gr=X[0],wr=X[1],N.invert&&(gr=N.invert(gr),wr=N.invert(wr)),wr<gr&&(vr=gr,gr=wr,wr=vr))),U&&(ve?(Rr=ve[0],Fr=ve[1]):(Rr=$[0],Fr=$[1],U.invert&&(Rr=U.invert(Rr),Fr=U.invert(Fr)),Fr<Rr&&(vr=Rr,Rr=Fr,Fr=vr))),N&&U?[[gr,Rr],[wr,Fr]]:N?[gr,wr]:U&&[Rr,Fr])},Le.clear=function(){return Le.empty()||(X=[0,0],$=[0,0],ee=ve=null),Le},Le.empty=function(){return!!N&&X[0]==X[1]||!!U&&$[0]==$[1]},e.rebind(Le,C,"on")};var Uu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ws=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];e.text=zo(function(C){return C.responseText}),e.json=function(C,N){return Fl(C,"application/json",Gu,N)};function Gu(C){return JSON.parse(C.responseText)}e.html=function(C,N){return Fl(C,"text/html",Hu,N)};function Hu(C){var N=n.createRange();return N.selectNode(n.body),N.createContextualFragment(C.responseText)}e.xml=zo(function(C){return C.responseXML}),typeof A2=="object"&&A2.exports?A2.exports=e:this.d3=e}).apply(self)});var Pw=fe((T2,l9)=>{(function(e,r){typeof T2=="object"&&typeof l9!="undefined"?r(T2):(e=e||self,r(e.d3=e.d3||{}))})(T2,function(e){"use strict";var r=new Date,t=new Date;function n(Se,Fe,hr,dr){function kr(Ue){return Se(Ue=arguments.length===0?new Date:new Date(+Ue)),Ue}return kr.floor=function(Ue){return Se(Ue=new Date(+Ue)),Ue},kr.ceil=function(Ue){return Se(Ue=new Date(Ue-1)),Fe(Ue,1),Se(Ue),Ue},kr.round=function(Ue){var He=kr(Ue),Xe=kr.ceil(Ue);return Ue-He<Xe-Ue?He:Xe},kr.offset=function(Ue,He){return Fe(Ue=new Date(+Ue),He==null?1:Math.floor(He)),Ue},kr.range=function(Ue,He,Xe){var fr=[],Mr;if(Ue=kr.ceil(Ue),Xe=Xe==null?1:Math.floor(Xe),!(Ue<He)||!(Xe>0))return fr;do fr.push(Mr=new Date(+Ue)),Fe(Ue,Xe),Se(Ue);while(Mr<Ue&&Ue<He);return fr},kr.filter=function(Ue){return n(function(He){if(He>=He)for(;Se(He),!Ue(He);)He.setTime(He-1)},function(He,Xe){if(He>=He)if(Xe<0)for(;++Xe<=0;)for(;Fe(He,-1),!Ue(He););else for(;--Xe>=0;)for(;Fe(He,1),!Ue(He););})},hr&&(kr.count=function(Ue,He){return r.setTime(+Ue),t.setTime(+He),Se(r),Se(t),Math.floor(hr(r,t))},kr.every=function(Ue){return Ue=Math.floor(Ue),!isFinite(Ue)||!(Ue>0)?null:Ue>1?kr.filter(dr?function(He){return dr(He)%Ue===0}:function(He){return kr.count(0,He)%Ue===0}):kr}),kr}var a=n(function(){},function(Se,Fe){Se.setTime(+Se+Fe)},function(Se,Fe){return Fe-Se});a.every=function(Se){return Se=Math.floor(Se),!isFinite(Se)||!(Se>0)?null:Se>1?n(function(Fe){Fe.setTime(Math.floor(Fe/Se)*Se)},function(Fe,hr){Fe.setTime(+Fe+hr*Se)},function(Fe,hr){return(hr-Fe)/Se}):a};var o=a.range,i=1e3,l=6e4,f=36e5,s=864e5,u=6048e5,c=n(function(Se){Se.setTime(Se-Se.getMilliseconds())},function(Se,Fe){Se.setTime(+Se+Fe*i)},function(Se,Fe){return(Fe-Se)/i},function(Se){return Se.getUTCSeconds()}),v=c.range,x=n(function(Se){Se.setTime(Se-Se.getMilliseconds()-Se.getSeconds()*i)},function(Se,Fe){Se.setTime(+Se+Fe*l)},function(Se,Fe){return(Fe-Se)/l},function(Se){return Se.getMinutes()}),m=x.range,w=n(function(Se){Se.setTime(Se-Se.getMilliseconds()-Se.getSeconds()*i-Se.getMinutes()*l)},function(Se,Fe){Se.setTime(+Se+Fe*f)},function(Se,Fe){return(Fe-Se)/f},function(Se){return Se.getHours()}),A=w.range,y=n(function(Se){Se.setHours(0,0,0,0)},function(Se,Fe){Se.setDate(Se.getDate()+Fe)},function(Se,Fe){return(Fe-Se-(Fe.getTimezoneOffset()-Se.getTimezoneOffset())*l)/s},function(Se){return Se.getDate()-1}),M=y.range;function E(Se){return n(function(Fe){Fe.setDate(Fe.getDate()-(Fe.getDay()+7-Se)%7),Fe.setHours(0,0,0,0)},function(Fe,hr){Fe.setDate(Fe.getDate()+hr*7)},function(Fe,hr){return(hr-Fe-(hr.getTimezoneOffset()-Fe.getTimezoneOffset())*l)/u})}var b=E(0),T=E(1),p=E(2),_=E(3),g=E(4),h=E(5),S=E(6),d=b.range,R=T.range,L=p.range,F=_.range,O=g.range,P=h.range,I=S.range,k=n(function(Se){Se.setDate(1),Se.setHours(0,0,0,0)},function(Se,Fe){Se.setMonth(Se.getMonth()+Fe)},function(Se,Fe){return Fe.getMonth()-Se.getMonth()+(Fe.getFullYear()-Se.getFullYear())*12},function(Se){return Se.getMonth()}),D=k.range,z=n(function(Se){Se.setMonth(0,1),Se.setHours(0,0,0,0)},function(Se,Fe){Se.setFullYear(Se.getFullYear()+Fe)},function(Se,Fe){return Fe.getFullYear()-Se.getFullYear()},function(Se){return Se.getFullYear()});z.every=function(Se){return!isFinite(Se=Math.floor(Se))||!(Se>0)?null:n(function(Fe){Fe.setFullYear(Math.floor(Fe.getFullYear()/Se)*Se),Fe.setMonth(0,1),Fe.setHours(0,0,0,0)},function(Fe,hr){Fe.setFullYear(Fe.getFullYear()+hr*Se)})};var q=z.range,j=n(function(Se){Se.setUTCSeconds(0,0)},function(Se,Fe){Se.setTime(+Se+Fe*l)},function(Se,Fe){return(Fe-Se)/l},function(Se){return Se.getUTCMinutes()}),Q=j.range,K=n(function(Se){Se.setUTCMinutes(0,0,0)},function(Se,Fe){Se.setTime(+Se+Fe*f)},function(Se,Fe){return(Fe-Se)/f},function(Se){return Se.getUTCHours()}),G=K.range,B=n(function(Se){Se.setUTCHours(0,0,0,0)},function(Se,Fe){Se.setUTCDate(Se.getUTCDate()+Fe)},function(Se,Fe){return(Fe-Se)/s},function(Se){return Se.getUTCDate()-1}),Z=B.range;function ie(Se){return n(function(Fe){Fe.setUTCDate(Fe.getUTCDate()-(Fe.getUTCDay()+7-Se)%7),Fe.setUTCHours(0,0,0,0)},function(Fe,hr){Fe.setUTCDate(Fe.getUTCDate()+hr*7)},function(Fe,hr){return(hr-Fe)/u})}var J=ie(0),le=ie(1),te=ie(2),V=ie(3),ne=ie(4),Y=ie(5),oe=ie(6),pe=J.range,we=le.range,De=te.range,Re=V.range,Ae=ne.range,Ie=Y.range,Be=oe.range,je=n(function(Se){Se.setUTCDate(1),Se.setUTCHours(0,0,0,0)},function(Se,Fe){Se.setUTCMonth(Se.getUTCMonth()+Fe)},function(Se,Fe){return Fe.getUTCMonth()-Se.getUTCMonth()+(Fe.getUTCFullYear()-Se.getUTCFullYear())*12},function(Se){return Se.getUTCMonth()}),Ne=je.range,Qe=n(function(Se){Se.setUTCMonth(0,1),Se.setUTCHours(0,0,0,0)},function(Se,Fe){Se.setUTCFullYear(Se.getUTCFullYear()+Fe)},function(Se,Fe){return Fe.getUTCFullYear()-Se.getUTCFullYear()},function(Se){return Se.getUTCFullYear()});Qe.every=function(Se){return!isFinite(Se=Math.floor(Se))||!(Se>0)?null:n(function(Fe){Fe.setUTCFullYear(Math.floor(Fe.getUTCFullYear()/Se)*Se),Fe.setUTCMonth(0,1),Fe.setUTCHours(0,0,0,0)},function(Fe,hr){Fe.setUTCFullYear(Fe.getUTCFullYear()+hr*Se)})};var pr=Qe.range;e.timeDay=y,e.timeDays=M,e.timeFriday=h,e.timeFridays=P,e.timeHour=w,e.timeHours=A,e.timeInterval=n,e.timeMillisecond=a,e.timeMilliseconds=o,e.timeMinute=x,e.timeMinutes=m,e.timeMonday=T,e.timeMondays=R,e.timeMonth=k,e.timeMonths=D,e.timeSaturday=S,e.timeSaturdays=I,e.timeSecond=c,e.timeSeconds=v,e.timeSunday=b,e.timeSundays=d,e.timeThursday=g,e.timeThursdays=O,e.timeTuesday=p,e.timeTuesdays=L,e.timeWednesday=_,e.timeWednesdays=F,e.timeWeek=b,e.timeWeeks=d,e.timeYear=z,e.timeYears=q,e.utcDay=B,e.utcDays=Z,e.utcFriday=Y,e.utcFridays=Ie,e.utcHour=K,e.utcHours=G,e.utcMillisecond=a,e.utcMilliseconds=o,e.utcMinute=j,e.utcMinutes=Q,e.utcMonday=le,e.utcMondays=we,e.utcMonth=je,e.utcMonths=Ne,e.utcSaturday=oe,e.utcSaturdays=Be,e.utcSecond=c,e.utcSeconds=v,e.utcSunday=J,e.utcSundays=pe,e.utcThursday=ne,e.utcThursdays=Ae,e.utcTuesday=te,e.utcTuesdays=De,e.utcWednesday=V,e.utcWednesdays=Re,e.utcWeek=J,e.utcWeeks=pe,e.utcYear=Qe,e.utcYears=pr,Object.defineProperty(e,"__esModule",{value:!0})})});var kd=fe((M2,s9)=>{(function(e,r){typeof M2=="object"&&typeof s9!="undefined"?r(M2,Pw()):(e=e||self,r(e.d3=e.d3||{},e.d3))})(M2,function(e,r){"use strict";function t(qe){if(0<=qe.y&&qe.y<100){var nr=new Date(-1,qe.m,qe.d,qe.H,qe.M,qe.S,qe.L);return nr.setFullYear(qe.y),nr}return new Date(qe.y,qe.m,qe.d,qe.H,qe.M,qe.S,qe.L)}function n(qe){if(0<=qe.y&&qe.y<100){var nr=new Date(Date.UTC(-1,qe.m,qe.d,qe.H,qe.M,qe.S,qe.L));return nr.setUTCFullYear(qe.y),nr}return new Date(Date.UTC(qe.y,qe.m,qe.d,qe.H,qe.M,qe.S,qe.L))}function a(qe,nr,Te){return{y:qe,m:nr,d:Te,H:0,M:0,S:0,L:0}}function o(qe){var nr=qe.dateTime,Te=qe.date,be=qe.time,Ge=qe.periods,ae=qe.days,W=qe.shortDays,re=qe.months,Ee=qe.shortMonths,We=v(Ge),lr=x(Ge),sr=v(ae),Yr=x(ae),rt=v(W),zr=x(W),vt=v(re),dt=x(re),qt=v(Ee),Nt=x(Ee),_t={a:oo,A:Zi,b:Si,B:To,c:null,d:k,e:k,f:Q,H:D,I:z,j:q,L:j,m:K,M:G,p:Ci,q:Ll,Q:He,s:Xe,S:B,u:Z,U:ie,V:J,w:le,W:te,x:null,X:null,y:V,Y:ne,Z:Y,"%":Ue},Jt={a:Rl,A:xi,b:Ya,B:oi,c:null,d:oe,e:oe,f:Ae,H:pe,I:we,j:De,L:Re,m:Ie,M:Be,p:Mo,q:Wa,Q:He,s:Xe,S:je,u:Ne,U:Qe,V:pr,w:Se,W:Fe,x:null,X:null,y:hr,Y:dr,Z:kr,"%":Ue},Ut={a:_n,A:Cn,b:ua,B:ra,c:la,d:g,e:g,f:F,H:S,I:S,j:h,L,m:_,M:d,p:Kt,q:p,Q:P,s:I,S:R,u:w,U:A,V:y,w:m,W:M,x:Mn,X:Ea,y:b,Y:E,Z:T,"%":O};_t.x=$t(Te,_t),_t.X=$t(be,_t),_t.c=$t(nr,_t),Jt.x=$t(Te,Jt),Jt.X=$t(be,Jt),Jt.c=$t(nr,Jt);function $t(Zt,gn){return function(Pn){var Pt=[],li=-1,ia=0,Xa=Zt.length,An,zo,Fl;for(Pn instanceof Date||(Pn=new Date(+Pn));++li<Xa;)Zt.charCodeAt(li)===37&&(Pt.push(Zt.slice(ia,li)),(zo=i[An=Zt.charAt(++li)])!=null?An=Zt.charAt(++li):zo=An==="e"?" ":"0",(Fl=gn[An])&&(An=Fl(Pn,zo)),Pt.push(An),ia=li+1);return Pt.push(Zt.slice(ia,li)),Pt.join("")}}function cn(Zt,gn){return function(Pn){var Pt=a(1900,void 0,1),li=jt(Pt,Zt,Pn+="",0),ia,Xa;if(li!=Pn.length)return null;if("Q"in Pt)return new Date(Pt.Q);if("s"in Pt)return new Date(Pt.s*1e3+("L"in Pt?Pt.L:0));if(gn&&!("Z"in Pt)&&(Pt.Z=0),"p"in Pt&&(Pt.H=Pt.H%12+Pt.p*12),Pt.m===void 0&&(Pt.m="q"in Pt?Pt.q:0),"V"in Pt){if(Pt.V<1||Pt.V>53)return null;"w"in Pt||(Pt.w=1),"Z"in Pt?(ia=n(a(Pt.y,0,1)),Xa=ia.getUTCDay(),ia=Xa>4||Xa===0?r.utcMonday.ceil(ia):r.utcMonday(ia),ia=r.utcDay.offset(ia,(Pt.V-1)*7),Pt.y=ia.getUTCFullYear(),Pt.m=ia.getUTCMonth(),Pt.d=ia.getUTCDate()+(Pt.w+6)%7):(ia=t(a(Pt.y,0,1)),Xa=ia.getDay(),ia=Xa>4||Xa===0?r.timeMonday.ceil(ia):r.timeMonday(ia),ia=r.timeDay.offset(ia,(Pt.V-1)*7),Pt.y=ia.getFullYear(),Pt.m=ia.getMonth(),Pt.d=ia.getDate()+(Pt.w+6)%7)}else("W"in Pt||"U"in Pt)&&("w"in Pt||(Pt.w="u"in Pt?Pt.u%7:"W"in Pt?1:0),Xa="Z"in Pt?n(a(Pt.y,0,1)).getUTCDay():t(a(Pt.y,0,1)).getDay(),Pt.m=0,Pt.d="W"in Pt?(Pt.w+6)%7+Pt.W*7-(Xa+5)%7:Pt.w+Pt.U*7-(Xa+6)%7);return"Z"in Pt?(Pt.H+=Pt.Z/100|0,Pt.M+=Pt.Z%100,n(Pt)):t(Pt)}}function jt(Zt,gn,Pn,Pt){for(var li=0,ia=gn.length,Xa=Pn.length,An,zo;li<ia;){if(Pt>=Xa)return-1;if(An=gn.charCodeAt(li++),An===37){if(An=gn.charAt(li++),zo=Ut[An in i?gn.charAt(li++):An],!zo||(Pt=zo(Zt,Pn,Pt))<0)return-1}else if(An!=Pn.charCodeAt(Pt++))return-1}return Pt}function Kt(Zt,gn,Pn){var Pt=We.exec(gn.slice(Pn));return Pt?(Zt.p=lr[Pt[0].toLowerCase()],Pn+Pt[0].length):-1}function _n(Zt,gn,Pn){var Pt=rt.exec(gn.slice(Pn));return Pt?(Zt.w=zr[Pt[0].toLowerCase()],Pn+Pt[0].length):-1}function Cn(Zt,gn,Pn){var Pt=sr.exec(gn.slice(Pn));return Pt?(Zt.w=Yr[Pt[0].toLowerCase()],Pn+Pt[0].length):-1}function ua(Zt,gn,Pn){var Pt=qt.exec(gn.slice(Pn));return Pt?(Zt.m=Nt[Pt[0].toLowerCase()],Pn+Pt[0].length):-1}function ra(Zt,gn,Pn){var Pt=vt.exec(gn.slice(Pn));return Pt?(Zt.m=dt[Pt[0].toLowerCase()],Pn+Pt[0].length):-1}function la(Zt,gn,Pn){return jt(Zt,nr,gn,Pn)}function Mn(Zt,gn,Pn){return jt(Zt,Te,gn,Pn)}function Ea(Zt,gn,Pn){return jt(Zt,be,gn,Pn)}function oo(Zt){return W[Zt.getDay()]}function Zi(Zt){return ae[Zt.getDay()]}function Si(Zt){return Ee[Zt.getMonth()]}function To(Zt){return re[Zt.getMonth()]}function Ci(Zt){return Ge[+(Zt.getHours()>=12)]}function Ll(Zt){return 1+~~(Zt.getMonth()/3)}function Rl(Zt){return W[Zt.getUTCDay()]}function xi(Zt){return ae[Zt.getUTCDay()]}function Ya(Zt){return Ee[Zt.getUTCMonth()]}function oi(Zt){return re[Zt.getUTCMonth()]}function Mo(Zt){return Ge[+(Zt.getUTCHours()>=12)]}function Wa(Zt){return 1+~~(Zt.getUTCMonth()/3)}return{format:function(Zt){var gn=$t(Zt+="",_t);return gn.toString=function(){return Zt},gn},parse:function(Zt){var gn=cn(Zt+="",!1);return gn.toString=function(){return Zt},gn},utcFormat:function(Zt){var gn=$t(Zt+="",Jt);return gn.toString=function(){return Zt},gn},utcParse:function(Zt){var gn=cn(Zt+="",!0);return gn.toString=function(){return Zt},gn}}}var i={"-":"",_:" ",0:"0"},l=/^\s*\d+/,f=/^%/,s=/[\\^$*+?|[\]().{}]/g;function u(qe,nr,Te){var be=qe<0?"-":"",Ge=(be?-qe:qe)+"",ae=Ge.length;return be+(ae<Te?new Array(Te-ae+1).join(nr)+Ge:Ge)}function c(qe){return qe.replace(s,"\\$&")}function v(qe){return new RegExp("^(?:"+qe.map(c).join("|")+")","i")}function x(qe){for(var nr={},Te=-1,be=qe.length;++Te<be;)nr[qe[Te].toLowerCase()]=Te;return nr}function m(qe,nr,Te){var be=l.exec(nr.slice(Te,Te+1));return be?(qe.w=+be[0],Te+be[0].length):-1}function w(qe,nr,Te){var be=l.exec(nr.slice(Te,Te+1));return be?(qe.u=+be[0],Te+be[0].length):-1}function A(qe,nr,Te){var be=l.exec(nr.slice(Te,Te+2));return be?(qe.U=+be[0],Te+be[0].length):-1}function y(qe,nr,Te){var be=l.exec(nr.slice(Te,Te+2));return be?(qe.V=+be[0],Te+be[0].length):-1}function M(qe,nr,Te){var be=l.exec(nr.slice(Te,Te+2));return be?(qe.W=+be[0],Te+be[0].length):-1}function E(qe,nr,Te){var be=l.exec(nr.slice(Te,Te+4));return be?(qe.y=+be[0],Te+be[0].length):-1}function b(qe,nr,Te){var be=l.exec(nr.slice(Te,Te+2));return be?(qe.y=+be[0]+(+be[0]>68?1900:2e3),Te+be[0].length):-1}function T(qe,nr,Te){var be=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(nr.slice(Te,Te+6));return be?(qe.Z=be[1]?0:-(be[2]+(be[3]||"00")),Te+be[0].length):-1}function p(qe,nr,Te){var be=l.exec(nr.slice(Te,Te+1));return be?(qe.q=be[0]*3-3,Te+be[0].length):-1}function _(qe,nr,Te){var be=l.exec(nr.slice(Te,Te+2));return be?(qe.m=be[0]-1,Te+be[0].length):-1}function g(qe,nr,Te){var be=l.exec(nr.slice(Te,Te+2));return be?(qe.d=+be[0],Te+be[0].length):-1}function h(qe,nr,Te){var be=l.exec(nr.slice(Te,Te+3));return be?(qe.m=0,qe.d=+be[0],Te+be[0].length):-1}function S(qe,nr,Te){var be=l.exec(nr.slice(Te,Te+2));return be?(qe.H=+be[0],Te+be[0].length):-1}function d(qe,nr,Te){var be=l.exec(nr.slice(Te,Te+2));return be?(qe.M=+be[0],Te+be[0].length):-1}function R(qe,nr,Te){var be=l.exec(nr.slice(Te,Te+2));return be?(qe.S=+be[0],Te+be[0].length):-1}function L(qe,nr,Te){var be=l.exec(nr.slice(Te,Te+3));return be?(qe.L=+be[0],Te+be[0].length):-1}function F(qe,nr,Te){var be=l.exec(nr.slice(Te,Te+6));return be?(qe.L=Math.floor(be[0]/1e3),Te+be[0].length):-1}function O(qe,nr,Te){var be=f.exec(nr.slice(Te,Te+1));return be?Te+be[0].length:-1}function P(qe,nr,Te){var be=l.exec(nr.slice(Te));return be?(qe.Q=+be[0],Te+be[0].length):-1}function I(qe,nr,Te){var be=l.exec(nr.slice(Te));return be?(qe.s=+be[0],Te+be[0].length):-1}function k(qe,nr){return u(qe.getDate(),nr,2)}function D(qe,nr){return u(qe.getHours(),nr,2)}function z(qe,nr){return u(qe.getHours()%12||12,nr,2)}function q(qe,nr){return u(1+r.timeDay.count(r.timeYear(qe),qe),nr,3)}function j(qe,nr){return u(qe.getMilliseconds(),nr,3)}function Q(qe,nr){return j(qe,nr)+"000"}function K(qe,nr){return u(qe.getMonth()+1,nr,2)}function G(qe,nr){return u(qe.getMinutes(),nr,2)}function B(qe,nr){return u(qe.getSeconds(),nr,2)}function Z(qe){var nr=qe.getDay();return nr===0?7:nr}function ie(qe,nr){return u(r.timeSunday.count(r.timeYear(qe)-1,qe),nr,2)}function J(qe,nr){var Te=qe.getDay();return qe=Te>=4||Te===0?r.timeThursday(qe):r.timeThursday.ceil(qe),u(r.timeThursday.count(r.timeYear(qe),qe)+(r.timeYear(qe).getDay()===4),nr,2)}function le(qe){return qe.getDay()}function te(qe,nr){return u(r.timeMonday.count(r.timeYear(qe)-1,qe),nr,2)}function V(qe,nr){return u(qe.getFullYear()%100,nr,2)}function ne(qe,nr){return u(qe.getFullYear()%1e4,nr,4)}function Y(qe){var nr=qe.getTimezoneOffset();return(nr>0?"-":(nr*=-1,"+"))+u(nr/60|0,"0",2)+u(nr%60,"0",2)}function oe(qe,nr){return u(qe.getUTCDate(),nr,2)}function pe(qe,nr){return u(qe.getUTCHours(),nr,2)}function we(qe,nr){return u(qe.getUTCHours()%12||12,nr,2)}function De(qe,nr){return u(1+r.utcDay.count(r.utcYear(qe),qe),nr,3)}function Re(qe,nr){return u(qe.getUTCMilliseconds(),nr,3)}function Ae(qe,nr){return Re(qe,nr)+"000"}function Ie(qe,nr){return u(qe.getUTCMonth()+1,nr,2)}function Be(qe,nr){return u(qe.getUTCMinutes(),nr,2)}function je(qe,nr){return u(qe.getUTCSeconds(),nr,2)}function Ne(qe){var nr=qe.getUTCDay();return nr===0?7:nr}function Qe(qe,nr){return u(r.utcSunday.count(r.utcYear(qe)-1,qe),nr,2)}function pr(qe,nr){var Te=qe.getUTCDay();return qe=Te>=4||Te===0?r.utcThursday(qe):r.utcThursday.ceil(qe),u(r.utcThursday.count(r.utcYear(qe),qe)+(r.utcYear(qe).getUTCDay()===4),nr,2)}function Se(qe){return qe.getUTCDay()}function Fe(qe,nr){return u(r.utcMonday.count(r.utcYear(qe)-1,qe),nr,2)}function hr(qe,nr){return u(qe.getUTCFullYear()%100,nr,2)}function dr(qe,nr){return u(qe.getUTCFullYear()%1e4,nr,4)}function kr(){return"+0000"}function Ue(){return"%"}function He(qe){return+qe}function Xe(qe){return Math.floor(+qe/1e3)}var fr;Mr({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Mr(qe){return fr=o(qe),e.timeFormat=fr.format,e.timeParse=fr.parse,e.utcFormat=fr.utcFormat,e.utcParse=fr.utcParse,fr}var qr="%Y-%m-%dT%H:%M:%S.%LZ";function et(qe){return qe.toISOString()}var jr=Date.prototype.toISOString?et:e.utcFormat(qr);function Or(qe){var nr=new Date(qe);return isNaN(nr)?null:nr}var _r=+new Date("2000-01-01T00:00:00.000Z")?Or:e.utcParse(qr);e.isoFormat=jr,e.isoParse=_r,e.timeFormatDefaultLocale=Mr,e.timeFormatLocale=o,Object.defineProperty(e,"__esModule",{value:!0})})});var Ow=fe((E2,f9)=>{(function(e,r){typeof E2=="object"&&typeof f9!="undefined"?r(E2):(e=typeof globalThis!="undefined"?globalThis:e||self,r(e.d3=e.d3||{}))})(E2,function(e){"use strict";function r(_){return Math.abs(_=Math.round(_))>=1e21?_.toLocaleString("en").replace(/,/g,""):_.toString(10)}function t(_,g){if((h=(_=g?_.toExponential(g-1):_.toExponential()).indexOf("e"))<0)return null;var h,S=_.slice(0,h);return[S.length>1?S[0]+S.slice(2):S,+_.slice(h+1)]}function n(_){return _=t(Math.abs(_)),_?_[1]:NaN}function a(_,g){return function(h,S){for(var d=h.length,R=[],L=0,F=_[0],O=0;d>0&&F>0&&(O+F+1>S&&(F=Math.max(1,S-O)),R.push(h.substring(d-=F,d+F)),!((O+=F+1)>S));)F=_[L=(L+1)%_.length];return R.reverse().join(g)}}function o(_){return function(g){return g.replace(/[0-9]/g,function(h){return _[+h]})}}var i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function l(_){if(!(g=i.exec(_)))throw new Error("invalid format: "+_);var g;return new f({fill:g[1],align:g[2],sign:g[3],symbol:g[4],zero:g[5],width:g[6],comma:g[7],precision:g[8]&&g[8].slice(1),trim:g[9],type:g[10]})}l.prototype=f.prototype;function f(_){this.fill=_.fill===void 0?" ":_.fill+"",this.align=_.align===void 0?">":_.align+"",this.sign=_.sign===void 0?"-":_.sign+"",this.symbol=_.symbol===void 0?"":_.symbol+"",this.zero=!!_.zero,this.width=_.width===void 0?void 0:+_.width,this.comma=!!_.comma,this.precision=_.precision===void 0?void 0:+_.precision,this.trim=!!_.trim,this.type=_.type===void 0?"":_.type+""}f.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function s(_){e:for(var g=_.length,h=1,S=-1,d;h<g;++h)switch(_[h]){case".":S=d=h;break;case"0":S===0&&(S=h),d=h;break;default:if(!+_[h])break e;S>0&&(S=0);break}return S>0?_.slice(0,S)+_.slice(d+1):_}var u;function c(_,g){var h=t(_,g);if(!h)return _+"";var S=h[0],d=h[1],R=d-(u=Math.max(-8,Math.min(8,Math.floor(d/3)))*3)+1,L=S.length;return R===L?S:R>L?S+new Array(R-L+1).join("0"):R>0?S.slice(0,R)+"."+S.slice(R):"0."+new Array(1-R).join("0")+t(_,Math.max(0,g+R-1))[0]}function v(_,g){var h=t(_,g);if(!h)return _+"";var S=h[0],d=h[1];return d<0?"0."+new Array(-d).join("0")+S:S.length>d+1?S.slice(0,d+1)+"."+S.slice(d+1):S+new Array(d-S.length+2).join("0")}var x={"%":function(_,g){return(_*100).toFixed(g)},b:function(_){return Math.round(_).toString(2)},c:function(_){return _+""},d:r,e:function(_,g){return _.toExponential(g)},f:function(_,g){return _.toFixed(g)},g:function(_,g){return _.toPrecision(g)},o:function(_){return Math.round(_).toString(8)},p:function(_,g){return v(_*100,g)},r:v,s:c,X:function(_){return Math.round(_).toString(16).toUpperCase()},x:function(_){return Math.round(_).toString(16)}};function m(_){return _}var w=Array.prototype.map,A=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function y(_){var g=_.grouping===void 0||_.thousands===void 0?m:a(w.call(_.grouping,Number),_.thousands+""),h=_.currency===void 0?"":_.currency[0]+"",S=_.currency===void 0?"":_.currency[1]+"",d=_.decimal===void 0?".":_.decimal+"",R=_.numerals===void 0?m:o(w.call(_.numerals,String)),L=_.percent===void 0?"%":_.percent+"",F=_.minus===void 0?"-":_.minus+"",O=_.nan===void 0?"NaN":_.nan+"";function P(k){k=l(k);var D=k.fill,z=k.align,q=k.sign,j=k.symbol,Q=k.zero,K=k.width,G=k.comma,B=k.precision,Z=k.trim,ie=k.type;ie==="n"?(G=!0,ie="g"):x[ie]||(B===void 0&&(B=12),Z=!0,ie="g"),(Q||D==="0"&&z==="=")&&(Q=!0,D="0",z="=");var J=j==="$"?h:j==="#"&&/[boxX]/.test(ie)?"0"+ie.toLowerCase():"",le=j==="$"?S:/[%p]/.test(ie)?L:"",te=x[ie],V=/[defgprs%]/.test(ie);B=B===void 0?6:/[gprs]/.test(ie)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function ne(Y){var oe=J,pe=le,we,De,Re;if(ie==="c")pe=te(Y)+pe,Y="";else{Y=+Y;var Ae=Y<0||1/Y<0;if(Y=isNaN(Y)?O:te(Math.abs(Y),B),Z&&(Y=s(Y)),Ae&&+Y==0&&q!=="+"&&(Ae=!1),oe=(Ae?q==="("?q:F:q==="-"||q==="("?"":q)+oe,pe=(ie==="s"?A[8+u/3]:"")+pe+(Ae&&q==="("?")":""),V){for(we=-1,De=Y.length;++we<De;)if(Re=Y.charCodeAt(we),48>Re||Re>57){pe=(Re===46?d+Y.slice(we+1):Y.slice(we))+pe,Y=Y.slice(0,we);break}}}G&&!Q&&(Y=g(Y,1/0));var Ie=oe.length+Y.length+pe.length,Be=Ie<K?new Array(K-Ie+1).join(D):"";switch(G&&Q&&(Y=g(Be+Y,Be.length?K-pe.length:1/0),Be=""),z){case"<":Y=oe+Y+pe+Be;break;case"=":Y=oe+Be+Y+pe;break;case"^":Y=Be.slice(0,Ie=Be.length>>1)+oe+Y+pe+Be.slice(Ie);break;default:Y=Be+oe+Y+pe;break}return R(Y)}return ne.toString=function(){return k+""},ne}function I(k,D){var z=P((k=l(k),k.type="f",k)),q=Math.max(-8,Math.min(8,Math.floor(n(D)/3)))*3,j=Math.pow(10,-q),Q=A[8+q/3];return function(K){return z(j*K)+Q}}return{format:P,formatPrefix:I}}var M;E({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function E(_){return M=y(_),e.format=M.format,e.formatPrefix=M.formatPrefix,M}function b(_){return Math.max(0,-n(Math.abs(_)))}function T(_,g){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(n(g)/3)))*3-n(Math.abs(_)))}function p(_,g){return _=Math.abs(_),g=Math.abs(g)-_,Math.max(0,n(g)-n(_))+1}e.FormatSpecifier=f,e.formatDefaultLocale=E,e.formatLocale=y,e.formatSpecifier=l,e.precisionFixed=b,e.precisionPrefix=T,e.precisionRound=p,Object.defineProperty(e,"__esModule",{value:!0})})});var c9=fe((oDe,u9)=>{"use strict";u9.exports=function(e){for(var r=e.length,t,n=0;n<r;n++)if(t=e.charCodeAt(n),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}});var kn=fe((lDe,h9)=>{"use strict";var Ise=c9();h9.exports=function(e){var r=typeof e;if(r==="string"){var t=e;if(e=+e,e===0&&Ise(t))return!1}else if(r!=="number")return!1;return e-e<1}});var ui=fe((sDe,v9)=>{"use strict";v9.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:"\u2212"}});var Nw=fe((S2,d9)=>{(function(e,r){typeof S2=="object"&&typeof d9!="undefined"?r(S2):(e=typeof globalThis!="undefined"?globalThis:e||self,r(e["base64-arraybuffer"]={}))})(S2,function(e){"use strict";for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),n=0;n<r.length;n++)t[r.charCodeAt(n)]=n;var a=function(i){var l=new Uint8Array(i),f,s=l.length,u="";for(f=0;f<s;f+=3)u+=r[l[f]>>2],u+=r[(l[f]&3)<<4|l[f+1]>>4],u+=r[(l[f+1]&15)<<2|l[f+2]>>6],u+=r[l[f+2]&63];return s%3===2?u=u.substring(0,u.length-1)+"=":s%3===1&&(u=u.substring(0,u.length-2)+"=="),u},o=function(i){var l=i.length*.75,f=i.length,s,u=0,c,v,x,m;i[i.length-1]==="="&&(l--,i[i.length-2]==="="&&l--);var w=new ArrayBuffer(l),A=new Uint8Array(w);for(s=0;s<f;s+=4)c=t[i.charCodeAt(s)],v=t[i.charCodeAt(s+1)],x=t[i.charCodeAt(s+2)],m=t[i.charCodeAt(s+3)],A[u++]=c<<2|v>>4,A[u++]=(v&15)<<4|x>>2,A[u++]=(x&3)<<6|m&63;return w};e.decode=o,e.encode=a,Object.defineProperty(e,"__esModule",{value:!0})})});var Jc=fe((fDe,p9)=>{"use strict";p9.exports=function(r){return window&&window.process&&window.process.versions?Object.prototype.toString.call(r)==="[object Object]":Object.prototype.toString.call(r)==="[object Object]"&&Object.getPrototypeOf(r).hasOwnProperty("hasOwnProperty")}});var sl=fe(js=>{"use strict";var Pse=Nw().decode,Ose=Jc(),Bw=Array.isArray,Nse=ArrayBuffer,Bse=DataView;function g9(e){return Nse.isView(e)&&!(e instanceof Bse)}js.isTypedArray=g9;function C2(e){return Bw(e)||g9(e)}js.isArrayOrTypedArray=C2;function zse(e){return!C2(e[0])}js.isArray1D=zse;js.ensureArray=function(e,r){return Bw(e)||(e=[]),e.length=r,e};var Wi={u1c:typeof Uint8ClampedArray=="undefined"?void 0:Uint8ClampedArray,i1:typeof Int8Array=="undefined"?void 0:Int8Array,u1:typeof Uint8Array=="undefined"?void 0:Uint8Array,i2:typeof Int16Array=="undefined"?void 0:Int16Array,u2:typeof Uint16Array=="undefined"?void 0:Uint16Array,i4:typeof Int32Array=="undefined"?void 0:Int32Array,u4:typeof Uint32Array=="undefined"?void 0:Uint32Array,f4:typeof Float32Array=="undefined"?void 0:Float32Array,f8:typeof Float64Array=="undefined"?void 0:Float64Array};Wi.uint8c=Wi.u1c;Wi.uint8=Wi.u1;Wi.int8=Wi.i1;Wi.uint16=Wi.u2;Wi.int16=Wi.i2;Wi.uint32=Wi.u4;Wi.int32=Wi.i4;Wi.float32=Wi.f4;Wi.float64=Wi.f8;function zw(e){return e.constructor===ArrayBuffer}js.isArrayBuffer=zw;js.decodeTypedArraySpec=function(e){var r=[],t=qse(e),n=t.dtype,a=Wi[n];if(!a)throw new Error('Error in dtype: "'+n+'"');var o=a.BYTES_PER_ELEMENT,i=t.bdata;zw(i)||(i=Pse(i));var l=t.shape===void 0?[i.byteLength/o]:(""+t.shape).split(",");l.reverse();var f=l.length,s,u,c=+l[0],v=o*c,x=0;if(f===1)r=new a(i);else if(f===2)for(s=+l[1],u=0;u<s;u++)r[u]=new a(i,x,c),x+=v;else if(f===3){s=+l[1];for(var m=+l[2],w=0;w<m;w++)for(r[w]=[],u=0;u<s;u++)r[w][u]=new a(i,x,c),x+=v}else throw new Error("ndim: "+f+'is not supported with the shape:"'+t.shape+'"');return r.bdata=t.bdata,r.dtype=t.dtype,r.shape=l.reverse().join(","),e._inputArray=r,r};js.isTypedArraySpec=function(e){return Ose(e)&&e.hasOwnProperty("dtype")&&typeof e.dtype=="string"&&e.hasOwnProperty("bdata")&&(typeof e.bdata=="string"||zw(e.bdata))&&(e.shape===void 0||e.hasOwnProperty("shape")&&(typeof e.shape=="string"||typeof e.shape=="number"))};function qse(e){return{bdata:e.bdata,dtype:e.dtype,shape:e.shape}}js.concat=function(){var e=[],r=!0,t=0,n,a,o,i,l,f,s,u;for(o=0;o<arguments.length;o++)i=arguments[o],f=i.length,f&&(a?e.push(i):(a=i,l=f),Bw(i)?n=!1:(r=!1,t?n!==i.constructor&&(n=!1):n=i.constructor),t+=f);if(!t)return[];if(!e.length)return a;if(r)return a.concat.apply(a,e);if(n){for(s=new n(t),s.set(a),o=0;o<e.length;o++)i=e[o],s.set(i,l),l+=i.length;return s}for(s=new Array(t),u=0;u<a.length;u++)s[u]=a[u];for(o=0;o<e.length;o++){for(i=e[o],u=0;u<i.length;u++)s[l+u]=i[u];l+=u}return s};js.maxRowLength=function(e){return y9(e,Math.max,0)};js.minRowLength=function(e){return y9(e,Math.min,1/0)};function y9(e,r,t){if(C2(e))if(C2(e[0])){for(var n=t,a=0;a<e.length;a++)n=r(n,e[a].length);return n}else return e.length;return 0}});var k2=fe((cDe,w9)=>{"use strict";var m9=kn(),Uw=sl().isArrayOrTypedArray;w9.exports=function(r,t){if(m9(t))t=String(t);else if(typeof t!="string"||t.substr(t.length-4)==="[-1]")throw"bad property string";var n=t.split("."),a,o,i,l;for(l=0;l<n.length;l++)if(String(n[l]).slice(0,2)==="__")throw"bad property string";for(l=0;l<n.length;){if(a=String(n[l]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),a){if(a[1])n[l]=a[1];else if(l===0)n.splice(0,1);else throw"bad property string";for(o=a[2].substr(1,a[2].length-2).split("]["),i=0;i<o.length;i++)l++,n.splice(l,0,Number(o[i]))}l++}return typeof r!="object"?Vse(r,t,n):{set:b9(r,n,t),get:x9(r,n),astr:t,parts:n,obj:r}};function x9(e,r){return function(t){var n=e,a,o,i,l,f;for(l=0;l<r.length-1;l++){if(a=r[l],a===-1){for(o=!0,i=[],f=0;f<n.length;f++)i[f]=x9(n[f],r.slice(l+1))(t),i[f]!==i[0]&&(o=!1);return o?i[0]:i}if(typeof a=="number"&&!Uw(n)||(n=n[a],typeof n!="object"||n===null))return}if(!(typeof n!="object"||n===null)&&(i=n[r[l]],!(!t&&i===null)))return i}}var Use=/(^|\.)args\[/;function qw(e,r){return e===void 0||e===null&&!r.match(Use)}function b9(e,r,t){return function(n){var a=e,o="",i=[[e,o]],l=qw(n,t),f,s;for(s=0;s<r.length-1;s++){if(f=r[s],typeof f=="number"&&!Uw(a))throw"array index but container is not an array";if(f===-1){if(l=!Hse(a,r.slice(s+1),n,t),l)break;return}if(!_9(a,f,r[s+1],l))break;if(a=a[f],typeof a!="object"||a===null)throw"container is not an object";o=Gse(o,f),i.push([a,o])}if(l){if(s===r.length-1&&(delete a[r[s]],Array.isArray(a)&&+r[s]===a.length-1))for(;a.length&&a[a.length-1]===void 0;)a.pop()}else a[r[s]]=n}}function Gse(e,r){var t=r;return m9(r)?t="["+r+"]":e&&(t="."+r),e+t}function Hse(e,r,t,n){var a=Uw(t),o=!0,i=t,l=n.replace("-1",0),f=a?!1:qw(t,l),s=r[0],u;for(u=0;u<e.length;u++)l=n.replace("-1",u),a&&(i=t[u%t.length],f=qw(i,l)),f&&(o=!1),_9(e,u,s,f)&&b9(e[u],r,n.replace("-1",u))(i);return o}function _9(e,r,t,n){if(e[r]===void 0){if(n)return!1;typeof t=="number"?e[r]=[]:e[r]={}}return!0}function Vse(e,r,t){return{set:function(){throw"bad container"},get:function(){},astr:r,parts:t,obj:e}}});var E9=fe((hDe,M9)=>{"use strict";var Ld=k2(),Yse=/^\w*$/,Wse=0,A9=1,L2=2,T9=3,Nh=4;M9.exports=function(r,t,n,a){n=n||"name",a=a||"value";var o,i,l,f={};t&&t.length?(l=Ld(r,t),i=l.get()):i=r,t=t||"";var s={};if(i)for(o=0;o<i.length;o++)s[i[o][n]]=o;var u=Yse.test(a),c={set:function(v,x){var m=x===null?Nh:Wse;if(!i){if(!l||m===Nh)return;i=[],l.set(i)}var w=s[v];if(w===void 0){if(m===Nh)return;m=m|T9,w=i.length,s[v]=w}else x!==(u?i[w][a]:Ld(i[w],a).get())&&(m=m|L2);var A=i[w]=i[w]||{};return A[n]=v,u?A[a]=x:Ld(A,a).set(x),x!==null&&(m=m&~Nh),f[w]=f[w]|m,c},get:function(v){if(i){var x=s[v];if(x!==void 0)return u?i[x][a]:Ld(i[x],a).get()}},rename:function(v,x){var m=s[v];return m===void 0||(f[m]=f[m]|A9,s[x]=m,delete s[v],i[m][n]=x),c},remove:function(v){var x=s[v];if(x===void 0)return c;var m=i[x];if(Object.keys(m).length>2)return f[x]=f[x]|L2,c.set(v,null);if(u){for(o=x;o<i.length;o++)f[o]=f[o]|T9;for(o=x;o<i.length;o++)s[i[o][n]]--;i.splice(x,1),delete s[v]}else Ld(m,a).set(null),f[x]=f[x]|L2|Nh;return c},constructUpdate:function(){for(var v,x,m={},w=Object.keys(f),A=0;A<w.length;A++)x=w[A],v=t+"["+x+"]",i[x]?(f[x]&A9&&(m[v+"."+n]=i[x][n]),f[x]&L2&&(u?m[v+"."+a]=f[x]&Nh?null:i[x][a]:m[v+"."+a]=f[x]&Nh?null:Ld(i[x],a).get())):m[v]=null;return m}};return c}});var C9=fe((vDe,S9)=>{"use strict";var Xse=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,jse=/^[^\.\[\]]+$/;S9.exports=function(e,r){for(;r;){var t=e.match(Xse);if(t)e=t[1];else if(e.match(jse))e="";else throw new Error("bad relativeAttr call:"+[e,r]);if(r.charAt(0)==="^")r=r.slice(1);else break}return e&&r.charAt(0)!=="["?e+"."+r:e+r}});var R2=fe((dDe,k9)=>{"use strict";var Zse=kn();k9.exports=function(r,t){if(r>0)return Math.log(r)/Math.LN10;var n=Math.log(Math.min(t[0],t[1]))/Math.LN10;return Zse(n)||(n=Math.log(Math.max(t[0],t[1]))/Math.LN10-6),n}});var F9=fe((pDe,R9)=>{"use strict";var L9=sl().isArrayOrTypedArray,bg=Jc();R9.exports=function e(r,t){for(var n in t){var a=t[n],o=r[n];if(o!==a)if(n.charAt(0)==="_"||typeof a=="function"){if(n in r)continue;r[n]=a}else if(L9(a)&&L9(o)&&bg(a[0])){if(n==="customdata"||n==="ids")continue;for(var i=Math.min(a.length,o.length),l=0;l<i;l++)o[l]!==a[l]&&bg(a[l])&&bg(o[l])&&e(o[l],a[l])}else bg(a)&&bg(o)&&(e(o,a),Object.keys(o).length||delete r[n])}}});var Rd=fe((gDe,D9)=>{"use strict";function $se(e,r){var t=e%r;return t<0?t+r:t}function Jse(e,r){return Math.abs(e)>r/2?e-Math.round(e/r)*r:e}D9.exports={mod:$se,modHalf:Jse}});var fl=fe((yDe,F2)=>{(function(e){var r=/^\s+/,t=/\s+$/,n=0,a=e.round,o=e.min,i=e.max,l=e.random;function f(V,ne){if(V=V||"",ne=ne||{},V instanceof f)return V;if(!(this instanceof f))return new f(V,ne);var Y=s(V);this._originalInput=V,this._r=Y.r,this._g=Y.g,this._b=Y.b,this._a=Y.a,this._roundA=a(100*this._a)/100,this._format=ne.format||Y.format,this._gradientType=ne.gradientType,this._r<1&&(this._r=a(this._r)),this._g<1&&(this._g=a(this._g)),this._b<1&&(this._b=a(this._b)),this._ok=Y.ok,this._tc_id=n++}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var V=this.toRgb();return(V.r*299+V.g*587+V.b*114)/1e3},getLuminance:function(){var V=this.toRgb(),ne,Y,oe,pe,we,De;return ne=V.r/255,Y=V.g/255,oe=V.b/255,ne<=.03928?pe=ne/12.92:pe=e.pow((ne+.055)/1.055,2.4),Y<=.03928?we=Y/12.92:we=e.pow((Y+.055)/1.055,2.4),oe<=.03928?De=oe/12.92:De=e.pow((oe+.055)/1.055,2.4),.2126*pe+.7152*we+.0722*De},setAlpha:function(V){return this._a=k(V),this._roundA=a(100*this._a)/100,this},toHsv:function(){var V=x(this._r,this._g,this._b);return{h:V.h*360,s:V.s,v:V.v,a:this._a}},toHsvString:function(){var V=x(this._r,this._g,this._b),ne=a(V.h*360),Y=a(V.s*100),oe=a(V.v*100);return this._a==1?"hsv("+ne+", "+Y+"%, "+oe+"%)":"hsva("+ne+", "+Y+"%, "+oe+"%, "+this._roundA+")"},toHsl:function(){var V=c(this._r,this._g,this._b);return{h:V.h*360,s:V.s,l:V.l,a:this._a}},toHslString:function(){var V=c(this._r,this._g,this._b),ne=a(V.h*360),Y=a(V.s*100),oe=a(V.l*100);return this._a==1?"hsl("+ne+", "+Y+"%, "+oe+"%)":"hsla("+ne+", "+Y+"%, "+oe+"%, "+this._roundA+")"},toHex:function(V){return w(this._r,this._g,this._b,V)},toHexString:function(V){return"#"+this.toHex(V)},toHex8:function(V){return A(this._r,this._g,this._b,this._a,V)},toHex8String:function(V){return"#"+this.toHex8(V)},toRgb:function(){return{r:a(this._r),g:a(this._g),b:a(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+a(this._r)+", "+a(this._g)+", "+a(this._b)+")":"rgba("+a(this._r)+", "+a(this._g)+", "+a(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:a(D(this._r,255)*100)+"%",g:a(D(this._g,255)*100)+"%",b:a(D(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+a(D(this._r,255)*100)+"%, "+a(D(this._g,255)*100)+"%, "+a(D(this._b,255)*100)+"%)":"rgba("+a(D(this._r,255)*100)+"%, "+a(D(this._g,255)*100)+"%, "+a(D(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:P[w(this._r,this._g,this._b,!0)]||!1},toFilter:function(V){var ne="#"+y(this._r,this._g,this._b,this._a),Y=ne,oe=this._gradientType?"GradientType = 1, ":"";if(V){var pe=f(V);Y="#"+y(pe._r,pe._g,pe._b,pe._a)}return"progid:DXImageTransform.Microsoft.gradient("+oe+"startColorstr="+ne+",endColorstr="+Y+")"},toString:function(V){var ne=!!V;V=V||this._format;var Y=!1,oe=this._a<1&&this._a>=0,pe=!ne&&oe&&(V==="hex"||V==="hex6"||V==="hex3"||V==="hex4"||V==="hex8"||V==="name");return pe?V==="name"&&this._a===0?this.toName():this.toRgbString():(V==="rgb"&&(Y=this.toRgbString()),V==="prgb"&&(Y=this.toPercentageRgbString()),(V==="hex"||V==="hex6")&&(Y=this.toHexString()),V==="hex3"&&(Y=this.toHexString(!0)),V==="hex4"&&(Y=this.toHex8String(!0)),V==="hex8"&&(Y=this.toHex8String()),V==="name"&&(Y=this.toName()),V==="hsl"&&(Y=this.toHslString()),V==="hsv"&&(Y=this.toHsvString()),Y||this.toHexString())},clone:function(){return f(this.toString())},_applyModification:function(V,ne){var Y=V.apply(null,[this].concat([].slice.call(ne)));return this._r=Y._r,this._g=Y._g,this._b=Y._b,this.setAlpha(Y._a),this},lighten:function(){return this._applyModification(T,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(M,arguments)},saturate:function(){return this._applyModification(E,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(g,arguments)},_applyCombination:function(V,ne){return V.apply(null,[this].concat([].slice.call(ne)))},analogous:function(){return this._applyCombination(L,arguments)},complement:function(){return this._applyCombination(h,arguments)},monochromatic:function(){return this._applyCombination(F,arguments)},splitcomplement:function(){return this._applyCombination(R,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(d,arguments)}},f.fromRatio=function(V,ne){if(typeof V=="object"){var Y={};for(var oe in V)V.hasOwnProperty(oe)&&(oe==="a"?Y[oe]=V[oe]:Y[oe]=G(V[oe]));V=Y}return f(V,ne)};function s(V){var ne={r:0,g:0,b:0},Y=1,oe=null,pe=null,we=null,De=!1,Re=!1;return typeof V=="string"&&(V=le(V)),typeof V=="object"&&(J(V.r)&&J(V.g)&&J(V.b)?(ne=u(V.r,V.g,V.b),De=!0,Re=String(V.r).substr(-1)==="%"?"prgb":"rgb"):J(V.h)&&J(V.s)&&J(V.v)?(oe=G(V.s),pe=G(V.v),ne=m(V.h,oe,pe),De=!0,Re="hsv"):J(V.h)&&J(V.s)&&J(V.l)&&(oe=G(V.s),we=G(V.l),ne=v(V.h,oe,we),De=!0,Re="hsl"),V.hasOwnProperty("a")&&(Y=V.a)),Y=k(Y),{ok:De,format:V.format||Re,r:o(255,i(ne.r,0)),g:o(255,i(ne.g,0)),b:o(255,i(ne.b,0)),a:Y}}function u(V,ne,Y){return{r:D(V,255)*255,g:D(ne,255)*255,b:D(Y,255)*255}}function c(V,ne,Y){V=D(V,255),ne=D(ne,255),Y=D(Y,255);var oe=i(V,ne,Y),pe=o(V,ne,Y),we,De,Re=(oe+pe)/2;if(oe==pe)we=De=0;else{var Ae=oe-pe;switch(De=Re>.5?Ae/(2-oe-pe):Ae/(oe+pe),oe){case V:we=(ne-Y)/Ae+(ne<Y?6:0);break;case ne:we=(Y-V)/Ae+2;break;case Y:we=(V-ne)/Ae+4;break}we/=6}return{h:we,s:De,l:Re}}function v(V,ne,Y){var oe,pe,we;V=D(V,360),ne=D(ne,100),Y=D(Y,100);function De(Ie,Be,je){return je<0&&(je+=1),je>1&&(je-=1),je<1/6?Ie+(Be-Ie)*6*je:je<1/2?Be:je<2/3?Ie+(Be-Ie)*(2/3-je)*6:Ie}if(ne===0)oe=pe=we=Y;else{var Re=Y<.5?Y*(1+ne):Y+ne-Y*ne,Ae=2*Y-Re;oe=De(Ae,Re,V+1/3),pe=De(Ae,Re,V),we=De(Ae,Re,V-1/3)}return{r:oe*255,g:pe*255,b:we*255}}function x(V,ne,Y){V=D(V,255),ne=D(ne,255),Y=D(Y,255);var oe=i(V,ne,Y),pe=o(V,ne,Y),we,De,Re=oe,Ae=oe-pe;if(De=oe===0?0:Ae/oe,oe==pe)we=0;else{switch(oe){case V:we=(ne-Y)/Ae+(ne<Y?6:0);break;case ne:we=(Y-V)/Ae+2;break;case Y:we=(V-ne)/Ae+4;break}we/=6}return{h:we,s:De,v:Re}}function m(V,ne,Y){V=D(V,360)*6,ne=D(ne,100),Y=D(Y,100);var oe=e.floor(V),pe=V-oe,we=Y*(1-ne),De=Y*(1-pe*ne),Re=Y*(1-(1-pe)*ne),Ae=oe%6,Ie=[Y,De,we,we,Re,Y][Ae],Be=[Re,Y,Y,De,we,we][Ae],je=[we,we,Re,Y,Y,De][Ae];return{r:Ie*255,g:Be*255,b:je*255}}function w(V,ne,Y,oe){var pe=[K(a(V).toString(16)),K(a(ne).toString(16)),K(a(Y).toString(16))];return oe&&pe[0].charAt(0)==pe[0].charAt(1)&&pe[1].charAt(0)==pe[1].charAt(1)&&pe[2].charAt(0)==pe[2].charAt(1)?pe[0].charAt(0)+pe[1].charAt(0)+pe[2].charAt(0):pe.join("")}function A(V,ne,Y,oe,pe){var we=[K(a(V).toString(16)),K(a(ne).toString(16)),K(a(Y).toString(16)),K(B(oe))];return pe&&we[0].charAt(0)==we[0].charAt(1)&&we[1].charAt(0)==we[1].charAt(1)&&we[2].charAt(0)==we[2].charAt(1)&&we[3].charAt(0)==we[3].charAt(1)?we[0].charAt(0)+we[1].charAt(0)+we[2].charAt(0)+we[3].charAt(0):we.join("")}function y(V,ne,Y,oe){var pe=[K(B(oe)),K(a(V).toString(16)),K(a(ne).toString(16)),K(a(Y).toString(16))];return pe.join("")}f.equals=function(V,ne){return!V||!ne?!1:f(V).toRgbString()==f(ne).toRgbString()},f.random=function(){return f.fromRatio({r:l(),g:l(),b:l()})};function M(V,ne){ne=ne===0?0:ne||10;var Y=f(V).toHsl();return Y.s-=ne/100,Y.s=z(Y.s),f(Y)}function E(V,ne){ne=ne===0?0:ne||10;var Y=f(V).toHsl();return Y.s+=ne/100,Y.s=z(Y.s),f(Y)}function b(V){return f(V).desaturate(100)}function T(V,ne){ne=ne===0?0:ne||10;var Y=f(V).toHsl();return Y.l+=ne/100,Y.l=z(Y.l),f(Y)}function p(V,ne){ne=ne===0?0:ne||10;var Y=f(V).toRgb();return Y.r=i(0,o(255,Y.r-a(255*-(ne/100)))),Y.g=i(0,o(255,Y.g-a(255*-(ne/100)))),Y.b=i(0,o(255,Y.b-a(255*-(ne/100)))),f(Y)}function _(V,ne){ne=ne===0?0:ne||10;var Y=f(V).toHsl();return Y.l-=ne/100,Y.l=z(Y.l),f(Y)}function g(V,ne){var Y=f(V).toHsl(),oe=(Y.h+ne)%360;return Y.h=oe<0?360+oe:oe,f(Y)}function h(V){var ne=f(V).toHsl();return ne.h=(ne.h+180)%360,f(ne)}function S(V){var ne=f(V).toHsl(),Y=ne.h;return[f(V),f({h:(Y+120)%360,s:ne.s,l:ne.l}),f({h:(Y+240)%360,s:ne.s,l:ne.l})]}function d(V){var ne=f(V).toHsl(),Y=ne.h;return[f(V),f({h:(Y+90)%360,s:ne.s,l:ne.l}),f({h:(Y+180)%360,s:ne.s,l:ne.l}),f({h:(Y+270)%360,s:ne.s,l:ne.l})]}function R(V){var ne=f(V).toHsl(),Y=ne.h;return[f(V),f({h:(Y+72)%360,s:ne.s,l:ne.l}),f({h:(Y+216)%360,s:ne.s,l:ne.l})]}function L(V,ne,Y){ne=ne||6,Y=Y||30;var oe=f(V).toHsl(),pe=360/Y,we=[f(V)];for(oe.h=(oe.h-(pe*ne>>1)+720)%360;--ne;)oe.h=(oe.h+pe)%360,we.push(f(oe));return we}function F(V,ne){ne=ne||6;for(var Y=f(V).toHsv(),oe=Y.h,pe=Y.s,we=Y.v,De=[],Re=1/ne;ne--;)De.push(f({h:oe,s:pe,v:we})),we=(we+Re)%1;return De}f.mix=function(V,ne,Y){Y=Y===0?0:Y||50;var oe=f(V).toRgb(),pe=f(ne).toRgb(),we=Y/100,De={r:(pe.r-oe.r)*we+oe.r,g:(pe.g-oe.g)*we+oe.g,b:(pe.b-oe.b)*we+oe.b,a:(pe.a-oe.a)*we+oe.a};return f(De)},f.readability=function(V,ne){var Y=f(V),oe=f(ne);return(e.max(Y.getLuminance(),oe.getLuminance())+.05)/(e.min(Y.getLuminance(),oe.getLuminance())+.05)},f.isReadable=function(V,ne,Y){var oe=f.readability(V,ne),pe,we;switch(we=!1,pe=te(Y),pe.level+pe.size){case"AAsmall":case"AAAlarge":we=oe>=4.5;break;case"AAlarge":we=oe>=3;break;case"AAAsmall":we=oe>=7;break}return we},f.mostReadable=function(V,ne,Y){var oe=null,pe=0,we,De,Re,Ae;Y=Y||{},De=Y.includeFallbackColors,Re=Y.level,Ae=Y.size;for(var Ie=0;Ie<ne.length;Ie++)we=f.readability(V,ne[Ie]),we>pe&&(pe=we,oe=f(ne[Ie]));return f.isReadable(V,oe,{level:Re,size:Ae})||!De?oe:(Y.includeFallbackColors=!1,f.mostReadable(V,["#fff","#000"],Y))};var O=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=f.hexNames=I(O);function I(V){var ne={};for(var Y in V)V.hasOwnProperty(Y)&&(ne[V[Y]]=Y);return ne}function k(V){return V=parseFloat(V),(isNaN(V)||V<0||V>1)&&(V=1),V}function D(V,ne){j(V)&&(V="100%");var Y=Q(V);return V=o(ne,i(0,parseFloat(V))),Y&&(V=parseInt(V*ne,10)/100),e.abs(V-ne)<1e-6?1:V%ne/parseFloat(ne)}function z(V){return o(1,i(0,V))}function q(V){return parseInt(V,16)}function j(V){return typeof V=="string"&&V.indexOf(".")!=-1&&parseFloat(V)===1}function Q(V){return typeof V=="string"&&V.indexOf("%")!=-1}function K(V){return V.length==1?"0"+V:""+V}function G(V){return V<=1&&(V=V*100+"%"),V}function B(V){return e.round(parseFloat(V)*255).toString(16)}function Z(V){return q(V)/255}var ie=function(){var V="[-\\+]?\\d+%?",ne="[-\\+]?\\d*\\.\\d+%?",Y="(?:"+ne+")|(?:"+V+")",oe="[\\s|\\(]+("+Y+")[,|\\s]+("+Y+")[,|\\s]+("+Y+")\\s*\\)?",pe="[\\s|\\(]+("+Y+")[,|\\s]+("+Y+")[,|\\s]+("+Y+")[,|\\s]+("+Y+")\\s*\\)?";return{CSS_UNIT:new RegExp(Y),rgb:new RegExp("rgb"+oe),rgba:new RegExp("rgba"+pe),hsl:new RegExp("hsl"+oe),hsla:new RegExp("hsla"+pe),hsv:new RegExp("hsv"+oe),hsva:new RegExp("hsva"+pe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function J(V){return!!ie.CSS_UNIT.exec(V)}function le(V){V=V.replace(r,"").replace(t,"").toLowerCase();var ne=!1;if(O[V])V=O[V],ne=!0;else if(V=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var Y;return(Y=ie.rgb.exec(V))?{r:Y[1],g:Y[2],b:Y[3]}:(Y=ie.rgba.exec(V))?{r:Y[1],g:Y[2],b:Y[3],a:Y[4]}:(Y=ie.hsl.exec(V))?{h:Y[1],s:Y[2],l:Y[3]}:(Y=ie.hsla.exec(V))?{h:Y[1],s:Y[2],l:Y[3],a:Y[4]}:(Y=ie.hsv.exec(V))?{h:Y[1],s:Y[2],v:Y[3]}:(Y=ie.hsva.exec(V))?{h:Y[1],s:Y[2],v:Y[3],a:Y[4]}:(Y=ie.hex8.exec(V))?{r:q(Y[1]),g:q(Y[2]),b:q(Y[3]),a:Z(Y[4]),format:ne?"name":"hex8"}:(Y=ie.hex6.exec(V))?{r:q(Y[1]),g:q(Y[2]),b:q(Y[3]),format:ne?"name":"hex"}:(Y=ie.hex4.exec(V))?{r:q(Y[1]+""+Y[1]),g:q(Y[2]+""+Y[2]),b:q(Y[3]+""+Y[3]),a:Z(Y[4]+""+Y[4]),format:ne?"name":"hex8"}:(Y=ie.hex3.exec(V))?{r:q(Y[1]+""+Y[1]),g:q(Y[2]+""+Y[2]),b:q(Y[3]+""+Y[3]),format:ne?"name":"hex"}:!1}function te(V){var ne,Y;return V=V||{level:"AA",size:"small"},ne=(V.level||"AA").toUpperCase(),Y=(V.size||"small").toLowerCase(),ne!=="AA"&&ne!=="AAA"&&(ne="AA"),Y!=="small"&&Y!=="large"&&(Y="small"),{level:ne,size:Y}}typeof F2!="undefined"&&F2.exports?F2.exports=f:window.tinycolor=f})(Math)});var Na=fe(Ag=>{"use strict";var I9=Jc(),_g=Array.isArray;function Kse(e,r){var t,n;for(t=0;t<e.length;t++){if(n=e[t],n!==null&&typeof n=="object")return!1;n!==void 0&&(r[t]=n)}return!0}Ag.extendFlat=function(){return wg(arguments,!1,!1,!1)};Ag.extendDeep=function(){return wg(arguments,!0,!1,!1)};Ag.extendDeepAll=function(){return wg(arguments,!0,!0,!1)};Ag.extendDeepNoArrays=function(){return wg(arguments,!0,!1,!0)};function wg(e,r,t,n){var a=e[0],o=e.length,i,l,f,s,u,c,v;if(o===2&&_g(a)&&_g(e[1])&&a.length===0){if(v=Kse(e[1],a),v)return a;a.splice(0,a.length)}for(var x=1;x<o;x++){i=e[x];for(l in i)f=a[l],s=i[l],n&&_g(s)?a[l]=s:r&&s&&(I9(s)||(u=_g(s)))?(u?(u=!1,c=f&&_g(f)?f:[]):c=f&&I9(f)?f:{},a[l]=wg([c,s],r,t,n)):(typeof s!="undefined"||t)&&(a[l]=s)}return a}});var Fi=fe((xDe,P9)=>{"use strict";P9.exports=function(e){var r=e.variantValues,t=e.editType,n=e.colorEditType;n===void 0&&(n=t);var a={editType:t,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};e.noNumericWeightValues&&(a.valType="enumerated",a.values=a.extras,a.extras=void 0,a.min=void 0,a.max=void 0);var o={family:{valType:"string",noBlank:!0,strict:!0,editType:t},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:n},weight:a,style:{editType:t,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:e.noFontVariant?void 0:{editType:t,valType:"enumerated",values:r||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:e.noFontTextcase?void 0:{editType:t,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:e.noFontLineposition?void 0:{editType:t,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:e.noFontShadow?void 0:{editType:t,valType:"string",dflt:e.autoShadowDflt?"auto":"none"},editType:t};return e.autoSize&&(o.size.dflt="auto"),e.autoColor&&(o.color.dflt="auto"),e.arrayOk&&(o.family.arrayOk=!0,o.weight.arrayOk=!0,o.style.arrayOk=!0,e.noFontVariant||(o.variant.arrayOk=!0),e.noFontTextcase||(o.textcase.arrayOk=!0),e.noFontLineposition||(o.lineposition.arrayOk=!0),e.noFontShadow||(o.shadow.arrayOk=!0),o.size.arrayOk=!0,o.color.arrayOk=!0),o}});var Tg=fe((bDe,O9)=>{"use strict";O9.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}});var Bh=fe((_De,z9)=>{"use strict";var N9=Tg(),B9=Fi(),Gw=B9({editType:"none"});Gw.family.dflt=N9.HOVERFONT;Gw.size.dflt=N9.HOVERFONTSIZE;z9.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:Gw,grouptitlefont:B9({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},showarrow:{valType:"boolean",dflt:!0,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}});var D2=fe((wDe,q9)=>{"use strict";var Qse=Fi(),Mg=Bh().hoverlabel,Eg=Na().extendFlat;q9.exports={hoverlabel:{bgcolor:Eg({},Mg.bgcolor,{arrayOk:!0}),bordercolor:Eg({},Mg.bordercolor,{arrayOk:!0}),font:Qse({arrayOk:!0,editType:"none"}),align:Eg({},Mg.align,{arrayOk:!0}),namelength:Eg({},Mg.namelength,{arrayOk:!0}),showarrow:Eg({},Mg.showarrow),editType:"none"}}});var ul=fe((ADe,U9)=>{"use strict";var efe=Fi(),rfe=D2();U9.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:efe({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:rfe.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},uirevision:{valType:"any",editType:"none"}}});var zh=fe((TDe,V9)=>{"use strict";var tfe=fl(),I2={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},G9=I2.RdBu;function nfe(e,r){if(r||(r=G9),!e)return r;function t(){try{e=I2[e]||JSON.parse(e)}catch(n){e=r}}return typeof e=="string"&&(t(),typeof e=="string"&&t()),H9(e)?e:r}function H9(e){var r=0;if(!Array.isArray(e)||e.length<2||!e[0]||!e[e.length-1]||+e[0][0]!=0||+e[e.length-1][0]!=1)return!1;for(var t=0;t<e.length;t++){var n=e[t];if(n.length!==2||+n[0]<r||!tfe(n[1]).isValid())return!1;r=+n[0]}return!0}function afe(e){return I2[e]!==void 0?!0:H9(e)}V9.exports={scales:I2,defaultScale:G9,get:nfe,isValid:afe}});var Zs=fe(qh=>{"use strict";qh.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];qh.defaultLine="#444";qh.lightLine="#eee";qh.background="#fff";qh.borderLine="#BEC8D9";qh.lightFraction=100*10/11});var xn=fe((EDe,Y9)=>{"use strict";var cl=fl(),ife=kn(),ofe=sl().isTypedArray,Di=Y9.exports={},P2=Zs();Di.defaults=P2.defaults;var lfe=Di.defaultLine=P2.defaultLine;Di.lightLine=P2.lightLine;var Vw=Di.background=P2.background;Di.tinyRGB=function(e){var r=e.toRgb();return"rgb("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+")"};Di.rgb=function(e){return Di.tinyRGB(cl(e))};Di.opacity=function(e){return e?cl(e).getAlpha():0};Di.addOpacity=function(e,r){var t=cl(e).toRgb();return"rgba("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+", "+r+")"};Di.combine=function(e,r){var t=cl(e).toRgb();if(t.a===1)return cl(e).toRgbString();var n=cl(r||Vw).toRgb(),a=n.a===1?n:{r:255*(1-n.a)+n.r*n.a,g:255*(1-n.a)+n.g*n.a,b:255*(1-n.a)+n.b*n.a},o={r:a.r*(1-t.a)+t.r*t.a,g:a.g*(1-t.a)+t.g*t.a,b:a.b*(1-t.a)+t.b*t.a};return cl(o).toRgbString()};Di.interpolate=function(e,r,t){var n=cl(e).toRgb(),a=cl(r).toRgb(),o={r:t*n.r+(1-t)*a.r,g:t*n.g+(1-t)*a.g,b:t*n.b+(1-t)*a.b};return cl(o).toRgbString()};Di.contrast=function(e,r,t){var n=cl(e);n.getAlpha()!==1&&(n=cl(Di.combine(e,Vw)));var a=n.isDark()?r?n.lighten(r):Vw:t?n.darken(t):lfe;return a.toString()};Di.stroke=function(e,r){var t=cl(r);e.style({stroke:Di.tinyRGB(t),"stroke-opacity":t.getAlpha()})};Di.fill=function(e,r){var t=cl(r);e.style({fill:Di.tinyRGB(t),"fill-opacity":t.getAlpha()})};Di.clean=function(e){if(!(!e||typeof e!="object")){var r=Object.keys(e),t,n,a,o;for(t=0;t<r.length;t++)if(a=r[t],o=e[a],a.substr(a.length-5)==="color")if(Array.isArray(o))for(n=0;n<o.length;n++)o[n]=Hw(o[n]);else e[a]=Hw(o);else if(a.substr(a.length-10)==="colorscale"&&Array.isArray(o))for(n=0;n<o.length;n++)Array.isArray(o[n])&&(o[n][1]=Hw(o[n][1]));else if(Array.isArray(o)){var i=o[0];if(!Array.isArray(i)&&i&&typeof i=="object")for(n=0;n<o.length;n++)Di.clean(o[n])}else o&&typeof o=="object"&&!ofe(o)&&Di.clean(o)}};function Hw(e){if(ife(e)||typeof e!="string")return e;var r=e.trim();if(r.substr(0,3)!=="rgb")return e;var t=r.match(/^rgba?\s*\(([^()]*)\)$/);if(!t)return e;var n=t[1].trim().split(/\s*[\s,]\s*/),a=r.charAt(3)==="a"&&n.length===4;if(!a&&n.length!==3)return e;for(var o=0;o<n.length;o++){if(!n[o].length||(n[o]=Number(n[o]),!(n[o]>=0)))return e;if(o===3)n[o]>1&&(n[o]=1);else if(n[o]>=1)return e}var i=Math.round(n[0]*255)+", "+Math.round(n[1]*255)+", "+Math.round(n[2]*255);return a?"rgba("+i+", "+n[3]+")":"rgb("+i+")"}});var Fd=fe((SDe,W9)=>{"use strict";W9.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}});var Dd=fe(X9=>{"use strict";X9.counter=function(e,r,t,n){var a=(r||"")+(t?"":"$"),o=n===!1?"":"^";return e==="xy"?new RegExp(o+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+a):new RegExp(o+e+"([2-9]|[1-9][0-9]+)?"+a)}});var J9=fe(hl=>{"use strict";var Yw=kn(),j9=fl(),Z9=Na().extendFlat,sfe=ul(),ffe=zh(),ufe=xn(),cfe=Fd().DESELECTDIM,Id=k2(),$9=Dd().counter,hfe=Rd().modHalf,Xf=sl().isArrayOrTypedArray,Kc=sl().isTypedArraySpec,Qc=sl().decodeTypedArraySpec;hl.valObjectMeta={data_array:{coerceFunction:function(e,r,t){r.set(Xf(e)?e:Kc(e)?Qc(e):t)}},enumerated:{coerceFunction:function(e,r,t,n){n.coerceNumber&&(e=+e),n.values.indexOf(e)===-1?r.set(t):r.set(e)},validateFunction:function(e,r){r.coerceNumber&&(e=+e);for(var t=r.values,n=0;n<t.length;n++){var a=String(t[n]);if(a.charAt(0)==="/"&&a.charAt(a.length-1)==="/"){var o=new RegExp(a.substr(1,a.length-2));if(o.test(e))return!0}else if(e===t[n])return!0}return!1}},boolean:{coerceFunction:function(e,r,t){e===!0||e===!1?r.set(e):r.set(t)}},number:{coerceFunction:function(e,r,t,n){Kc(e)&&(e=Qc(e)),!Yw(e)||n.min!==void 0&&e<n.min||n.max!==void 0&&e>n.max?r.set(t):r.set(+e)}},integer:{coerceFunction:function(e,r,t,n){if((n.extras||[]).indexOf(e)!==-1){r.set(e);return}Kc(e)&&(e=Qc(e)),e%1||!Yw(e)||n.min!==void 0&&e<n.min||n.max!==void 0&&e>n.max?r.set(t):r.set(+e)}},string:{coerceFunction:function(e,r,t,n){if(typeof e!="string"){var a=typeof e=="number";n.strict===!0||!a?r.set(t):r.set(String(e))}else n.noBlank&&!e?r.set(t):r.set(e)}},color:{coerceFunction:function(e,r,t){Kc(e)&&(e=Qc(e)),j9(e).isValid()?r.set(e):r.set(t)}},colorlist:{coerceFunction:function(e,r,t){function n(a){return j9(a).isValid()}!Array.isArray(e)||!e.length?r.set(t):e.every(n)?r.set(e):r.set(t)}},colorscale:{coerceFunction:function(e,r,t){r.set(ffe.get(e,t))}},angle:{coerceFunction:function(e,r,t){Kc(e)&&(e=Qc(e)),e==="auto"?r.set("auto"):Yw(e)?r.set(hfe(+e,360)):r.set(t)}},subplotid:{coerceFunction:function(e,r,t,n){var a=n.regex||$9(t);if(typeof e=="string"&&a.test(e)){r.set(e);return}r.set(t)},validateFunction:function(e,r){var t=r.dflt;return e===t?!0:typeof e!="string"?!1:!!$9(t).test(e)}},flaglist:{coerceFunction:function(e,r,t,n){if((n.extras||[]).indexOf(e)!==-1){r.set(e);return}if(typeof e!="string"){r.set(t);return}for(var a=e.split("+"),o=0;o<a.length;){var i=a[o];n.flags.indexOf(i)===-1||a.indexOf(i)<o?a.splice(o,1):o++}a.length?r.set(a.join("+")):r.set(t)}},any:{coerceFunction:function(e,r,t){e===void 0?r.set(t):r.set(Kc(e)?Qc(e):e)}},info_array:{coerceFunction:function(e,r,t,n){function a(M,E,b){var T,p={set:function(_){T=_}};return b===void 0&&(b=E.dflt),hl.valObjectMeta[E.valType].coerceFunction(M,p,b,E),T}if(Kc(e)&&(e=Qc(e)),!Xf(e)){r.set(t);return}var o=n.dimensions===2||n.dimensions==="1-2"&&Array.isArray(e)&&Xf(e[0]),i=n.items,l=[],f=Array.isArray(i),s=f&&o&&Xf(i[0]),u=o&&f&&!s,c=f&&!u?i.length:e.length,v,x,m,w,A,y;if(t=Array.isArray(t)?t:[],o)for(v=0;v<c;v++)for(l[v]=[],m=Xf(e[v])?e[v]:[],u?A=i.length:f?A=i[v].length:A=m.length,x=0;x<A;x++)u?w=i[x]:f?w=i[v][x]:w=i,y=a(m[x],w,(t[v]||[])[x]),y!==void 0&&(l[v][x]=y);else for(v=0;v<c;v++)y=a(e[v],f?i[v]:i,t[v]),y!==void 0&&(l[v]=y);r.set(l)},validateFunction:function(e,r){if(!Xf(e))return!1;var t=r.items,n=Array.isArray(t),a=r.dimensions===2;if(!r.freeLength&&e.length!==t.length)return!1;for(var o=0;o<e.length;o++)if(a){if(!Xf(e[o])||!r.freeLength&&e[o].length!==t[o].length)return!1;for(var i=0;i<e[o].length;i++)if(!O2(e[o][i],n?t[o][i]:t))return!1}else if(!O2(e[o],n?t[o]:t))return!1;return!0}}};hl.coerce=function(e,r,t,n,a){var o=Id(t,n).get(),i=Id(e,n),l=Id(r,n),f=i.get(),s=r._template;if(f===void 0&&s&&(f=Id(s,n).get(),s=0),a===void 0&&(a=o.dflt),o.arrayOk){if(Xf(f))return l.set(f),f;if(Kc(f))return f=Qc(f),l.set(f),f}var u=hl.valObjectMeta[o.valType].coerceFunction;u(f,l,a,o);var c=l.get();return s&&c===a&&!O2(f,o)&&(f=Id(s,n).get(),u(f,l,a,o),c=l.get()),c};hl.coerce2=function(e,r,t,n,a){var o=Id(e,n),i=hl.coerce(e,r,t,n,a),l=o.get();return l!=null?i:!1};hl.coerceFont=function(e,r,t,n){n||(n={}),t=Z9({},t),t=Z9(t,n.overrideDflt||{});var a={family:e(r+".family",t.family),size:e(r+".size",t.size),color:e(r+".color",t.color),weight:e(r+".weight",t.weight),style:e(r+".style",t.style)};if(n.noFontVariant||(a.variant=e(r+".variant",t.variant)),n.noFontLineposition||(a.lineposition=e(r+".lineposition",t.lineposition)),n.noFontTextcase||(a.textcase=e(r+".textcase",t.textcase)),!n.noFontShadow){var o=t.shadow;o==="none"&&n.autoShadowDflt&&(o="auto"),a.shadow=e(r+".shadow",o)}return a};hl.coercePattern=function(e,r,t,n){var a=e(r+".shape"),o;if(a||(o=e(r+".path")),a||o){a&&e(r+".solidity"),e(r+".size");var i=e(r+".fillmode"),l=i==="overlay";if(!n){var f=e(r+".bgcolor",l?t:void 0);e(r+".fgcolor",l?ufe.contrast(f):t)}e(r+".fgopacity",l?.5:1)}};hl.coerceHoverinfo=function(e,r,t){var n=r._module.attributes,a=n.hoverinfo?n:sfe,o=a.hoverinfo,i;if(t._dataLength===1){var l=o.dflt==="all"?o.flags.slice():o.dflt.split("+");l.splice(l.indexOf("name"),1),i=l.join("+")}return hl.coerce(e,r,a,"hoverinfo",i)};hl.coerceSelectionMarkerOpacity=function(e,r){if(e.marker){var t=e.marker.opacity;if(t!==void 0){var n,a;!Xf(t)&&!e.selected&&!e.unselected&&(n=t,a=cfe*t),r("selected.marker.opacity",n),r("unselected.marker.opacity",a)}}};function O2(e,r){var t=hl.valObjectMeta[r.valType];if(r.arrayOk&&Xf(e))return!0;if(t.validateFunction)return t.validateFunction(e,r);var n={},a=n,o={set:function(i){a=i}};return t.coerceFunction(e,o,n,r),a!==n}hl.validate=O2});var Uh=fe((LDe,rC)=>{"use strict";var K9={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox","map"],extras:[!0,!1],dflt:"gl3d+geo+map"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/un/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},Q9={};function eC(e,r){for(var t in e){var n=e[t];n.valType?r[t]=n.dflt:(r[t]||(r[t]={}),eC(n,r[t]))}}eC(K9,Q9);rC.exports={configAttributes:K9,dfltConfig:Q9}});var Xw=fe((RDe,tC)=>{"use strict";var Ww=Ln(),vfe=kn(),Sg=[];tC.exports=function(e,r){if(Sg.indexOf(e)!==-1)return;Sg.push(e);var t=1e3;vfe(r)?t=r:r==="long"&&(t=3e3);var n=Ww.select("body").selectAll(".plotly-notifier").data([0]);n.enter().append("div").classed("plotly-notifier",!0);var a=n.selectAll(".notifier-note").data(Sg);function o(i){i.duration(700).style("opacity",0).each("end",function(l){var f=Sg.indexOf(l);f!==-1&&Sg.splice(f,1),Ww.select(this).remove()})}a.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(i){var l=Ww.select(this);l.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){l.transition().call(o)});for(var f=l.append("p"),s=i.split(/<br\s*\/?>/g),u=0;u<s.length;u++)u&&f.append("br"),f.append("span").text(s[u]);r==="stick"?l.transition().duration(350).style("opacity",1):l.transition().duration(700).style("opacity",1).transition().delay(t).call(o)})}});var Gh=fe((FDe,nC)=>{"use strict";var Pd=Uh().dfltConfig,jw=Xw(),Zw=nC.exports={};Zw.log=function(){var e;if(Pd.logging>1){var r=["LOG:"];for(e=0;e<arguments.length;e++)r.push(arguments[e]);console.trace.apply(console,r)}if(Pd.notifyOnLogging>1){var t=[];for(e=0;e<arguments.length;e++)t.push(arguments[e]);jw(t.join("<br>"),"long")}};Zw.warn=function(){var e;if(Pd.logging>0){var r=["WARN:"];for(e=0;e<arguments.length;e++)r.push(arguments[e]);console.trace.apply(console,r)}if(Pd.notifyOnLogging>0){var t=[];for(e=0;e<arguments.length;e++)t.push(arguments[e]);jw(t.join("<br>"),"stick")}};Zw.error=function(){var e;if(Pd.logging>0){var r=["ERROR:"];for(e=0;e<arguments.length;e++)r.push(arguments[e]);console.error.apply(console,r)}if(Pd.notifyOnLogging>0){var t=[];for(e=0;e<arguments.length;e++)t.push(arguments[e]);jw(t.join("<br>"),"stick")}}});var N2=fe((DDe,aC)=>{"use strict";aC.exports=function(){}});var $w=fe((IDe,iC)=>{"use strict";iC.exports=function(r,t){if(t instanceof RegExp){for(var n=t.toString(),a=0;a<r.length;a++)if(r[a]instanceof RegExp&&r[a].toString()===n)return r;r.push(t)}else(t||t===0)&&r.indexOf(t)===-1&&r.push(t);return r}});var lC=fe((PDe,oC)=>{oC.exports=dfe;function dfe(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var fC=fe((ODe,sC)=>{sC.exports=pfe;function pfe(e){var r=new Float32Array(16);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}});var cC=fe((NDe,uC)=>{uC.exports=gfe;function gfe(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}});var Jw=fe((BDe,hC)=>{hC.exports=yfe;function yfe(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var dC=fe((zDe,vC)=>{vC.exports=mfe;function mfe(e,r){if(e===r){var t=r[1],n=r[2],a=r[3],o=r[6],i=r[7],l=r[11];e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=t,e[6]=r[9],e[7]=r[13],e[8]=n,e[9]=o,e[11]=r[14],e[12]=a,e[13]=i,e[14]=l}else e[0]=r[0],e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=r[1],e[5]=r[5],e[6]=r[9],e[7]=r[13],e[8]=r[2],e[9]=r[6],e[10]=r[10],e[11]=r[14],e[12]=r[3],e[13]=r[7],e[14]=r[11],e[15]=r[15];return e}});var gC=fe((qDe,pC)=>{pC.exports=xfe;function xfe(e,r){var t=r[0],n=r[1],a=r[2],o=r[3],i=r[4],l=r[5],f=r[6],s=r[7],u=r[8],c=r[9],v=r[10],x=r[11],m=r[12],w=r[13],A=r[14],y=r[15],M=t*l-n*i,E=t*f-a*i,b=t*s-o*i,T=n*f-a*l,p=n*s-o*l,_=a*s-o*f,g=u*w-c*m,h=u*A-v*m,S=u*y-x*m,d=c*A-v*w,R=c*y-x*w,L=v*y-x*A,F=M*L-E*R+b*d+T*S-p*h+_*g;return F?(F=1/F,e[0]=(l*L-f*R+s*d)*F,e[1]=(a*R-n*L-o*d)*F,e[2]=(w*_-A*p+y*T)*F,e[3]=(v*p-c*_-x*T)*F,e[4]=(f*S-i*L-s*h)*F,e[5]=(t*L-a*S+o*h)*F,e[6]=(A*b-m*_-y*E)*F,e[7]=(u*_-v*b+x*E)*F,e[8]=(i*R-l*S+s*g)*F,e[9]=(n*S-t*R-o*g)*F,e[10]=(m*p-w*b+y*M)*F,e[11]=(c*b-u*p-x*M)*F,e[12]=(l*h-i*d-f*g)*F,e[13]=(t*d-n*h+a*g)*F,e[14]=(w*E-m*T-A*M)*F,e[15]=(u*T-c*E+v*M)*F,e):null}});var mC=fe((UDe,yC)=>{yC.exports=bfe;function bfe(e,r){var t=r[0],n=r[1],a=r[2],o=r[3],i=r[4],l=r[5],f=r[6],s=r[7],u=r[8],c=r[9],v=r[10],x=r[11],m=r[12],w=r[13],A=r[14],y=r[15];return e[0]=l*(v*y-x*A)-c*(f*y-s*A)+w*(f*x-s*v),e[1]=-(n*(v*y-x*A)-c*(a*y-o*A)+w*(a*x-o*v)),e[2]=n*(f*y-s*A)-l*(a*y-o*A)+w*(a*s-o*f),e[3]=-(n*(f*x-s*v)-l*(a*x-o*v)+c*(a*s-o*f)),e[4]=-(i*(v*y-x*A)-u*(f*y-s*A)+m*(f*x-s*v)),e[5]=t*(v*y-x*A)-u*(a*y-o*A)+m*(a*x-o*v),e[6]=-(t*(f*y-s*A)-i*(a*y-o*A)+m*(a*s-o*f)),e[7]=t*(f*x-s*v)-i*(a*x-o*v)+u*(a*s-o*f),e[8]=i*(c*y-x*w)-u*(l*y-s*w)+m*(l*x-s*c),e[9]=-(t*(c*y-x*w)-u*(n*y-o*w)+m*(n*x-o*c)),e[10]=t*(l*y-s*w)-i*(n*y-o*w)+m*(n*s-o*l),e[11]=-(t*(l*x-s*c)-i*(n*x-o*c)+u*(n*s-o*l)),e[12]=-(i*(c*A-v*w)-u*(l*A-f*w)+m*(l*v-f*c)),e[13]=t*(c*A-v*w)-u*(n*A-a*w)+m*(n*v-a*c),e[14]=-(t*(l*A-f*w)-i*(n*A-a*w)+m*(n*f-a*l)),e[15]=t*(l*v-f*c)-i*(n*v-a*c)+u*(n*f-a*l),e}});var bC=fe((GDe,xC)=>{xC.exports=_fe;function _fe(e){var r=e[0],t=e[1],n=e[2],a=e[3],o=e[4],i=e[5],l=e[6],f=e[7],s=e[8],u=e[9],c=e[10],v=e[11],x=e[12],m=e[13],w=e[14],A=e[15],y=r*i-t*o,M=r*l-n*o,E=r*f-a*o,b=t*l-n*i,T=t*f-a*i,p=n*f-a*l,_=s*m-u*x,g=s*w-c*x,h=s*A-v*x,S=u*w-c*m,d=u*A-v*m,R=c*A-v*w;return y*R-M*d+E*S+b*h-T*g+p*_}});var wC=fe((HDe,_C)=>{_C.exports=wfe;function wfe(e,r,t){var n=r[0],a=r[1],o=r[2],i=r[3],l=r[4],f=r[5],s=r[6],u=r[7],c=r[8],v=r[9],x=r[10],m=r[11],w=r[12],A=r[13],y=r[14],M=r[15],E=t[0],b=t[1],T=t[2],p=t[3];return e[0]=E*n+b*l+T*c+p*w,e[1]=E*a+b*f+T*v+p*A,e[2]=E*o+b*s+T*x+p*y,e[3]=E*i+b*u+T*m+p*M,E=t[4],b=t[5],T=t[6],p=t[7],e[4]=E*n+b*l+T*c+p*w,e[5]=E*a+b*f+T*v+p*A,e[6]=E*o+b*s+T*x+p*y,e[7]=E*i+b*u+T*m+p*M,E=t[8],b=t[9],T=t[10],p=t[11],e[8]=E*n+b*l+T*c+p*w,e[9]=E*a+b*f+T*v+p*A,e[10]=E*o+b*s+T*x+p*y,e[11]=E*i+b*u+T*m+p*M,E=t[12],b=t[13],T=t[14],p=t[15],e[12]=E*n+b*l+T*c+p*w,e[13]=E*a+b*f+T*v+p*A,e[14]=E*o+b*s+T*x+p*y,e[15]=E*i+b*u+T*m+p*M,e}});var TC=fe((VDe,AC)=>{AC.exports=Afe;function Afe(e,r,t){var n=t[0],a=t[1],o=t[2],i,l,f,s,u,c,v,x,m,w,A,y;return r===e?(e[12]=r[0]*n+r[4]*a+r[8]*o+r[12],e[13]=r[1]*n+r[5]*a+r[9]*o+r[13],e[14]=r[2]*n+r[6]*a+r[10]*o+r[14],e[15]=r[3]*n+r[7]*a+r[11]*o+r[15]):(i=r[0],l=r[1],f=r[2],s=r[3],u=r[4],c=r[5],v=r[6],x=r[7],m=r[8],w=r[9],A=r[10],y=r[11],e[0]=i,e[1]=l,e[2]=f,e[3]=s,e[4]=u,e[5]=c,e[6]=v,e[7]=x,e[8]=m,e[9]=w,e[10]=A,e[11]=y,e[12]=i*n+u*a+m*o+r[12],e[13]=l*n+c*a+w*o+r[13],e[14]=f*n+v*a+A*o+r[14],e[15]=s*n+x*a+y*o+r[15]),e}});var EC=fe((YDe,MC)=>{MC.exports=Tfe;function Tfe(e,r,t){var n=t[0],a=t[1],o=t[2];return e[0]=r[0]*n,e[1]=r[1]*n,e[2]=r[2]*n,e[3]=r[3]*n,e[4]=r[4]*a,e[5]=r[5]*a,e[6]=r[6]*a,e[7]=r[7]*a,e[8]=r[8]*o,e[9]=r[9]*o,e[10]=r[10]*o,e[11]=r[11]*o,e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}});var CC=fe((WDe,SC)=>{SC.exports=Mfe;function Mfe(e,r,t,n){var a=n[0],o=n[1],i=n[2],l=Math.sqrt(a*a+o*o+i*i),f,s,u,c,v,x,m,w,A,y,M,E,b,T,p,_,g,h,S,d,R,L,F,O;return Math.abs(l)<1e-6?null:(l=1/l,a*=l,o*=l,i*=l,f=Math.sin(t),s=Math.cos(t),u=1-s,c=r[0],v=r[1],x=r[2],m=r[3],w=r[4],A=r[5],y=r[6],M=r[7],E=r[8],b=r[9],T=r[10],p=r[11],_=a*a*u+s,g=o*a*u+i*f,h=i*a*u-o*f,S=a*o*u-i*f,d=o*o*u+s,R=i*o*u+a*f,L=a*i*u+o*f,F=o*i*u-a*f,O=i*i*u+s,e[0]=c*_+w*g+E*h,e[1]=v*_+A*g+b*h,e[2]=x*_+y*g+T*h,e[3]=m*_+M*g+p*h,e[4]=c*S+w*d+E*R,e[5]=v*S+A*d+b*R,e[6]=x*S+y*d+T*R,e[7]=m*S+M*d+p*R,e[8]=c*L+w*F+E*O,e[9]=v*L+A*F+b*O,e[10]=x*L+y*F+T*O,e[11]=m*L+M*F+p*O,r!==e&&(e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e)}});var LC=fe((XDe,kC)=>{kC.exports=Efe;function Efe(e,r,t){var n=Math.sin(t),a=Math.cos(t),o=r[4],i=r[5],l=r[6],f=r[7],s=r[8],u=r[9],c=r[10],v=r[11];return r!==e&&(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[4]=o*a+s*n,e[5]=i*a+u*n,e[6]=l*a+c*n,e[7]=f*a+v*n,e[8]=s*a-o*n,e[9]=u*a-i*n,e[10]=c*a-l*n,e[11]=v*a-f*n,e}});var FC=fe((jDe,RC)=>{RC.exports=Sfe;function Sfe(e,r,t){var n=Math.sin(t),a=Math.cos(t),o=r[0],i=r[1],l=r[2],f=r[3],s=r[8],u=r[9],c=r[10],v=r[11];return r!==e&&(e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=o*a-s*n,e[1]=i*a-u*n,e[2]=l*a-c*n,e[3]=f*a-v*n,e[8]=o*n+s*a,e[9]=i*n+u*a,e[10]=l*n+c*a,e[11]=f*n+v*a,e}});var IC=fe((ZDe,DC)=>{DC.exports=Cfe;function Cfe(e,r,t){var n=Math.sin(t),a=Math.cos(t),o=r[0],i=r[1],l=r[2],f=r[3],s=r[4],u=r[5],c=r[6],v=r[7];return r!==e&&(e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=o*a+s*n,e[1]=i*a+u*n,e[2]=l*a+c*n,e[3]=f*a+v*n,e[4]=s*a-o*n,e[5]=u*a-i*n,e[6]=c*a-l*n,e[7]=v*a-f*n,e}});var OC=fe(($De,PC)=>{PC.exports=kfe;function kfe(e,r,t){var n,a,o,i=t[0],l=t[1],f=t[2],s=Math.sqrt(i*i+l*l+f*f);return Math.abs(s)<1e-6?null:(s=1/s,i*=s,l*=s,f*=s,n=Math.sin(r),a=Math.cos(r),o=1-a,e[0]=i*i*o+a,e[1]=l*i*o+f*n,e[2]=f*i*o-l*n,e[3]=0,e[4]=i*l*o-f*n,e[5]=l*l*o+a,e[6]=f*l*o+i*n,e[7]=0,e[8]=i*f*o+l*n,e[9]=l*f*o-i*n,e[10]=f*f*o+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}});var BC=fe((JDe,NC)=>{NC.exports=Lfe;function Lfe(e,r,t){var n=r[0],a=r[1],o=r[2],i=r[3],l=n+n,f=a+a,s=o+o,u=n*l,c=n*f,v=n*s,x=a*f,m=a*s,w=o*s,A=i*l,y=i*f,M=i*s;return e[0]=1-(x+w),e[1]=c+M,e[2]=v-y,e[3]=0,e[4]=c-M,e[5]=1-(u+w),e[6]=m+A,e[7]=0,e[8]=v+y,e[9]=m-A,e[10]=1-(u+x),e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}});var qC=fe((KDe,zC)=>{zC.exports=Rfe;function Rfe(e,r){return e[0]=r[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=r[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var GC=fe((QDe,UC)=>{UC.exports=Ffe;function Ffe(e,r){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}});var VC=fe((eIe,HC)=>{HC.exports=Dfe;function Dfe(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=t,e[7]=0,e[8]=0,e[9]=-t,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var WC=fe((rIe,YC)=>{YC.exports=Ife;function Ife(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=n,e[1]=0,e[2]=-t,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=t,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var jC=fe((tIe,XC)=>{XC.exports=Pfe;function Pfe(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=n,e[1]=t,e[2]=0,e[3]=0,e[4]=-t,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var $C=fe((nIe,ZC)=>{ZC.exports=Ofe;function Ofe(e,r){var t=r[0],n=r[1],a=r[2],o=r[3],i=t+t,l=n+n,f=a+a,s=t*i,u=n*i,c=n*l,v=a*i,x=a*l,m=a*f,w=o*i,A=o*l,y=o*f;return e[0]=1-c-m,e[1]=u+y,e[2]=v-A,e[3]=0,e[4]=u-y,e[5]=1-s-m,e[6]=x+w,e[7]=0,e[8]=v+A,e[9]=x-w,e[10]=1-s-c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var KC=fe((aIe,JC)=>{JC.exports=Nfe;function Nfe(e,r,t,n,a,o,i){var l=1/(t-r),f=1/(a-n),s=1/(o-i);return e[0]=o*2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o*2*f,e[6]=0,e[7]=0,e[8]=(t+r)*l,e[9]=(a+n)*f,e[10]=(i+o)*s,e[11]=-1,e[12]=0,e[13]=0,e[14]=i*o*2*s,e[15]=0,e}});var ek=fe((iIe,QC)=>{QC.exports=Bfe;function Bfe(e,r,t,n,a){var o=1/Math.tan(r/2),i=1/(n-a);return e[0]=o/t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(a+n)*i,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*a*n*i,e[15]=0,e}});var tk=fe((oIe,rk)=>{rk.exports=zfe;function zfe(e,r,t,n){var a=Math.tan(r.upDegrees*Math.PI/180),o=Math.tan(r.downDegrees*Math.PI/180),i=Math.tan(r.leftDegrees*Math.PI/180),l=Math.tan(r.rightDegrees*Math.PI/180),f=2/(i+l),s=2/(a+o);return e[0]=f,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=-((i-l)*f*.5),e[9]=(a-o)*s*.5,e[10]=n/(t-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*t/(t-n),e[15]=0,e}});var ak=fe((lIe,nk)=>{nk.exports=qfe;function qfe(e,r,t,n,a,o,i){var l=1/(r-t),f=1/(n-a),s=1/(o-i);return e[0]=-2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*f,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*s,e[11]=0,e[12]=(r+t)*l,e[13]=(a+n)*f,e[14]=(i+o)*s,e[15]=1,e}});var ok=fe((sIe,ik)=>{var Ufe=Jw();ik.exports=Gfe;function Gfe(e,r,t,n){var a,o,i,l,f,s,u,c,v,x,m=r[0],w=r[1],A=r[2],y=n[0],M=n[1],E=n[2],b=t[0],T=t[1],p=t[2];return Math.abs(m-b)<1e-6&&Math.abs(w-T)<1e-6&&Math.abs(A-p)<1e-6?Ufe(e):(u=m-b,c=w-T,v=A-p,x=1/Math.sqrt(u*u+c*c+v*v),u*=x,c*=x,v*=x,a=M*v-E*c,o=E*u-y*v,i=y*c-M*u,x=Math.sqrt(a*a+o*o+i*i),x?(x=1/x,a*=x,o*=x,i*=x):(a=0,o=0,i=0),l=c*i-v*o,f=v*a-u*i,s=u*o-c*a,x=Math.sqrt(l*l+f*f+s*s),x?(x=1/x,l*=x,f*=x,s*=x):(l=0,f=0,s=0),e[0]=a,e[1]=l,e[2]=u,e[3]=0,e[4]=o,e[5]=f,e[6]=c,e[7]=0,e[8]=i,e[9]=s,e[10]=v,e[11]=0,e[12]=-(a*m+o*w+i*A),e[13]=-(l*m+f*w+s*A),e[14]=-(u*m+c*w+v*A),e[15]=1,e)}});var sk=fe((fIe,lk)=>{lk.exports=Hfe;function Hfe(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}});var Kw=fe((uIe,fk)=>{fk.exports={create:lC(),clone:fC(),copy:cC(),identity:Jw(),transpose:dC(),invert:gC(),adjoint:mC(),determinant:bC(),multiply:wC(),translate:TC(),scale:EC(),rotate:CC(),rotateX:LC(),rotateY:FC(),rotateZ:IC(),fromRotation:OC(),fromRotationTranslation:BC(),fromScaling:qC(),fromTranslation:GC(),fromXRotation:VC(),fromYRotation:WC(),fromZRotation:jC(),fromQuat:$C(),frustum:KC(),perspective:ek(),perspectiveFromFieldOfView:tk(),ortho:ak(),lookAt:ok(),str:sk()}});var B2=fe(Qa=>{"use strict";var Vfe=Kw();Qa.init2dArray=function(e,r){for(var t=new Array(e),n=0;n<e;n++)t[n]=new Array(r);return t};Qa.transposeRagged=function(e){var r=0,t=e.length,n,a;for(n=0;n<t;n++)r=Math.max(r,e[n].length);var o=new Array(r);for(n=0;n<r;n++)for(o[n]=new Array(t),a=0;a<t;a++)o[n][a]=e[a][n];return o};Qa.dot=function(e,r){if(!(e.length&&r.length)||e.length!==r.length)return null;var t=e.length,n,a;if(e[0].length)for(n=new Array(t),a=0;a<t;a++)n[a]=Qa.dot(e[a],r);else if(r[0].length){var o=Qa.transposeRagged(r);for(n=new Array(o.length),a=0;a<o.length;a++)n[a]=Qa.dot(e,o[a])}else for(n=0,a=0;a<t;a++)n+=e[a]*r[a];return n};Qa.translationMatrix=function(e,r){return[[1,0,e],[0,1,r],[0,0,1]]};Qa.rotationMatrix=function(e){var r=e*Math.PI/180;return[[Math.cos(r),-Math.sin(r),0],[Math.sin(r),Math.cos(r),0],[0,0,1]]};Qa.rotationXYMatrix=function(e,r,t){return Qa.dot(Qa.dot(Qa.translationMatrix(r,t),Qa.rotationMatrix(e)),Qa.translationMatrix(-r,-t))};Qa.apply3DTransform=function(e){return function(){var r=arguments,t=arguments.length===1?r[0]:[r[0],r[1],r[2]||0];return Qa.dot(e,[t[0],t[1],t[2],1]).slice(0,3)}};Qa.apply2DTransform=function(e){return function(){var r=arguments;r.length===3&&(r=r[0]);var t=arguments.length===1?r[0]:[r[0],r[1]];return Qa.dot(e,[t[0],t[1],1]).slice(0,2)}};Qa.apply2DTransform2=function(e){var r=Qa.apply2DTransform(e);return function(t){return r(t.slice(0,2)).concat(r(t.slice(2,4)))}};Qa.convertCssMatrix=function(e){if(e){var r=e.length;if(r===16)return e;if(r===6)return[e[0],e[1],0,0,e[2],e[3],0,0,0,0,1,0,e[4],e[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};Qa.inverseTransformMatrix=function(e){var r=[];return Vfe.invert(r,e),[[r[0],r[1],r[2],r[3]],[r[4],r[5],r[6],r[7]],[r[8],r[9],r[10],r[11]],[r[12],r[13],r[14],r[15]]]}});var Cg=fe((hIe,pk)=>{"use strict";var Yfe=Ln(),uk=Gh(),Wfe=B2(),Xfe=Kw();function jfe(e){var r;if(typeof e=="string"){if(r=document.getElementById(e),r===null)throw new Error("No DOM element with id '"+e+"' exists on the page.");return r}else if(e==null)throw new Error("DOM element provided is null or undefined");return e}function Zfe(e){var r=Yfe.select(e);return r.node()instanceof HTMLElement&&r.size()&&r.classed("js-plotly-plot")}function ck(e){var r=e&&e.parentNode;r&&r.removeChild(e)}function $fe(e,r){hk("global",e,r)}function hk(e,r,t){var n="plotly.js-style-"+e,a=document.getElementById(n);if(!(a&&a.matches(".no-inline-styles"))){a||(a=document.createElement("style"),a.setAttribute("id",n),a.appendChild(document.createTextNode("")),document.head.appendChild(a));var o=a.sheet;o?o.insertRule?o.insertRule(r+"{"+t+"}",0):o.addRule?o.addRule(r,t,0):uk.warn("addStyleRule failed"):uk.warn("Cannot addRelatedStyleRule, probably due to strict CSP...")}}function Jfe(e){var r="plotly.js-style-"+e,t=document.getElementById(r);t&&ck(t)}function Kfe(e,r,t,n,a,o){var i=n.split(":"),l=a.split(":"),f="data-btn-style-event-added";o||(o=document),o.querySelectorAll(e).forEach(function(s){s.getAttribute(f)||(s.addEventListener("mouseenter",function(){var u=this.querySelector(t);u&&(u.style[i[0]]=i[1])}),s.addEventListener("mouseleave",function(){var u=this.querySelector(t);u&&(r&&this.matches(r)?u.style[i[0]]=i[1]:u.style[l[0]]=l[1])}),s.setAttribute(f,!0))})}function Qfe(e){var r=dk(e),t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return r.forEach(function(n){var a=vk(n);if(a){var o=Wfe.convertCssMatrix(a);t=Xfe.multiply(t,t,o)}}),t}function vk(e){var r=window.getComputedStyle(e,null),t=r.getPropertyValue("-webkit-transform")||r.getPropertyValue("-moz-transform")||r.getPropertyValue("-ms-transform")||r.getPropertyValue("-o-transform")||r.getPropertyValue("transform");return t==="none"?null:t.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(n){return+n})}function dk(e){for(var r=[];eue(e);)r.push(e),e=e.parentNode,typeof ShadowRoot=="function"&&e instanceof ShadowRoot&&(e=e.host);return r}function eue(e){return e&&(e instanceof Element||e instanceof HTMLElement)}function rue(e,r){return e&&r&&e.top===r.top&&e.left===r.left&&e.right===r.right&&e.bottom===r.bottom}pk.exports={getGraphDiv:jfe,isPlotDiv:Zfe,removeElement:ck,addStyleRule:$fe,addRelatedStyleRule:hk,deleteRelatedStyleRule:Jfe,setStyleOnHover:Kfe,getFullTransformMatrix:Qfe,getElementTransformMatrix:vk,getElementAndAncestors:dk,equalDomRects:rue}});var kg=fe((vIe,gk)=>{"use strict";gk.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}});var vl=fe((dIe,Ak)=>{"use strict";var mk=Na().extendFlat,tue=Jc(),xk={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},bk={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},nue=xk.flags.slice().concat(["fullReplot"]),aue=bk.flags.slice().concat("layoutReplot");Ak.exports={traces:xk,layout:bk,traceFlags:function(){return yk(nue)},layoutFlags:function(){return yk(aue)},update:function(e,r){var t=r.editType;if(t&&t!=="none")for(var n=t.split("+"),a=0;a<n.length;a++)e[n[a]]=!0},overrideAll:_k};function yk(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=!1;return r}function _k(e,r,t){var n=mk({},e);for(var a in n){var o=n[a];tue(o)&&(n[a]=wk(o,r,t,a))}return t==="from-root"&&(n.editType=r),n}function wk(e,r,t,n){if(e.valType){var a=mk({},e);if(a.editType=r,Array.isArray(e.items)){a.items=new Array(e.items.length);for(var o=0;o<e.items.length;o++)a.items[o]=wk(e.items[o],r,"from-root")}return a}else return _k(e,r,n.charAt(0)==="_"?"nested":"from-root")}});var $s=fe(Qw=>{"use strict";Qw.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"};Qw.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},path:{valType:"string",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}});var e4=fe((gIe,Tk)=>{"use strict";Tk.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}});var dl=fe(Lg=>{"use strict";var Mk=e4(),iue=Mk.FORMAT_LINK,oue=Mk.DATE_FORMAT_LINK;function lue(e){var r=e&&e.supportOther;return["Variables are inserted using %{variable},",'for example "y: %{y}"'+(r?" as well as %{xother}, {%_xother}, {%_xother_}, {%xother_}. When showing info for several points, *xother* will be added to those with different x positions from the first point. An underscore before or after *(x|y)other* will add a space on that side, only when this field is shown.":"."),`Numbers are formatted using d3-format's syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".`,iue,"for details on the formatting syntax.",`Dates are formatted using d3-time-format's syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".`,oue,"for details on the date formatting syntax."].join(" ")}Lg.templateFormatStringDescription=lue;function r4(e){var r=e.description?" "+e.description:"",t=e.keys||[];if(t.length>0){for(var n=[],a=0;a<t.length;a++)n[a]="`"+t[a]+"`";r=r+"Finally, the template string has access to ",t.length===1?r=r+"variable "+n[0]:r=r+"variables "+n.slice(0,-1).join(", ")+" and "+n.slice(-1)+"."}return r}Lg.hovertemplateAttrs=function(e,r){e=e||{},r=r||{};var t=r4(r),n={valType:"string",dflt:"",editType:e.editType||"none"};return e.arrayOk!==!1&&(n.arrayOk=!0),n};Lg.texttemplateAttrs=function(e,r){e=e||{},r=r||{};var t=r4(r),n={valType:"string",dflt:"",editType:e.editType||"calc"};return e.arrayOk!==!1&&(n.arrayOk=!0),n};Lg.shapeTexttemplateAttrs=function(e,r){e=e||{},r=r||{};var t=e.newshape?"new ":"",n=r4(r),a={valType:"string",dflt:"",editType:e.editType||"arraydraw"};return a}});var U2=fe((mIe,Rk)=>{"use strict";function e0(e,r){return r?r.d2l(e):e}function Ek(e,r){return r?r.l2d(e):e}function sue(e){return e.x0}function fue(e){return e.x1}function uue(e){return e.y0}function cue(e){return e.y1}function Sk(e){return e.x0shift||0}function Ck(e){return e.x1shift||0}function kk(e){return e.y0shift||0}function Lk(e){return e.y1shift||0}function z2(e,r){return e0(e.x1,r)+Ck(e)-e0(e.x0,r)-Sk(e)}function q2(e,r,t){return e0(e.y1,t)+Lk(e)-e0(e.y0,t)-kk(e)}function hue(e,r){return Math.abs(z2(e,r))}function vue(e,r,t){return Math.abs(q2(e,r,t))}function due(e,r,t){return e.type!=="line"?void 0:Math.sqrt(Math.pow(z2(e,r),2)+Math.pow(q2(e,r,t),2))}function pue(e,r){return Ek((e0(e.x1,r)+Ck(e)+e0(e.x0,r)+Sk(e))/2,r)}function gue(e,r,t){return Ek((e0(e.y1,t)+Lk(e)+e0(e.y0,t)+kk(e))/2,t)}function yue(e,r,t){return e.type!=="line"?void 0:q2(e,r,t)/z2(e,r)}Rk.exports={x0:sue,x1:fue,y0:uue,y1:cue,slope:yue,dx:z2,dy:q2,width:hue,height:vue,length:due,xcenter:pue,ycenter:gue}});var Ik=fe((xIe,Dk)=>{"use strict";var mue=vl().overrideAll,Hh=ul(),Fk=Fi(),xue=$s().dash,r0=Na().extendFlat,bue=dl().shapeTexttemplateAttrs,_ue=U2();Dk.exports=mue({newshape:{visible:r0({},Hh.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:r0({},Hh.legend,{}),legendgroup:r0({},Hh.legendgroup,{}),legendgrouptitle:{text:r0({},Hh.legendgrouptitle.text,{}),font:Fk({})},legendrank:r0({},Hh.legendrank,{}),legendwidth:r0({},Hh.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:r0({},xue,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:r0({},Hh.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:bue({newshape:!0},{keys:Object.keys(_ue)}),font:Fk({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")});var Ok=fe((bIe,Pk)=>{"use strict";var wue=$s().dash,Aue=Na().extendFlat;Pk.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:Aue({},wue,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}});var G2=fe((_Ie,Nk)=>{"use strict";Nk.exports=function(e){var r=e.editType;return{t:{valType:"number",dflt:0,editType:r},r:{valType:"number",dflt:0,editType:r},b:{valType:"number",dflt:0,editType:r},l:{valType:"number",dflt:0,editType:r},editType:r}}});var Od=fe((wIe,Uk)=>{"use strict";var t4=Fi(),Tue=kg(),H2=Zs(),Bk=Ik(),zk=Ok(),Mue=G2(),qk=Na().extendFlat,V2=t4({editType:"calc"});V2.family.dflt='"Open Sans", verdana, arial, sans-serif';V2.size.dflt=12;V2.color.dflt=H2.defaultLine;Uk.exports={font:V2,title:{text:{valType:"string",editType:"layoutstyle"},font:t4({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:t4({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:qk(Mue({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:H2.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:H2.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:H2.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:Bk.newshape,activeshape:Bk.activeshape,newselection:zk.newselection,activeselection:zk.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:qk({},Tue.transition,{editType:"none"})}});var Gk=fe(()=>{(function(){if(!document.getElementById("b4e9965a2b8054cf272d95188fc7fc2a1ca3dd83c5c0cd2aeb126794a1d7a569")){var e=document.createElement("style");e.id="b4e9965a2b8054cf272d95188fc7fc2a1ca3dd83c5c0cd2aeb126794a1d7a569",e.textContent=`.maplibregl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgb(0 0 0/0)}.maplibregl-canvas{left:0;position:absolute;top:0}.maplibregl-map:fullscreen{height:100%;width:100%}.maplibregl-ctrl-group button.maplibregl-ctrl-compass{touch-action:none}.maplibregl-canvas-container.maplibregl-interactive,.maplibregl-ctrl-group button.maplibregl-ctrl-compass{cursor:grab;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-canvas-container.maplibregl-interactive.maplibregl-track-pointer{cursor:pointer}.maplibregl-canvas-container.maplibregl-interactive:active,.maplibregl-ctrl-group button.maplibregl-ctrl-compass:active{cursor:grabbing}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-canvas-container.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:pinch-zoom}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:none}.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures,.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-ctrl-bottom-left,.maplibregl-ctrl-bottom-right,.maplibregl-ctrl-top-left,.maplibregl-ctrl-top-right{pointer-events:none;position:absolute;z-index:2}.maplibregl-ctrl-top-left{left:0;top:0}.maplibregl-ctrl-top-right{right:0;top:0}.maplibregl-ctrl-bottom-left{bottom:0;left:0}.maplibregl-ctrl-bottom-right{bottom:0;right:0}.maplibregl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.maplibregl-ctrl-top-left .maplibregl-ctrl{float:left;margin:10px 0 0 10px}.maplibregl-ctrl-top-right .maplibregl-ctrl{float:right;margin:10px 10px 0 0}.maplibregl-ctrl-bottom-left .maplibregl-ctrl{float:left;margin:0 0 10px 10px}.maplibregl-ctrl-bottom-right .maplibregl-ctrl{float:right;margin:0 10px 10px 0}.maplibregl-ctrl-group{background:#fff;border-radius:4px}.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (forced-colors:active){.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.maplibregl-ctrl-group button{background-color:transparent;border:0;box-sizing:border-box;cursor:pointer;display:block;height:29px;outline:none;padding:0;width:29px}.maplibregl-ctrl-group button+button{border-top:1px solid #ddd}.maplibregl-ctrl button .maplibregl-ctrl-icon{background-position:50%;background-repeat:no-repeat;display:block;height:100%;width:100%}@media (forced-colors:active){.maplibregl-ctrl-icon{background-color:transparent}.maplibregl-ctrl-group button+button{border-top:1px solid ButtonText}}.maplibregl-ctrl button::-moz-focus-inner{border:0;padding:0}.maplibregl-ctrl-attrib-button:focus,.maplibregl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl button:disabled{cursor:not-allowed}.maplibregl-ctrl button:disabled .maplibregl-ctrl-icon{opacity:.25}.maplibregl-ctrl button:not(:disabled):hover{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.maplibregl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.maplibregl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.maplibregl-ctrl-group button:focus:only-child{border-radius:inherit}.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-terrain .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%23333' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-terrain-enabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%2333b5e5' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23aaa' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-waiting .maplibregl-ctrl-icon{animation:maplibregl-spin 2s linear infinite}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23999' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23666' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}}@keyframes maplibregl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E");background-repeat:no-repeat;cursor:pointer;display:block;height:23px;margin:0 0 -4px -4px;overflow:hidden;width:88px}a.maplibregl-ctrl-logo.maplibregl-compact{width:14px}@media (forced-colors:active){a.maplibregl-ctrl-logo{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}.maplibregl-ctrl.maplibregl-ctrl-attrib{background-color:hsla(0,0%,100%,.5);margin:0;padding:0 5px}@media screen{.maplibregl-ctrl-attrib.maplibregl-compact{background-color:#fff;border-radius:12px;box-sizing:content-box;color:#000;margin:10px;min-height:20px;padding:2px 24px 2px 0;position:relative}.maplibregl-ctrl-attrib.maplibregl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact-show,.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact-show{border-radius:12px;padding:2px 8px 2px 28px}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-inner{display:none}.maplibregl-ctrl-attrib-button{background-color:hsla(0,0%,100%,.5);background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E");border:0;border-radius:12px;box-sizing:border-box;cursor:pointer;display:none;height:24px;outline:none;position:absolute;right:0;top:0;width:24px}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;list-style:none}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button::-webkit-details-marker{display:none}.maplibregl-ctrl-bottom-left .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-top-left .maplibregl-ctrl-attrib-button{left:0}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-inner{display:block}.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-button{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-bottom-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;right:0}.maplibregl-ctrl-top-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{right:0;top:0}.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{left:0;top:0}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;left:0}}@media screen and (forced-colors:active){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}@media screen and (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}.maplibregl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.maplibregl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.maplibregl-attrib-empty{display:none}.maplibregl-ctrl-scale{background-color:hsla(0,0%,100%,.75);border:2px solid #333;border-top:#333;box-sizing:border-box;color:#333;font-size:10px;padding:0 5px}.maplibregl-popup{display:flex;left:0;pointer-events:none;position:absolute;top:0;will-change:transform}.maplibregl-popup-anchor-top,.maplibregl-popup-anchor-top-left,.maplibregl-popup-anchor-top-right{flex-direction:column}.maplibregl-popup-anchor-bottom,.maplibregl-popup-anchor-bottom-left,.maplibregl-popup-anchor-bottom-right{flex-direction:column-reverse}.maplibregl-popup-anchor-left{flex-direction:row}.maplibregl-popup-anchor-right{flex-direction:row-reverse}.maplibregl-popup-tip{border:10px solid transparent;height:0;width:0;z-index:1}.maplibregl-popup-anchor-top .maplibregl-popup-tip{align-self:center;border-bottom-color:#fff;border-top:none}.maplibregl-popup-anchor-top-left .maplibregl-popup-tip{align-self:flex-start;border-bottom-color:#fff;border-left:none;border-top:none}.maplibregl-popup-anchor-top-right .maplibregl-popup-tip{align-self:flex-end;border-bottom-color:#fff;border-right:none;border-top:none}.maplibregl-popup-anchor-bottom .maplibregl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.maplibregl-popup-anchor-left .maplibregl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.maplibregl-popup-anchor-right .maplibregl-popup-tip{align-self:center;border-left-color:#fff;border-right:none}.maplibregl-popup-close-button{background-color:transparent;border:0;border-radius:0 3px 0 0;cursor:pointer;position:absolute;right:0;top:0}.maplibregl-popup-close-button:hover{background-color:rgb(0 0 0/5%)}.maplibregl-popup-content{background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:15px 10px;pointer-events:auto;position:relative}.maplibregl-popup-anchor-top-left .maplibregl-popup-content{border-top-left-radius:0}.maplibregl-popup-anchor-top-right .maplibregl-popup-content{border-top-right-radius:0}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-content{border-bottom-left-radius:0}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-content{border-bottom-right-radius:0}.maplibregl-popup-track-pointer{display:none}.maplibregl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-map:hover .maplibregl-popup-track-pointer{display:flex}.maplibregl-map:active .maplibregl-popup-track-pointer{display:none}.maplibregl-marker{left:0;position:absolute;top:0;transition:opacity .2s;will-change:transform}.maplibregl-user-location-dot,.maplibregl-user-location-dot:before{background-color:#1da1f2;border-radius:50%;height:15px;width:15px}.maplibregl-user-location-dot:before{animation:maplibregl-user-location-dot-pulse 2s infinite;content:"";position:absolute}.maplibregl-user-location-dot:after{border:2px solid #fff;border-radius:50%;box-shadow:0 0 3px rgba(0,0,0,.35);box-sizing:border-box;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px}@keyframes maplibregl-user-location-dot-pulse{0%{opacity:1;transform:scale(1)}70%{opacity:0;transform:scale(3)}to{opacity:0;transform:scale(1)}}.maplibregl-user-location-dot-stale{background-color:#aaa}.maplibregl-user-location-dot-stale:after{display:none}.maplibregl-user-location-accuracy-circle{background-color:#1da1f233;border-radius:100%;height:1px;width:1px}.maplibregl-crosshair,.maplibregl-crosshair .maplibregl-interactive,.maplibregl-crosshair .maplibregl-interactive:active{cursor:crosshair}.maplibregl-boxzoom{background:#fff;border:2px dotted #202020;height:0;left:0;opacity:.5;position:absolute;top:0;width:0}.maplibregl-cooperative-gesture-screen{align-items:center;background:rgba(0,0,0,.4);color:#fff;display:flex;font-size:1.4em;inset:0;justify-content:center;line-height:1.2;opacity:0;padding:1rem;pointer-events:none;position:absolute;transition:opacity 1s ease 1s;z-index:99999}.maplibregl-cooperative-gesture-screen.maplibregl-show{opacity:1;transition:opacity .05s}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:none}@media (hover:none),(width <= 480px){.maplibregl-cooperative-gesture-screen .maplibregl-desktop-message{display:none}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:block}}.maplibregl-pseudo-fullscreen{height:100%!important;left:0!important;position:fixed!important;top:0!important;width:100%!important;z-index:99999}`,document.head.appendChild(e)}})()});var Qt=fe(Rn=>{"use strict";var Nd=Gh(),Hk=N2(),Vk=$w(),Eue=Jc(),Sue=Cg().addStyleRule,Yk=Na(),Cue=ul(),kue=Od(),Lue=Yk.extendFlat,n4=Yk.extendDeepAll;Rn.modules={};Rn.allCategories={};Rn.allTypes=[];Rn.subplotsRegistry={};Rn.componentsRegistry={};Rn.layoutArrayContainers=[];Rn.layoutArrayRegexes=[];Rn.traceLayoutAttributes={};Rn.localeRegistry={};Rn.apiMethodRegistry={};Rn.collectableSubplotTypes=null;Rn.register=function(r){if(Rn.collectableSubplotTypes=null,r)r&&!Array.isArray(r)&&(r=[r]);else throw new Error("No argument passed to Plotly.register.");for(var t=0;t<r.length;t++){var n=r[t];if(!n)throw new Error("Invalid module was attempted to be registered!");switch(n.moduleType){case"trace":Rue(n);break;case"transform":Iue(n);break;case"component":Due(n);break;case"locale":Pue(n);break;case"apiMethod":var a=n.name;Rn.apiMethodRegistry[a]=n.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}};Rn.getModule=function(e){var r=Rn.modules[Zk(e)];return r?r._module:!1};Rn.traceIs=function(e,r){if(e=Zk(e),e==="various")return!1;var t=Rn.modules[e];return t||(e&&Nd.log("Unrecognized trace type "+e+"."),t=Rn.modules[Cue.type.dflt]),!!t.categories[r]};Rn.getComponentMethod=function(e,r){var t=Rn.componentsRegistry[e];return t&&t[r]||Hk};Rn.call=function(){var e=arguments[0],r=[].slice.call(arguments,1);return Rn.apiMethodRegistry[e].apply(null,r)};function Rue(e){var r=e.name,t=e.categories,n=e.meta;if(Rn.modules[r]){Nd.log("Type "+r+" already registered");return}Rn.subplotsRegistry[e.basePlotModule.name]||Fue(e.basePlotModule);for(var a={},o=0;o<t.length;o++)a[t[o]]=!0,Rn.allCategories[t[o]]=!0;Rn.modules[r]={_module:e,categories:a},n&&Object.keys(n).length&&(Rn.modules[r].meta=n),Rn.allTypes.push(r);for(var i in Rn.componentsRegistry)Xk(i,r);e.layoutAttributes&&Lue(Rn.traceLayoutAttributes,e.layoutAttributes);var l=e.basePlotModule,f=l.name;if(f==="mapbox"){var s=l.constants.styleRules;for(var u in s)Sue(".js-plotly-plot .plotly .mapboxgl-"+u,s[u])}f==="map"&&Gk(),(f==="geo"||f==="mapbox"||f==="map")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function Fue(e){var r=e.name;if(Rn.subplotsRegistry[r]){Nd.log("Plot type "+r+" already registered.");return}Wk(e),Rn.subplotsRegistry[r]=e;for(var t in Rn.componentsRegistry)jk(t,e.name)}function Due(e){if(typeof e.name!="string")throw new Error("Component module *name* must be a string.");var r=e.name;Rn.componentsRegistry[r]=e,e.layoutAttributes&&(e.layoutAttributes._isLinkedToArray&&Vk(Rn.layoutArrayContainers,r),Wk(e));for(var t in Rn.modules)Xk(r,t);for(var n in Rn.subplotsRegistry)jk(r,n);e.schema&&e.schema.layout&&n4(kue,e.schema.layout)}function Iue(e){if(typeof e.name!="string")throw new Error("Transform module *name* must be a string.");var r="Transform module "+e.name,t=typeof e.transform=="function",n=typeof e.calcTransform=="function";if(!t&&!n)throw new Error(r+" is missing a *transform* or *calcTransform* method.");t&&n&&Nd.log([r+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),Eue(e.attributes)||Nd.log(r+" registered without an *attributes* object."),typeof e.supplyDefaults!="function"&&Nd.log(r+" registered without a *supplyDefaults* method.")}function Pue(e){var r=e.name,t=r.split("-")[0],n=e.dictionary,a=e.format,o=n&&Object.keys(n).length,i=a&&Object.keys(a).length,l=Rn.localeRegistry,f=l[r];if(f||(l[r]=f={}),t!==r){var s=l[t];s||(l[t]=s={}),o&&s.dictionary===f.dictionary&&(s.dictionary=n),i&&s.format===f.format&&(s.format=a)}o&&(f.dictionary=n),i&&(f.format=a)}function Wk(e){if(e.layoutAttributes){var r=e.layoutAttributes._arrayAttrRegexps;if(r)for(var t=0;t<r.length;t++)Vk(Rn.layoutArrayRegexes,r[t])}}function Xk(e,r){var t=Rn.componentsRegistry[e].schema;if(!(!t||!t.traces)){var n=t.traces[r];n&&n4(Rn.modules[r]._module.attributes,n)}}function jk(e,r){var t=Rn.componentsRegistry[e].schema;if(!(!t||!t.subplots)){var n=Rn.subplotsRegistry[r],a=n.layoutAttributes,o=n.attr==="subplot"?n.name:n.attr;Array.isArray(o)&&(o=o[0]);var i=t.subplots[o];a&&i&&n4(a,i)}}function Zk(e){return typeof e=="object"&&(e=e.type),e}});var aL=fe(ei=>{"use strict";var Oue=kd().timeFormat,tL=kn(),a4=Gh(),n0=Rd().mod,qd=ui(),ss=qd.BADNUM,pl=qd.ONEDAY,Rg=qd.ONEHOUR,t0=qd.ONEMIN,zd=qd.ONESEC,Fg=qd.EPOCHJD,Vu=Qt(),$k=kd().utcFormat,Nue=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,Bue=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,Jk=new Date().getFullYear()-70;function Yu(e){return e&&Vu.componentsRegistry.calendars&&typeof e=="string"&&e!=="gregorian"}ei.dateTick0=function(e,r){var t=zue(e,!!r);if(r<2)return t;var n=ei.dateTime2ms(t,e);return n+=pl*(r-1),ei.ms2DateTime(n,0,e)};function zue(e,r){return Yu(e)?r?Vu.getComponentMethod("calendars","CANONICAL_SUNDAY")[e]:Vu.getComponentMethod("calendars","CANONICAL_TICK")[e]:r?"2000-01-02":"2000-01-01"}ei.dfltRange=function(e){return Yu(e)?Vu.getComponentMethod("calendars","DFLTRANGE")[e]:["2000-01-01","2001-01-01"]};ei.isJSDate=function(e){return typeof e=="object"&&e!==null&&typeof e.getTime=="function"};var W2,X2;ei.dateTime2ms=function(e,r){if(ei.isJSDate(e)){var t=e.getTimezoneOffset()*t0,n=(e.getUTCMinutes()-e.getMinutes())*t0+(e.getUTCSeconds()-e.getSeconds())*zd+(e.getUTCMilliseconds()-e.getMilliseconds());if(n){var a=3*t0;t=t-a/2+n0(n-t+a/2,a)}return e=Number(e)-t,e>=W2&&e<=X2?e:ss}if(typeof e!="string"&&typeof e!="number")return ss;e=String(e);var o=Yu(r),i=e.charAt(0);o&&(i==="G"||i==="g")&&(e=e.substr(1),r="");var l=o&&r.substr(0,7)==="chinese",f=e.match(l?Bue:Nue);if(!f)return ss;var s=f[1],u=f[3]||"1",c=Number(f[5]||1),v=Number(f[7]||0),x=Number(f[9]||0),m=Number(f[11]||0);if(o){if(s.length===2)return ss;s=Number(s);var w;try{var A=Vu.getComponentMethod("calendars","getCal")(r);if(l){var y=u.charAt(u.length-1)==="i";u=parseInt(u,10),w=A.newDate(s,A.toMonthIndex(s,u,y),c)}else w=A.newDate(s,Number(u),c)}catch(E){return ss}return w?(w.toJD()-Fg)*pl+v*Rg+x*t0+m*zd:ss}s.length===2?s=(Number(s)+2e3-Jk)%100+Jk:s=Number(s),u-=1;var M=new Date(Date.UTC(2e3,u,c,v,x));return M.setUTCFullYear(s),M.getUTCMonth()!==u||M.getUTCDate()!==c?ss:M.getTime()+m*zd};W2=ei.MIN_MS=ei.dateTime2ms("-9999");X2=ei.MAX_MS=ei.dateTime2ms("9999-12-31 23:59:59.9999");ei.isDateTime=function(e,r){return ei.dateTime2ms(e,r)!==ss};function Bd(e,r){return String(e+Math.pow(10,r)).substr(1)}var Y2=90*pl,Kk=3*Rg,Qk=5*t0;ei.ms2DateTime=function(e,r,t){if(typeof e!="number"||!(e>=W2&&e<=X2))return ss;r||(r=0);var n=Math.floor(n0(e+.05,1)*10),a=Math.round(e-n/10),o,i,l,f,s,u;if(Yu(t)){var c=Math.floor(a/pl)+Fg,v=Math.floor(n0(e,pl));try{o=Vu.getComponentMethod("calendars","getCal")(t).fromJD(c).formatDate("yyyy-mm-dd")}catch(x){o=$k("G%Y-%m-%d")(new Date(a))}if(o.charAt(0)==="-")for(;o.length<11;)o="-0"+o.substr(1);else for(;o.length<10;)o="0"+o;i=r<Y2?Math.floor(v/Rg):0,l=r<Y2?Math.floor(v%Rg/t0):0,f=r<Kk?Math.floor(v%t0/zd):0,s=r<Qk?v%zd*10+n:0}else u=new Date(a),o=$k("%Y-%m-%d")(u),i=r<Y2?u.getUTCHours():0,l=r<Y2?u.getUTCMinutes():0,f=r<Kk?u.getUTCSeconds():0,s=r<Qk?u.getUTCMilliseconds()*10+n:0;return nL(o,i,l,f,s)};ei.ms2DateTimeLocal=function(e){if(!(e>=W2+pl&&e<=X2-pl))return ss;var r=Math.floor(n0(e+.05,1)*10),t=new Date(Math.round(e-r/10)),n=Oue("%Y-%m-%d")(t),a=t.getHours(),o=t.getMinutes(),i=t.getSeconds(),l=t.getUTCMilliseconds()*10+r;return nL(n,a,o,i,l)};function nL(e,r,t,n,a){if((r||t||n||a)&&(e+=" "+Bd(r,2)+":"+Bd(t,2),(n||a)&&(e+=":"+Bd(n,2),a))){for(var o=4;a%10===0;)o-=1,a/=10;e+="."+Bd(a,o)}return e}ei.cleanDate=function(e,r,t){if(e===ss)return r;if(ei.isJSDate(e)||typeof e=="number"&&isFinite(e)){if(Yu(t))return a4.error("JS Dates and milliseconds are incompatible with world calendars",e),r;if(e=ei.ms2DateTimeLocal(+e),!e&&r!==void 0)return r}else if(!ei.isDateTime(e,t))return a4.error("unrecognized date",e),r;return e};var que=/%\d?f/g,Uue=/%h/g,Gue={1:"1",2:"1",3:"2",4:"2"};function eL(e,r,t,n){e=e.replace(que,function(o){var i=Math.min(+o.charAt(1)||6,6),l=(r/1e3%1+2).toFixed(i).substr(2).replace(/0+$/,"")||"0";return l});var a=new Date(Math.floor(r+.05));if(e=e.replace(Uue,function(){return Gue[t("%q")(a)]}),Yu(n))try{e=Vu.getComponentMethod("calendars","worldCalFmt")(e,r,n)}catch(o){return"Invalid"}return t(e)(a)}var Hue=[59,59.9,59.99,59.999,59.9999];function Vue(e,r){var t=n0(e+.05,pl),n=Bd(Math.floor(t/Rg),2)+":"+Bd(n0(Math.floor(t/t0),60),2);if(r!=="M"){tL(r)||(r=0);var a=Math.min(n0(e/zd,60),Hue[r]),o=(100+a).toFixed(r).substr(1);r>0&&(o=o.replace(/0+$/,"").replace(/[\.]$/,"")),n+=":"+o}return n}ei.formatDate=function(e,r,t,n,a,o){if(a=Yu(a)&&a,!r)if(t==="y")r=o.year;else if(t==="m")r=o.month;else if(t==="d")r=o.dayMonth+`
`+o.year;else return Vue(e,t)+`
`+eL(o.dayMonthYear,e,n,a);return eL(r,e,n,a)};var rL=3*pl;ei.incrementMonth=function(e,r,t){t=Yu(t)&&t;var n=n0(e,pl);if(e=Math.round(e-n),t)try{var a=Math.round(e/pl)+Fg,o=Vu.getComponentMethod("calendars","getCal")(t),i=o.fromJD(a);return r%12?o.add(i,r,"m"):o.add(i,r/12,"y"),(i.toJD()-Fg)*pl+n}catch(f){a4.error("invalid ms "+e+" in calendar "+t)}var l=new Date(e+rL);return l.setUTCMonth(l.getUTCMonth()+r)+n-rL};ei.findExactDates=function(e,r){for(var t=0,n=0,a=0,o=0,i,l,f=Yu(r)&&Vu.getComponentMethod("calendars","getCal")(r),s=0;s<e.length;s++){if(l=e[s],!tL(l)){o++;continue}if(!(l%pl))if(f)try{i=f.fromJD(l/pl+Fg),i.day()===1?i.month()===1?t++:n++:a++}catch(c){}else i=new Date(l),i.getUTCDate()===1?i.getUTCMonth()===0?t++:n++:a++}n+=t,a+=n;var u=e.length-o;return{exactYears:t/u,exactMonths:n/u,exactDays:a/u}}});var i4=fe((SIe,iL)=>{"use strict";iL.exports=function(r){return r}});var l4=fe(Wu=>{"use strict";var Yue=kn(),Wue=Gh(),Xue=i4(),jue=ui().BADNUM,o4=1e-9;Wu.findBin=function(e,r,t){if(Yue(r.start))return t?Math.ceil((e-r.start)/r.size-o4)-1:Math.floor((e-r.start)/r.size+o4);var n=0,a=r.length,o=0,i=a>1?(r[a-1]-r[0])/(a-1):1,l,f;for(i>=0?f=t?Zue:$ue:f=t?Kue:Jue,e+=i*o4*(t?-1:1)*(i>=0?1:-1);n<a&&o++<100;)l=Math.floor((n+a)/2),f(r[l],e)?n=l+1:a=l;return o>90&&Wue.log("Long binary search..."),n-1};function Zue(e,r){return e<r}function $ue(e,r){return e<=r}function Jue(e,r){return e>r}function Kue(e,r){return e>=r}Wu.sorterAsc=function(e,r){return e-r};Wu.sorterDes=function(e,r){return r-e};Wu.distinctVals=function(e){var r=e.slice();r.sort(Wu.sorterAsc);var t;for(t=r.length-1;t>-1&&r[t]===jue;t--);for(var n=r[t]-r[0]||1,a=n/(t||1)/1e4,o=[],i,l=0;l<=t;l++){var f=r[l],s=f-i;i===void 0?(o.push(f),i=f):s>a&&(n=Math.min(n,s),o.push(f),i=f)}return{vals:o,minDiff:n}};Wu.roundUp=function(e,r,t){for(var n=0,a=r.length-1,o,i=0,l=t?0:1,f=t?1:0,s=t?Math.ceil:Math.floor;n<a&&i++<100;)o=s((n+a)/2),r[o]<=e?n=o+l:a=o-f;return r[n]};Wu.sort=function(e,r){for(var t=0,n=0,a=1;a<e.length;a++){var o=r(e[a],e[a-1]);if(o<0?t=1:o>0&&(n=1),t&&n)return e.sort(r)}return n?e:e.reverse()};Wu.findIndexOfMin=function(e,r){r=r||Xue;for(var t=1/0,n,a=0;a<e.length;a++){var o=r(e[a]);o<t&&(t=o,n=a)}return n}});var Dg=fe((kIe,oL)=>{"use strict";oL.exports=function(r){return Object.keys(r).sort()}});var lL=fe(ri=>{"use strict";var Ig=kn(),Que=sl().isArrayOrTypedArray;ri.aggNums=function(e,r,t,n){var a,o;if((!n||n>t.length)&&(n=t.length),Ig(r)||(r=!1),Que(t[0])){for(o=new Array(n),a=0;a<n;a++)o[a]=ri.aggNums(e,r,t[a]);t=o}for(a=0;a<n;a++)Ig(r)?Ig(t[a])&&(r=e(+r,+t[a])):r=t[a];return r};ri.len=function(e){return ri.aggNums(function(r){return r+1},0,e)};ri.mean=function(e,r){return r||(r=ri.len(e)),ri.aggNums(function(t,n){return t+n},0,e)/r};ri.geometricMean=function(e,r){return r||(r=ri.len(e)),Math.pow(ri.aggNums(function(t,n){return t*n},1,e),1/r)};ri.midRange=function(e){if(!(e===void 0||e.length===0))return(ri.aggNums(Math.max,null,e)+ri.aggNums(Math.min,null,e))/2};ri.variance=function(e,r,t){return r||(r=ri.len(e)),Ig(t)||(t=ri.mean(e,r)),ri.aggNums(function(n,a){return n+Math.pow(a-t,2)},0,e)/r};ri.stdev=function(e,r,t){return Math.sqrt(ri.variance(e,r,t))};ri.median=function(e){var r=e.slice().sort();return ri.interp(r,.5)};ri.interp=function(e,r){if(!Ig(r))throw"n should be a finite number";if(r=r*e.length-.5,r<0)return e[0];if(r>e.length-1)return e[e.length-1];var t=r%1;return t*e[Math.ceil(r)]+(1-t)*e[Math.floor(r)]}});var hL=fe((RIe,cL)=>{"use strict";var sL=Rd(),s4=sL.mod,ece=sL.modHalf,Pg=Math.PI,a0=2*Pg;function rce(e){return e/180*Pg}function tce(e){return e/Pg*180}function f4(e){return Math.abs(e[1]-e[0])>a0-1e-14}function fL(e,r){return ece(r-e,a0)}function nce(e,r){return Math.abs(fL(e,r))}function uL(e,r){if(f4(r))return!0;var t,n;r[0]<r[1]?(t=r[0],n=r[1]):(t=r[1],n=r[0]),t=s4(t,a0),n=s4(n,a0),t>n&&(n+=a0);var a=s4(e,a0),o=a+a0;return a>=t&&a<=n||o>=t&&o<=n}function ace(e,r,t,n){if(!uL(r,n))return!1;var a,o;return t[0]<t[1]?(a=t[0],o=t[1]):(a=t[1],o=t[0]),e>=a&&e<=o}function u4(e,r,t,n,a,o,i){a=a||0,o=o||0;var l=f4([t,n]),f,s,u,c,v;l?(f=0,s=Pg,u=a0):t<n?(f=t,u=n):(f=n,u=t),e<r?(c=e,v=r):(c=r,v=e);function x(y,M){return[y*Math.cos(M)+a,o-y*Math.sin(M)]}var m=Math.abs(u-f)<=Pg?0:1;function w(y,M,E){return"A"+[y,y]+" "+[0,m,E]+" "+x(y,M)}var A;return l?c===null?A="M"+x(v,f)+w(v,s,0)+w(v,u,0)+"Z":A="M"+x(c,f)+w(c,s,0)+w(c,u,0)+"ZM"+x(v,f)+w(v,s,1)+w(v,u,1)+"Z":c===null?(A="M"+x(v,f)+w(v,u,0),i&&(A+="L0,0Z")):A="M"+x(c,f)+"L"+x(v,f)+w(v,u,0)+"L"+x(c,u)+w(c,f,1)+"Z",A}function ice(e,r,t,n,a){return u4(null,e,r,t,n,a,0)}function oce(e,r,t,n,a){return u4(null,e,r,t,n,a,1)}function lce(e,r,t,n,a,o){return u4(e,r,t,n,a,o,1)}cL.exports={deg2rad:rce,rad2deg:tce,angleDelta:fL,angleDist:nce,isFullCircle:f4,isAngleInsideSector:uL,isPtInsideSector:ace,pathArc:ice,pathSector:oce,pathAnnulus:lce}});var vL=fe(Vh=>{"use strict";Vh.isLeftAnchor=function(r){return r.xanchor==="left"||r.xanchor==="auto"&&r.x<=1/3};Vh.isCenterAnchor=function(r){return r.xanchor==="center"||r.xanchor==="auto"&&r.x>1/3&&r.x<2/3};Vh.isRightAnchor=function(r){return r.xanchor==="right"||r.xanchor==="auto"&&r.x>=2/3};Vh.isTopAnchor=function(r){return r.yanchor==="top"||r.yanchor==="auto"&&r.y>=2/3};Vh.isMiddleAnchor=function(r){return r.yanchor==="middle"||r.yanchor==="auto"&&r.y>1/3&&r.y<2/3};Vh.isBottomAnchor=function(r){return r.yanchor==="bottom"||r.yanchor==="auto"&&r.y<=1/3}});var gL=fe(Yh=>{"use strict";var c4=Rd().mod;Yh.segmentsIntersect=pL;function pL(e,r,t,n,a,o,i,l){var f=t-e,s=a-e,u=i-a,c=n-r,v=o-r,x=l-o,m=f*x-u*c;if(m===0)return null;var w=(s*x-u*v)/m,A=(s*c-f*v)/m;return A<0||A>1||w<0||w>1?null:{x:e+f*w,y:r+c*w}}Yh.segmentDistance=function(r,t,n,a,o,i,l,f){if(pL(r,t,n,a,o,i,l,f))return 0;var s=n-r,u=a-t,c=l-o,v=f-i,x=s*s+u*u,m=c*c+v*v,w=Math.min(j2(s,u,x,o-r,i-t),j2(s,u,x,l-r,f-t),j2(c,v,m,r-o,t-i),j2(c,v,m,n-o,a-i));return Math.sqrt(w)};function j2(e,r,t,n,a){var o=n*e+a*r;if(o<0)return n*n+a*a;if(o>t){var i=n-e,l=a-r;return i*i+l*l}else{var f=n*r-a*e;return f*f/t}}var Z2,h4,dL;Yh.getTextLocation=function(r,t,n,a){if((r!==h4||a!==dL)&&(Z2={},h4=r,dL=a),Z2[n])return Z2[n];var o=r.getPointAtLength(c4(n-a/2,t)),i=r.getPointAtLength(c4(n+a/2,t)),l=Math.atan((i.y-o.y)/(i.x-o.x)),f=r.getPointAtLength(c4(n,t)),s=(f.x*4+o.x+i.x)/6,u=(f.y*4+o.y+i.y)/6,c={x:s,y:u,theta:l};return Z2[n]=c,c};Yh.clearLocationCache=function(){h4=null};Yh.getVisibleSegment=function(r,t,n){var a=t.left,o=t.right,i=t.top,l=t.bottom,f=0,s=r.getTotalLength(),u=s,c,v;function x(w){var A=r.getPointAtLength(w);w===0?c=A:w===s&&(v=A);var y=A.x<a?a-A.x:A.x>o?A.x-o:0,M=A.y<i?i-A.y:A.y>l?A.y-l:0;return Math.sqrt(y*y+M*M)}for(var m=x(f);m;){if(f+=m+n,f>u)return;m=x(f)}for(m=x(u);m;){if(u-=m+n,f>u)return;m=x(u)}return{min:f,max:u,len:u-f,total:s,isClosed:f===0&&u===s&&Math.abs(c.x-v.x)<.1&&Math.abs(c.y-v.y)<.1}};Yh.findPointOnPath=function(r,t,n,a){a=a||{};for(var o=a.pathLength||r.getTotalLength(),i=a.tolerance||.001,l=a.iterationLimit||30,f=r.getPointAtLength(0)[n]>r.getPointAtLength(o)[n]?-1:1,s=0,u=0,c=o,v,x,m;s<l;){if(v=(u+c)/2,x=r.getPointAtLength(v),m=x[n]-t,Math.abs(m)<i)return x;f*m>0?c=v:u=v,s++}return x}});var $2=fe(Og=>{"use strict";var Xu={};Og.throttle=function(r,t,n){var a=Xu[r],o=Date.now();if(!a){for(var i in Xu)Xu[i].ts<o-6e4&&delete Xu[i];a=Xu[r]={ts:0,timer:null}}yL(a);function l(){n(),a.ts=Date.now(),a.onDone&&(a.onDone(),a.onDone=null)}if(o>a.ts+t){l();return}a.timer=setTimeout(function(){l(),a.timer=null},t)};Og.done=function(e){var r=Xu[e];return!r||!r.timer?Promise.resolve():new Promise(function(t){var n=r.onDone;r.onDone=function(){n&&n(),t(),r.onDone=null}})};Og.clear=function(e){if(e)yL(Xu[e]),delete Xu[e];else for(var r in Xu)Og.clear(r)};function yL(e){e&&e.timer!==null&&(clearTimeout(e.timer),e.timer=null)}});var xL=fe((PIe,mL)=>{"use strict";mL.exports=function(r){r._responsiveChartHandler&&(window.removeEventListener("resize",r._responsiveChartHandler),delete r._responsiveChartHandler)}});var bL=fe((OIe,J2)=>{"use strict";J2.exports=v4;J2.exports.isMobile=v4;J2.exports.default=v4;var sce=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,fce=/CrOS/,uce=/android|ipad|playbook|silk/i;function v4(e){e||(e={});let r=e.ua;if(!r&&typeof navigator!="undefined"&&(r=navigator.userAgent),r&&r.headers&&typeof r.headers["user-agent"]=="string"&&(r=r.headers["user-agent"]),typeof r!="string")return!1;let t=sce.test(r)&&!fce.test(r)||!!e.tablet&&uce.test(r);return!t&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&r.indexOf("Macintosh")!==-1&&r.indexOf("Safari")!==-1&&(t=!0),t}});var wL=fe((NIe,_L)=>{"use strict";var cce=kn(),hce=bL();_L.exports=function(r){var t;if(r&&r.hasOwnProperty("userAgent")?t=r.userAgent:t=vce(),typeof t!="string")return!0;var n=hce({ua:{headers:{"user-agent":t}},tablet:!0,featureDetect:!1});if(!n)for(var a=t.split(" "),o=1;o<a.length;o++){var i=a[o];if(i.indexOf("Safari")!==-1)for(var l=o-1;l>-1;l--){var f=a[l];if(f.substr(0,8)==="Version/"){var s=f.substr(8).split(".")[0];if(cce(s)&&(s=+s),s>=13)return!0}}}return n};function vce(){var e;return typeof navigator!="undefined"&&(e=navigator.userAgent),e&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),e}});var TL=fe((BIe,AL)=>{"use strict";var dce=Ln();AL.exports=function(r,t,n){var a=r.selectAll("g."+n.replace(/\s/g,".")).data(t,function(i){return i[0].trace.uid});a.exit().remove(),a.enter().append("g").attr("class",n),a.order();var o=r.classed("rangeplot")?"nodeRangePlot3":"node3";return a.each(function(i){i[0][o]=dce.select(this)}),a}});var EL=fe((zIe,ML)=>{"use strict";var pce=Qt();ML.exports=function(r,t){for(var n=r._context.locale,a=0;a<2;a++){for(var o=r._context.locales,i=0;i<2;i++){var l=(o[n]||{}).dictionary;if(l){var f=l[t];if(f)return f}o=pce.localeRegistry}var s=n.split("-")[0];if(s===n)break;n=s}return t}});var CL=fe((qIe,SL)=>{"use strict";SL.exports=function(r){for(var t={},n=[],a=0,o=0;o<r.length;o++){var i=r[o];t[i]!==1&&(t[i]=1,n[a++]=i)}return n}});var LL=fe((UIe,kL)=>{"use strict";kL.exports=function(r){for(var t=mce(r)?yce:gce,n=[],a=0;a<r.length;a++){var o=r[a];t(o)&&n.push(o)}return n};function gce(e){return e.visible===!0}function yce(e){var r=e[0].trace;return r.visible===!0&&r._length!==0}function mce(e){return Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace}});var FL=fe((GIe,RL)=>{"use strict";RL.exports=function(r,t){if(!t)return r;var n=1/Math.abs(t),a=n>1?(n*r+n*t)/n:r+t,o=String(a).length;if(o>16){var i=String(t).length,l=String(r).length;if(o>=l+i){var f=parseFloat(a).toPrecision(12);f.indexOf("e+")===-1&&(a=+f)}}return a}});var IL=fe((HIe,DL)=>{"use strict";var xce=kn(),bce=ui().BADNUM,_ce=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;DL.exports=function(r){return typeof r=="string"&&(r=r.replace(_ce,"")),xce(r)?Number(r):bce}});var tt=fe((VIe,XL)=>{"use strict";var Ng=Ln(),wce=kd().utcFormat,Ace=Ow().format,qL=kn(),UL=ui(),GL=UL.FP_SAFE,Tce=-GL,PL=UL.BADNUM,Tr=XL.exports={};Tr.adjustFormat=function(r){return!r||/^\d[.]\df/.test(r)||/[.]\d%/.test(r)?r:r==="0.f"?"~f":/^\d%/.test(r)?"~%":/^\ds/.test(r)?"~s":!/^[~,.0$]/.test(r)&&/[&fps]/.test(r)?"~"+r:r};var OL={};Tr.warnBadFormat=function(e){var r=String(e);OL[r]||(OL[r]=1,Tr.warn('encountered bad format: "'+r+'"'))};Tr.noFormat=function(e){return String(e)};Tr.numberFormat=function(e){var r;try{r=Ace(Tr.adjustFormat(e))}catch(t){return Tr.warnBadFormat(e),Tr.noFormat}return r};Tr.nestedProperty=k2();Tr.keyedContainer=E9();Tr.relativeAttr=C9();Tr.isPlainObject=Jc();Tr.toLogRange=R2();Tr.relinkPrivateKeys=F9();var i0=sl();Tr.isArrayBuffer=i0.isArrayBuffer;Tr.isTypedArray=i0.isTypedArray;Tr.isArrayOrTypedArray=i0.isArrayOrTypedArray;Tr.isArray1D=i0.isArray1D;Tr.ensureArray=i0.ensureArray;Tr.concat=i0.concat;Tr.maxRowLength=i0.maxRowLength;Tr.minRowLength=i0.minRowLength;var HL=Rd();Tr.mod=HL.mod;Tr.modHalf=HL.modHalf;var o0=J9();Tr.valObjectMeta=o0.valObjectMeta;Tr.coerce=o0.coerce;Tr.coerce2=o0.coerce2;Tr.coerceFont=o0.coerceFont;Tr.coercePattern=o0.coercePattern;Tr.coerceHoverinfo=o0.coerceHoverinfo;Tr.coerceSelectionMarkerOpacity=o0.coerceSelectionMarkerOpacity;Tr.validate=o0.validate;var Hl=aL();Tr.dateTime2ms=Hl.dateTime2ms;Tr.isDateTime=Hl.isDateTime;Tr.ms2DateTime=Hl.ms2DateTime;Tr.ms2DateTimeLocal=Hl.ms2DateTimeLocal;Tr.cleanDate=Hl.cleanDate;Tr.isJSDate=Hl.isJSDate;Tr.formatDate=Hl.formatDate;Tr.incrementMonth=Hl.incrementMonth;Tr.dateTick0=Hl.dateTick0;Tr.dfltRange=Hl.dfltRange;Tr.findExactDates=Hl.findExactDates;Tr.MIN_MS=Hl.MIN_MS;Tr.MAX_MS=Hl.MAX_MS;var Wh=l4();Tr.findBin=Wh.findBin;Tr.sorterAsc=Wh.sorterAsc;Tr.sorterDes=Wh.sorterDes;Tr.distinctVals=Wh.distinctVals;Tr.roundUp=Wh.roundUp;Tr.sort=Wh.sort;Tr.findIndexOfMin=Wh.findIndexOfMin;Tr.sortObjectKeys=Dg();var ju=lL();Tr.aggNums=ju.aggNums;Tr.len=ju.len;Tr.mean=ju.mean;Tr.geometricMean=ju.geometricMean;Tr.median=ju.median;Tr.midRange=ju.midRange;Tr.variance=ju.variance;Tr.stdev=ju.stdev;Tr.interp=ju.interp;var Js=B2();Tr.init2dArray=Js.init2dArray;Tr.transposeRagged=Js.transposeRagged;Tr.dot=Js.dot;Tr.translationMatrix=Js.translationMatrix;Tr.rotationMatrix=Js.rotationMatrix;Tr.rotationXYMatrix=Js.rotationXYMatrix;Tr.apply3DTransform=Js.apply3DTransform;Tr.apply2DTransform=Js.apply2DTransform;Tr.apply2DTransform2=Js.apply2DTransform2;Tr.convertCssMatrix=Js.convertCssMatrix;Tr.inverseTransformMatrix=Js.inverseTransformMatrix;var jf=hL();Tr.deg2rad=jf.deg2rad;Tr.rad2deg=jf.rad2deg;Tr.angleDelta=jf.angleDelta;Tr.angleDist=jf.angleDist;Tr.isFullCircle=jf.isFullCircle;Tr.isAngleInsideSector=jf.isAngleInsideSector;Tr.isPtInsideSector=jf.isPtInsideSector;Tr.pathArc=jf.pathArc;Tr.pathSector=jf.pathSector;Tr.pathAnnulus=jf.pathAnnulus;var Gd=vL();Tr.isLeftAnchor=Gd.isLeftAnchor;Tr.isCenterAnchor=Gd.isCenterAnchor;Tr.isRightAnchor=Gd.isRightAnchor;Tr.isTopAnchor=Gd.isTopAnchor;Tr.isMiddleAnchor=Gd.isMiddleAnchor;Tr.isBottomAnchor=Gd.isBottomAnchor;var Hd=gL();Tr.segmentsIntersect=Hd.segmentsIntersect;Tr.segmentDistance=Hd.segmentDistance;Tr.getTextLocation=Hd.getTextLocation;Tr.clearLocationCache=Hd.clearLocationCache;Tr.getVisibleSegment=Hd.getVisibleSegment;Tr.findPointOnPath=Hd.findPointOnPath;var e3=Na();Tr.extendFlat=e3.extendFlat;Tr.extendDeep=e3.extendDeep;Tr.extendDeepAll=e3.extendDeepAll;Tr.extendDeepNoArrays=e3.extendDeepNoArrays;var d4=Gh();Tr.log=d4.log;Tr.warn=d4.warn;Tr.error=d4.error;var Mce=Dd();Tr.counterRegex=Mce.counter;var p4=$2();Tr.throttle=p4.throttle;Tr.throttleDone=p4.done;Tr.clearThrottle=p4.clear;var Ks=Cg();Tr.getGraphDiv=Ks.getGraphDiv;Tr.isPlotDiv=Ks.isPlotDiv;Tr.removeElement=Ks.removeElement;Tr.addStyleRule=Ks.addStyleRule;Tr.addRelatedStyleRule=Ks.addRelatedStyleRule;Tr.deleteRelatedStyleRule=Ks.deleteRelatedStyleRule;Tr.setStyleOnHover=Ks.setStyleOnHover;Tr.getFullTransformMatrix=Ks.getFullTransformMatrix;Tr.getElementTransformMatrix=Ks.getElementTransformMatrix;Tr.getElementAndAncestors=Ks.getElementAndAncestors;Tr.equalDomRects=Ks.equalDomRects;Tr.clearResponsive=xL();Tr.preserveDrawingBuffer=wL();Tr.makeTraceGroups=TL();Tr._=EL();Tr.notifier=Xw();Tr.filterUnique=CL();Tr.filterVisible=LL();Tr.pushUnique=$w();Tr.increment=FL();Tr.cleanNumber=IL();Tr.ensureNumber=function(r){return qL(r)?(r=Number(r),r>GL||r<Tce?PL:r):PL};Tr.isIndex=function(e,r){return r!==void 0&&e>=r?!1:qL(e)&&e>=0&&e%1===0};Tr.noop=N2();Tr.identity=i4();Tr.repeat=function(e,r){for(var t=new Array(r),n=0;n<r;n++)t[n]=e;return t};Tr.swapAttrs=function(e,r,t,n){t||(t="x"),n||(n="y");for(var a=0;a<r.length;a++){var o=r[a],i=Tr.nestedProperty(e,o.replace("?",t)),l=Tr.nestedProperty(e,o.replace("?",n)),f=i.get();i.set(l.get()),l.set(f)}};Tr.raiseToTop=function(r){r.parentNode.appendChild(r)};Tr.cancelTransition=function(e){return e.transition().duration(0)};Tr.constrain=function(e,r,t){return r>t?Math.max(t,Math.min(r,e)):Math.max(r,Math.min(t,e))};Tr.bBoxIntersect=function(e,r,t){return t=t||0,e.left<=r.right+t&&r.left<=e.right+t&&e.top<=r.bottom+t&&r.top<=e.bottom+t};Tr.simpleMap=function(e,r,t,n,a){for(var o=e.length,i=new Array(o),l=0;l<o;l++)i[l]=r(e[l],t,n,a);return i};Tr.randstr=function e(r,t,n,a){if(n||(n=16),t===void 0&&(t=24),t<=0)return"0";var o=Math.log(Math.pow(2,t))/Math.log(n),i="",l,f,s;for(l=2;o===1/0;l*=2)o=Math.log(Math.pow(2,t/l))/Math.log(n)*l;var u=o-Math.floor(o);for(l=0;l<Math.floor(o);l++)s=Math.floor(Math.random()*n).toString(n),i=s+i;u&&(f=Math.pow(n,u),s=Math.floor(Math.random()*f).toString(n),i=s+i);var c=parseInt(i,n);return r&&r[i]||c!==1/0&&c>=Math.pow(2,t)?a>10?(Tr.warn("randstr failed uniqueness"),i):e(r,t,n,(a||0)+1):i};Tr.OptionControl=function(e,r){e||(e={}),r||(r="opt");var t={};return t.optionList=[],t._newoption=function(n){n[r]=e,t[n.name]=n,t.optionList.push(n)},t["_"+r]=e,t};Tr.smooth=function(e,r){if(r=Math.round(r)||0,r<2)return e;var t=e.length,n=2*t,a=2*r-1,o=new Array(a),i=new Array(t),l,f,s,u;for(l=0;l<a;l++)o[l]=(1-Math.cos(Math.PI*(l+1)/r))/(2*r);for(l=0;l<t;l++){for(u=0,f=0;f<a;f++)s=l+f+1-r,s<-t?s-=n*Math.round(s/n):s>=n&&(s-=n*Math.floor(s/n)),s<0?s=-1-s:s>=t&&(s=n-1-s),u+=e[s]*o[f];i[l]=u}return i};Tr.syncOrAsync=function(e,r,t){var n,a;function o(){return Tr.syncOrAsync(e,r,t)}for(;e.length;)if(a=e.splice(0,1)[0],n=a(r),n&&n.then)return n.then(o);return t&&t(r)};Tr.stripTrailingSlash=function(e){return e.substr(-1)==="/"?e.substr(0,e.length-1):e};Tr.noneOrAll=function(e,r,t){if(e){var n=!1,a=!0,o,i;for(o=0;o<t.length;o++)i=e[t[o]],i!=null?n=!0:a=!1;if(n&&!a)for(o=0;o<t.length;o++)e[t[o]]=r[t[o]]}};Tr.mergeArray=function(e,r,t,n){var a=typeof n=="function";if(Tr.isArrayOrTypedArray(e))for(var o=Math.min(e.length,r.length),i=0;i<o;i++){var l=e[i];r[i][t]=a?n(l):l}};Tr.mergeArrayCastPositive=function(e,r,t){return Tr.mergeArray(e,r,t,function(n){var a=+n;return isFinite(a)&&a>0?a:0})};Tr.fillArray=function(e,r,t,n){if(n=n||Tr.identity,Tr.isArrayOrTypedArray(e))for(var a=0;a<r.length;a++)r[a][t]=n(e[a])};Tr.castOption=function(e,r,t,n){n=n||Tr.identity;var a=Tr.nestedProperty(e,t).get();return Tr.isArrayOrTypedArray(a)?Array.isArray(r)&&Tr.isArrayOrTypedArray(a[r[0]])?n(a[r[0]][r[1]]):n(a[r]):a};Tr.extractOption=function(e,r,t,n){if(t in e)return e[t];var a=Tr.nestedProperty(r,n).get();if(!Array.isArray(a))return a};function VL(e){var r={};for(var t in e)for(var n=e[t],a=0;a<n.length;a++)r[n[a]]=+t;return r}Tr.tagSelected=function(e,r,t){var n=r.selectedpoints,a=r._indexToPoints,o;a&&(o=VL(a));function i(c){return c!==void 0&&c<e.length}for(var l=0;l<n.length;l++){var f=n[l];if(Tr.isIndex(f)||Tr.isArrayOrTypedArray(f)&&Tr.isIndex(f[0])&&Tr.isIndex(f[1])){var s=o?o[f]:f,u=t?t[s]:s;i(u)&&(e[u].selected=1)}}};Tr.selIndices2selPoints=function(e){var r=e.selectedpoints,t=e._indexToPoints;if(t){for(var n=VL(t),a=[],o=0;o<r.length;o++){var i=r[o];if(Tr.isIndex(i)){var l=n[i];Tr.isIndex(l)&&a.push(l)}}return a}else return r};Tr.getTargetArray=function(e,r){var t=r.target;if(typeof t=="string"&&t){var n=Tr.nestedProperty(e,t).get();return Tr.isArrayOrTypedArray(n)?n:!1}else if(Tr.isArrayOrTypedArray(t))return t;return!1};function YL(e,r,t){var n={};typeof r!="object"&&(r={});var a=t==="pieLike"?-1:3,o=Object.keys(e),i,l,f;for(i=0;i<o.length;i++)l=o[i],f=e[l],!(l.charAt(0)==="_"||typeof f=="function")&&(l==="module"?n[l]=f:Array.isArray(f)?l==="colorscale"||a===-1?n[l]=f.slice():n[l]=f.slice(0,a):Tr.isTypedArray(f)?a===-1?n[l]=f.subarray():n[l]=f.subarray(0,a):f&&typeof f=="object"?n[l]=YL(e[l],r[l],t):n[l]=f);for(o=Object.keys(r),i=0;i<o.length;i++)l=o[i],f=r[l],(typeof f!="object"||!(l in n)||typeof n[l]!="object")&&(n[l]=f);return n}Tr.minExtend=YL;Tr.titleCase=function(e){return e.charAt(0).toUpperCase()+e.substr(1)};Tr.containsAny=function(e,r){for(var t=0;t<r.length;t++)if(e.indexOf(r[t])!==-1)return!0;return!1};var Ece=/Version\/[\d\.]+.*Safari/;Tr.isSafari=function(){return Ece.test(window.navigator.userAgent)};var Sce=/iPad|iPhone|iPod/;Tr.isIOS=function(){return Sce.test(window.navigator.userAgent)};var Cce=/Macintosh.+AppleWebKit.+Gecko\)$/;Tr.isMacWKWebView=()=>Cce.test(window.navigator.userAgent);var kce=/Firefox\/(\d+)\.\d+/;Tr.getFirefoxVersion=function(){var e=kce.exec(window.navigator.userAgent);if(e&&e.length===2){var r=parseInt(e[1]);if(!isNaN(r))return r}return null};Tr.isD3Selection=function(e){return e instanceof Ng.selection};Tr.ensureSingle=function(e,r,t,n){var a=e.select(r+(t?"."+t:""));if(a.size())return a;var o=e.append(r);return t&&o.classed(t,!0),n&&o.call(n),o};Tr.ensureSingleById=function(e,r,t,n){var a=e.select(r+"#"+t);if(a.size())return a;var o=e.append(r).attr("id",t);return n&&o.call(n),o};Tr.objectFromPath=function(e,r){for(var t=e.split("."),n,a=n={},o=0;o<t.length;o++){var i=t[o],l=null,f=t[o].match(/(.*)\[([0-9]+)\]/);f?(i=f[1],l=f[2],n=n[i]=[],o===t.length-1?n[l]=r:n[l]={},n=n[l]):(o===t.length-1?n[i]=r:n[i]={},n=n[i])}return a};var Lce=/^([^\[\.]+)\.(.+)?/,Rce=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function K2(e){return e.slice(0,2)==="__"}Tr.expandObjectPaths=function(e){var r,t,n,a,o,i,l;if(typeof e=="object"&&!Array.isArray(e)){for(t in e)if(e.hasOwnProperty(t))if(r=t.match(Lce)){if(a=e[t],n=r[1],K2(n))continue;delete e[t],e[n]=Tr.extendDeepNoArrays(e[n]||{},Tr.objectFromPath(t,Tr.expandObjectPaths(a))[n])}else if(r=t.match(Rce)){if(a=e[t],n=r[1],K2(n))continue;if(o=parseInt(r[2]),delete e[t],e[n]=e[n]||[],r[3]===".")l=r[4],i=e[n][o]=e[n][o]||{},Tr.extendDeepNoArrays(i,Tr.objectFromPath(l,Tr.expandObjectPaths(a)));else{if(K2(n))continue;e[n][o]=Tr.expandObjectPaths(a)}}else{if(K2(t))continue;e[t]=Tr.expandObjectPaths(e[t])}}return e};Tr.numSeparate=function(e,r,t){if(t||(t=!1),typeof r!="string"||r.length===0)throw new Error("Separator string required for formatting!");typeof e=="number"&&(e=String(e));var n=/(\d+)(\d{3})/,a=r.charAt(0),o=r.charAt(1),i=e.split("."),l=i[0],f=i.length>1?a+i[1]:"";if(o&&(i.length>1||l.length>4||t))for(;n.test(l);)l=l.replace(n,"$1"+o+"$2");return l+f};Tr.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var WL=/^\w*$/;Tr.templateString=function(e,r){var t={};return e.replace(Tr.TEMPLATE_STRING_REGEX,function(n,a){var o;return WL.test(a)?o=r[a]:(t[a]=t[a]||Tr.nestedProperty(r,a).get,o=t[a](!0)),o!==void 0?o:""})};var Fce={max:10,count:0,name:"hovertemplate"};Tr.hovertemplateString=function(){return g4.apply(Fce,arguments)};var Dce={max:10,count:0,name:"texttemplate"};Tr.texttemplateString=function(){return g4.apply(Dce,arguments)};var Ice=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function Pce(e){var r=e.match(Ice);return r?{key:r[1],op:r[2],number:Number(r[3])}:{key:e,op:null,number:null}}var Oce={max:10,count:0,name:"texttemplate",parseMultDiv:!0};Tr.texttemplateStringForShapes=function(){return g4.apply(Oce,arguments)};var NL=/^[:|\|]/;function g4(e,r,t){var n=this,a=arguments;return r||(r={}),e.replace(Tr.TEMPLATE_STRING_REGEX,function(o,i,l){var f=i==="xother"||i==="yother",s=i==="_xother"||i==="_yother",u=i==="_xother_"||i==="_yother_",c=i==="xother_"||i==="yother_",v=f||s||c||u,x=i;(s||u)&&(x=x.substring(1)),(c||u)&&(x=x.substring(0,x.length-1));var m=null,w=null;if(n.parseMultDiv){var A=Pce(x);x=A.key,m=A.op,w=A.number}var y;if(v){if(y=r[x],y===void 0)return""}else{var M,E;for(E=3;E<a.length;E++)if(M=a[E],!!M){if(M.hasOwnProperty(x)){y=M[x];break}if(WL.test(x)||(y=Tr.nestedProperty(M,x).get(!0)),y!==void 0)break}}if(y!==void 0&&(m==="*"&&(y*=w),m==="/"&&(y/=w)),y===void 0&&n)return n.count<n.max&&(Tr.warn("Variable '"+x+"' in "+n.name+" could not be found!"),y=o),n.count===n.max&&Tr.warn("Too many "+n.name+" warnings - additional warnings will be suppressed"),n.count++,o;if(l){var b;if(l[0]===":"&&(b=t?t.numberFormat:Tr.numberFormat,y!==""&&(y=b(l.replace(NL,""))(y))),l[0]==="|"){b=t?t.timeFormat:wce;var T=Tr.dateTime2ms(y);y=Tr.formatDate(T,l.replace(NL,""),!1,b)}}else{var p=x+"Label";r.hasOwnProperty(p)&&(y=r[p])}return v&&(y="("+y+")",(s||u)&&(y=" "+y),(c||u)&&(y=y+" ")),y})}var Q2=48,BL=57;Tr.subplotSort=function(e,r){for(var t=Math.min(e.length,r.length)+1,n=0,a=0,o=0;o<t;o++){var i=e.charCodeAt(o)||0,l=r.charCodeAt(o)||0,f=i>=Q2&&i<=BL,s=l>=Q2&&l<=BL;if(f&&(n=10*n+i-Q2),s&&(a=10*a+l-Q2),!f||!s){if(n!==a)return n-a;if(i!==l)return i-l}}return a-n};var Ud=2e9;Tr.seedPseudoRandom=function(){Ud=2e9};Tr.pseudoRandom=function(){var e=Ud;return Ud=(69069*Ud+1)%4294967296,Math.abs(Ud-e)<429496729?Tr.pseudoRandom():Ud/4294967296};Tr.fillText=function(e,r,t){var n=Array.isArray(t)?function(i){t.push(i)}:function(i){t.text=i},a=Tr.extractOption(e,r,"htx","hovertext");if(Tr.isValidTextValue(a))return n(a);var o=Tr.extractOption(e,r,"tx","text");if(Tr.isValidTextValue(o))return n(o)};Tr.isValidTextValue=function(e){return e||e===0};Tr.formatPercent=function(e,r){r=r||0;for(var t=(Math.round(100*e*Math.pow(10,r))*Math.pow(.1,r)).toFixed(r)+"%",n=0;n<r;n++)t.indexOf(".")!==-1&&(t=t.replace("0%","%"),t=t.replace(".%","%"));return t};Tr.isHidden=function(e){var r=window.getComputedStyle(e).display;return!r||r==="none"};Tr.strTranslate=function(e,r){return e||r?"translate("+e+","+r+")":""};Tr.strRotate=function(e){return e?"rotate("+e+")":""};Tr.strScale=function(e){return e!==1?"scale("+e+")":""};Tr.getTextTransform=function(e){var r=e.noCenter,t=e.textX,n=e.textY,a=e.targetX,o=e.targetY,i=e.anchorX||0,l=e.anchorY||0,f=e.rotate,s=e.scale;return s?s>1&&(s=1):s=0,Tr.strTranslate(a-s*(t+i),o-s*(n+l))+Tr.strScale(s)+(f?"rotate("+f+(r?"":" "+t+" "+n)+")":"")};Tr.setTransormAndDisplay=function(e,r){e.attr("transform",Tr.getTextTransform(r)),e.style("display",r.scale?null:"none")};Tr.ensureUniformFontSize=function(e,r){var t=Tr.extendFlat({},r);return t.size=Math.max(r.size,e._fullLayout.uniformtext.minsize||0),t};Tr.join2=function(e,r,t){var n=e.length;return n>1?e.slice(0,-1).join(r)+t+e[n-1]:e.join(r)};Tr.bigFont=function(e){return Math.round(1.2*e)};var zL=Tr.getFirefoxVersion(),Nce=zL!==null&&zL<86;Tr.getPositionFromD3Event=function(){return Nce?[Ng.event.layerX,Ng.event.layerY]:[Ng.event.offsetX,Ng.event.offsetY]}});var $L=fe(()=>{"use strict";var Bce=tt(),jL={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X:focus-within .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group a":"display:grid;place-content:center;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;border:none;background:rgba(0,0,0,0);","X .modebar-btn svg":"position:relative;","X .modebar-btn:focus-visible":"outline:1px solid #000;outline-offset:1px;border-radius:3px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(y4 in jL)ZL=y4.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier"),Bce.addStyleRule(ZL,jL[y4]);var ZL,y4});var m4=fe((XIe,JL)=>{JL.exports=!0});var b4=fe((jIe,KL)=>{"use strict";var zce=m4(),x4;typeof window.matchMedia=="function"?x4=!window.matchMedia("(hover: none)").matches:x4=zce;KL.exports=x4});var n3=fe((ZIe,_4)=>{"use strict";var Vd=typeof Reflect=="object"?Reflect:null,QL=Vd&&typeof Vd.apply=="function"?Vd.apply:function(r,t,n){return Function.prototype.apply.call(r,t,n)},r3;Vd&&typeof Vd.ownKeys=="function"?r3=Vd.ownKeys:Object.getOwnPropertySymbols?r3=function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:r3=function(r){return Object.getOwnPropertyNames(r)};function qce(e){console&&console.warn&&console.warn(e)}var rR=Number.isNaN||function(r){return r!==r};function Sa(){Sa.init.call(this)}_4.exports=Sa;_4.exports.once=Vce;Sa.EventEmitter=Sa;Sa.prototype._events=void 0;Sa.prototype._eventsCount=0;Sa.prototype._maxListeners=void 0;var eR=10;function t3(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Sa,"defaultMaxListeners",{enumerable:!0,get:function(){return eR},set:function(e){if(typeof e!="number"||e<0||rR(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");eR=e}});Sa.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Sa.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||rR(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this};function tR(e){return e._maxListeners===void 0?Sa.defaultMaxListeners:e._maxListeners}Sa.prototype.getMaxListeners=function(){return tR(this)};Sa.prototype.emit=function(r){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var a=r==="error",o=this._events;if(o!==void 0)a=a&&o.error===void 0;else if(!a)return!1;if(a){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var l=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw l.context=i,l}var f=o[r];if(f===void 0)return!1;if(typeof f=="function")QL(f,this,t);else for(var s=f.length,u=lR(f,s),n=0;n<s;++n)QL(u[n],this,t);return!0};function nR(e,r,t,n){var a,o,i;if(t3(t),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",r,t.listener?t.listener:t),o=e._events),i=o[r]),i===void 0)i=o[r]=t,++e._eventsCount;else if(typeof i=="function"?i=o[r]=n?[t,i]:[i,t]:n?i.unshift(t):i.push(t),a=tR(e),a>0&&i.length>a&&!i.warned){i.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(r)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=r,l.count=i.length,qce(l)}return e}Sa.prototype.addListener=function(r,t){return nR(this,r,t,!1)};Sa.prototype.on=Sa.prototype.addListener;Sa.prototype.prependListener=function(r,t){return nR(this,r,t,!0)};function Uce(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function aR(e,r,t){var n={fired:!1,wrapFn:void 0,target:e,type:r,listener:t},a=Uce.bind(n);return a.listener=t,n.wrapFn=a,a}Sa.prototype.once=function(r,t){return t3(t),this.on(r,aR(this,r,t)),this};Sa.prototype.prependOnceListener=function(r,t){return t3(t),this.prependListener(r,aR(this,r,t)),this};Sa.prototype.removeListener=function(r,t){var n,a,o,i,l;if(t3(t),a=this._events,a===void 0)return this;if(n=a[r],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete a[r],a.removeListener&&this.emit("removeListener",r,n.listener||t));else if(typeof n!="function"){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){l=n[i].listener,o=i;break}if(o<0)return this;o===0?n.shift():Gce(n,o),n.length===1&&(a[r]=n[0]),a.removeListener!==void 0&&this.emit("removeListener",r,l||t)}return this};Sa.prototype.off=Sa.prototype.removeListener;Sa.prototype.removeAllListeners=function(r){var t,n,a;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[r]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[r]),this;if(arguments.length===0){var o=Object.keys(n),i;for(a=0;a<o.length;++a)i=o[a],i!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[r],typeof t=="function")this.removeListener(r,t);else if(t!==void 0)for(a=t.length-1;a>=0;a--)this.removeListener(r,t[a]);return this};function iR(e,r,t){var n=e._events;if(n===void 0)return[];var a=n[r];return a===void 0?[]:typeof a=="function"?t?[a.listener||a]:[a]:t?Hce(a):lR(a,a.length)}Sa.prototype.listeners=function(r){return iR(this,r,!0)};Sa.prototype.rawListeners=function(r){return iR(this,r,!1)};Sa.listenerCount=function(e,r){return typeof e.listenerCount=="function"?e.listenerCount(r):oR.call(e,r)};Sa.prototype.listenerCount=oR;function oR(e){var r=this._events;if(r!==void 0){var t=r[e];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}Sa.prototype.eventNames=function(){return this._eventsCount>0?r3(this._events):[]};function lR(e,r){for(var t=new Array(r),n=0;n<r;++n)t[n]=e[n];return t}function Gce(e,r){for(;r+1<e.length;r++)e[r]=e[r+1];e.pop()}function Hce(e){for(var r=new Array(e.length),t=0;t<r.length;++t)r[t]=e[t].listener||e[t];return r}function Vce(e,r){return new Promise(function(t,n){function a(i){e.removeListener(r,o),n(i)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",a),t([].slice.call(arguments))}sR(e,r,o,{once:!0}),r!=="error"&&Yce(e,a,{once:!0})})}function Yce(e,r,t){typeof e.on=="function"&&sR(e,"error",r,t)}function sR(e,r,t,n){if(typeof e.on=="function")n.once?e.once(r,t):e.on(r,t);else if(typeof e.addEventListener=="function")e.addEventListener(r,function a(o){n.once&&e.removeEventListener(r,a),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}});var Yd=fe(($Ie,fR)=>{"use strict";var w4=n3().EventEmitter,Wce={init:function(e){if(e._ev instanceof w4)return e;var r=new w4,t=new w4;return e._ev=r,e._internalEv=t,e.on=r.on.bind(r),e.once=r.once.bind(r),e.removeListener=r.removeListener.bind(r),e.removeAllListeners=r.removeAllListeners.bind(r),e._internalOn=t.on.bind(t),e._internalOnce=t.once.bind(t),e._removeInternalListener=t.removeListener.bind(t),e._removeAllInternalListeners=t.removeAllListeners.bind(t),e.emit=function(n,a){r.emit(n,a),t.emit(n,a)},typeof e.addEventListener=="function"&&e.addEventListener("wheel",()=>{},{passive:!0}),e},triggerHandler:function(e,r,t){var n,a=e._ev;if(!a)return;var o=a._events[r];if(!o)return;function i(f){if(f.listener){if(a.removeListener(r,f.listener),!f.fired)return f.fired=!0,f.listener.apply(a,[t])}else return f.apply(a,[t])}o=Array.isArray(o)?o:[o];var l;for(l=0;l<o.length-1;l++)i(o[l]);return n=i(o[l]),n},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};fR.exports=Wce});var hR=fe((JIe,cR)=>{"use strict";var uR=tt(),Xce=Uh().dfltConfig;function jce(e,r){for(var t=[],n,a=0;a<r.length;a++)n=r[a],n===e?t[a]=n:typeof n=="object"?t[a]=Array.isArray(n)?uR.extendDeep([],n):uR.extendDeepAll({},n):t[a]=n;return t}var Zu={};Zu.add=function(e,r,t,n,a){var o,i;if(e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},i=e.undoQueue.index,e.autoplay){e.undoQueue.inSequence||(e.autoplay=!1);return}!e.undoQueue.sequence||e.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(i,e.undoQueue.queue.length-i,o),e.undoQueue.index+=1):o=e.undoQueue.queue[i-1],e.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(r),o.undo.args.unshift(t),o.redo.calls.push(n),o.redo.args.push(a)),e.undoQueue.queue.length>Xce.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--)};Zu.startSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0};Zu.stopSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1};Zu.undo=function(r){var t,n;if(!(r.undoQueue===void 0||isNaN(r.undoQueue.index)||r.undoQueue.index<=0)){for(r.undoQueue.index--,t=r.undoQueue.queue[r.undoQueue.index],r.undoQueue.inSequence=!0,n=0;n<t.undo.calls.length;n++)Zu.plotDo(r,t.undo.calls[n],t.undo.args[n]);r.undoQueue.inSequence=!1,r.autoplay=!1}};Zu.redo=function(r){var t,n;if(!(r.undoQueue===void 0||isNaN(r.undoQueue.index)||r.undoQueue.index>=r.undoQueue.queue.length)){for(t=r.undoQueue.queue[r.undoQueue.index],r.undoQueue.inSequence=!0,n=0;n<t.redo.calls.length;n++)Zu.plotDo(r,t.redo.calls[n],t.redo.args[n]);r.undoQueue.inSequence=!1,r.autoplay=!1,r.undoQueue.index++}};Zu.plotDo=function(e,r,t){e.autoplay=!0,t=jce(e,t),r.apply(null,t)};cR.exports=Zu});var A4=fe((KIe,vR)=>{"use strict";vR.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}});var jd=fe(wi=>{"use strict";var fs=Qt(),Bg=tt(),i3=ul(),T4=Od(),Zce=A4(),$ce=kg(),Jce=Uh().configAttributes,dR=vl(),Qs=Bg.extendDeepAll,Wd=Bg.isPlainObject,Kce=Bg.isArrayOrTypedArray,o3=Bg.nestedProperty,Qce=Bg.valObjectMeta,M4="_isSubplotObj",l3="_isLinkedToArray",e0e="_arrayAttrRegexps",gR="_deprecated",E4=[M4,l3,e0e,gR];wi.IS_SUBPLOT_OBJ=M4;wi.IS_LINKED_TO_ARRAY=l3;wi.DEPRECATED=gR;wi.UNDERSCORE_ATTRS=E4;wi.get=function(){var e={};return fs.allTypes.forEach(function(r){e[r]=t0e(r)}),{defs:{valObjects:Qce,metaKeys:E4.concat(["description","role","editType","impliedEdits"]),editType:{traces:dR.traces,layout:dR.layout},impliedEdits:{}},traces:e,layout:n0e(),frames:a0e(),animation:Xd($ce),config:Xd(Jce)}};wi.crawl=function(e,r,t,n){var a=t||0;n=n||"",Object.keys(e).forEach(function(o){var i=e[o];if(E4.indexOf(o)===-1){var l=(n?n+".":"")+o;r(i,o,e,a,l),!wi.isValObject(i)&&Wd(i)&&o!=="impliedEdits"&&wi.crawl(i,r,a+1,l)}})};wi.isValObject=function(e){return e&&e.valType!==void 0};wi.findArrayAttributes=function(e){var r=[],t=[],n=[],a,o;function i(f,s,u,c){t=t.slice(0,c).concat([s]),n=n.slice(0,c).concat([f&&f._isLinkedToArray]);var v=f&&(f.valType==="data_array"||f.arrayOk===!0)&&!(t[c-1]==="colorbar"&&(s==="ticktext"||s==="tickvals"));v&&l(a,0,"")}function l(f,s,u){var c=f[t[s]],v=u+t[s];if(s===t.length-1)Kce(c)&&r.push(o+v);else if(n[s]){if(Array.isArray(c))for(var x=0;x<c.length;x++)Wd(c[x])&&l(c[x],s+1,v+"["+x+"].")}else Wd(c)&&l(c,s+1,v+".")}return a=e,o="",wi.crawl(i3,i),e._module&&e._module.attributes&&wi.crawl(e._module.attributes,i),r};wi.getTraceValObject=function(e,r){var t=r[0],n=1,a,o,i=e._module;if(i||(i=(fs.modules[e.type||i3.type.dflt]||{})._module),!i)return!1;if(a=i.attributes,o=a&&a[t],!o){var l=i.basePlotModule;l&&l.attributes&&(o=l.attributes[t])}return o||(o=i3[t]),yR(o,r,n)};wi.getLayoutValObject=function(e,r){var t=r0e(e,r[0]);return yR(t,r,1)};function r0e(e,r){var t,n,a,o,i=e._basePlotModules;if(i){var l;for(t=0;t<i.length;t++){if(a=i[t],a.attrRegex&&a.attrRegex.test(r)){if(a.layoutAttrOverrides)return a.layoutAttrOverrides;!l&&a.layoutAttributes&&(l=a.layoutAttributes)}var f=a.baseLayoutAttrOverrides;if(f&&r in f)return f[r]}if(l)return l}var s=e._modules;if(s){for(t=0;t<s.length;t++)if(o=s[t].layoutAttributes,o&&r in o)return o[r]}for(n in fs.componentsRegistry){if(a=fs.componentsRegistry[n],a.name==="colorscale"&&r.indexOf("coloraxis")===0)return a.layoutAttributes[r];if(!a.schema&&r===a.name)return a.layoutAttributes}return r in T4?T4[r]:!1}function yR(e,r,t){if(!e)return!1;if(e._isLinkedToArray){if(a3(r[t]))t++;else if(t<r.length)return!1}for(;t<r.length;t++){var n=e[r[t]];if(Wd(n))e=n;else break;if(t===r.length-1)break;if(e._isLinkedToArray){if(t++,!a3(r[t]))return!1}else if(e.valType==="info_array"){t++;var a=r[t];if(!a3(a))return!1;var o=e.items;if(Array.isArray(o)){if(a>=o.length)return!1;if(e.dimensions===2){if(t++,r.length===t)return e;var i=r[t];if(!a3(i))return!1;e=o[a][i]}else e=o[a]}else e=o}}return e}function a3(e){return e===Math.round(e)&&e>=0}function t0e(e){var r,t;r=fs.modules[e]._module,t=r.basePlotModule;var n={};n.type=null;var a=Qs({},i3),o=Qs({},r.attributes);wi.crawl(o,function(f,s,u,c,v){o3(a,v).set(void 0),f===void 0&&o3(o,v).set(void 0)}),Qs(n,a),fs.traceIs(e,"noOpacity")&&delete n.opacity,fs.traceIs(e,"showLegend")||(delete n.showlegend,delete n.legendgroup),fs.traceIs(e,"noHover")&&(delete n.hoverinfo,delete n.hoverlabel),r.selectPoints||delete n.selectedpoints,Qs(n,o),t.attributes&&Qs(n,t.attributes),n.type=e;var i={meta:r.meta||{},categories:r.categories||{},animatable:!!r.animatable,type:e,attributes:Xd(n)};if(r.layoutAttributes){var l={};Qs(l,r.layoutAttributes),i.layoutAttributes=Xd(l)}return r.animatable||wi.crawl(i,function(f){wi.isValObject(f)&&"anim"in f&&delete f.anim}),i}function n0e(){var e={},r,t;Qs(e,T4);for(r in fs.subplotsRegistry)if(t=fs.subplotsRegistry[r],!!t.layoutAttributes)if(Array.isArray(t.attr))for(var n=0;n<t.attr.length;n++)pR(e,t,t.attr[n]);else{var a=t.attr==="subplot"?t.name:t.attr;pR(e,t,a)}for(r in fs.componentsRegistry){t=fs.componentsRegistry[r];var o=t.schema;if(o&&(o.subplots||o.layout)){var i=o.subplots;if(i&&i.xaxis&&!i.yaxis)for(var l in i.xaxis)delete e.yaxis[l];delete e.xaxis.shift,delete e.xaxis.autoshift}else t.name==="colorscale"?Qs(e,t.layoutAttributes):t.layoutAttributes&&s0e(e,t.layoutAttributes,t.name)}return{layoutAttributes:Xd(e)}}function a0e(){var e={frames:Qs({},Zce)};return Xd(e),e.frames}function Xd(e){return i0e(e),o0e(e),l0e(e),e}function i0e(e){function r(n){return{valType:"string",editType:"none"}}function t(n,a,o){wi.isValObject(n)?(n.arrayOk===!0||n.valType==="data_array")&&(o[a+"src"]=r(a)):Wd(n)&&(n.role="object")}wi.crawl(e,t)}function o0e(e){function r(t,n,a){if(t){var o=t[l3];o&&(delete t[l3],a[n]={items:{}},a[n].items[o]=t,a[n].role="object")}}wi.crawl(e,r)}function l0e(e){function r(t){for(var n in t)if(Wd(t[n]))r(t[n]);else if(Array.isArray(t[n]))for(var a=0;a<t[n].length;a++)r(t[n][a]);else t[n]instanceof RegExp&&(t[n]=t[n].toString())}r(e)}function pR(e,r,t){var n=o3(e,t),a=Qs({},r.layoutAttributes);a[M4]=!0,n.set(a)}function s0e(e,r,t){var n=o3(e,t);n.set(Qs(n.get()||{},r))}});var da=fe(Xh=>{"use strict";var Zd=tt(),f0e=ul(),l0="templateitemname",S4={name:{valType:"string",editType:"none"}};S4[l0]={valType:"string",editType:"calc"};Xh.templatedArray=function(e,r){return r._isLinkedToArray=e,r.name=S4.name,r[l0]=S4[l0],r};Xh.traceTemplater=function(e){var r={},t,n;for(t in e)n=e[t],Array.isArray(n)&&n.length&&(r[t]=0);function a(o){t=Zd.coerce(o,{},f0e,"type");var i={type:t,_template:null};if(t in r){n=e[t];var l=r[t]%n.length;r[t]++,i._template=n[l]}return i}return{newTrace:a}};Xh.newContainer=function(e,r,t){var n=e._template,a=n&&(n[r]||t&&n[t]);Zd.isPlainObject(a)||(a=null);var o=e[r]={_template:a};return o};Xh.arrayTemplater=function(e,r,t){var n=e._template,a=n&&n[xR(r)],o=n&&n[r];(!Array.isArray(o)||!o.length)&&(o=[]);var i={};function l(s){var u={name:s.name,_input:s},c=u[l0]=s[l0];if(!mR(c))return u._template=a,u;for(var v=0;v<o.length;v++){var x=o[v];if(x.name===c)return i[c]=1,u._template=x,u}return u[t]=s[t]||!1,u._template=!1,u}function f(){for(var s=[],u=0;u<o.length;u++){var c=o[u],v=c.name;if(mR(v)&&!i[v]){var x={_template:c,name:v,_input:{_templateitemname:v}};x[l0]=c[l0],s.push(x),i[v]=1}}return s}return{newItem:l,defaultItems:f}};function mR(e){return e&&typeof e=="string"}function xR(e){var r=e.length-1;return e.charAt(r)!=="s"&&Zd.warn("bad argument to arrayDefaultKey: "+e),e.substr(0,e.length-1)+"defaults"}Xh.arrayDefaultKey=xR;Xh.arrayEditor=function(e,r,t){var n=(Zd.nestedProperty(e,r).get()||[]).length,a=t._index,o=a>=n&&(t._input||{})._templateitemname;o&&(a=n);var i=r+"["+a+"]",l;function f(){l={},o&&(l[i]={},l[i][l0]=o)}f();function s(x,m){l[x]=m}function u(x,m){o?Zd.nestedProperty(l[i],x).set(m):l[i+"."+x]=m}function c(){var x=l;return f(),x}function v(x,m){x&&u(x,m);var w=c();for(var A in w)Zd.nestedProperty(e,A).set(w[A])}return{modifyBase:s,modifyItem:u,getUpdateObj:c,applyUpdate:v}}});var Ji=fe((rPe,bR)=>{"use strict";var zg=Dd().counter;bR.exports={idRegex:{x:zg("x","( domain)?"),y:zg("y","( domain)?")},attrRegex:zg("[xy]axis"),xAxisMatch:zg("xaxis"),yAxisMatch:zg("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}});var ti=fe(yl=>{"use strict";var u0e=Qt(),C4=Ji();yl.id2name=function(r){if(!(typeof r!="string"||!r.match(C4.AX_ID_PATTERN))){var t=r.split(" ")[0].substr(1);return t==="1"&&(t=""),r.charAt(0)+"axis"+t}};yl.name2id=function(r){if(r.match(C4.AX_NAME_PATTERN)){var t=r.substr(5);return t==="1"&&(t=""),r.charAt(0)+t}};yl.cleanId=function(r,t,n){var a=/( domain)$/.test(r);if(!(typeof r!="string"||!r.match(C4.AX_ID_PATTERN))&&!(t&&r.charAt(0)!==t)&&!(a&&!n)){var o=r.split(" ")[0].substr(1).replace(/^0+/,"");return o==="1"&&(o=""),r.charAt(0)+o+(a&&n?" domain":"")}};yl.list=function(e,r,t){var n=e._fullLayout;if(!n)return[];var a=yl.listIds(e,r),o=new Array(a.length),i;for(i=0;i<a.length;i++){var l=a[i];o[i]=n[l.charAt(0)+"axis"+l.substr(1)]}if(!t){var f=n._subplots.gl3d||[];for(i=0;i<f.length;i++){var s=n[f[i]];r?o.push(s[r+"axis"]):o.push(s.xaxis,s.yaxis,s.zaxis)}}return o};yl.listIds=function(e,r){var t=e._fullLayout;if(!t)return[];var n=t._subplots;return r?n[r+"axis"]:n.xaxis.concat(n.yaxis)};yl.getFromId=function(e,r,t){var n=e._fullLayout;return r=r===void 0||typeof r!="string"?r:r.replace(" domain",""),t==="x"?r=r.replace(/y[0-9]*/,""):t==="y"&&(r=r.replace(/x[0-9]*/,"")),n[yl.id2name(r)]};yl.getFromTrace=function(e,r,t){var n=e._fullLayout,a=null;if(u0e.traceIs(r,"gl3d")){var o=r.scene;o.substr(0,5)==="scene"&&(a=n[o][t+"axis"])}else a=yl.getFromId(e,r[t+"axis"]||t);return a};yl.idSort=function(e,r){var t=e.charAt(0),n=r.charAt(0);return t!==n?t>n?1:-1:+(e.substr(1)||1)-+(r.substr(1)||1)};yl.ref2id=function(e){return/^[xyz]/.test(e)?e.split(" ")[0]:!1};function _R(e,r){if(r&&r.length){for(var t=0;t<r.length;t++)if(r[t][e])return!0}return!1}yl.isLinked=function(e,r){return _R(r,e._axisMatchGroups)||_R(r,e._axisConstraintGroups)}});var s0=fe((nPe,wR)=>{"use strict";function c0e(e){var r=e._fullLayout._zoomlayer;r&&r.selectAll(".outline-controllers").remove()}function h0e(e){var r=e._fullLayout._zoomlayer;r&&r.selectAll(".select-outline").remove(),e._fullLayout._outlining=!1}wR.exports={clearOutlineControllers:c0e,clearOutline:h0e}});var s3=fe((aPe,AR)=>{"use strict";AR.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}});var qg=fe(u3=>{"use strict";var f3=Qt(),iPe=Ji().SUBPLOT_PATTERN;u3.getSubplotCalcData=function(e,r,t){var n=f3.subplotsRegistry[r];if(!n)return[];for(var a=n.attr,o=[],i=0;i<e.length;i++){var l=e[i],f=l[0].trace;f[a]===t&&o.push(l)}return o};u3.getModuleCalcData=function(e,r,t){var n=[],a=[],o;if(typeof r=="string"?o=f3.getModule(r).plot:typeof r=="function"?o=r:o=r.plot,!o)return[n,e];for(var i=t,l=0;l<e.length;l++){var f=e[l],s=f[0].trace,u=s.zorder!==void 0;s.visible!==!0||s._length===0||(s._module&&s._module.plot===o&&(!u||s.zorder===i)?n.push(f):a.push(f))}return[n,a]};u3.getSubplotData=function(r,t,n){if(!f3.subplotsRegistry[t])return[];for(var a=f3.subplotsRegistry[t].attr,o=[],i,l,f,s=0;s<r.length;s++)i=r[s],i[a]===n&&o.push(i);return o}});var SR=fe(jh=>{"use strict";var v0e=Qt(),$d=tt();jh.manageCommandObserver=function(e,r,t,n){var a={},o=!0;r&&r._commandObserver&&(a=r._commandObserver),a.cache||(a.cache={}),a.lookupTable={};var i=jh.hasSimpleAPICommandBindings(e,t,a.lookupTable);if(r&&r._commandObserver){if(i)return a;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,a}if(i){TR(e,i,a.cache),a.check=function(){if(o){var u=TR(e,i,a.cache);return u.changed&&n&&a.lookupTable[u.value]!==void 0&&(a.disable(),Promise.resolve(n({value:u.value,type:i.type,prop:i.prop,traces:i.traces,index:a.lookupTable[u.value]})).then(a.enable,a.enable)),u.changed}};for(var l=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],f=0;f<l.length;f++)e._internalOn(l[f],a.check);a.remove=function(){for(var s=0;s<l.length;s++)e._removeInternalListener(l[s],a.check)}}else $d.log("Unable to automatically bind plot updates to API command"),a.lookupTable={},a.remove=function(){};return a.disable=function(){o=!1},a.enable=function(){o=!0},r&&(r._commandObserver=a),a};jh.hasSimpleAPICommandBindings=function(e,r,t){var n,a=r.length,o;for(n=0;n<a;n++){var i,l=r[n],f=l.method,s=l.args;if(Array.isArray(s)||(s=[]),!f)return!1;var u=jh.computeAPICommandBindings(e,f,s);if(u.length!==1)return!1;if(!o)o=u[0],Array.isArray(o.traces)&&o.traces.sort();else{if(i=u[0],i.type!==o.type||i.prop!==o.prop)return!1;if(Array.isArray(o.traces))if(Array.isArray(i.traces)){i.traces.sort();for(var c=0;c<o.traces.length;c++)if(o.traces[c]!==i.traces[c])return!1}else return!1;else if(i.prop!==o.prop)return!1}i=u[0];var v=i.value;if(Array.isArray(v))if(v.length===1)v=v[0];else return!1;t&&(t[v]=n)}return o};function TR(e,r,t){var n,a,o,i=!1;if(r.type==="data")n=e._fullData[r.traces!==null?r.traces[0]:0];else if(r.type==="layout")n=e._fullLayout;else return!1;return a=$d.nestedProperty(n,r.prop).get(),o=t[r.type]=t[r.type]||{},o.hasOwnProperty(r.prop)&&o[r.prop]!==a&&(i=!0),o[r.prop]=a,{changed:i,value:a}}jh.executeAPICommand=function(e,r,t){if(r==="skip")return Promise.resolve();var n=v0e.apiMethodRegistry[r],a=[e];Array.isArray(t)||(t=[]);for(var o=0;o<t.length;o++)a.push(t[o]);return n.apply(null,a).catch(function(i){return $d.warn("API call to Plotly."+r+" rejected.",i),Promise.reject(i)})};jh.computeAPICommandBindings=function(e,r,t){var n;switch(Array.isArray(t)||(t=[]),r){case"restyle":n=ER(e,t);break;case"relayout":n=MR(e,t);break;case"update":n=ER(e,[t[0],t[2]]).concat(MR(e,[t[1]]));break;case"animate":n=d0e(e,t);break;default:n=[]}return n};function d0e(e,r){return Array.isArray(r[0])&&r[0].length===1&&["string","number"].indexOf(typeof r[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:r[0][0].toString()}]:[]}function MR(e,r){var t=[],n=r[0],a={};if(typeof n=="string")a[n]=r[1];else if($d.isPlainObject(n))a=n;else return t;return k4(a,function(o,i,l){t.push({type:"layout",prop:o,value:l})},"",0),t}function ER(e,r){var t,n,a,o,i=[];if(n=r[0],a=r[1],t=r[2],o={},typeof n=="string")o[n]=a;else if($d.isPlainObject(n))o=n,t===void 0&&(t=a);else return i;return t===void 0&&(t=null),k4(o,function(l,f,s){var u,c;if(Array.isArray(s)){c=s.slice();var v=Math.min(c.length,e.data.length);t&&(v=Math.min(v,t.length)),u=[];for(var x=0;x<v;x++)u[x]=t?t[x]:x}else c=s,u=t?t.slice():null;if(u===null)Array.isArray(c)&&(c=c[0]);else if(Array.isArray(u)){if(!Array.isArray(c)){var m=c;c=[];for(var w=0;w<u.length;w++)c[w]=m}c.length=Math.min(u.length,c.length)}i.push({type:"data",prop:l,traces:u,value:c})},"",0),i}function k4(e,r,t,n){Object.keys(e).forEach(function(a){var o=e[a];if(a[0]!=="_"){var i=t+(n>0?".":"")+a;$d.isPlainObject(o)?k4(o,r,i,n+1):r(i,a,o)}})}});var ci=fe((sPe,UR)=>{"use strict";var IR=Ln(),p0e=kd().timeFormatLocale,g0e=Ow().formatLocale,Ug=kn(),y0e=Nw(),jn=Qt(),PR=jd(),m0e=da(),Bt=tt(),OR=xn(),CR=ui().BADNUM,ml=ti(),x0e=s0().clearOutline,b0e=s3(),L4=kg(),_0e=A4(),w0e=qg().getModuleCalcData,kR=Bt.relinkPrivateKeys,Zh=Bt._,Rt=UR.exports={};Bt.extendFlat(Rt,jn);Rt.attributes=ul();Rt.attributes.type.values=Rt.allTypes;Rt.fontAttrs=Fi();Rt.layoutAttributes=Od();var h3=SR();Rt.executeAPICommand=h3.executeAPICommand;Rt.computeAPICommandBindings=h3.computeAPICommandBindings;Rt.manageCommandObserver=h3.manageCommandObserver;Rt.hasSimpleAPICommandBindings=h3.hasSimpleAPICommandBindings;Rt.redrawText=function(e){return e=Bt.getGraphDiv(e),new Promise(function(r){setTimeout(function(){e._fullLayout&&(jn.getComponentMethod("annotations","draw")(e),jn.getComponentMethod("legend","draw")(e),jn.getComponentMethod("colorbar","draw")(e),r(Rt.previousPromises(e)))},300)})};Rt.resize=function(e){e=Bt.getGraphDiv(e);var r,t=new Promise(function(n,a){(!e||Bt.isHidden(e))&&a(new Error("Resize must be passed a displayed plot div element.")),e._redrawTimer&&clearTimeout(e._redrawTimer),e._resolveResize&&(r=e._resolveResize),e._resolveResize=n,e._redrawTimer=setTimeout(function(){if(!e.layout||e.layout.width&&e.layout.height||Bt.isHidden(e)){n(e);return}delete e.layout.width,delete e.layout.height;var o=e.changed;e.autoplay=!0,jn.call("relayout",e,{autosize:!0}).then(function(){e.changed=o,e._resolveResize===n&&(delete e._resolveResize,n(e))})},100)});return r&&r(t),t};Rt.previousPromises=function(e){if((e._promises||[]).length)return Promise.all(e._promises).then(function(){e._promises=[]})};Rt.addLinks=function(e){if(!(!e._context.showLink&&!e._context.showSources)){var r=e._fullLayout,t=Bt.ensureSingle(r._paper,"text","js-plot-link-container",function(f){f.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:OR.defaultLine,"pointer-events":"all"}).each(function(){var s=IR.select(this);s.append("tspan").classed("js-link-to-tool",!0),s.append("tspan").classed("js-link-spacer",!0),s.append("tspan").classed("js-sourcelinks",!0)})}),n=t.node(),a={y:r._paper.attr("height")-9};document.body.contains(n)&&n.getComputedTextLength()>=r.width-20?(a["text-anchor"]="start",a.x=5):(a["text-anchor"]="end",a.x=r._paper.attr("width")-7),t.attr(a);var o=t.select(".js-link-to-tool"),i=t.select(".js-link-spacer"),l=t.select(".js-sourcelinks");e._context.showSources&&e._context.showSources(e),e._context.showLink&&A0e(e,o),i.text(o.text()&&l.text()?" - ":"")}};function A0e(e,r){r.text("");var t=r.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(e._context.linkText+" \xBB");if(e._context.sendData)t.on("click",function(){Rt.sendDataToCloud(e)});else{var n=window.location.pathname.split("/"),a=window.location.search;t.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+n[2].split(".")[0]+"/"+n[1]+a})}}Rt.sendDataToCloud=function(e){var r=(window.PLOTLYENV||{}).BASE_URL||e._context.plotlyServerURL;if(r){e.emit("plotly_beforeexport");var t=IR.select(e).append("div").attr("id","hiddenform").style("display","none"),n=t.append("form").attr({action:r+"/external",method:"post",target:"_blank"}),a=n.append("input").attr({type:"text",name:"data"});return a.node().value=Rt.graphJson(e,!1,"keepdata"),n.node().submit(),t.remove(),e.emit("plotly_afterexport"),!1}};var T0e=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],M0e=["year","month","dayMonth","dayMonthYear"];Rt.supplyDefaults=function(e,r){var t=r&&r.skipUpdateCalc,n=e._fullLayout||{};if(n._skipDefaults){delete n._skipDefaults;return}var a=e._fullLayout={},o=e.layout||{},i=e._fullData||[],l=e._fullData=[],f=e.data||[],s=e.calcdata||[],u=e._context||{},c;e._transitionData||Rt.createTransitionData(e),a._dfltTitle={plot:Zh(e,"Click to enter Plot title"),subtitle:Zh(e,"Click to enter Plot subtitle"),x:Zh(e,"Click to enter X axis title"),y:Zh(e,"Click to enter Y axis title"),colorbar:Zh(e,"Click to enter Colorscale title"),annotation:Zh(e,"new text")},a._traceWord=Zh(e,"trace");var v=LR(e,T0e);if(a._mapboxAccessToken=u.mapboxAccessToken,n._initialAutoSizeIsDone){var x=n.width,m=n.height;Rt.supplyLayoutGlobalDefaults(o,a,v),o.width||(a.width=x),o.height||(a.height=m),Rt.sanitizeMargins(a)}else{Rt.supplyLayoutGlobalDefaults(o,a,v);var w=!o.width||!o.height,A=a.autosize,y=u.autosizable,M=w&&(A||y);M?Rt.plotAutoSize(e,o,a):w&&Rt.sanitizeMargins(a),!A&&w&&(o.width=a.width,o.height=a.height)}a._d3locale=C0e(v,a.separators),a._extraFormat=LR(e,M0e),a._initialAutoSizeIsDone=!0,a._dataLength=f.length,a._modules=[],a._visibleModules=[],a._basePlotModules=[];var E=a._subplots=S0e(),b=a._splomAxes={x:{},y:{}},T=a._splomSubplots={};a._splomGridDflt={},a._scatterStackOpts={},a._firstScatter={},a._alignmentOpts={},a._colorAxes={},a._requestRangeslider={},a._traceUids=E0e(i,f),Rt.supplyDataDefaults(f,l,o,a);var p=Object.keys(b.x),_=Object.keys(b.y);if(p.length>1&&_.length>1){for(jn.getComponentMethod("grid","sizeDefaults")(o,a),c=0;c<p.length;c++)Bt.pushUnique(E.xaxis,p[c]);for(c=0;c<_.length;c++)Bt.pushUnique(E.yaxis,_[c]);for(var g in T)Bt.pushUnique(E.cartesian,g)}if(a._has=Rt._hasPlotType.bind(a),i.length===l.length)for(c=0;c<l.length;c++)kR(l[c],i[c]);Rt.supplyLayoutModuleDefaults(o,a,l,e._transitionData);var h=a._visibleModules,S=[];for(c=0;c<h.length;c++){var d=h[c].crossTraceDefaults;d&&Bt.pushUnique(S,d)}for(c=0;c<S.length;c++)S[c](l,a);a._hasOnlyLargeSploms=a._basePlotModules.length===1&&a._basePlotModules[0].name==="splom"&&p.length>15&&_.length>15&&a.shapes.length===0&&a.images.length===0,Rt.linkSubplots(l,a,i,n),Rt.cleanPlot(l,a,i,n);var R=!!(n._has&&n._has("cartesian")),L=!!(a._has&&a._has("cartesian")),F=R,O=L;F&&!O?n._bgLayer.remove():O&&!F&&(a._shouldCreateBgLayer=!0),n._zoomlayer&&!e._dragging&&x0e({_fullLayout:n}),k0e(l,a),kR(a,n),jn.getComponentMethod("colorscale","crossTraceDefaults")(l,a),a._preGUI||(a._preGUI={}),a._tracePreGUI||(a._tracePreGUI={});var P=a._tracePreGUI,I={},k;for(k in P)I[k]="old";for(c=0;c<l.length;c++)k=l[c]._fullInput.uid,I[k]||(P[k]={}),I[k]="new";for(k in I)I[k]==="old"&&delete P[k];NR(a),jn.getComponentMethod("rangeslider","makeData")(a),!t&&s.length===l.length&&Rt.supplyDefaultsUpdateCalc(s,l)};Rt.supplyDefaultsUpdateCalc=function(e,r){for(var t=0;t<r.length;t++){var n=r[t],a=(e[t]||[])[0];if(a&&a.trace){var o=a.trace;if(o._hasCalcTransform){var i=o._arrayAttrs,l,f,s;for(l=0;l<i.length;l++)f=i[l],s=Bt.nestedProperty(o,f).get().slice(),Bt.nestedProperty(n,f).set(s)}a.trace=n}}};function E0e(e,r){var t=r.length,n=[],a,o;for(a=0;a<e.length;a++){var i=e[a]._fullInput;i!==o&&n.push(i),o=i}var l=n.length,f=new Array(t),s={};function u(x,m){f[m]=x,s[x]=1}function c(x,m){if(x&&typeof x=="string"&&!s[x])return u(x,m),!0}for(a=0;a<t;a++){var v=r[a].uid;typeof v=="number"&&(v=String(v)),!c(v,a)&&(a<l&&c(n[a].uid,a)||u(Bt.randstr(s),a))}return f}function S0e(){var e=jn.collectableSubplotTypes,r={},t,n;if(!e){e=[];var a=jn.subplotsRegistry;for(var o in a){var i=a[o],l=i.attr;if(l&&(e.push(o),Array.isArray(l)))for(n=0;n<l.length;n++)Bt.pushUnique(e,l[n])}}for(t=0;t<e.length;t++)r[e[t]]=[];return r}function LR(e,r){var t=e._context.locale;t||(t="en-US");var n=!1,a={};function o(c){for(var v=!0,x=0;x<r.length;x++){var m=r[x];a[m]||(c[m]?a[m]=c[m]:v=!1)}v&&(n=!0)}for(var i=0;i<2;i++){for(var l=e._context.locales,f=0;f<2;f++){var s=(l[t]||{}).format;if(s&&(o(s),n))break;l=jn.localeRegistry}var u=t.split("-")[0];if(n||u===t)break;t=u}return n||o(jn.localeRegistry.en.format),a}function C0e(e,r){return e.decimal=r.charAt(0),e.thousands=r.charAt(1),{numberFormat:function(t){try{t=g0e(e).format(Bt.adjustFormat(t))}catch(n){return Bt.warnBadFormat(t),Bt.noFormat}return t},timeFormat:p0e(e).utcFormat}}function k0e(e,r){var t,n=[];r.meta&&(t=r._meta={meta:r.meta,layout:{meta:r.meta}});for(var a=0;a<e.length;a++){var o=e[a];o.meta?n[o.index]=o._meta={meta:o.meta}:r.meta&&(o._meta={meta:r.meta}),r.meta&&(o._meta.layout={meta:r.meta})}n.length&&(t||(t=r._meta={}),t.data=n)}Rt.createTransitionData=function(e){e._transitionData||(e._transitionData={}),e._transitionData._frames||(e._transitionData._frames=[]),e._transitionData._frameHash||(e._transitionData._frameHash={}),e._transitionData._counter||(e._transitionData._counter=0),e._transitionData._interruptCallbacks||(e._transitionData._interruptCallbacks=[])};Rt._hasPlotType=function(e){var r,t=this._basePlotModules||[];for(r=0;r<t.length;r++)if(t[r].name===e)return!0;var n=this._modules||[];for(r=0;r<n.length;r++){var a=n[r].name;if(a===e)return!0;var o=jn.modules[a];if(o&&o.categories[e])return!0}return!1};Rt.cleanPlot=function(e,r,t,n){var a,o,i=n._basePlotModules||[];for(a=0;a<i.length;a++){var l=i[a];l.clean&&l.clean(e,r,t,n)}var f=n._has&&n._has("gl"),s=r._has&&r._has("gl");f&&!s&&n._glcontainer!==void 0&&(n._glcontainer.selectAll(".gl-canvas").remove(),n._glcontainer.selectAll(".no-webgl").remove(),n._glcanvas=null);var u=!!n._infolayer;e:for(a=0;a<t.length;a++){var c=t[a],v=c.uid;for(o=0;o<e.length;o++){var x=e[o];if(v===x.uid)continue e}u&&n._infolayer.select(".cb"+v).remove()}};Rt.linkSubplots=function(e,r,t,n){var a,o,i=n._plots||{},l=r._plots={},f=r._subplots,s={_fullData:e,_fullLayout:r},u=f.cartesian||[];for(a=0;a<u.length;a++){var c=u[a],v=i[c],x=ml.getFromId(s,c,"x"),m=ml.getFromId(s,c,"y"),w;for(v?w=l[c]=v:(w=l[c]={},w.id=c),x._counterAxes.push(m._id),m._counterAxes.push(x._id),x._subplotsWith.push(c),m._subplotsWith.push(c),w.xaxis=x,w.yaxis=m,w._hasClipOnAxisFalse=!1,o=0;o<e.length;o++){var A=e[o];if(A.xaxis===w.xaxis._id&&A.yaxis===w.yaxis._id&&A.cliponaxis===!1){w._hasClipOnAxisFalse=!0;break}}}var y=ml.list(s,null,!0),M;for(a=0;a<y.length;a++){M=y[a];var E=null;M.overlaying&&(E=ml.getFromId(s,M.overlaying),E&&E.overlaying&&(M.overlaying=!1,E=null)),M._mainAxis=E||M,E&&(M.domain=E.domain.slice()),M._anchorAxis=M.anchor==="free"?null:ml.getFromId(s,M.anchor)}for(a=0;a<y.length;a++)if(M=y[a],M._counterAxes.sort(ml.idSort),M._subplotsWith.sort(Bt.subplotSort),M._mainSubplot=L0e(M,r),M._counterAxes.length&&(M.spikemode&&M.spikemode.indexOf("across")!==-1||M.automargin&&M.mirror&&M.anchor!=="free"||jn.getComponentMethod("rangeslider","isVisible")(M))){var b=1,T=0;for(o=0;o<M._counterAxes.length;o++){var p=ml.getFromId(s,M._counterAxes[o]);b=Math.min(b,p.domain[0]),T=Math.max(T,p.domain[1])}b<T&&(M._counterDomainMin=b,M._counterDomainMax=T)}};function L0e(e,r){var t={_fullLayout:r},n=e._id.charAt(0)==="x",a=e._mainAxis._anchorAxis,o="",i="",l="";if(a&&(l=a._mainAxis._id,o=n?e._id+l:l+e._id),!o||!r._plots[o]){o="";for(var f=e._counterAxes,s=0;s<f.length;s++){var u=f[s],c=n?e._id+u:u+e._id;i||(i=c);var v=ml.getFromId(t,u);if(l&&v.overlaying===l){o=c;break}}}return o||i}Rt.clearExpandedTraceDefaultColors=function(e){var r,t,n;function a(i,l,f,s){t[s]=l,t.length=s+1,i.valType==="color"&&i.dflt===void 0&&r.push(t.join("."))}for(t=[],r=e._module._colorAttrs,r||(e._module._colorAttrs=r=[],PR.crawl(e._module.attributes,a)),n=0;n<r.length;n++){var o=Bt.nestedProperty(e,"_input."+r[n]);o.get()||Bt.nestedProperty(e,r[n]).set(null)}};Rt.supplyDataDefaults=function(e,r,t,n){var a=n._modules,o=n._visibleModules,i=n._basePlotModules,l=0,f=0,s,u,c;n._transformModules=[];function v(M){r.push(M);var E=M._module;E&&(Bt.pushUnique(a,E),M.visible===!0&&Bt.pushUnique(o,E),Bt.pushUnique(i,M._module.basePlotModule),l++,M._input.visible!==!1&&f++)}var x={},m=[],w=(t.template||{}).data||{},A=m0e.traceTemplater(w);for(s=0;s<e.length;s++)c=e[s],u=A.newTrace(c),u.uid=n._traceUids[s],Rt.supplyTraceDefaults(c,u,f,n,s),u.index=s,u._input=c,u._fullInput=u,v(u),jn.traceIs(u,"carpetAxis")&&(x[u.carpet]=u),jn.traceIs(u,"carpetDependent")&&m.push(s);for(s=0;s<m.length;s++)if(u=r[m[s]],!!u.visible){var y=x[u.carpet];if(u._carpet=y,!y||!y.visible){u.visible=!1;continue}u.xaxis=y.xaxis,u.yaxis=y.yaxis}};Rt.supplyAnimationDefaults=function(e){e=e||{};var r,t={};function n(a,o){return Bt.coerce(e||{},t,L4,a,o)}if(n("mode"),n("direction"),n("fromcurrent"),Array.isArray(e.frame))for(t.frame=[],r=0;r<e.frame.length;r++)t.frame[r]=Rt.supplyAnimationFrameDefaults(e.frame[r]||{});else t.frame=Rt.supplyAnimationFrameDefaults(e.frame||{});if(Array.isArray(e.transition))for(t.transition=[],r=0;r<e.transition.length;r++)t.transition[r]=Rt.supplyAnimationTransitionDefaults(e.transition[r]||{});else t.transition=Rt.supplyAnimationTransitionDefaults(e.transition||{});return t};Rt.supplyAnimationFrameDefaults=function(e){var r={};function t(n,a){return Bt.coerce(e||{},r,L4.frame,n,a)}return t("duration"),t("redraw"),r};Rt.supplyAnimationTransitionDefaults=function(e){var r={};function t(n,a){return Bt.coerce(e||{},r,L4.transition,n,a)}return t("duration"),t("easing"),r};Rt.supplyFrameDefaults=function(e){var r={};function t(n,a){return Bt.coerce(e,r,_0e,n,a)}return t("group"),t("name"),t("traces"),t("baseframe"),t("data"),t("layout"),r};Rt.supplyTraceDefaults=function(e,r,t,n,a){var o=n.colorway||OR.defaults,i=o[t%o.length],l;function f(E,b){return Bt.coerce(e,r,Rt.attributes,E,b)}var s=f("visible");f("type"),f("name",n._traceWord+" "+a),f("uirevision",n.uirevision);var u=Rt.getModule(r);if(r._module=u,u){var c=u.basePlotModule,v=c.attr,x=c.attributes;if(v&&x){var m=n._subplots,w="";if(Array.isArray(v))for(l=0;l<v.length;l++){var A=v[l],y=Bt.coerce(e,r,x,A);m[A]&&Bt.pushUnique(m[A],y),w+=y}else w=Bt.coerce(e,r,x,v);m[c.name]&&Bt.pushUnique(m[c.name],w)}}if(s&&(f("customdata"),f("ids"),f("meta"),jn.traceIs(r,"showLegend")?(Bt.coerce(e,r,u.attributes.showlegend?u.attributes:Rt.attributes,"showlegend"),f("legend"),f("legendwidth"),f("legendgroup"),f("legendgrouptitle.text"),f("legendrank"),r._dfltShowLegend=!0):r._dfltShowLegend=!1,u&&u.supplyDefaults(e,r,i,n),jn.traceIs(r,"noOpacity")||f("opacity"),jn.traceIs(r,"notLegendIsolatable")&&(r.visible=!!r.visible),jn.traceIs(r,"noHover")||(r.hovertemplate||Bt.coerceHoverinfo(e,r,n),r.type!=="parcats"&&jn.getComponentMethod("fx","supplyDefaults")(e,r,i,n)),u&&u.selectPoints)){var M=f("selectedpoints");Bt.isTypedArray(M)&&(r.selectedpoints=Array.from(M))}return r};Rt.supplyLayoutGlobalDefaults=function(e,r,t){function n(c,v){return Bt.coerce(e,r,Rt.layoutAttributes,c,v)}var a=e.template;Bt.isPlainObject(a)&&(r.template=a,r._template=a.layout,r._dataTemplate=a.data),n("autotypenumbers");var o=Bt.coerceFont(n,"font"),i=o.size;Bt.coerceFont(n,"title.font",o,{overrideDflt:{size:Math.round(i*1.4)}}),n("title.text",r._dfltTitle.plot),n("title.xref");var l=n("title.yref");n("title.pad.t"),n("title.pad.r"),n("title.pad.b"),n("title.pad.l");var f=n("title.automargin");n("title.x"),n("title.xanchor"),n("title.y"),n("title.yanchor"),n("title.subtitle.text",r._dfltTitle.subtitle),Bt.coerceFont(n,"title.subtitle.font",o,{overrideDflt:{size:Math.round(r.title.font.size*.7)}}),f&&(l==="paper"&&(r.title.y!==0&&(r.title.y=1),r.title.yanchor==="auto"&&(r.title.yanchor=r.title.y===0?"top":"bottom")),l==="container"&&(r.title.y==="auto"&&(r.title.y=1),r.title.yanchor==="auto"&&(r.title.yanchor=r.title.y<.5?"bottom":"top")));var s=n("uniformtext.mode");s&&n("uniformtext.minsize"),n("autosize",!(e.width&&e.height)),n("width"),n("height"),n("minreducedwidth"),n("minreducedheight"),n("margin.l"),n("margin.r"),n("margin.t"),n("margin.b"),n("margin.pad"),n("margin.autoexpand"),e.width&&e.height&&Rt.sanitizeMargins(r),jn.getComponentMethod("grid","sizeDefaults")(e,r),n("paper_bgcolor"),n("separators",t.decimal+t.thousands),n("hidesources"),n("colorway"),n("datarevision");var u=n("uirevision");n("editrevision",u),n("selectionrevision",u),jn.getComponentMethod("modebar","supplyLayoutDefaults")(e,r),jn.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(e,r,n),jn.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(e,r,n),n("meta"),Bt.isPlainObject(e.transition)&&(n("transition.duration"),n("transition.easing"),n("transition.ordering")),jn.getComponentMethod("calendars","handleDefaults")(e,r,"calendar"),jn.getComponentMethod("fx","supplyLayoutGlobalDefaults")(e,r,n),Bt.coerce(e,r,b0e,"scattermode")};function c3(e){return typeof e=="string"&&e.substr(e.length-2)==="px"&&parseFloat(e)}Rt.plotAutoSize=function(r,t,n){var a=r._context||{},o=a.frameMargins,i,l,f=Bt.isPlotDiv(r);if(f&&r.emit("plotly_autosize"),a.fillFrame)i=window.innerWidth,l=window.innerHeight,document.body.style.overflow="hidden";else{var s=f?window.getComputedStyle(r):{};if(i=c3(s.width)||c3(s.maxWidth)||n.width,l=c3(s.height)||c3(s.maxHeight)||n.height,Ug(o)&&o>0){var u=1-2*o;i=Math.round(u*i),l=Math.round(u*l)}}var c=Rt.layoutAttributes.width.min,v=Rt.layoutAttributes.height.min;i<c&&(i=c),l<v&&(l=v);var x=!t.width&&Math.abs(n.width-i)>1,m=!t.height&&Math.abs(n.height-l)>1;(m||x)&&(x&&(n.width=i),m&&(n.height=l)),r._initialAutoSize||(r._initialAutoSize={width:i,height:l}),Rt.sanitizeMargins(n)};Rt.supplyLayoutModuleDefaults=function(e,r,t,n){var a=jn.componentsRegistry,o=r._basePlotModules,i,l,f,s=jn.subplotsRegistry.cartesian;for(i in a)f=a[i],f.includeBasePlot&&f.includeBasePlot(e,r);o.length||o.push(s),r._has("cartesian")&&(jn.getComponentMethod("grid","contentDefaults")(e,r),s.finalizeSubplots(e,r));for(var u in r._subplots)r._subplots[u].sort(Bt.subplotSort);for(l=0;l<o.length;l++)f=o[l],f.supplyLayoutDefaults&&f.supplyLayoutDefaults(e,r,t);var c=r._modules;for(l=0;l<c.length;l++)f=c[l],f.supplyLayoutDefaults&&f.supplyLayoutDefaults(e,r,t);var v=r._transformModules;for(l=0;l<v.length;l++)f=v[l],f.supplyLayoutDefaults&&f.supplyLayoutDefaults(e,r,t,n);for(i in a)f=a[i],f.supplyLayoutDefaults&&f.supplyLayoutDefaults(e,r,t)};Rt.purge=function(e){var r=e._fullLayout||{};r._glcontainer!==void 0&&(r._glcontainer.selectAll(".gl-canvas").remove(),r._glcontainer.remove(),r._glcanvas=null),r._modeBar&&r._modeBar.destroy(),e._transitionData&&(e._transitionData._interruptCallbacks&&(e._transitionData._interruptCallbacks.length=0),e._transitionData._animationRaf&&window.cancelAnimationFrame(e._transitionData._animationRaf)),Bt.clearThrottle(),Bt.clearResponsive(e),delete e.data,delete e.layout,delete e._fullData,delete e._fullLayout,delete e.calcdata,delete e.empty,delete e.fid,delete e.undoqueue,delete e.undonum,delete e.autoplay,delete e.changed,delete e._promises,delete e._redrawTimer,delete e._hmlumcount,delete e._hmpixcount,delete e._transitionData,delete e._transitioning,delete e._initialAutoSize,delete e._transitioningWithDuration,delete e._dragging,delete e._dragged,delete e._dragdata,delete e._hoverdata,delete e._snapshotInProgress,delete e._editing,delete e._mouseDownTime,delete e._legendMouseDownTime,e.removeAllListeners&&e.removeAllListeners()};Rt.style=function(e){var r=e._fullLayout._visibleModules,t=[],n;for(n=0;n<r.length;n++){var a=r[n];a.style&&Bt.pushUnique(t,a.style)}for(n=0;n<t.length;n++)t[n](e)};Rt.sanitizeMargins=function(e){if(!(!e||!e.margin)){var r=e.width,t=e.height,n=e.margin,a=r-(n.l+n.r),o=t-(n.t+n.b),i;a<0&&(i=(r-1)/(n.l+n.r),n.l=Math.floor(i*n.l),n.r=Math.floor(i*n.r)),o<0&&(i=(t-1)/(n.t+n.b),n.t=Math.floor(i*n.t),n.b=Math.floor(i*n.b))}};Rt.clearAutoMarginIds=function(e){e._fullLayout._pushmarginIds={}};Rt.allowAutoMargin=function(e,r){e._fullLayout._pushmarginIds[r]=1};function NR(e){var r=e.margin;if(!e._size){var t=e._size={l:Math.round(r.l),r:Math.round(r.r),t:Math.round(r.t),b:Math.round(r.b),p:Math.round(r.pad)};t.w=Math.round(e.width)-t.l-t.r,t.h=Math.round(e.height)-t.t-t.b}e._pushmargin||(e._pushmargin={}),e._pushmarginIds||(e._pushmarginIds={}),e._reservedMargin||(e._reservedMargin={})}var BR=2,zR=2;Rt.autoMargin=function(e,r,t){var n=e._fullLayout,a=n.width,o=n.height,i=n.margin,l=n.minreducedwidth,f=n.minreducedheight,s=Bt.constrain(a-i.l-i.r,BR,l),u=Bt.constrain(o-i.t-i.b,zR,f),c=Math.max(0,a-s),v=Math.max(0,o-u),x=n._pushmargin,m=n._pushmarginIds;if(i.autoexpand!==!1){if(!t)delete x[r],delete m[r];else{var w=t.pad;if(w===void 0&&(w=Math.min(12,i.l,i.r,i.t,i.b)),c){var A=(t.l+t.r)/c;A>1&&(t.l/=A,t.r/=A)}if(v){var y=(t.t+t.b)/v;y>1&&(t.t/=y,t.b/=y)}var M=t.xl!==void 0?t.xl:t.x,E=t.xr!==void 0?t.xr:t.x,b=t.yt!==void 0?t.yt:t.y,T=t.yb!==void 0?t.yb:t.y;x[r]={l:{val:M,size:t.l+w},r:{val:E,size:t.r+w},b:{val:T,size:t.b+w},t:{val:b,size:t.t+w}},m[r]=1}if(!n._replotting)return Rt.doAutoMargin(e)}};function R0e(e){if("_redrawFromAutoMarginCount"in e._fullLayout)return!1;var r=ml.list(e,"",!0);for(var t in r)if(r[t].autoshift||r[t].shift)return!0;return!1}Rt.doAutoMargin=function(e){var r=e._fullLayout,t=r.width,n=r.height;r._size||(r._size={}),NR(r);var a=r._size,o=r.margin,i={t:0,b:0,l:0,r:0},l=Bt.extendFlat({},a),f=o.l,s=o.r,u=o.t,c=o.b,v=r._pushmargin,x=r._pushmarginIds,m=r.minreducedwidth,w=r.minreducedheight;if(o.autoexpand!==!1){for(var A in v)x[A]||delete v[A];var y=e._fullLayout._reservedMargin;for(var M in y)for(var E in y[M]){var b=y[M][E];i[E]=Math.max(i[E],b)}v.base={l:{val:0,size:f},r:{val:1,size:s},t:{val:1,size:u},b:{val:0,size:c}};for(var T in i){var p=0;for(var _ in v)_!=="base"&&Ug(v[_][T].size)&&(p=v[_][T].size>p?v[_][T].size:p);var g=Math.max(0,o[T]-p);i[T]=Math.max(0,i[T]-g)}for(var h in v){var S=v[h].l||{},d=v[h].b||{},R=S.val,L=S.size,F=d.val,O=d.size,P=t-i.r-i.l,I=n-i.t-i.b;for(var k in v){if(Ug(L)&&v[k].r){var D=v[k].r.val,z=v[k].r.size;if(D>R){var q=(L*D+(z-P)*R)/(D-R),j=(z*(1-R)+(L-P)*(1-D))/(D-R);q+j>f+s&&(f=q,s=j)}}if(Ug(O)&&v[k].t){var Q=v[k].t.val,K=v[k].t.size;if(Q>F){var G=(O*Q+(K-I)*F)/(Q-F),B=(K*(1-F)+(O-I)*(1-Q))/(Q-F);G+B>c+u&&(c=G,u=B)}}}}}var Z=Bt.constrain(t-o.l-o.r,BR,m),ie=Bt.constrain(n-o.t-o.b,zR,w),J=Math.max(0,t-Z),le=Math.max(0,n-ie);if(J){var te=(f+s)/J;te>1&&(f/=te,s/=te)}if(le){var V=(c+u)/le;V>1&&(c/=V,u/=V)}if(a.l=Math.round(f)+i.l,a.r=Math.round(s)+i.r,a.t=Math.round(u)+i.t,a.b=Math.round(c)+i.b,a.p=Math.round(o.pad),a.w=Math.round(t)-a.l-a.r,a.h=Math.round(n)-a.t-a.b,!r._replotting&&(Rt.didMarginChange(l,a)||R0e(e))){"_redrawFromAutoMarginCount"in r?r._redrawFromAutoMarginCount++:r._redrawFromAutoMarginCount=1;var ne=3*(1+Object.keys(x).length);if(r._redrawFromAutoMarginCount<ne)return jn.call("_doPlot",e);r._size=l,Bt.warn("Too many auto-margin redraws.")}F0e(e)};function F0e(e){var r=ml.list(e,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(t){for(var n=0;n<r.length;n++){var a=r[n][t];a&&a()}})}var RR=["l","r","t","b","p","w","h"];Rt.didMarginChange=function(e,r){for(var t=0;t<RR.length;t++){var n=RR[t],a=e[n],o=r[n];if(!Ug(a)||Math.abs(o-a)>1)return!0}return!1};Rt.graphJson=function(e,r,t,n,a,o){(a&&r&&!e._fullData||a&&!r&&!e._fullLayout)&&Rt.supplyDefaults(e);var i=a?e._fullData:e.data,l=a?e._fullLayout:e.layout,f=(e._transitionData||{})._frames;function s(v,x){if(typeof v=="function")return x?"_function_":null;if(Bt.isPlainObject(v)){var m={},w;return Object.keys(v).sort().forEach(function(E){if(["_","["].indexOf(E.charAt(0))===-1){if(typeof v[E]=="function"){x&&(m[E]="_function");return}if(t==="keepdata"){if(E.substr(E.length-3)==="src")return}else if(t==="keepstream"){if(w=v[E+"src"],typeof w=="string"&&w.indexOf(":")>0&&!Bt.isPlainObject(v.stream))return}else if(t!=="keepall"&&(w=v[E+"src"],typeof w=="string"&&w.indexOf(":")>0))return;m[E]=s(v[E],x)}}),m}var A=Array.isArray(v),y=Bt.isTypedArray(v);if((A||y)&&v.dtype&&v.shape){var M=v.bdata;return s({dtype:v.dtype,shape:v.shape,bdata:Bt.isArrayBuffer(M)?y0e.encode(M):M},x)}return A?v.map(function(E){return s(E,x)}):y?Bt.simpleMap(v,Bt.identity):Bt.isJSDate(v)?Bt.ms2DateTimeLocal(+v):v}var u={data:(i||[]).map(function(v){var x=s(v);return r&&delete x.fit,x})};if(!r&&(u.layout=s(l),a)){var c=l._size;u.layout.computed={margin:{b:c.b,l:c.l,r:c.r,t:c.t}}}return f&&(u.frames=s(f)),o&&(u.config=s(e._context,!0)),n==="object"?u:JSON.stringify(u)};Rt.modifyFrames=function(e,r){var t,n,a,o=e._transitionData._frames,i=e._transitionData._frameHash;for(t=0;t<r.length;t++)switch(n=r[t],n.type){case"replace":a=n.value;var l=(o[n.index]||{}).name,f=a.name;o[n.index]=i[f]=a,f!==l&&(delete i[l],i[f]=a);break;case"insert":a=n.value,i[a.name]=a,o.splice(n.index,0,a);break;case"delete":a=o[n.index],delete i[a.name],o.splice(n.index,1);break}return Promise.resolve()};Rt.computeFrame=function(e,r){var t=e._transitionData._frameHash,n,a,o,i;if(!r)throw new Error("computeFrame must be given a string frame name");var l=t[r.toString()];if(!l)return!1;for(var f=[l],s=[l.name];l.baseframe&&(l=t[l.baseframe.toString()])&&s.indexOf(l.name)===-1;)f.push(l),s.push(l.name);for(var u={};l=f.pop();)if(l.layout&&(u.layout=Rt.extendLayout(u.layout,l.layout)),l.data){if(u.data||(u.data=[]),a=l.traces,!a)for(a=[],n=0;n<l.data.length;n++)a[n]=n;for(u.traces||(u.traces=[]),n=0;n<l.data.length;n++)o=a[n],o!=null&&(i=u.traces.indexOf(o),i===-1&&(i=u.data.length,u.traces[i]=o),u.data[i]=Rt.extendTrace(u.data[i],l.data[n]))}return u};Rt.recomputeFrameHash=function(e){for(var r=e._transitionData._frameHash={},t=e._transitionData._frames,n=0;n<t.length;n++){var a=t[n];a&&a.name&&(r[a.name]=a)}};Rt.extendObjectWithContainers=function(e,r,t){var n,a,o,i,l,f,s,u,c=Bt.extendDeepNoArrays({},r||{}),v=Bt.expandObjectPaths(c),x={};if(t&&t.length)for(o=0;o<t.length;o++)n=Bt.nestedProperty(v,t[o]),a=n.get(),a===void 0?Bt.nestedProperty(x,t[o]).set(null):(n.set(null),Bt.nestedProperty(x,t[o]).set(a));if(e=Bt.extendDeepNoArrays(e||{},v),t&&t.length){for(o=0;o<t.length;o++)if(l=Bt.nestedProperty(x,t[o]),s=l.get(),!!s){for(f=Bt.nestedProperty(e,t[o]),u=f.get(),Array.isArray(u)||(u=[],f.set(u)),i=0;i<s.length;i++){var m=s[i];m===null?u[i]=null:u[i]=Rt.extendObjectWithContainers(u[i],m)}f.set(u)}}return e};Rt.dataArrayContainers=["transforms","dimensions"];Rt.layoutArrayContainers=jn.layoutArrayContainers;Rt.extendTrace=function(e,r){return Rt.extendObjectWithContainers(e,r,Rt.dataArrayContainers)};Rt.extendLayout=function(e,r){return Rt.extendObjectWithContainers(e,r,Rt.layoutArrayContainers)};Rt.transition=function(e,r,t,n,a,o){var i={redraw:a.redraw},l={},f=[];return i.prepareFn=function(){for(var s=Array.isArray(r)?r.length:0,u=n.slice(0,s),c=0;c<u.length;c++){var v=u[c],x=e._fullData[v],m=x._module;if(m){if(m.animatable){var w=m.basePlotModule.name;l[w]||(l[w]=[]),l[w].push(v)}e.data[u[c]]=Rt.extendTrace(e.data[u[c]],r[c])}}var A=Bt.expandObjectPaths(Bt.extendDeepNoArrays({},t)),y=/^[xy]axis[0-9]*$/;for(var M in A)y.test(M)&&delete A[M].range;Rt.extendLayout(e.layout,A),delete e.calcdata,Rt.supplyDefaults(e),Rt.doCalcdata(e);var E=Bt.expandObjectPaths(t);if(E){var b=e._fullLayout._plots;for(var T in b){var p=b[T],_=p.xaxis,g=p.yaxis,h=_.range.slice(),S=g.range.slice(),d=null,R=null,L=null,F=null;Array.isArray(E[_._name+".range"])?d=E[_._name+".range"].slice():Array.isArray((E[_._name]||{}).range)&&(d=E[_._name].range.slice()),Array.isArray(E[g._name+".range"])?R=E[g._name+".range"].slice():Array.isArray((E[g._name]||{}).range)&&(R=E[g._name].range.slice()),h&&d&&(_.r2l(h[0])!==_.r2l(d[0])||_.r2l(h[1])!==_.r2l(d[1]))&&(L={xr0:h,xr1:d}),S&&R&&(g.r2l(S[0])!==g.r2l(R[0])||g.r2l(S[1])!==g.r2l(R[1]))&&(F={yr0:S,yr1:R}),(L||F)&&f.push(Bt.extendFlat({plotinfo:p},L,F))}}return Promise.resolve()},i.runFn=function(s){var u,c=e._fullLayout._basePlotModules,v=f.length,x;if(t)for(x=0;x<c.length;x++)c[x].transitionAxes&&c[x].transitionAxes(e,f,o,s);v?(u=Bt.extendFlat({},o),u.duration=0,delete l.cartesian):u=o;for(var m in l){var w=l[m],A=e._fullData[w[0]]._module;A.basePlotModule.plot(e,w,u,s)}},qR(e,o,i)};Rt.transitionFromReact=function(e,r,t,n){var a=e._fullLayout,o=a.transition,i={},l=[];return i.prepareFn=function(){var f=a._plots;i.redraw=!1,r.anim==="some"&&(i.redraw=!0),t.anim==="some"&&(i.redraw=!0);for(var s in f){var u=f[s],c=u.xaxis,v=u.yaxis,x=n[c._name].range.slice(),m=n[v._name].range.slice(),w=c.range.slice(),A=v.range.slice();c.setScale(),v.setScale();var y=null,M=null;(c.r2l(x[0])!==c.r2l(w[0])||c.r2l(x[1])!==c.r2l(w[1]))&&(y={xr0:x,xr1:w}),(v.r2l(m[0])!==v.r2l(A[0])||v.r2l(m[1])!==v.r2l(A[1]))&&(M={yr0:m,yr1:A}),(y||M)&&l.push(Bt.extendFlat({plotinfo:u},y,M))}return Promise.resolve()},i.runFn=function(f){for(var s=e._fullData,u=e._fullLayout,c=u._basePlotModules,v,x,m,w=[],A=0;A<s.length;A++)w.push(A);function y(){if(e._fullLayout)for(var E=0;E<c.length;E++)c[E].transitionAxes&&c[E].transitionAxes(e,l,v,f)}function M(){if(e._fullLayout)for(var E=0;E<c.length;E++)c[E].plot(e,m,x,f)}l.length&&r.anim?o.ordering==="traces first"?(v=Bt.extendFlat({},o,{duration:0}),m=w,x=o,setTimeout(y,o.duration),M()):(v=o,m=null,x=Bt.extendFlat({},o,{duration:0}),setTimeout(M,v.duration),y()):l.length?(v=o,y()):r.anim&&(m=w,x=o,M())},qR(e,o,i)};function qR(e,r,t){var n=!1;function a(c){var v=Promise.resolve();if(!c)return v;for(;c.length;)v=v.then(c.shift());return v}function o(c){if(c)for(;c.length;)c.shift()}function i(){return e.emit("plotly_transitioning",[]),new Promise(function(c){e._transitioning=!0,r.duration>0&&(e._transitioningWithDuration=!0),e._transitionData._interruptCallbacks.push(function(){n=!0}),t.redraw&&e._transitionData._interruptCallbacks.push(function(){return jn.call("redraw",e)}),e._transitionData._interruptCallbacks.push(function(){e.emit("plotly_transitioninterrupted",[])});var v=0,x=0;function m(){return v++,function(){x++,!n&&x===v&&l(c)}}t.runFn(m),setTimeout(m())})}function l(c){if(e._transitionData)return o(e._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(t.redraw)return jn.call("redraw",e)}).then(function(){e._transitioning=!1,e._transitioningWithDuration=!1,e.emit("plotly_transitioned",[])}).then(c)}function f(){if(e._transitionData)return e._transitioning=!1,a(e._transitionData._interruptCallbacks)}var s=[Rt.previousPromises,f,t.prepareFn,Rt.rehover,Rt.reselect,i],u=Bt.syncOrAsync(s,e);return(!u||!u.then)&&(u=Promise.resolve()),u.then(function(){return e})}Rt.doCalcdata=function(e,r){var t=ml.list(e),n=e._fullData,a=e._fullLayout,o,i,l,f,s=new Array(n.length),u=(e.calcdata||[]).slice();for(e.calcdata=s,a._numBoxes=0,a._numViolins=0,a._violinScaleGroupStats={},e._hmpixcount=0,e._hmlumcount=0,a._piecolormap={},a._sunburstcolormap={},a._treemapcolormap={},a._iciclecolormap={},a._funnelareacolormap={},l=0;l<n.length;l++)if(Array.isArray(r)&&r.indexOf(l)===-1){s[l]=u[l];continue}for(l=0;l<n.length;l++)o=n[l],o._arrayAttrs=PR.findArrayAttributes(o),o._extremes={};var c=a._subplots.polar||[];for(l=0;l<c.length;l++)t.push(a[c[l]].radialaxis,a[c[l]].angularaxis);for(var v in a._colorAxes){var x=a[v];x.cauto!==!1&&(delete x.cmin,delete x.cmax)}var m=!1;function w(M){if(o=n[M],i=o._module,o.visible===!0&&o.transforms){if(i&&i.calc){var E=i.calc(e,o);E[0]&&E[0].t&&E[0].t._scene&&delete E[0].t._scene.dirty}for(f=0;f<o.transforms.length;f++){var b=o.transforms[f];i=transformsRegistry[b.type],i&&i.calcTransform&&(o._hasCalcTransform=!0,m=!0,i.calcTransform(e,o,b))}}}function A(M,E){if(o=n[M],i=o._module,!!i.isContainer===E){var b=[];if(o.visible===!0&&o._length!==0){delete o._indexToPoints;var T=o.transforms||[];for(f=T.length-1;f>=0;f--)if(T[f].enabled){o._indexToPoints=T[f]._indexToPoints;break}i&&i.calc&&(b=i.calc(e,o))}(!Array.isArray(b)||!b[0])&&(b=[{x:CR,y:CR}]),b[0].t||(b[0].t={}),b[0].trace=o,s[M]=b}}for(FR(t,n,a),l=0;l<n.length;l++)A(l,!0);for(l=0;l<n.length;l++)w(l);for(m&&FR(t,n,a),l=0;l<n.length;l++)A(l,!0);for(l=0;l<n.length;l++)A(l,!1);DR(e);var y=I0e(t,e);if(y.length){for(a._numBoxes=0,a._numViolins=0,l=0;l<y.length;l++)A(y[l],!0);for(l=0;l<y.length;l++)A(y[l],!1);DR(e)}jn.getComponentMethod("fx","calc")(e),jn.getComponentMethod("errorbars","calc")(e)};var D0e=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function I0e(e,r){var t=[],n,a,o,i,l;function f(k,D,z){var q=D._id.charAt(0);if(k==="histogram2dcontour"){var j=D._counterAxes[0],Q=ml.getFromId(r,j),K=q==="x"||j==="x"&&Q.type==="category",G=q==="y"||j==="y"&&Q.type==="category";return function(B,Z){return B===0||Z===0||K&&B===z[Z].length-1||G&&Z===z.length-1?-1:(q==="y"?Z:B)-1}}else return function(B,Z){return q==="y"?Z:B}}var s={min:function(k){return Bt.aggNums(Math.min,null,k)},max:function(k){return Bt.aggNums(Math.max,null,k)},sum:function(k){return Bt.aggNums(function(D,z){return D+z},null,k)},total:function(k){return Bt.aggNums(function(D,z){return D+z},null,k)},mean:function(k){return Bt.mean(k)},"geometric mean":function(k){return Bt.geometricMean(k)},median:function(k){return Bt.median(k)}};function u(k,D){return k[1]-D[1]}function c(k,D){return D[1]-k[1]}for(n=0;n<e.length;n++){var v=e[n];if(v.type==="category"){var x=v.categoryorder.match(D0e);if(x){var m=x[1],w=x[2],A=v._id.charAt(0),y=A==="x",M=[];for(a=0;a<v._categories.length;a++)M.push([v._categories[a],[]]);for(a=0;a<v._traceIndices.length;a++){var E=v._traceIndices[a],b=r._fullData[E];if(b.visible===!0){var T=b.type;jn.traceIs(b,"histogram")&&(delete b._xautoBinFinished,delete b._yautoBinFinished);var p=T==="splom",_=T==="scattergl",g=r.calcdata[E];for(o=0;o<g.length;o++){var h=g[o],S,d;if(p){var R=b._axesDim[v._id];if(!y){var L=b._diag[R][0];L&&(v=r._fullLayout[ml.id2name(L)])}var F=h.trace.dimensions[R].values;for(i=0;i<F.length;i++)for(S=v._categoriesMap[F[i]],l=0;l<h.trace.dimensions.length;l++)if(l!==R){var O=h.trace.dimensions[l];M[S][1].push(O.values[i])}}else if(_){for(i=0;i<h.t.x.length;i++)y?(S=h.t.x[i],d=h.t.y[i]):(S=h.t.y[i],d=h.t.x[i]),M[S][1].push(d);h.t&&h.t._scene&&delete h.t._scene.dirty}else if(h.hasOwnProperty("z")){d=h.z;var P=f(b.type,v,d);for(i=0;i<d.length;i++)for(l=0;l<d[i].length;l++)S=P(l,i),S+1&&M[S][1].push(d[i][l])}else for(S=h.p,S===void 0&&(S=h[A]),d=h.s,d===void 0&&(d=h.v),d===void 0&&(d=y?h.y:h.x),Array.isArray(d)||(d===void 0?d=[]:d=[d]),i=0;i<d.length;i++)M[S][1].push(d[i])}}}v._categoriesValue=M;var I=[];for(a=0;a<M.length;a++)I.push([M[a][0],s[m](M[a][1])]);I.sort(w==="descending"?c:u),v._categoriesAggregatedValue=I,v._initialCategories=I.map(function(k){return k[0]}),t=t.concat(v.sortByInitialCategories())}}}return t}function FR(e,r,t){var n={};function a(f){f.clearCalc(),f.type==="multicategory"&&f.setupMultiCategory(r),n[f._id]=1}Bt.simpleMap(e,a);for(var o=t._axisMatchGroups||[],i=0;i<o.length;i++)for(var l in o[i])n[l]||a(t[ml.id2name(l)])}function DR(e){var r=e._fullLayout,t=r._visibleModules,n={},a,o,i;for(o=0;o<t.length;o++){var l=t[o],f=l.crossTraceCalc;if(f){var s=l.basePlotModule.name;n[s]?Bt.pushUnique(n[s],f):n[s]=[f]}}for(i in n){var u=n[i],c=r._subplots[i];if(Array.isArray(c))for(a=0;a<c.length;a++){var v=c[a],x=i==="cartesian"?r._plots[v]:r[v];for(o=0;o<u.length;o++)u[o](e,x,v)}else for(o=0;o<u.length;o++)u[o](e)}}Rt.rehover=function(e){e._fullLayout._rehover&&e._fullLayout._rehover()};Rt.redrag=function(e){e._fullLayout._redrag&&e._fullLayout._redrag()};Rt.reselect=function(e){var r=e._fullLayout,t=(e.layout||{}).selections,n=r._previousSelections;r._previousSelections=t;var a=r._reselect||JSON.stringify(t)!==JSON.stringify(n);jn.getComponentMethod("selections","reselect")(e,a)};Rt.generalUpdatePerTraceModule=function(e,r,t,n){var a=r.traceHash,o={},i;for(i=0;i<t.length;i++){var l=t[i],f=l[0].trace;f.visible&&(o[f.type]=o[f.type]||[],o[f.type].push(l))}for(var s in a)if(!o[s]){var u=a[s][0],c=u[0].trace;c.visible=!1,o[s]=[u]}for(var v in o){var x=o[v],m=x[0][0].trace._module;m.plot(e,r,Bt.filterVisible(x),n)}r.traceHash=o};Rt.plotBasePlot=function(e,r,t,n,a){var o=jn.getModule(e),i=w0e(r.calcdata,o)[0];o.plot(r,i,n,a)};Rt.cleanBasePlot=function(e,r,t,n,a){var o=a._has&&a._has(e),i=t._has&&t._has(e);o&&!i&&a["_"+e+"layer"].selectAll("g.trace").remove()}});var f0=fe($h=>{"use strict";$h.xmlns="http://www.w3.org/2000/xmlns/";$h.svg="http://www.w3.org/2000/svg";$h.xlink="http://www.w3.org/1999/xlink";$h.svgAttrs={xmlns:$h.svg,"xmlns:xlink":$h.xlink}});var Ro=fe((uPe,GR)=>{"use strict";GR.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}});var po=fe(us=>{"use strict";var hi=Ln(),$u=tt(),P0e=$u.strTranslate,R4=f0(),O0e=Ro().LINE_SPACING,N0e=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;us.convertToTspans=function(e,r,t){var n=e.text(),a=!e.attr("data-notex")&&r&&r._context.typesetMath&&typeof MathJax!="undefined"&&n.match(N0e),o=hi.select(e.node().parentNode);if(o.empty())return;var i=e.attr("class")?e.attr("class").split(" ")[0]:"text";i+="-math",o.selectAll("svg."+i).remove(),o.selectAll("g."+i+"-group").remove(),e.style("display",null).attr({"data-unformatted":n,"data-math":"N"});function l(){o.empty()||(i=e.attr("class")+"-math",o.select("svg."+i).remove()),e.text("").style("white-space","pre");var f=$0e(e.node(),n);f&&e.style("pointer-events","all"),us.positionText(e),t&&t.call(e)}return a?(r&&r._promises||[]).push(new Promise(function(f){e.style("display","none");var s=parseInt(e.node().style.fontSize,10),u={fontSize:s};U0e(a[2],u,function(c,v,x){o.selectAll("svg."+i).remove(),o.selectAll("g."+i+"-group").remove();var m=c&&c.select("svg");if(!m||!m.node()){l(),f();return}var w=o.append("g").classed(i+"-group",!0).attr({"pointer-events":"none","data-unformatted":n,"data-math":"Y"});w.node().appendChild(m.node()),v&&v.node()&&m.node().insertBefore(v.node().cloneNode(!0),m.node().firstChild);var A=x.width,y=x.height;m.attr({class:i,height:y,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var M=e.node().style.fill||"black",E=m.select("g");E.attr({fill:M,stroke:M});var b=E.node().getBoundingClientRect(),T=b.width,p=b.height;(T>A||p>y)&&(m.style("overflow","hidden"),b=m.node().getBoundingClientRect(),T=b.width,p=b.height);var _=+e.attr("x"),g=+e.attr("y"),h=s||e.node().getBoundingClientRect().height,S=-h/4;if(i[0]==="y")w.attr({transform:"rotate("+[-90,_,g]+")"+P0e(-T/2,S-p/2)});else if(i[0]==="l")g=S-p/2;else if(i[0]==="a"&&i.indexOf("atitle")!==0)_=0,g=S;else{var d=e.attr("text-anchor");_=_-T*(d==="middle"?.5:d==="end"?1:0),g=g+S-p/2}m.attr({x:_,y:g}),t&&t.call(e,w),f(w)})})):l(),e};var B0e=/(<|&lt;|&#60;)/g,z0e=/(>|&gt;|&#62;)/g;function q0e(e){return e.replace(B0e,"\\lt ").replace(z0e,"\\gt ")}var HR=[["$","$"],["\\(","\\)"]];function U0e(e,r,t){var n=parseInt((MathJax.version||"").split(".")[0]);if(n!==2&&n!==3){$u.warn("No MathJax version:",MathJax.version);return}var a,o,i,l,f=function(){return o=$u.extendDeepAll({},MathJax.Hub.config),i=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:HR},displayAlign:"left"})},s=function(){o=$u.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=HR},u=function(){if(a=MathJax.Hub.config.menuSettings.renderer,a!=="SVG")return MathJax.Hub.setRenderer("SVG")},c=function(){a=MathJax.config.startup.output,a!=="svg"&&(MathJax.config.startup.output="svg")},v=function(){var M="math-output-"+$u.randstr({},64);l=hi.select("body").append("div").attr({id:M}).style({visibility:"hidden",position:"absolute","font-size":r.fontSize+"px"}).text(q0e(e));var E=l.node();return n===2?MathJax.Hub.Typeset(E):MathJax.typeset([E])},x=function(){var M=l.select(n===2?".MathJax_SVG":".MathJax"),E=!M.empty()&&l.select("svg").node();if(!E)$u.log("There was an error in the tex syntax.",e),t();else{var b=E.getBoundingClientRect(),T;n===2?T=hi.select("body").select("#MathJax_SVG_glyphs"):T=M.select("defs"),t(M,T,b)}l.remove()},m=function(){if(a!=="SVG")return MathJax.Hub.setRenderer(a)},w=function(){a!=="svg"&&(MathJax.config.startup.output=a)},A=function(){return i!==void 0&&(MathJax.Hub.processSectionDelay=i),MathJax.Hub.Config(o)},y=function(){MathJax.config=o};n===2?MathJax.Hub.Queue(f,u,v,x,m,A):n===3&&(s(),c(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){v(),x(),w(),y()}))}var XR={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},G0e={sub:"0.3em",sup:"-0.6em"},H0e={sub:"-0.21em",sup:"0.42em"},VR="\u200B",YR=["http:","https:","mailto:","",void 0,":"],jR=us.NEWLINES=/(\r\n?|\n)/g,D4=/(<[^<>]*>)/,I4=/<(\/?)([^ >]*)(\s+(.*))?>/i,V0e=/<br(\s+.*)?>/i;us.BR_TAG_ALL=/<br(\s+.*)?>/gi;var ZR=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,$R=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,JR=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,Y0e=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function Jh(e,r){if(!e)return null;var t=e.match(r),n=t&&(t[3]||t[4]);return n&&v3(n)}var W0e=/(^|;)\s*color:/;us.plainText=function(e,r){r=r||{};for(var t=r.len!==void 0&&r.len!==-1?r.len:1/0,n=r.allowedTags!==void 0?r.allowedTags:["br"],a="...",o=a.length,i=e.split(D4),l=[],f="",s=0,u=0;u<i.length;u++){var c=i[u],v=c.match(I4),x=v&&v[2].toLowerCase();if(x)n.indexOf(x)!==-1&&(l.push(c),f=x);else{var m=c.length;if(s+m<t)l.push(c),s+=m;else if(s<t){var w=t-s;f&&(f!=="br"||w<=o||m<=o)&&l.pop(),t>o?l.push(c.substr(0,w-o)+a):l.push(c.substr(0,w));break}f=""}}return l.join("")};var X0e={mu:"\u03BC",amp:"&",lt:"<",gt:">",nbsp:"\xA0",times:"\xD7",plusmn:"\xB1",deg:"\xB0"},j0e=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function v3(e){return e.replace(j0e,function(r,t){var n;return t.charAt(0)==="#"?n=Z0e(t.charAt(1)==="x"?parseInt(t.substr(2),16):parseInt(t.substr(1),10)):n=X0e[t],n||r})}us.convertEntities=v3;function Z0e(e){if(!(e>1114111)){var r=String.fromCodePoint;if(r)return r(e);var t=String.fromCharCode;return e<=65535?t(e):t((e>>10)+55232,e%1024+56320)}}function $0e(e,r){r=r.replace(jR," ");var t=!1,n=[],a,o=-1;function i(){o++;var p=document.createElementNS(R4.svg,"tspan");hi.select(p).attr({class:"line",dy:o*O0e+"em"}),e.appendChild(p),a=p;var _=n;if(n=[{node:p}],_.length>1)for(var g=1;g<_.length;g++)l(_[g])}function l(p){var _=p.type,g={},h;if(_==="a"){h="a";var S=p.target,d=p.href,R=p.popup;d&&(g={"xlink:xlink:show":S==="_blank"||S.charAt(0)!=="_"?"new":"replace",target:S,"xlink:xlink:href":d},R&&(g.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+R+'");return false;'))}else h="tspan";p.style&&(g.style=p.style);var L=document.createElementNS(R4.svg,h);if(_==="sup"||_==="sub"){f(a,VR),a.appendChild(L);var F=document.createElementNS(R4.svg,"tspan");f(F,VR),hi.select(F).attr("dy",H0e[_]),g.dy=G0e[_],a.appendChild(L),a.appendChild(F)}else a.appendChild(L);hi.select(L).attr(g),a=p.node=L,n.push(p)}function f(p,_){p.appendChild(document.createTextNode(_))}function s(p){if(n.length===1){$u.log("Ignoring unexpected end tag </"+p+">.",r);return}var _=n.pop();p!==_.type&&$u.log("Start tag <"+_.type+"> doesnt match end tag <"+p+">. Pretending it did match.",r),a=n[n.length-1].node}var u=V0e.test(r);u?i():(a=e,n=[{node:e}]);for(var c=r.split(D4),v=0;v<c.length;v++){var x=c[v],m=x.match(I4),w=m&&m[2].toLowerCase(),A=XR[w];if(w==="br")i();else if(A===void 0)f(a,v3(x));else if(m[1])s(w);else{var y=m[4],M={type:w},E=Jh(y,ZR);if(E?(E=E.replace(W0e,"$1 fill:"),A&&(E+=";"+A)):A&&(E=A),E&&(M.style=E),w==="a"){t=!0;var b=Jh(y,$R);if(b){var T=KR(b);T&&(M.href=T,M.target=Jh(y,JR)||"_blank",M.popup=Jh(y,Y0e))}}l(M)}}return t}function KR(e){var r=encodeURI(decodeURI(e)),t=document.createElement("a"),n=document.createElement("a");t.href=e,n.href=r;var a=t.protocol,o=n.protocol;return YR.indexOf(a)!==-1&&YR.indexOf(o)!==-1?r:""}us.sanitizeHTML=function(r){r=r.replace(jR," ");for(var t=document.createElement("p"),n=t,a=[],o=r.split(D4),i=0;i<o.length;i++){var l=o[i],f=l.match(I4),s=f&&f[2].toLowerCase();if(s in XR)if(f[1])a.length&&(n=a.pop());else{var u=f[4],c=Jh(u,ZR),v=c?{style:c}:{};if(s==="a"){var x=Jh(u,$R);if(x){var m=KR(x);if(m){v.href=m;var w=Jh(u,JR);w&&(v.target=w)}}}var A=document.createElement(s);n.appendChild(A),hi.select(A).attr(v),n=A,a.push(A)}else n.appendChild(document.createTextNode(v3(l)))}var y="innerHTML";return t[y]};us.lineCount=function(r){return r.selectAll("tspan.line").size()||1};us.positionText=function(r,t,n){return r.each(function(){var a=hi.select(this);function o(f,s){return s===void 0?(s=a.attr(f),s===null&&(a.attr(f,0),s=0)):a.attr(f,s),s}var i=o("x",t),l=o("y",n);this.nodeName==="text"&&a.selectAll("tspan.line").attr({x:i,y:l})})};function WR(e,r,t){var n=t.horizontalAlign,a=t.verticalAlign||"top",o=e.node().getBoundingClientRect(),i=r.node().getBoundingClientRect(),l,f,s;return a==="bottom"?f=function(){return o.bottom-l.height}:a==="middle"?f=function(){return o.top+(o.height-l.height)/2}:f=function(){return o.top},n==="right"?s=function(){return o.right-l.width}:n==="center"?s=function(){return o.left+(o.width-l.width)/2}:s=function(){return o.left},function(){l=this.node().getBoundingClientRect();var u=s()-i.left,c=f()-i.top,v=t.gd||{};if(t.gd){v._fullLayout._calcInverseTransform(v);var x=$u.apply3DTransform(v._fullLayout._invTransform)(u,c);u=x[0],c=x[1]}return this.style({top:c+"px",left:u+"px","z-index":1e3}),this}}var F4="1px ";us.makeTextShadow=function(e){var r=F4,t=F4,n=F4;return r+t+n+e+", -"+r+"-"+t+n+e+", "+r+"-"+t+n+e+", -"+r+t+n+e};us.makeEditable=function(e,r){var t=r.gd,n=r.delegate,a=hi.dispatch("edit","input","cancel"),o=n||e;if(e.style({"pointer-events":n?"none":"all"}),e.size()!==1)throw new Error("boo");function i(){f(),e.style({opacity:0});var s=o.attr("class"),u;s?u="."+s.split(" ")[0]+"-math-group":u="[class*=-math-group]",u&&hi.select(e.node().parentNode).select(u).style({opacity:0})}function l(s){var u=s.node(),c=document.createRange();c.selectNodeContents(u);var v=window.getSelection();v.removeAllRanges(),v.addRange(c),u.focus()}function f(){var s=hi.select(t),u=s.select(".svg-container"),c=u.append("div"),v=e.node().style,x=parseFloat(v.fontSize||12),m=r.text;m===void 0&&(m=e.attr("data-unformatted")),c.classed("plugin-editable editable",!0).style({position:"absolute","font-family":v.fontFamily||"Arial","font-size":x,color:r.fill||v.fill||"black",opacity:1,"background-color":r.background||"transparent",outline:"#ffffff33 1px solid",margin:[-x/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(m).call(WR(e,u,r)).on("blur",function(){t._editing=!1,e.text(this.textContent).style({opacity:1});var w=hi.select(this).attr("class"),A;w?A="."+w.split(" ")[0]+"-math-group":A="[class*=-math-group]",A&&hi.select(e.node().parentNode).select(A).style({opacity:0});var y=this.textContent;hi.select(this).transition().duration(0).remove(),hi.select(document).on("mouseup",null),a.edit.call(e,y)}).on("focus",function(){var w=this;t._editing=!0,hi.select(document).on("mouseup",function(){if(hi.event.target===w)return!1;document.activeElement===c.node()&&c.node().blur()})}).on("keyup",function(){hi.event.which===27?(t._editing=!1,e.style({opacity:1}),hi.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),a.cancel.call(e,this.textContent)):(a.input.call(e,this.textContent),hi.select(this).call(WR(e,u,r)))}).on("keydown",function(){hi.event.which===13&&this.blur()}).call(l)}return r.immediate?i():o.on("click",i),hi.rebind(e,a,"on")}});var ef=fe((hPe,oF)=>{"use strict";var J0e=Ln(),p3=fl(),Hg=kn(),d3=tt(),QR=xn(),K0e=zh().isValid;function Q0e(e,r,t){var n=r?d3.nestedProperty(e,r).get()||{}:e,a=n[t||"color"];a&&a._inputArray&&(a=a._inputArray);var o=!1;if(d3.isArrayOrTypedArray(a)){for(var i=0;i<a.length;i++)if(Hg(a[i])){o=!0;break}}return d3.isPlainObject(n)&&(o||n.showscale===!0||Hg(n.cmin)&&Hg(n.cmax)||K0e(n.colorscale)||d3.isPlainObject(n.colorbar))}var eF=["showscale","autocolorscale","colorscale","reversescale","colorbar"],Gg=["min","max","mid","auto"];function tF(e){var r=e._colorAx,t=r||e,n={},a,o,i;for(o=0;o<eF.length;o++)i=eF[o],n[i]=t[i];if(r)for(a="c",o=0;o<Gg.length;o++)i=Gg[o],n[i]=t["c"+i];else{var l;for(o=0;o<Gg.length;o++){if(i=Gg[o],l="c"+i,l in t){n[i]=t[l];continue}l="z"+i,l in t&&(n[i]=t[l])}a=l.charAt(0)}return n._sync=function(f,s){var u=Gg.indexOf(f)!==-1?a+f:f;t[u]=t["_"+u]=s},n}function nF(e){for(var r=tF(e),t=r.min,n=r.max,a=r.reversescale?aF(r.colorscale):r.colorscale,o=a.length,i=new Array(o),l=new Array(o),f=0;f<o;f++){var s=a[f];i[f]=t+s[0]*(n-t),l[f]=s[1]}return{domain:i,range:l}}function aF(e){for(var r=e.length,t=new Array(r),n=r-1,a=0;n>=0;n--,a++){var o=e[n];t[a]=[1-o[0],o[1]]}return t}function iF(e,r){r=r||{};for(var t=e.domain,n=e.range,a=n.length,o=new Array(a),i=0;i<a;i++){var l=p3(n[i]).toRgb();o[i]=[l.r,l.g,l.b,l.a]}var f=J0e.scale.linear().domain(t).range(o).clamp(!0),s=r.noNumericCheck,u=r.returnArray,c;return s&&u?c=f:s?c=function(v){return rF(f(v))}:u?c=function(v){return Hg(v)?f(v):p3(v).isValid()?v:QR.defaultLine}:c=function(v){return Hg(v)?rF(f(v)):p3(v).isValid()?v:QR.defaultLine},c.domain=f.domain,c.range=function(){return n},c}function ehe(e,r){return iF(nF(e),r)}function rF(e){var r={r:e[0],g:e[1],b:e[2],a:e[3]};return p3(r).toRgbString()}oF.exports={hasColorscale:Q0e,extractOpts:tF,extractScale:nF,flipScale:aF,makeColorScaleFunc:iF,makeColorScaleFuncFromTrace:ehe}});var Jd=fe((vPe,fF)=>{"use strict";var lF=e4(),rhe=lF.FORMAT_LINK,the=lF.DATE_FORMAT_LINK;function nhe(e,r){return{valType:"string",dflt:"",editType:"none",description:(r?P4:sF)("hover text",e)+["By default the values are formatted using "+(r?"generic number format":"`"+e+"axis.hoverformat`")+"."].join(" ")}}function P4(e,r){return["Sets the "+e+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+rhe+"."].join(" ")}function sF(e,r){return P4(e,r)+[" And for dates see: "+the+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}fF.exports={axisHoverFormat:nhe,descriptionOnlyNumbers:P4,descriptionWithDates:sF}});var cs=fe((pPe,EF)=>{"use strict";var uF=Fi(),Kd=Zs(),MF=$s().dash,N4=Na().extendFlat,cF=da().templatedArray,dPe=dl().templateFormatStringDescription,hF=Jd().descriptionWithDates,ahe=ui().ONEDAY,Zf=Ji(),ihe=Zf.HOUR_PATTERN,ohe=Zf.WEEKDAY_PATTERN,O4={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},lhe=N4({},O4,{values:O4.values.slice().concat(["sync"])});function vF(e){return{valType:"integer",min:0,dflt:e?5:0,editType:"ticks"}}var dF={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},pF={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},gF={valType:"data_array",editType:"ticks"},yF={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function mF(e){var r={valType:"number",min:0,editType:"ticks"};return e||(r.dflt=5),r}function xF(e){var r={valType:"number",min:0,editType:"ticks"};return e||(r.dflt=1),r}var bF={valType:"color",dflt:Kd.defaultLine,editType:"ticks"},_F={valType:"color",dflt:Kd.lightLine,editType:"ticks"};function wF(e){var r={valType:"number",min:0,editType:"ticks"};return e||(r.dflt=1),r}var AF=N4({},MF,{editType:"ticks"}),TF={valType:"boolean",editType:"ticks"};EF.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:Kd.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:uF({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},modebardisable:{valType:"flaglist",flags:["autoscale","zoominout"],extras:["none"],dflt:"none",editType:"modebar"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[Zf.idRegex.x.toString(),Zf.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[Zf.idRegex.x.toString(),Zf.idRegex.y.toString()],editType:"calc"},rangebreaks:cF("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[ohe,ihe,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:ahe},editType:"calc"}),tickmode:lhe,nticks:vF(),tick0:dF,dtick:pF,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:gF,ticktext:{valType:"data_array",editType:"ticks"},ticks:yF,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:mF(),tickwidth:xF(),tickcolor:bF,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:N4({},MF,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:uF({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B","SI extended"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:hF("tick label")},tickformatstops:cF("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:hF("hover text")},unifiedhovertitle:{text:{valType:"string",dflt:"",editType:"none"},editType:"none"},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:Kd.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:TF,gridcolor:_F,gridwidth:wF(),griddash:AF,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:Kd.defaultLine,editType:"ticks"},zerolinelayer:{valType:"enumerated",values:["above traces","below traces"],dflt:"below traces",editType:"plot"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:Kd.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",Zf.idRegex.x.toString(),Zf.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",Zf.idRegex.x.toString(),Zf.idRegex.y.toString()],editType:"plot"},minor:{tickmode:O4,nticks:vF("minor"),tick0:dF,dtick:pF,tickvals:gF,ticks:yF,ticklen:mF("minor"),tickwidth:xF("minor"),tickcolor:bF,gridcolor:_F,gridwidth:wF("minor"),griddash:AF,showgrid:TF,editType:"ticks"},minorloglabels:{valType:"enumerated",values:["small digits","complete","none"],dflt:"small digits",editType:"calc"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc"}});var g3=fe((gPe,kF)=>{"use strict";var Ca=cs(),SF=Fi(),CF=Na().extendFlat,she=vl().overrideAll;kF.exports=she({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:Ca.linecolor,outlinewidth:Ca.linewidth,bordercolor:Ca.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:Ca.minor.tickmode,nticks:Ca.nticks,tick0:Ca.tick0,dtick:Ca.dtick,tickvals:Ca.tickvals,ticktext:Ca.ticktext,ticks:CF({},Ca.ticks,{dflt:""}),ticklabeloverflow:CF({},Ca.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:Ca.ticklen,tickwidth:Ca.tickwidth,tickcolor:Ca.tickcolor,ticklabelstep:Ca.ticklabelstep,showticklabels:Ca.showticklabels,labelalias:Ca.labelalias,tickfont:SF({}),tickangle:Ca.tickangle,tickformat:Ca.tickformat,tickformatstops:Ca.tickformatstops,tickprefix:Ca.tickprefix,showtickprefix:Ca.showtickprefix,ticksuffix:Ca.ticksuffix,showticksuffix:Ca.showticksuffix,separatethousands:Ca.separatethousands,exponentformat:Ca.exponentformat,minexponent:Ca.minexponent,showexponent:Ca.showexponent,title:{text:{valType:"string"},font:SF({}),side:{valType:"enumerated",values:["right","top","bottom"]}}},"colorbars","from-root")});var u0=fe((mPe,RF)=>{"use strict";var fhe=g3(),uhe=Dd().counter,che=Dg(),LF=zh().scales,yPe=che(LF);function y3(e){return"`"+e+"`"}RF.exports=function(r,t){r=r||"",t=t||{};var n=t.cLetter||"c",a="onlyIfNumerical"in t?t.onlyIfNumerical:!!r,o="noScale"in t?t.noScale:r==="marker.line",i="showScaleDflt"in t?t.showScaleDflt:n==="z",l=typeof t.colorscaleDflt=="string"?LF[t.colorscaleDflt]:null,f=t.editTypeOverride||"",s=r?r+".":"",u,c;"colorAttr"in t?(u=t.colorAttr,c=t.colorAttr):(u={z:"z",c:"color"}[n],c="in "+y3(s+u));var v=a?" Has an effect only if "+c+" is set to a numerical array.":"",x=n+"auto",m=n+"min",w=n+"max",A=n+"mid",y=y3(s+x),M=y3(s+m),E=y3(s+w),b=M+" and "+E,T={};T[m]=T[w]=void 0;var p={};p[x]=!1;var _={};return u==="color"&&(_.color={valType:"color",arrayOk:!0,editType:f||"style"},t.anim&&(_.color.anim=!0)),_[x]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:T},_[m]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:p},_[w]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:p},_[A]={valType:"number",dflt:null,editType:"calc",impliedEdits:T},_.colorscale={valType:"colorscale",editType:"calc",dflt:l,impliedEdits:{autocolorscale:!1}},_.autocolorscale={valType:"boolean",dflt:t.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},_.reversescale={valType:"boolean",dflt:!1,editType:"plot"},o||(_.showscale={valType:"boolean",dflt:i,editType:"calc"},_.colorbar=fhe),t.noColorAxis||(_.coloraxis={valType:"subplotid",regex:uhe("coloraxis"),dflt:null,editType:"calc"}),_}});var z4=fe((xPe,FF)=>{"use strict";var hhe=Na().extendFlat,vhe=u0(),B4=zh().scales;FF.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:B4.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:B4.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:B4.RdBu,editType:"calc"}},coloraxis:hhe({_isSubplotObj:!0,editType:"calc"},vhe("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}});var q4=fe((bPe,DF)=>{"use strict";var dhe=tt();DF.exports=function(r){return dhe.isPlainObject(r.colorbar)}});var H4=fe(G4=>{"use strict";var U4=kn(),IF=tt(),PF=ui(),phe=PF.ONEDAY,ghe=PF.ONEWEEK;G4.dtick=function(e,r){var t=r==="log",n=r==="date",a=r==="category",o=n?phe:1;if(!e)return o;if(U4(e))return e=Number(e),e<=0?o:a?Math.max(1,Math.round(e)):n?Math.max(.1,e):e;if(typeof e!="string"||!(n||t))return o;var i=e.charAt(0),l=e.substr(1);return l=U4(l)?Number(l):0,l<=0||!(n&&i==="M"&&l===Math.round(l)||t&&i==="L"||t&&i==="D"&&(l===1||l===2))?o:e};G4.tick0=function(e,r,t,n){if(r==="date")return IF.cleanDate(e,IF.dateTick0(t,n%ghe===0?1:0));if(!(n==="D1"||n==="D2"))return U4(e)?Number(e):0}});var V4=fe((wPe,NF)=>{"use strict";var OF=H4(),yhe=tt().isArrayOrTypedArray,mhe=sl().isTypedArraySpec,xhe=sl().decodeTypedArraySpec;NF.exports=function(r,t,n,a,o){o||(o={});var i=o.isMinor,l=i?r.minor||{}:r,f=i?t.minor:t,s=i?"minor.":"";function u(M){var E=l[M];return mhe(E)&&(E=xhe(E)),E!==void 0?E:(f._template||{})[M]}var c=u("tick0"),v=u("dtick"),x=u("tickvals"),m=yhe(x)?"array":v?"linear":"auto",w=n(s+"tickmode",m);if(w==="auto"||w==="sync")n(s+"nticks");else if(w==="linear"){var A=f.dtick=OF.dtick(v,a);f.tick0=OF.tick0(c,a,t.calendar,A)}else if(a!=="multicategory"){var y=n(s+"tickvals");y===void 0?f.tickmode="auto":i||n("ticktext")}}});var W4=fe((APe,zF)=>{"use strict";var Y4=tt(),BF=cs();zF.exports=function(r,t,n,a){var o=a.isMinor,i=o?r.minor||{}:r,l=o?t.minor:t,f=o?BF.minor:BF,s=o?"minor.":"",u=Y4.coerce2(i,l,f,"ticklen",o?(t.ticklen||5)*.6:void 0),c=Y4.coerce2(i,l,f,"tickwidth",o?t.tickwidth||1:void 0),v=Y4.coerce2(i,l,f,"tickcolor",(o?t.tickcolor:void 0)||l.color),x=n(s+"ticks",!o&&a.outerTicks||u||c||v?"outside":"");x||(delete l.ticklen,delete l.tickwidth,delete l.tickcolor)}});var X4=fe((TPe,qF)=>{"use strict";qF.exports=function(r){var t=["showexponent","showtickprefix","showticksuffix"],n=t.filter(function(o){return r[o]!==void 0}),a=function(o){return r[o]===r[n[0]]};if(n.every(a)||n.length===1)return r[n[0]]}});var rf=fe((MPe,UF)=>{"use strict";var m3=tt(),bhe=da();UF.exports=function(r,t,n){var a=n.name,o=n.inclusionAttr||"visible",i=t[a],l=m3.isArrayOrTypedArray(r[a])?r[a]:[],f=t[a]=[],s=bhe.arrayTemplater(t,a,o),u,c;for(u=0;u<l.length;u++){var v=l[u];m3.isPlainObject(v)?c=s.newItem(v):(c=s.newItem({}),c[o]=!1),c._index=u,c[o]!==!1&&n.handleItemDefaults(v,c,t,n),f.push(c)}var x=s.defaultItems();for(u=0;u<x.length;u++)c=x[u],c._index=f.length,n.handleItemDefaults({},c,t,n,{}),f.push(c);if(m3.isArrayOrTypedArray(i)){var m=Math.min(i.length,f.length);for(u=0;u<m;u++)m3.relinkPrivateKeys(f[u],i[u])}return f}});var Z4=fe((EPe,HF)=>{"use strict";var j4=tt(),_he=xn().contrast,GF=cs(),whe=X4(),Ahe=rf();HF.exports=function(r,t,n,a,o){o||(o={});var i=n("labelalias");j4.isPlainObject(i)||delete t.labelalias;var l=whe(r),f=n("showticklabels");if(f){o.noTicklabelshift||n("ticklabelshift"),o.noTicklabelstandoff||n("ticklabelstandoff");var s=o.font||{},u=t.color,c=t.ticklabelposition||"",v=c.indexOf("inside")!==-1?_he(o.bgColor):u&&u!==GF.color.dflt?u:s.color;if(j4.coerceFont(n,"tickfont",s,{overrideDflt:{color:v}}),!o.noTicklabelstep&&a!=="multicategory"&&a!=="log"&&n("ticklabelstep"),!o.noAng){var x=n("tickangle");!o.noAutotickangles&&x==="auto"&&n("autotickangles")}if(a!=="category"){var m=n("tickformat");Ahe(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:The}),t.tickformatstops.length||delete t.tickformatstops,!o.noExp&&!m&&a!=="date"&&(n("showexponent",l),n("exponentformat"),n("minexponent"),n("separatethousands"))}!o.noMinorloglabels&&a==="log"&&n("minorloglabels")}};function The(e,r){function t(a,o){return j4.coerce(e,r,GF.tickformatstops,a,o)}var n=t("enabled");n&&(t("dtickrange"),t("value"))}});var $4=fe((SPe,VF)=>{"use strict";var Mhe=X4();VF.exports=function(r,t,n,a,o){o||(o={});var i=o.tickSuffixDflt,l=Mhe(r),f=n("tickprefix");f&&n("showtickprefix",l);var s=n("ticksuffix",i);s&&n("showticksuffix",l)}});var J4=fe((CPe,YF)=>{"use strict";var c0=tt(),Ehe=da(),She=V4(),Che=W4(),khe=Z4(),Lhe=$4(),Rhe=g3();YF.exports=function(r,t,n){var a=Ehe.newContainer(t,"colorbar"),o=r.colorbar||{};function i(d,R){return c0.coerce(o,a,Rhe,d,R)}var l=n.margin||{t:0,b:0,l:0,r:0},f=n.width-l.l-l.r,s=n.height-l.t-l.b,u=i("orientation"),c=u==="v",v=i("thicknessmode");i("thickness",v==="fraction"?30/(c?f:s):30);var x=i("lenmode");i("len",x==="fraction"?1:c?s:f);var m=i("yref"),w=i("xref"),A=m==="paper",y=w==="paper",M,E,b,T="left";c?(b="middle",T=y?"left":"right",M=y?1.02:1,E=.5):(b=A?"bottom":"top",T="center",M=.5,E=A?1.02:1),c0.coerce(o,a,{x:{valType:"number",min:y?-2:0,max:y?3:1,dflt:M}},"x"),c0.coerce(o,a,{y:{valType:"number",min:A?-2:0,max:A?3:1,dflt:E}},"y"),i("xanchor",T),i("xpad"),i("yanchor",b),i("ypad"),c0.noneOrAll(o,a,["x","y"]),i("outlinecolor"),i("outlinewidth"),i("bordercolor"),i("borderwidth"),i("bgcolor");var p=c0.coerce(o,a,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:c?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");i("ticklabeloverflow",p.indexOf("inside")!==-1?"hide past domain":"hide past div"),She(o,a,i,"linear");var _=n.font,g={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:_};p.indexOf("inside")!==-1&&(g.bgColor="black"),Lhe(o,a,i,"linear",g),khe(o,a,i,"linear",g),Che(o,a,i,"linear",g),i("title.text",n._dfltTitle.colorbar);var h=a.showticklabels?a.tickfont:_,S=c0.extendFlat({},_,{family:h.family,size:c0.bigFont(h.size)});c0.coerceFont(i,"title.font",S),i("title.side",c?"top":"right")}});var Qd=fe((kPe,jF)=>{"use strict";var WF=kn(),Q4=tt(),Fhe=q4(),Dhe=J4(),XF=zh().isValid,Ihe=Qt().traceIs;function K4(e,r){var t=r.slice(0,r.length-1);return r?Q4.nestedProperty(e,t).get()||{}:e}jF.exports=function e(r,t,n,a,o){var i=o.prefix,l=o.cLetter,f="_module"in t,s=K4(r,i),u=K4(t,i),c=K4(t._template||{},i)||{},v=function(){return delete r.coloraxis,delete t.coloraxis,e(r,t,n,a,o)};if(f){var x=n._colorAxes||{},m=a(i+"coloraxis");if(m){var w=Ihe(t,"contour")&&Q4.nestedProperty(t,"contours.coloring").get()||"heatmap",A=x[m];A?(A[2].push(v),A[0]!==w&&(A[0]=!1,Q4.warn(["Ignoring coloraxis:",m,"setting","as it is linked to incompatible colorscales."].join(" ")))):x[m]=[w,t,[v]];return}}var y=s[l+"min"],M=s[l+"max"],E=WF(y)&&WF(M)&&y<M,b=a(i+l+"auto",!E);b?a(i+l+"mid"):(a(i+l+"min"),a(i+l+"max"));var T=s.colorscale,p=c.colorscale,_;if(T!==void 0&&(_=!XF(T)),p!==void 0&&(_=!XF(p)),a(i+"autocolorscale",_),a(i+"colorscale"),a(i+"reversescale"),i!=="marker.line."){var g;i&&f&&(g=Fhe(s));var h=a(i+"showscale",g);h&&(i&&c&&(u._template=c),Dhe(s,u,n))}}});var KF=fe((LPe,JF)=>{"use strict";var ZF=tt(),Phe=da(),$F=z4(),Ohe=Qd();JF.exports=function(r,t){function n(c,v){return ZF.coerce(r,t,$F,c,v)}n("colorscale.sequential"),n("colorscale.sequentialminus"),n("colorscale.diverging");var a=t._colorAxes,o,i;function l(c,v){return ZF.coerce(o,i,$F.coloraxis,c,v)}for(var f in a){var s=a[f];if(s[0])o=r[f]||{},i=Phe.newContainer(t,f,"coloraxis"),i._name=f,Ohe(o,i,t,l,{prefix:"",cLetter:"c"});else{for(var u=0;u<s[2].length;u++)s[2][u]();delete t._colorAxes[f]}}}});var eD=fe((RPe,QF)=>{"use strict";var Nhe=tt(),Bhe=ef().hasColorscale,zhe=ef().extractOpts;QF.exports=function(r,t){function n(u,c){var v=u["_"+c];v!==void 0&&(u[c]=v)}function a(u,c){var v=c.container?Nhe.nestedProperty(u,c.container).get():u;if(v)if(v.coloraxis)v._colorAx=t[v.coloraxis];else{var x=zhe(v),m=x.auto;(m||x.min===void 0)&&n(v,c.min),(m||x.max===void 0)&&n(v,c.max),x.autocolorscale&&n(v,"colorscale")}}for(var o=0;o<r.length;o++){var i=r[o],l=i._module.colorbar;if(l)if(Array.isArray(l))for(var f=0;f<l.length;f++)a(i,l[f]);else a(i,l);Bhe(i,"marker.line")&&a(i,{container:"marker.line",min:"cmin",max:"cmax"})}for(var s in t._colorAxes)a(t[s],{min:"cmin",max:"cmax"})}});var rA=fe((FPe,tD)=>{"use strict";var rD=kn(),eA=tt(),qhe=ef().extractOpts;tD.exports=function(r,t,n){var a=r._fullLayout,o=n.vals,i=n.containerStr,l=i?eA.nestedProperty(t,i).get():t,f=qhe(l),s=f.auto!==!1,u=f.min,c=f.max,v=f.mid,x=function(){return eA.aggNums(Math.min,null,o)},m=function(){return eA.aggNums(Math.max,null,o)};if(u===void 0?u=x():s&&(l._colorAx&&rD(u)?u=Math.min(u,x()):u=x()),c===void 0?c=m():s&&(l._colorAx&&rD(c)?c=Math.max(c,m()):c=m()),s&&v!==void 0&&(c-v>v-u?u=v-(c-v):c-v<v-u&&(c=v+(v-u))),u===c&&(u-=.5,c+=.5),f._sync("min",u),f._sync("max",c),f.autocolorscale){var w;u*c<0?w=a.colorscale.diverging:u>=0?w=a.colorscale.sequential:w=a.colorscale.sequentialminus,f._sync("colorscale",w)}}});var Kh=fe((DPe,nD)=>{"use strict";var x3=zh(),e1=ef();nD.exports={moduleType:"component",name:"colorscale",attributes:u0(),layoutAttributes:z4(),supplyLayoutDefaults:KF(),handleDefaults:Qd(),crossTraceDefaults:eD(),calc:rA(),scales:x3.scales,defaultScale:x3.defaultScale,getScale:x3.get,isValidScale:x3.isValid,hasColorscale:e1.hasColorscale,extractOpts:e1.extractOpts,extractScale:e1.extractScale,flipScale:e1.flipScale,makeColorScaleFunc:e1.makeColorScaleFunc,makeColorScaleFuncFromTrace:e1.makeColorScaleFuncFromTrace}});var Ki=fe((IPe,iD)=>{"use strict";var aD=tt(),Uhe=sl().isTypedArraySpec;iD.exports={hasLines:function(e){return e.visible&&e.mode&&e.mode.indexOf("lines")!==-1},hasMarkers:function(e){return e.visible&&(e.mode&&e.mode.indexOf("markers")!==-1||e.type==="splom")},hasText:function(e){return e.visible&&e.mode&&e.mode.indexOf("text")!==-1},isBubble:function(e){var r=e.marker;return aD.isPlainObject(r)&&(aD.isArrayOrTypedArray(r.size)||Uhe(r.size))}}});var b3=fe((PPe,oD)=>{"use strict";var Ghe=kn();oD.exports=function(r,t){t||(t=2);var n=r.marker,a=n.sizeref||1,o=n.sizemin||0,i=n.sizemode==="area"?function(l){return Math.sqrt(l/a)}:function(l){return l/a};return function(l){var f=i(l/t);return Ghe(f)&&f>0?Math.max(f,o):0}}});var hs=fe(go=>{"use strict";var lD=tt();go.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo};go.isTraceInSubplots=function(e,r){if(e.type==="splom"){for(var t=e.xaxes||[],n=e.yaxes||[],a=0;a<t.length;a++)for(var o=0;o<n.length;o++)if(r.indexOf(t[a]+n[o])!==-1)return!0;return!1}return r.indexOf(go.getSubplot(e))!==-1};go.flat=function(e,r){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=r;return t};go.p2c=function(e,r){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n].p2c(r);return t};go.getDistanceFunction=function(e,r,t,n){return e==="closest"?n||go.quadrature(r,t):e.charAt(0)==="x"?r:t};go.getClosest=function(e,r,t){if(t.index!==!1)t.index>=0&&t.index<e.length?t.distance=0:t.index=!1;else for(var n=1/0,a=e.length,o=0;o<a;o++)n=r(e[o]),n<=t.distance&&(t.index=o,t.distance=n);return t};go.inbox=function(e,r,t){return e*r<0||e===0?t:1/0};go.quadrature=function(e,r){return function(t){var n=e(t),a=r(t);return Math.sqrt(n*n+a*a)}};go.makeEventData=function(e,r,t){var n="index"in e?e.index:e.pointNumber,a={data:r._input,fullData:r,curveNumber:r.index,pointNumber:n};if(r._indexToPoints){var o=r._indexToPoints[n];o.length===1?a.pointIndex=o[0]:a.pointIndices=o}else a.pointIndex=n;return r._module.eventData?a=r._module.eventData(a,e,r,t,n):("xVal"in e?a.x=e.xVal:"x"in e&&(a.x=e.x),"yVal"in e?a.y=e.yVal:"y"in e&&(a.y=e.y),e.xa&&(a.xaxis=e.xa),e.ya&&(a.yaxis=e.ya),e.zLabelVal!==void 0&&(a.z=e.zLabelVal)),go.appendArrayPointValue(a,r,n),a};go.appendArrayPointValue=function(e,r,t){var n=r._arrayAttrs;if(n)for(var a=0;a<n.length;a++){var o=n[a],i=sD(o);if(e[i]===void 0){var l=lD.nestedProperty(r,o).get(),f=fD(l,t);f!==void 0&&(e[i]=f)}}};go.appendArrayMultiPointValues=function(e,r,t){var n=r._arrayAttrs;if(n)for(var a=0;a<n.length;a++){var o=n[a],i=sD(o);if(e[i]===void 0){for(var l=lD.nestedProperty(r,o).get(),f=new Array(t.length),s=0;s<t.length;s++)f[s]=fD(l,t[s]);e[i]=f}}};var Hhe={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function sD(e){return Hhe[e]||e}function fD(e,r){if(Array.isArray(r)){if(Array.isArray(e)&&Array.isArray(e[r[0]]))return e[r[0]][r[1]]}else return e[r]}var Vhe={x:!0,y:!0},Yhe={"x unified":!0,"y unified":!0};go.isUnifiedHover=function(e){return typeof e!="string"?!1:!!Yhe[e]};go.isXYhover=function(e){return typeof e!="string"?!1:!!Vhe[e]}});var Vg=fe((NPe,uD)=>{uD.exports=Xhe;var tA={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},Whe=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function Xhe(e){var r=[];return e.replace(Whe,function(t,n,a){var o=n.toLowerCase();for(a=Zhe(a),o=="m"&&a.length>2&&(r.push([n].concat(a.splice(0,2))),o="l",n=n=="m"?"l":"L");;){if(a.length==tA[o])return a.unshift(n),r.push(a);if(a.length<tA[o])throw new Error("malformed path data");r.push([n].concat(a.splice(0,tA[o])))}}),r}var jhe=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function Zhe(e){var r=e.match(jhe);return r?r.map(Number):[]}});var yD=fe((BPe,gD)=>{"use strict";var $he=Vg(),Tt=function(e,r){return r?Math.round(e*(r=Math.pow(10,r)))/r:Math.round(e)},vn="M0,0Z",cD=Math.sqrt(2),h0=Math.sqrt(3),nA=Math.PI,aA=Math.cos,iA=Math.sin;gD.exports={circle:{n:0,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e,2),a="M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z";return t?pn(r,t,a):a}},square:{n:1,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e,2);return pn(r,t,"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")}},diamond:{n:2,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*1.3,2);return pn(r,t,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"Z")}},cross:{n:3,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*.4,2),a=Tt(e*1.2,2);return pn(r,t,"M"+a+","+n+"H"+n+"V"+a+"H-"+n+"V"+n+"H-"+a+"V-"+n+"H-"+n+"V-"+a+"H"+n+"V-"+n+"H"+a+"Z")}},x:{n:4,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*.8/cD,2),a="l"+n+","+n,o="l"+n+",-"+n,i="l-"+n+",-"+n,l="l-"+n+","+n;return pn(r,t,"M0,"+n+a+o+i+o+i+l+i+l+a+l+a+"Z")}},"triangle-up":{n:5,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*2/h0,2),a=Tt(e/2,2),o=Tt(e,2);return pn(r,t,"M-"+n+","+a+"H"+n+"L0,-"+o+"Z")}},"triangle-down":{n:6,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*2/h0,2),a=Tt(e/2,2),o=Tt(e,2);return pn(r,t,"M-"+n+",-"+a+"H"+n+"L0,"+o+"Z")}},"triangle-left":{n:7,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*2/h0,2),a=Tt(e/2,2),o=Tt(e,2);return pn(r,t,"M"+a+",-"+n+"V"+n+"L-"+o+",0Z")}},"triangle-right":{n:8,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*2/h0,2),a=Tt(e/2,2),o=Tt(e,2);return pn(r,t,"M-"+a+",-"+n+"V"+n+"L"+o+",0Z")}},"triangle-ne":{n:9,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*.6,2),a=Tt(e*1.2,2);return pn(r,t,"M-"+a+",-"+n+"H"+n+"V"+a+"Z")}},"triangle-se":{n:10,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*.6,2),a=Tt(e*1.2,2);return pn(r,t,"M"+n+",-"+a+"V"+n+"H-"+a+"Z")}},"triangle-sw":{n:11,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*.6,2),a=Tt(e*1.2,2);return pn(r,t,"M"+a+","+n+"H-"+n+"V-"+a+"Z")}},"triangle-nw":{n:12,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*.6,2),a=Tt(e*1.2,2);return pn(r,t,"M-"+n+","+a+"V-"+n+"H"+a+"Z")}},pentagon:{n:13,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*.951,2),a=Tt(e*.588,2),o=Tt(-e,2),i=Tt(e*-.309,2),l=Tt(e*.809,2);return pn(r,t,"M"+n+","+i+"L"+a+","+l+"H-"+a+"L-"+n+","+i+"L0,"+o+"Z")}},hexagon:{n:14,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e,2),a=Tt(e/2,2),o=Tt(e*h0/2,2);return pn(r,t,"M"+o+",-"+a+"V"+a+"L0,"+n+"L-"+o+","+a+"V-"+a+"L0,-"+n+"Z")}},hexagon2:{n:15,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e,2),a=Tt(e/2,2),o=Tt(e*h0/2,2);return pn(r,t,"M-"+a+","+o+"H"+a+"L"+n+",0L"+a+",-"+o+"H-"+a+"L-"+n+",0Z")}},octagon:{n:16,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*.924,2),a=Tt(e*.383,2);return pn(r,t,"M-"+a+",-"+n+"H"+a+"L"+n+",-"+a+"V"+a+"L"+a+","+n+"H-"+a+"L-"+n+","+a+"V-"+a+"Z")}},star:{n:17,f:function(e,r,t){if(dn(r))return vn;var n=e*1.4,a=Tt(n*.225,2),o=Tt(n*.951,2),i=Tt(n*.363,2),l=Tt(n*.588,2),f=Tt(-n,2),s=Tt(n*-.309,2),u=Tt(n*.118,2),c=Tt(n*.809,2),v=Tt(n*.382,2);return pn(r,t,"M"+a+","+s+"H"+o+"L"+i+","+u+"L"+l+","+c+"L0,"+v+"L-"+l+","+c+"L-"+i+","+u+"L-"+o+","+s+"H-"+a+"L0,"+f+"Z")}},hexagram:{n:18,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*.66,2),a=Tt(e*.38,2),o=Tt(e*.76,2);return pn(r,t,"M-"+o+",0l-"+a+",-"+n+"h"+o+"l"+a+",-"+n+"l"+a+","+n+"h"+o+"l-"+a+","+n+"l"+a+","+n+"h-"+o+"l-"+a+","+n+"l-"+a+",-"+n+"h-"+o+"Z")}},"star-triangle-up":{n:19,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*h0*.8,2),a=Tt(e*.8,2),o=Tt(e*1.6,2),i=Tt(e*4,2),l="A "+i+","+i+" 0 0 1 ";return pn(r,t,"M-"+n+","+a+l+n+","+a+l+"0,-"+o+l+"-"+n+","+a+"Z")}},"star-triangle-down":{n:20,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*h0*.8,2),a=Tt(e*.8,2),o=Tt(e*1.6,2),i=Tt(e*4,2),l="A "+i+","+i+" 0 0 1 ";return pn(r,t,"M"+n+",-"+a+l+"-"+n+",-"+a+l+"0,"+o+l+n+",-"+a+"Z")}},"star-square":{n:21,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*1.1,2),a=Tt(e*2,2),o="A "+a+","+a+" 0 0 1 ";return pn(r,t,"M-"+n+",-"+n+o+"-"+n+","+n+o+n+","+n+o+n+",-"+n+o+"-"+n+",-"+n+"Z")}},"star-diamond":{n:22,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*1.4,2),a=Tt(e*1.9,2),o="A "+a+","+a+" 0 0 1 ";return pn(r,t,"M-"+n+",0"+o+"0,"+n+o+n+",0"+o+"0,-"+n+o+"-"+n+",0Z")}},"diamond-tall":{n:23,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*.7,2),a=Tt(e*1.4,2);return pn(r,t,"M0,"+a+"L"+n+",0L0,-"+a+"L-"+n+",0Z")}},"diamond-wide":{n:24,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*1.4,2),a=Tt(e*.7,2);return pn(r,t,"M0,"+a+"L"+n+",0L0,-"+a+"L-"+n+",0Z")}},hourglass:{n:25,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e,2);return pn(r,t,"M"+n+","+n+"H-"+n+"L"+n+",-"+n+"H-"+n+"Z")},noDot:!0},bowtie:{n:26,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e,2);return pn(r,t,"M"+n+","+n+"V-"+n+"L-"+n+","+n+"V-"+n+"Z")},noDot:!0},"circle-cross":{n:27,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e,2);return pn(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e,2),a=Tt(e/cD,2);return pn(r,t,"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a+"M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e,2);return pn(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e,2);return pn(r,t,"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*1.3,2);return pn(r,t,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"ZM0,-"+n+"V"+n+"M-"+n+",0H"+n)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*1.3,2),a=Tt(e*.65,2);return pn(r,t,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"ZM-"+a+",-"+a+"L"+a+","+a+"M-"+a+","+a+"L"+a+",-"+a)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*1.4,2);return pn(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e,2);return pn(r,t,"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*1.2,2),a=Tt(e*.85,2);return pn(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e/2,2),a=Tt(e,2);return pn(r,t,"M"+n+","+a+"V-"+a+"M"+(n-a)+",-"+a+"V"+a+"M"+a+","+n+"H-"+a+"M-"+a+","+(n-a)+"H"+a)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*1.2,2),a=Tt(e*1.6,2),o=Tt(e*.8,2);return pn(r,t,"M-"+n+","+o+"L0,0M"+n+","+o+"L0,0M0,-"+a+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*1.2,2),a=Tt(e*1.6,2),o=Tt(e*.8,2);return pn(r,t,"M-"+n+",-"+o+"L0,0M"+n+",-"+o+"L0,0M0,"+a+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*1.2,2),a=Tt(e*1.6,2),o=Tt(e*.8,2);return pn(r,t,"M"+o+","+n+"L0,0M"+o+",-"+n+"L0,0M-"+a+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*1.2,2),a=Tt(e*1.6,2),o=Tt(e*.8,2);return pn(r,t,"M-"+o+","+n+"L0,0M-"+o+",-"+n+"L0,0M"+a+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*1.4,2);return pn(r,t,"M"+n+",0H-"+n)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*1.4,2);return pn(r,t,"M0,"+n+"V-"+n)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e,2);return pn(r,t,"M"+n+",-"+n+"L-"+n+","+n)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e,2);return pn(r,t,"M"+n+","+n+"L-"+n+",-"+n)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e,2),a=Tt(e*2,2);return pn(r,t,"M0,0L-"+n+","+a+"H"+n+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e,2),a=Tt(e*2,2);return pn(r,t,"M0,0L-"+n+",-"+a+"H"+n+"Z")},noDot:!0},"arrow-left":{n:47,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*2,2),a=Tt(e,2);return pn(r,t,"M0,0L"+n+",-"+a+"V"+a+"Z")},noDot:!0},"arrow-right":{n:48,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*2,2),a=Tt(e,2);return pn(r,t,"M0,0L-"+n+",-"+a+"V"+a+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e,2),a=Tt(e*2,2);return pn(r,t,"M-"+n+",0H"+n+"M0,0L-"+n+","+a+"H"+n+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e,2),a=Tt(e*2,2);return pn(r,t,"M-"+n+",0H"+n+"M0,0L-"+n+",-"+a+"H"+n+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*2,2),a=Tt(e,2);return pn(r,t,"M0,-"+a+"V"+a+"M0,0L"+n+",-"+a+"V"+a+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(e,r,t){if(dn(r))return vn;var n=Tt(e*2,2),a=Tt(e,2);return pn(r,t,"M0,-"+a+"V"+a+"M0,0L-"+n+",-"+a+"V"+a+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(e,r,t){if(dn(r))return vn;var n=nA/2.5,a=2*e*aA(n),o=2*e*iA(n);return pn(r,t,"M0,0L"+-a+","+o+"L"+a+","+o+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(e,r,t){if(dn(r))return vn;var n=nA/4,a=2*e*aA(n),o=2*e*iA(n);return pn(r,t,"M0,0L"+-a+","+o+"A "+2*e+","+2*e+" 0 0 1 "+a+","+o+"Z")},backoff:.4,noDot:!0}};function dn(e){return e===null}var hD,vD,dD,pD;function pn(e,r,t){if((!e||e%360===0)&&!r)return t;if(dD===e&&pD===r&&hD===t)return vD;dD=e,pD=r,hD=t;function n(A,y){var M=aA(A),E=iA(A),b=y[0],T=y[1]+(r||0);return[b*M-T*E,b*E+T*M]}for(var a=e/180*nA,o=0,i=0,l=$he(t),f="",s=0;s<l.length;s++){var u=l[s],c=u[0],v=o,x=i;if(c==="M"||c==="L")o=+u[1],i=+u[2];else if(c==="m"||c==="l")o+=+u[1],i+=+u[2];else if(c==="H")o=+u[1];else if(c==="h")o+=+u[1];else if(c==="V")i=+u[1];else if(c==="v")i+=+u[1];else if(c==="A"){o=+u[1],i=+u[2];var m=n(a,[+u[6],+u[7]]);u[6]=m[0],u[7]=m[1],u[3]=+u[3]+e}(c==="H"||c==="V")&&(c="L"),(c==="h"||c==="v")&&(c="l"),(c==="m"||c==="l")&&(o-=v,i-=x);var w=n(a,[o,i]);(c==="H"||c==="V")&&(c="L"),(c==="M"||c==="L"||c==="m"||c==="l")&&(u[1]=w[0],u[2]=w[1]),u[0]=c,f+=u[0]+u.slice(1).join(",")}return vD=f,f}});var ta=fe((zPe,ND)=>{"use strict";var Ii=Ln(),oa=tt(),Jhe=oa.numberFormat,tv=kn(),cA=fl(),w3=Qt(),Qi=xn(),Khe=Kh(),Wg=oa.strTranslate,A3=po(),Qhe=f0(),eve=Ro(),rve=eve.LINE_SPACING,SD=Fd().DESELECTDIM,tve=Ki(),nve=b3(),ave=hs().appendArrayPointValue,Dt=ND.exports={};Dt.font=function(e,r){var t=r.variant,n=r.style,a=r.weight,o=r.color,i=r.size,l=r.family,f=r.shadow,s=r.lineposition,u=r.textcase;l&&e.style("font-family",l),i+1&&e.style("font-size",i+"px"),o&&e.call(Qi.fill,o),a&&e.style("font-weight",a),n&&e.style("font-style",n),t&&e.style("font-variant",t),u&&e.style("text-transform",oA(ove(u))),f&&e.style("text-shadow",f==="auto"?A3.makeTextShadow(Qi.contrast(o)):oA(f)),s&&e.style("text-decoration-line",oA(lve(s)))};function oA(e){return e==="none"?void 0:e}var ive={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function ove(e){return ive[e]}function lve(e){return e.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}Dt.setPosition=function(e,r,t){e.attr("x",r).attr("y",t)};Dt.setSize=function(e,r,t){e.attr("width",r).attr("height",t)};Dt.setRect=function(e,r,t,n,a){e.call(Dt.setPosition,r,t).call(Dt.setSize,n,a)};Dt.translatePoint=function(e,r,t,n){var a=t.c2p(e.x),o=n.c2p(e.y);if(tv(a)&&tv(o)&&r.node())r.node().nodeName==="text"?r.attr("x",a).attr("y",o):r.attr("transform",Wg(a,o));else return!1;return!0};Dt.translatePoints=function(e,r,t){e.each(function(n){var a=Ii.select(this);Dt.translatePoint(n,a,r,t)})};Dt.hideOutsideRangePoint=function(e,r,t,n,a,o){r.attr("display",t.isPtWithinRange(e,a)&&n.isPtWithinRange(e,o)?null:"none")};Dt.hideOutsideRangePoints=function(e,r){if(r._hasClipOnAxisFalse){var t=r.xaxis,n=r.yaxis;e.each(function(a){var o=a[0].trace,i=o.xcalendar,l=o.ycalendar,f=w3.traceIs(o,"bar-like")?".bartext":".point,.textpoint";e.selectAll(f).each(function(s){Dt.hideOutsideRangePoint(s,Ii.select(this),t,n,i,l)})})}};Dt.crispRound=function(e,r,t){return!r||!tv(r)?t||0:e._context.staticPlot?r:r<1?1:Math.round(r)};Dt.singleLineStyle=function(e,r,t,n,a){r.style("fill","none");var o=(((e||[])[0]||{}).trace||{}).line||{},i=t||o.width||0,l=a||o.dash||"";Qi.stroke(r,n||o.color),Dt.dashLine(r,l,i)};Dt.lineGroupStyle=function(e,r,t,n){e.style("fill","none").each(function(a){var o=(((a||[])[0]||{}).trace||{}).line||{},i=r||o.width||0,l=n||o.dash||"";Ii.select(this).call(Qi.stroke,t||o.color).call(Dt.dashLine,l,i)})};Dt.dashLine=function(e,r,t){t=+t||0,r=Dt.dashStyle(r,t),e.style({"stroke-dasharray":r,"stroke-width":t+"px"})};Dt.dashStyle=function(e,r){r=+r||1;var t=Math.max(r,3);return e==="solid"?e="":e==="dot"?e=t+"px,"+t+"px":e==="dash"?e=3*t+"px,"+3*t+"px":e==="longdash"?e=5*t+"px,"+5*t+"px":e==="dashdot"?e=3*t+"px,"+t+"px,"+t+"px,"+t+"px":e==="longdashdot"&&(e=5*t+"px,"+2*t+"px,"+t+"px,"+2*t+"px"),e};function CD(e,r,t,n){var a=r.fillpattern,o=r.fillgradient,i=Dt.getPatternAttr,l=a&&(i(a.shape,0,"")||i(a.path,0,""));if(l){var f=i(a.bgcolor,0,null),s=i(a.fgcolor,0,null),u=a.fgopacity,c=i(a.size,0,8),v=i(a.solidity,0,.3),x=r.uid;Dt.pattern(e,"point",t,x,l,c,v,void 0,a.fillmode,f,s,u)}else if(o&&o.type!=="none"){var m=o.type,w="scatterfill-"+r.uid;if(n&&(w="legendfill-"+r.uid),!n&&(o.start!==void 0||o.stop!==void 0)){var A,y;m==="horizontal"?(A={x:o.start,y:0},y={x:o.stop,y:0}):m==="vertical"&&(A={x:0,y:o.start},y={x:0,y:o.stop}),A.x=r._xA.c2p(A.x===void 0?r._extremes.x.min[0].val:A.x,!0),A.y=r._yA.c2p(A.y===void 0?r._extremes.y.min[0].val:A.y,!0),y.x=r._xA.c2p(y.x===void 0?r._extremes.x.max[0].val:y.x,!0),y.y=r._yA.c2p(y.y===void 0?r._extremes.y.max[0].val:y.y,!0),e.call(RD,t,w,"linear",o.colorscale,"fill",A,y,!0,!1)}else m==="horizontal"&&(m=m+"reversed"),e.call(Dt.gradient,t,w,m,o.colorscale,"fill")}else r.fillcolor&&e.call(Qi.fill,r.fillcolor)}Dt.singleFillStyle=function(e,r){var t=Ii.select(e.node()),n=t.data(),a=((n[0]||[])[0]||{}).trace||{};CD(e,a,r,!1)};Dt.fillGroupStyle=function(e,r,t){e.style("stroke-width",0).each(function(n){var a=Ii.select(this);n[0].trace&&CD(a,n[0].trace,r,t)})};var mD=yD();Dt.symbolNames=[];Dt.symbolFuncs=[];Dt.symbolBackOffs=[];Dt.symbolNeedLines={};Dt.symbolNoDot={};Dt.symbolNoFill={};Dt.symbolList=[];Object.keys(mD).forEach(function(e){var r=mD[e],t=r.n;Dt.symbolList.push(t,String(t),e,t+100,String(t+100),e+"-open"),Dt.symbolNames[t]=e,Dt.symbolFuncs[t]=r.f,Dt.symbolBackOffs[t]=r.backoff||0,r.needLine&&(Dt.symbolNeedLines[t]=!0),r.noDot?Dt.symbolNoDot[t]=!0:Dt.symbolList.push(t+200,String(t+200),e+"-dot",t+300,String(t+300),e+"-open-dot"),r.noFill&&(Dt.symbolNoFill[t]=!0)});var sve=Dt.symbolNames.length,fve="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";Dt.symbolNumber=function(e){if(tv(e))e=+e;else if(typeof e=="string"){var r=0;e.indexOf("-open")>0&&(r=100,e=e.replace("-open","")),e.indexOf("-dot")>0&&(r+=200,e=e.replace("-dot","")),e=Dt.symbolNames.indexOf(e),e>=0&&(e+=r)}return e%100>=sve||e>=400?0:Math.floor(Math.max(e,0))};function kD(e,r,t,n){var a=e%100;return Dt.symbolFuncs[a](r,t,n)+(e>=200?fve:"")}var xD=Jhe("~f"),LD={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};Dt.gradient=function(e,r,t,n,a,o){var i=LD[n];return RD(e,r,t,i.type,a,o,i.start,i.stop,!1,i.reversed)};function RD(e,r,t,n,a,o,i,l,f,s){var u=a.length,c;n==="linear"?c={node:"linearGradient",attrs:{x1:i.x,y1:i.y,x2:l.x,y2:l.y,gradientUnits:f?"userSpaceOnUse":"objectBoundingBox"},reversed:s}:n==="radial"&&(c={node:"radialGradient",reversed:s});for(var v=new Array(u),x=0;x<u;x++)c.reversed?v[u-1-x]=[xD((1-a[x][0])*100),a[x][1]]:v[x]=[xD(a[x][0]*100),a[x][1]];var m=r._fullLayout,w="g"+m._uid+"-"+t,A=m._defs.select(".gradients").selectAll("#"+w).data([n+v.join(";")],oa.identity);A.exit().remove(),A.enter().append(c.node).each(function(){var y=Ii.select(this);c.attrs&&y.attr(c.attrs),y.attr("id",w);var M=y.selectAll("stop").data(v);M.exit().remove(),M.enter().append("stop"),M.each(function(E){var b=cA(E[1]);Ii.select(this).attr({offset:E[0]+"%","stop-color":Qi.tinyRGB(b),"stop-opacity":b.getAlpha()})})}),e.style(o,hA(w,r)).style(o+"-opacity",null),e.classed("gradient_filled",!0)}Dt.pattern=function(e,r,t,n,a,o,i,l,f,s,u,c){var v=r==="legend";l&&(f==="overlay"?(s=l,u=Qi.contrast(s)):(s=void 0,u=l));var x=t._fullLayout,m="p"+x._uid+"-"+n,w,A,y=function(L,F,O,P,I){return P+(I-P)*(L-F)/(O-F)},M,E,b,T,p={},_=cA(u),g=Qi.tinyRGB(_),h=_.getAlpha(),S=c*h;switch(a){case"/":w=o*Math.sqrt(2),A=o*Math.sqrt(2),M="M-"+w/4+","+A/4+"l"+w/2+",-"+A/2+"M0,"+A+"L"+w+",0M"+w/4*3+","+A/4*5+"l"+w/2+",-"+A/2,E=i*o,T="path",p={d:M,opacity:S,stroke:g,"stroke-width":E+"px"};break;case"\\":w=o*Math.sqrt(2),A=o*Math.sqrt(2),M="M"+w/4*3+",-"+A/4+"l"+w/2+","+A/2+"M0,0L"+w+","+A+"M-"+w/4+","+A/4*3+"l"+w/2+","+A/2,E=i*o,T="path",p={d:M,opacity:S,stroke:g,"stroke-width":E+"px"};break;case"x":w=o*Math.sqrt(2),A=o*Math.sqrt(2),M="M-"+w/4+","+A/4+"l"+w/2+",-"+A/2+"M0,"+A+"L"+w+",0M"+w/4*3+","+A/4*5+"l"+w/2+",-"+A/2+"M"+w/4*3+",-"+A/4+"l"+w/2+","+A/2+"M0,0L"+w+","+A+"M-"+w/4+","+A/4*3+"l"+w/2+","+A/2,E=o-o*Math.sqrt(1-i),T="path",p={d:M,opacity:S,stroke:g,"stroke-width":E+"px"};break;case"|":w=o,A=o,T="path",M="M"+w/2+",0L"+w/2+","+A,E=i*o,T="path",p={d:M,opacity:S,stroke:g,"stroke-width":E+"px"};break;case"-":w=o,A=o,T="path",M="M0,"+A/2+"L"+w+","+A/2,E=i*o,T="path",p={d:M,opacity:S,stroke:g,"stroke-width":E+"px"};break;case"+":w=o,A=o,T="path",M="M"+w/2+",0L"+w/2+","+A+"M0,"+A/2+"L"+w+","+A/2,E=o-o*Math.sqrt(1-i),T="path",p={d:M,opacity:S,stroke:g,"stroke-width":E+"px"};break;case".":w=o,A=o,i<Math.PI/4?b=Math.sqrt(i*o*o/Math.PI):b=y(i,Math.PI/4,1,o/2,o/Math.sqrt(2)),T="circle",p={cx:w/2,cy:A/2,r:b,opacity:S,fill:g};break;default:w=o,A=o,T="path",p={d:a,opacity:S,fill:g};break}var d=[a||"noSh",s||"noBg",u||"noFg",o,i].join(";"),R=x._defs.select(".patterns").selectAll("#"+m).data([d],oa.identity);R.exit().remove(),R.enter().append("pattern").each(function(){var L=Ii.select(this);if(L.attr({id:m,width:w+"px",height:A+"px",patternUnits:"userSpaceOnUse",patternTransform:v?"scale(0.8)":""}),s){var F=cA(s),O=Qi.tinyRGB(F),P=F.getAlpha(),I=L.selectAll("rect").data([0]);I.exit().remove(),I.enter().append("rect").attr({width:w+"px",height:A+"px",fill:O,"fill-opacity":P})}var k=L.selectAll(T).data([0]);k.exit().remove(),k.enter().append(T).attr(p)}),e.style("fill",hA(m,t)).style("fill-opacity",null),e.classed("pattern_filled",!0)};Dt.initGradients=function(e){var r=e._fullLayout,t=oa.ensureSingle(r._defs,"g","gradients");t.selectAll("linearGradient,radialGradient").remove(),Ii.select(e).selectAll(".gradient_filled").classed("gradient_filled",!1)};Dt.initPatterns=function(e){var r=e._fullLayout,t=oa.ensureSingle(r._defs,"g","patterns");t.selectAll("pattern").remove(),Ii.select(e).selectAll(".pattern_filled").classed("pattern_filled",!1)};Dt.getPatternAttr=function(e,r,t){return e&&oa.isArrayOrTypedArray(e)?r<e.length?e[r]:t:e};Dt.pointStyle=function(e,r,t,n){if(e.size()){var a=Dt.makePointStyleFns(r);e.each(function(o){Dt.singlePointStyle(o,Ii.select(this),r,a,t,n)})}};Dt.singlePointStyle=function(e,r,t,n,a,o){var i=t.marker,l=i.line;if(o&&o.i>=0&&e.i===void 0&&(e.i=o.i),r.style("opacity",n.selectedOpacityFn?n.selectedOpacityFn(e):e.mo===void 0?i.opacity:e.mo),n.ms2mrc){var f;e.ms==="various"||i.size==="various"?f=3:f=n.ms2mrc(e.ms),e.mrc=f,n.selectedSizeFn&&(f=e.mrc=n.selectedSizeFn(e));var s=Dt.symbolNumber(e.mx||i.symbol)||0;e.om=s%200>=100;var u=dA(e,t),c=vA(e,t);r.attr("d",kD(s,f,u,c))}var v=!1,x,m,w;if(e.so)w=l.outlierwidth,m=l.outliercolor,x=i.outliercolor;else{var A=(l||{}).width;w=(e.mlw+1||A+1||(e.trace?(e.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in e?m=e.mlcc=n.lineScale(e.mlc):oa.isArrayOrTypedArray(l.color)?m=Qi.defaultLine:m=l.color,oa.isArrayOrTypedArray(i.color)&&(x=Qi.defaultLine,v=!0),"mc"in e?x=e.mcc=n.markerScale(e.mc):x=i.color||i.colors||"rgba(0,0,0,0)",n.selectedColorFn&&(x=n.selectedColorFn(e))}if(e.om)r.call(Qi.stroke,x).style({"stroke-width":(w||1)+"px",fill:"none"});else{r.style("stroke-width",(e.isBlank?0:w)+"px");var y=i.gradient,M=e.mgt;M?v=!0:M=y&&y.type,oa.isArrayOrTypedArray(M)&&(M=M[0],LD[M]||(M=0));var E=i.pattern,b=Dt.getPatternAttr,T=E&&(b(E.shape,e.i,"")||b(E.path,e.i,""));if(M&&M!=="none"){var p=e.mgc;p?v=!0:p=y.color;var _=t.uid;v&&(_+="-"+e.i),Dt.gradient(r,a,_,M,[[0,p],[1,x]],"fill")}else if(T){var g=!1,h=E.fgcolor;!h&&o&&o.color&&(h=o.color,g=!0);var S=b(h,e.i,o&&o.color||null),d=b(E.bgcolor,e.i,null),R=E.fgopacity,L=b(E.size,e.i,8),F=b(E.solidity,e.i,.3);g=g||e.mcc||oa.isArrayOrTypedArray(E.shape)||oa.isArrayOrTypedArray(E.path)||oa.isArrayOrTypedArray(E.bgcolor)||oa.isArrayOrTypedArray(E.fgcolor)||oa.isArrayOrTypedArray(E.size)||oa.isArrayOrTypedArray(E.solidity);var O=t.uid;g&&(O+="-"+e.i),Dt.pattern(r,"point",a,O,T,L,F,e.mcc,E.fillmode,d,S,R)}else oa.isArrayOrTypedArray(x)?Qi.fill(r,x[e.i]):Qi.fill(r,x);w&&Qi.stroke(r,m)}};Dt.makePointStyleFns=function(e){var r={},t=e.marker;return r.markerScale=Dt.tryColorscale(t,""),r.lineScale=Dt.tryColorscale(t,"line"),w3.traceIs(e,"symbols")&&(r.ms2mrc=tve.isBubble(e)?nve(e):function(){return(t.size||6)/2}),e.selectedpoints&&oa.extendFlat(r,Dt.makeSelectedPointStyleFns(e)),r};Dt.makeSelectedPointStyleFns=function(e){var r={},t=e.selected||{},n=e.unselected||{},a=e.marker||{},o=t.marker||{},i=n.marker||{},l=a.opacity,f=o.opacity,s=i.opacity,u=f!==void 0,c=s!==void 0;(oa.isArrayOrTypedArray(l)||u||c)&&(r.selectedOpacityFn=function(b){var T=b.mo===void 0?a.opacity:b.mo;return b.selected?u?f:T:c?s:SD*T});var v=a.color,x=o.color,m=i.color;(x||m)&&(r.selectedColorFn=function(b){var T=b.mcc||v;return b.selected?x||T:m||T});var w=a.size,A=o.size,y=i.size,M=A!==void 0,E=y!==void 0;return w3.traceIs(e,"symbols")&&(M||E)&&(r.selectedSizeFn=function(b){var T=b.mrc||w/2;return b.selected?M?A/2:T:E?y/2:T}),r};Dt.makeSelectedTextStyleFns=function(e){var r={},t=e.selected||{},n=e.unselected||{},a=e.textfont||{},o=t.textfont||{},i=n.textfont||{},l=a.color,f=o.color,s=i.color;return r.selectedTextColorFn=function(u){var c=u.tc||l;return u.selected?f||c:s||(f?c:Qi.addOpacity(c,SD))},r};Dt.selectedPointStyle=function(e,r){if(!(!e.size()||!r.selectedpoints)){var t=Dt.makeSelectedPointStyleFns(r),n=r.marker||{},a=[];t.selectedOpacityFn&&a.push(function(o,i){o.style("opacity",t.selectedOpacityFn(i))}),t.selectedColorFn&&a.push(function(o,i){Qi.fill(o,t.selectedColorFn(i))}),t.selectedSizeFn&&a.push(function(o,i){var l=i.mx||n.symbol||0,f=t.selectedSizeFn(i);o.attr("d",kD(Dt.symbolNumber(l),f,dA(i,r),vA(i,r))),i.mrc2=f}),a.length&&e.each(function(o){for(var i=Ii.select(this),l=0;l<a.length;l++)a[l](i,o)})}};Dt.tryColorscale=function(e,r){var t=r?oa.nestedProperty(e,r).get():e;if(t){var n=t.color;if((t.colorscale||t._colorAx)&&oa.isArrayOrTypedArray(n))return Khe.makeColorScaleFuncFromTrace(t)}return oa.identity};var lA={start:1,end:-1,middle:0,bottom:1,top:-1};function FD(e,r,t,n,a){var o=Ii.select(e.node().parentNode),i=r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle",l=r.indexOf("left")!==-1?"end":r.indexOf("right")!==-1?"start":"middle",f=n?n/.8+1:0,s=(A3.lineCount(e)-1)*rve+1,u=lA[l]*f,c=t*.75+lA[i]*f+(lA[i]-1)*s*t/2;e.attr("text-anchor",l),a||o.attr("transform",Wg(u,c))}function DD(e,r){var t=e.ts||r.textfont.size;return tv(t)&&t>0?t:0}Dt.textPointStyle=function(e,r,t){if(e.size()){var n;if(r.selectedpoints){var a=Dt.makeSelectedTextStyleFns(r);n=a.selectedTextColorFn}var o=r.texttemplate,i=t._fullLayout;e.each(function(l){var f=Ii.select(this),s=o?oa.extractOption(l,r,"txt","texttemplate"):oa.extractOption(l,r,"tx","text");if(!s&&s!==0){f.remove();return}if(o){var u=r._module.formatLabels,c=u?u(l,r,i):{},v={};ave(v,r,l.i);var x=r._meta||{};s=oa.texttemplateString(s,c,i._d3locale,v,l,x)}var m=l.tp||r.textposition,w=DD(l,r),A=n?n(l):l.tc||r.textfont.color;f.call(Dt.font,{family:l.tf||r.textfont.family,weight:l.tw||r.textfont.weight,style:l.ty||r.textfont.style,variant:l.tv||r.textfont.variant,textcase:l.tC||r.textfont.textcase,lineposition:l.tE||r.textfont.lineposition,shadow:l.tS||r.textfont.shadow,size:w,color:A}).text(s).call(A3.convertToTspans,t).call(FD,m,w,l.mrc)})}};Dt.selectedTextStyle=function(e,r){if(!(!e.size()||!r.selectedpoints)){var t=Dt.makeSelectedTextStyleFns(r);e.each(function(n){var a=Ii.select(this),o=t.selectedTextColorFn(n),i=n.tp||r.textposition,l=DD(n,r);Qi.fill(a,o);var f=w3.traceIs(r,"bar-like");FD(a,i,l,n.mrc2||n.mrc,f)})}};var bD=.5;Dt.smoothopen=function(e,r){if(e.length<3)return"M"+e.join("L");var t="M"+e[0],n=[],a;for(a=1;a<e.length-1;a++)n.push(_3(e[a-1],e[a],e[a+1],r));for(t+="Q"+n[0][0]+" "+e[1],a=2;a<e.length-1;a++)t+="C"+n[a-2][1]+" "+n[a-1][0]+" "+e[a];return t+="Q"+n[e.length-3][1]+" "+e[e.length-1],t};Dt.smoothclosed=function(e,r){if(e.length<3)return"M"+e.join("L")+"Z";var t="M"+e[0],n=e.length-1,a=[_3(e[n],e[0],e[1],r)],o;for(o=1;o<n;o++)a.push(_3(e[o-1],e[o],e[o+1],r));for(a.push(_3(e[n-1],e[n],e[0],r)),o=1;o<=n;o++)t+="C"+a[o-1][1]+" "+a[o][0]+" "+e[o];return t+="C"+a[n][1]+" "+a[0][0]+" "+e[0]+"Z",t};var ID,PD;function r1(e,r,t){return t&&(e=OD(e)),r?rv(e[1]):ev(e[0])}function ev(e){var r=Ii.round(e,2);return ID=r,r}function rv(e){var r=Ii.round(e,2);return PD=r,r}function _3(e,r,t,n){var a=e[0]-r[0],o=e[1]-r[1],i=t[0]-r[0],l=t[1]-r[1],f=Math.pow(a*a+o*o,bD/2),s=Math.pow(i*i+l*l,bD/2),u=(s*s*a-f*f*i)*n,c=(s*s*o-f*f*l)*n,v=3*s*(f+s),x=3*f*(f+s);return[[ev(r[0]+(v&&u/v)),rv(r[1]+(v&&c/v))],[ev(r[0]-(x&&u/x)),rv(r[1]-(x&&c/x))]]}var uve={hv:function(e,r,t){return"H"+ev(r[0])+"V"+r1(r,1,t)},vh:function(e,r,t){return"V"+rv(r[1])+"H"+r1(r,0,t)},hvh:function(e,r,t){return"H"+ev((e[0]+r[0])/2)+"V"+rv(r[1])+"H"+r1(r,0,t)},vhv:function(e,r,t){return"V"+rv((e[1]+r[1])/2)+"H"+ev(r[0])+"V"+r1(r,1,t)}},cve=function(e,r,t){return"L"+r1(r,0,t)+","+r1(r,1,t)};Dt.steps=function(e){var r=uve[e]||cve;return function(t){for(var n="M"+ev(t[0][0])+","+rv(t[0][1]),a=t.length,o=1;o<a;o++)n+=r(t[o-1],t[o],o===a-1);return n}};function OD(e,r){var t=e.backoff,n=e.trace,a=e.d,o=e.i;if(t&&n&&n.marker&&n.marker.angle%360===0&&n.line&&n.line.shape!=="spline"){var i=oa.isArrayOrTypedArray(t),l=e,f=r?r[0]:ID||0,s=r?r[1]:PD||0,u=l[0],c=l[1],v=u-f,x=c-s,m=Math.atan2(x,v),w=i?t[o]:t;if(w==="auto"){var A=l.i;n.type==="scatter"&&A--;var y=l.marker,M=y.symbol;oa.isArrayOrTypedArray(M)&&(M=M[A]);var E=y.size;oa.isArrayOrTypedArray(E)&&(E=E[A]),w=y?Dt.symbolBackOffs[Dt.symbolNumber(M)]*E:0,w+=Dt.getMarkerStandoff(a[A],n)||0}var b=u-w*Math.cos(m),T=c-w*Math.sin(m);(b<=u&&b>=f||b>=u&&b<=f)&&(T<=c&&T>=s||T>=c&&T<=s)&&(e=[b,T])}return e}Dt.applyBackoff=OD;Dt.makeTester=function(){var e=oa.ensureSingleById(Ii.select("body"),"svg","js-plotly-tester",function(t){t.attr(Qhe.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),r=oa.ensureSingle(e,"path","js-reference-point",function(t){t.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});Dt.tester=e,Dt.testref=r};Dt.savedBBoxes={};var sA=0,hve=1e4;Dt.bBox=function(e,r,t){t||(t=_D(e));var n;if(t){if(n=Dt.savedBBoxes[t],n)return oa.extendFlat({},n)}else if(e.childNodes.length===1){var a=e.childNodes[0];if(t=_D(a),t){var o=+a.getAttribute("x")||0,i=+a.getAttribute("y")||0,l=a.getAttribute("transform");if(!l){var f=Dt.bBox(a,!1,t);return o&&(f.left+=o,f.right+=o),i&&(f.top+=i,f.bottom+=i),f}if(t+="~"+o+"~"+i+"~"+l,n=Dt.savedBBoxes[t],n)return oa.extendFlat({},n)}}var s,u;r?s=e:(u=Dt.tester.node(),s=e.cloneNode(!0),u.appendChild(s)),Ii.select(s).attr("transform",null).call(A3.positionText,0,0);var c=s.getBoundingClientRect(),v=Dt.testref.node().getBoundingClientRect();r||u.removeChild(s);var x={height:c.height,width:c.width,left:c.left-v.left,top:c.top-v.top,right:c.right-v.left,bottom:c.bottom-v.top};return sA>=hve&&(Dt.savedBBoxes={},sA=0),t&&(Dt.savedBBoxes[t]=x),sA++,oa.extendFlat({},x)};function _D(e){var r=e.getAttribute("data-unformatted");if(r!==null)return r+e.getAttribute("data-math")+e.getAttribute("text-anchor")+e.getAttribute("style")}Dt.setClipUrl=function(e,r,t){e.attr("clip-path",hA(r,t))};function hA(e,r){if(!e)return null;var t=r._context,n=t._exportedPlot?"":t._baseUrl||"";return n?"url('"+n+"#"+e+"')":"url(#"+e+")"}Dt.getTranslate=function(e){var r=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,t=e.attr?"attr":"getAttribute",n=e[t]("transform")||"",a=n.replace(r,function(o,i,l){return[i,l].join(" ")}).split(" ");return{x:+a[0]||0,y:+a[1]||0}};Dt.setTranslate=function(e,r,t){var n=/(\btranslate\(.*?\);?)/,a=e.attr?"attr":"getAttribute",o=e.attr?"attr":"setAttribute",i=e[a]("transform")||"";return r=r||0,t=t||0,i=i.replace(n,"").trim(),i+=Wg(r,t),i=i.trim(),e[o]("transform",i),i};Dt.getScale=function(e){var r=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,t=e.attr?"attr":"getAttribute",n=e[t]("transform")||"",a=n.replace(r,function(o,i,l){return[i,l].join(" ")}).split(" ");return{x:+a[0]||1,y:+a[1]||1}};Dt.setScale=function(e,r,t){var n=/(\bscale\(.*?\);?)/,a=e.attr?"attr":"getAttribute",o=e.attr?"attr":"setAttribute",i=e[a]("transform")||"";return r=r||1,t=t||1,i=i.replace(n,"").trim(),i+="scale("+r+","+t+")",i=i.trim(),e[o]("transform",i),i};var vve=/\s*sc.*/;Dt.setPointGroupScale=function(e,r,t){if(r=r||1,t=t||1,!!e){var n=r===1&&t===1?"":"scale("+r+","+t+")";e.each(function(){var a=(this.getAttribute("transform")||"").replace(vve,"");a+=n,a=a.trim(),this.setAttribute("transform",a)})}};var dve=/translate\([^)]*\)\s*$/;Dt.setTextPointsScale=function(e,r,t){e&&e.each(function(){var n,a=Ii.select(this),o=a.select("text");if(o.node()){var i=parseFloat(o.attr("x")||0),l=parseFloat(o.attr("y")||0),f=(a.attr("transform")||"").match(dve);r===1&&t===1?n=[]:n=[Wg(i,l),"scale("+r+","+t+")",Wg(-i,-l)],f&&n.push(f),a.attr("transform",n.join(""))}})};function vA(e,r){var t;return e&&(t=e.mf),t===void 0&&(t=r.marker&&r.marker.standoff||0),!r._geo&&!r._xA?-t:t}Dt.getMarkerStandoff=vA;var Yg=Math.atan2,Qh=Math.cos,t1=Math.sin;function wD(e,r){var t=r[0],n=r[1];return[t*Qh(e)-n*t1(e),t*t1(e)+n*Qh(e)]}var AD,TD,MD,ED,fA,uA;function dA(e,r){var t=e.ma;t===void 0&&(t=r.marker.angle,(!t||oa.isArrayOrTypedArray(t))&&(t=0));var n,a,o=r.marker.angleref;if(o==="previous"||o==="north"){if(r._geo){var i=r._geo.project(e.lonlat);n=i[0],a=i[1]}else{var l=r._xA,f=r._yA;if(l&&f)n=l.c2p(e.x),a=f.c2p(e.y);else return 90}if(r._geo){var s=e.lonlat[0],u=e.lonlat[1],c=r._geo.project([s,u+1e-5]),v=r._geo.project([s+1e-5,u]),x=Yg(v[1]-a,v[0]-n),m=Yg(c[1]-a,c[0]-n),w;if(o==="north")w=t/180*Math.PI;else if(o==="previous"){var A=s/180*Math.PI,y=u/180*Math.PI,M=AD/180*Math.PI,E=TD/180*Math.PI,b=M-A,T=Qh(E)*t1(b),p=t1(E)*Qh(y)-Qh(E)*t1(y)*Qh(b);w=-Yg(T,p)-Math.PI,AD=s,TD=u}var _=wD(x,[Qh(w),0]),g=wD(m,[t1(w),0]);t=Yg(_[1]+g[1],_[0]+g[0])/Math.PI*180,o==="previous"&&!(uA===r.uid&&e.i===fA+1)&&(t=null)}if(o==="previous"&&!r._geo)if(uA===r.uid&&e.i===fA+1&&tv(n)&&tv(a)){var h=n-MD,S=a-ED,d=r.line&&r.line.shape||"",R=d.slice(d.length-1);R==="h"&&(S=0),R==="v"&&(h=0),t+=Yg(S,h)/Math.PI*180+90}else t=null}return MD=n,ED=a,fA=e.i,uA=r.uid,t}Dt.getMarkerAngle=dA});var Xg=fe((qPe,UD)=>{"use strict";var n1=Ln(),pve=kn(),gve=ci(),pA=Qt(),nv=tt(),BD=nv.strTranslate,T3=ta(),M3=xn(),a1=po(),zD=Fd(),yve=Ro().OPPOSITE_SIDE,qD=/ [XY][0-9]* /,gA=1.6,yA=1.6;function mve(e,r,t){var n=e._fullLayout,a=t.propContainer,o=t.propName,i=t.placeholder,l=t.traceIndex,f=t.avoid||{},s=t.attributes,u=t.transform,c=t.containerGroup,v=1,x=a.title,m=(x&&x.text?x.text:"").trim(),w=!1,A=x&&x.font?x.font:{},y=A.family,M=A.size,E=A.color,b=A.weight,T=A.style,p=A.variant,_=A.textcase,g=A.lineposition,h=A.shadow,S=t.subtitlePropName,d=!!S,R=t.subtitlePlaceholder,L=(a.title||{}).subtitle||{text:"",font:{}},F=(L.text||"").trim(),O=!1,P=1,I=L.font,k=I.family,D=I.size,z=I.color,q=I.weight,j=I.style,Q=I.variant,K=I.textcase,G=I.lineposition,B=I.shadow,Z;o==="title.text"?Z="titleText":o.indexOf("axis")!==-1?Z="axisTitleText":o.indexOf("colorbar")!==-1&&(Z="colorbarTitleText");var ie=e._context.edits[Z];function J(Be,je){return Be===void 0||je===void 0?!1:Be.replace(qD," % ")===je.replace(qD," % ")}m===""?v=0:J(m,i)&&(ie||(m=""),v=.2,w=!0),d&&(F===""?P=0:J(F,R)&&(ie||(F=""),P=.2,O=!0)),t._meta?m=nv.templateString(m,t._meta):n._meta&&(m=nv.templateString(m,n._meta));var le=m||F||ie,te;c||(c=nv.ensureSingle(n._infolayer,"g","g-"+r),te=n._hColorbarMoveTitle);var V=c.selectAll("text."+r).data(le?[0]:[]);V.enter().append("text"),V.text(m).attr("class",r),V.exit().remove();var ne=null,Y=r+"-subtitle",oe=F||ie;if(d&&(ne=c.selectAll("text."+Y).data(oe?[0]:[]),ne.enter().append("text"),ne.text(F).attr("class",Y),ne.exit().remove()),!le)return c;function pe(Be,je){nv.syncOrAsync([we,De],{title:Be,subtitle:je})}function we(Be){var je=Be.title,Ne=Be.subtitle,Qe;!u&&te&&(u={}),u?(Qe="",u.rotate&&(Qe+="rotate("+[u.rotate,s.x,s.y]+")"),(u.offset||te)&&(Qe+=BD(0,(u.offset||0)-(te||0)))):Qe=null,je.attr("transform",Qe);function pr(Ue){if(Ue){var He=n1.select(Ue.node().parentNode).select("."+Y);if(!He.empty()){var Xe=Ue.node().getBBox();if(Xe.height){var fr=Xe.y+Xe.height+gA*D;He.attr("y",fr)}}}}if(je.style("opacity",v*M3.opacity(E)).call(T3.font,{color:M3.rgb(E),size:n1.round(M,2),family:y,weight:b,style:T,variant:p,textcase:_,shadow:h,lineposition:g}).attr(s).call(a1.convertToTspans,e,pr),Ne&&!Ne.empty()){var Se=c.select("."+r+"-math-group"),Fe=je.node().getBBox(),hr=Se.node()?Se.node().getBBox():void 0,dr=hr?hr.y+hr.height+gA*D:Fe.y+Fe.height+yA*D,kr=nv.extendFlat({},s,{y:dr});Ne.attr("transform",Qe),Ne.style("opacity",P*M3.opacity(z)).call(T3.font,{color:M3.rgb(z),size:n1.round(D,2),family:k,weight:q,style:j,variant:Q,textcase:K,shadow:B,lineposition:G}).attr(kr).call(a1.convertToTspans,e)}return gve.previousPromises(e)}function De(Be){var je=Be.title,Ne=n1.select(je.node().parentNode);if(f&&f.selection&&f.side&&m){Ne.attr("transform",null);var Qe=yve[f.side],pr=f.side==="left"||f.side==="top"?-1:1,Se=pve(f.pad)?f.pad:2,Fe=T3.bBox(Ne.node()),hr={t:0,b:0,l:0,r:0},dr=e._fullLayout._reservedMargin;for(var kr in dr)for(var Ue in dr[kr]){var He=dr[kr][Ue];hr[Ue]=Math.max(hr[Ue],He)}var Xe={left:hr.l,top:hr.t,right:n.width-hr.r,bottom:n.height-hr.b},fr=f.maxShift||pr*(Xe[f.side]-Fe[f.side]),Mr=0;if(fr<0)Mr=fr;else{var qr=f.offsetLeft||0,et=f.offsetTop||0;Fe.left-=qr,Fe.right-=qr,Fe.top-=et,Fe.bottom-=et,f.selection.each(function(){var Or=T3.bBox(this);nv.bBoxIntersect(Fe,Or,Se)&&(Mr=Math.max(Mr,pr*(Or[f.side]-Fe[Qe])+Se))}),Mr=Math.min(fr,Mr),a._titleScoot=Math.abs(Mr)}if(Mr>0||fr<0){var jr={left:[-Mr,0],right:[Mr,0],top:[0,-Mr],bottom:[0,Mr]}[f.side];Ne.attr("transform",BD(jr[0],jr[1]))}}}V.call(pe,ne);function Re(Be,je){Be.text(je).on("mouseover.opacity",function(){n1.select(this).transition().duration(zD.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){n1.select(this).transition().duration(zD.HIDE_PLACEHOLDER).style("opacity",0)})}if(ie&&(m?V.on(".opacity",null):(Re(V,i),w=!0),V.call(a1.makeEditable,{gd:e}).on("edit",function(Be){l!==void 0?pA.call("_guiRestyle",e,o,Be,l):pA.call("_guiRelayout",e,o,Be)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(pe)}).on("input",function(Be){this.text(Be||" ").call(a1.positionText,s.x,s.y)}),d)){if(d&&!m){var Ae=V.node().getBBox(),Ie=Ae.y+Ae.height+yA*D;ne.attr("y",Ie)}F?ne.on(".opacity",null):(Re(ne,R),O=!0),ne.call(a1.makeEditable,{gd:e}).on("edit",function(Be){pA.call("_guiRelayout",e,"title.subtitle.text",Be)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(pe)}).on("input",function(Be){this.text(Be||" ").call(a1.positionText,ne.attr("x"),ne.attr("y"))})}return V.classed("js-placeholder",w),ne&&!ne.empty()&&ne.classed("js-placeholder",O),c}UD.exports={draw:mve,SUBTITLE_PADDING_EM:yA,SUBTITLE_PADDING_MATHJAX_EM:gA}});var D3=fe((UPe,WD)=>{"use strict";var xve=Ln(),bve=kd().utcFormat,pa=tt(),_ve=pa.numberFormat,$f=kn(),v0=pa.cleanNumber,wve=pa.ms2DateTime,GD=pa.dateTime2ms,Jf=pa.ensureNumber,HD=pa.isArrayOrTypedArray,d0=ui(),E3=d0.FP_SAFE,tf=d0.BADNUM,Ave=d0.LOG_CLIP,Tve=d0.ONEWEEK,S3=d0.ONEDAY,C3=d0.ONEHOUR,VD=d0.ONEMIN,YD=d0.ONESEC,k3=ti(),F3=Ji(),L3=F3.HOUR_PATTERN,R3=F3.WEEKDAY_PATTERN;function jg(e){return Math.pow(10,e)}function mA(e){return e!=null}WD.exports=function(r,t){t=t||{};var n=r._id||"x",a=n.charAt(0);function o(b,T){if(b>0)return Math.log(b)/Math.LN10;if(b<=0&&T&&r.range&&r.range.length===2){var p=r.range[0],_=r.range[1];return .5*(p+_-2*Ave*Math.abs(p-_))}else return tf}function i(b,T,p,_){if((_||{}).msUTC&&$f(b))return+b;var g=GD(b,p||r.calendar);if(g===tf)if($f(b)){b=+b;var h=Math.floor(pa.mod(b+.05,1)*10),S=Math.round(b-h/10);g=GD(new Date(S))+h/10}else return tf;return g}function l(b,T,p){return wve(b,T,p||r.calendar)}function f(b){return r._categories[Math.round(b)]}function s(b){if(mA(b)){if(r._categoriesMap===void 0&&(r._categoriesMap={}),r._categoriesMap[b]!==void 0)return r._categoriesMap[b];r._categories.push(typeof b=="number"?String(b):b);var T=r._categories.length-1;return r._categoriesMap[b]=T,T}return tf}function u(b,T){for(var p=new Array(T),_=0;_<T;_++){var g=(b[0]||[])[_],h=(b[1]||[])[_];p[_]=c([g,h])}return p}function c(b){if(r._categoriesMap)return r._categoriesMap[b]}function v(b){var T=c(b);if(T!==void 0)return T;if($f(b))return+b}function x(b){return $f(b)?+b:c(b)}function m(b,T,p){return xve.round(p+T*b,2)}function w(b,T,p){return(b-p)/T}var A=function(T){return $f(T)?m(T,r._m,r._b):tf},y=function(b){return w(b,r._m,r._b)};if(r.rangebreaks){var M=a==="y";A=function(b){if(!$f(b))return tf;var T=r._rangebreaks.length;if(!T)return m(b,r._m,r._b);var p=M;r.range[0]>r.range[1]&&(p=!p);for(var _=p?-1:1,g=_*b,h=0,S=0;S<T;S++){var d=_*r._rangebreaks[S].min,R=_*r._rangebreaks[S].max;if(g<d)break;if(g>R)h=S+1;else{h=g<(d+R)/2?S:S+1;break}}var L=r._B[h]||0;return isFinite(L)?m(b,r._m2,L):0},y=function(b){var T=r._rangebreaks.length;if(!T)return w(b,r._m,r._b);for(var p=0,_=0;_<T&&!(b<r._rangebreaks[_].pmin);_++)b>r._rangebreaks[_].pmax&&(p=_+1);return w(b,r._m2,r._B[p])}}r.c2l=r.type==="log"?o:Jf,r.l2c=r.type==="log"?jg:Jf,r.l2p=A,r.p2l=y,r.c2p=r.type==="log"?function(b,T){return A(o(b,T))}:A,r.p2c=r.type==="log"?function(b){return jg(y(b))}:y,["linear","-"].indexOf(r.type)!==-1?(r.d2r=r.r2d=r.d2c=r.r2c=r.d2l=r.r2l=v0,r.c2d=r.c2r=r.l2d=r.l2r=Jf,r.d2p=r.r2p=function(b){return r.l2p(v0(b))},r.p2d=r.p2r=y,r.cleanPos=Jf):r.type==="log"?(r.d2r=r.d2l=function(b,T){return o(v0(b),T)},r.r2d=r.r2c=function(b){return jg(v0(b))},r.d2c=r.r2l=v0,r.c2d=r.l2r=Jf,r.c2r=o,r.l2d=jg,r.d2p=function(b,T){return r.l2p(r.d2r(b,T))},r.p2d=function(b){return jg(y(b))},r.r2p=function(b){return r.l2p(v0(b))},r.p2r=y,r.cleanPos=Jf):r.type==="date"?(r.d2r=r.r2d=pa.identity,r.d2c=r.r2c=r.d2l=r.r2l=i,r.c2d=r.c2r=r.l2d=r.l2r=l,r.d2p=r.r2p=function(b,T,p){return r.l2p(i(b,0,p))},r.p2d=r.p2r=function(b,T,p){return l(y(b),T,p)},r.cleanPos=function(b){return pa.cleanDate(b,tf,r.calendar)}):r.type==="category"?(r.d2c=r.d2l=s,r.r2d=r.c2d=r.l2d=f,r.d2r=r.d2l_noadd=v,r.r2c=function(b){var T=x(b);return T!==void 0?T:r.fraction2r(.5)},r.l2r=r.c2r=Jf,r.r2l=x,r.d2p=function(b){return r.l2p(r.r2c(b))},r.p2d=function(b){return f(y(b))},r.r2p=r.d2p,r.p2r=y,r.cleanPos=function(b){return typeof b=="string"&&b!==""?b:Jf(b)}):r.type==="multicategory"&&(r.r2d=r.c2d=r.l2d=f,r.d2r=r.d2l_noadd=v,r.r2c=function(b){var T=v(b);return T!==void 0?T:r.fraction2r(.5)},r.r2c_just_indices=c,r.l2r=r.c2r=Jf,r.r2l=v,r.d2p=function(b){return r.l2p(r.r2c(b))},r.p2d=function(b){return f(y(b))},r.r2p=r.d2p,r.p2r=y,r.cleanPos=function(b){return Array.isArray(b)||typeof b=="string"&&b!==""?b:Jf(b)},r.setupMultiCategory=function(b){var T=r._traceIndices,p,_,g=r._matchGroup;if(g&&r._categories.length===0){for(var h in g)if(h!==n){var S=t[k3.id2name(h)];T=T.concat(S._traceIndices)}}var d=[[0,{}],[0,{}]],R=[];for(p=0;p<T.length;p++){var L=b[T[p]];if(a in L){var F=L[a],O=L._length||pa.minRowLength(F);if(HD(F[0])&&HD(F[1]))for(_=0;_<O;_++){var P=F[0][_],I=F[1][_];mA(P)&&mA(I)&&(R.push([P,I]),P in d[0][1]||(d[0][1][P]=d[0][0]++),I in d[1][1]||(d[1][1][I]=d[1][0]++))}}}for(R.sort(function(k,D){var z=d[0][1],q=z[k[0]]-z[D[0]];if(q)return q;var j=d[1][1];return j[k[1]]-j[D[1]]}),p=0;p<R.length;p++)s(R[p])}),r.fraction2r=function(b){var T=r.r2l(r.range[0]),p=r.r2l(r.range[1]);return r.l2r(T+b*(p-T))},r.r2fraction=function(b){var T=r.r2l(r.range[0]),p=r.r2l(r.range[1]);return(r.r2l(b)-T)/(p-T)},r.limitRange=function(b){var T=r.minallowed,p=r.maxallowed;if(!(T===void 0&&p===void 0)){b||(b="range");var _=pa.nestedProperty(r,b).get(),g=pa.simpleMap(_,r.r2l),h=g[1]<g[0];h&&g.reverse();var S=pa.simpleMap([T,p],r.r2l);if(T!==void 0&&g[0]<S[0]&&(_[h?1:0]=T),p!==void 0&&g[1]>S[1]&&(_[h?0:1]=p),_[0]===_[1]){var d=r.l2r(T),R=r.l2r(p);if(T!==void 0){var L=d+1;p!==void 0&&(L=Math.min(L,R)),_[h?1:0]=L}if(p!==void 0){var F=R+1;T!==void 0&&(F=Math.max(F,d)),_[h?0:1]=F}}}},r.cleanRange=function(b,T){r._cleanRange(b,T),r.limitRange(b)},r._cleanRange=function(b,T){T||(T={}),b||(b="range");var p=pa.nestedProperty(r,b).get(),_,g;if(r.type==="date"?g=pa.dfltRange(r.calendar):a==="y"?g=F3.DFLTRANGEY:r._name==="realaxis"?g=[0,1]:g=T.dfltRange||F3.DFLTRANGEX,g=g.slice(),(r.rangemode==="tozero"||r.rangemode==="nonnegative")&&(g[0]=0),!p||p.length!==2){pa.nestedProperty(r,b).set(g);return}var h=p[0]===null,S=p[1]===null;for(r.type==="date"&&!r.autorange&&(p[0]=pa.cleanDate(p[0],tf,r.calendar),p[1]=pa.cleanDate(p[1],tf,r.calendar)),_=0;_<2;_++)if(r.type==="date"){if(!pa.isDateTime(p[_],r.calendar)){r[b]=g;break}if(r.r2l(p[0])===r.r2l(p[1])){var d=pa.constrain(r.r2l(p[0]),pa.MIN_MS+1e3,pa.MAX_MS-1e3);p[0]=r.l2r(d-1e3),p[1]=r.l2r(d+1e3);break}}else{if(!$f(p[_]))if(!(h||S)&&$f(p[1-_]))p[_]=p[1-_]*(_?10:.1);else{r[b]=g;break}if(p[_]<-E3?p[_]=-E3:p[_]>E3&&(p[_]=E3),p[0]===p[1]){var R=Math.max(1,Math.abs(p[0]*1e-6));p[0]-=R,p[1]+=R}}},r.setScale=function(b){var T=t._size;if(r.overlaying){var p=k3.getFromId({_fullLayout:t},r.overlaying);r.domain=p.domain}var _=b&&r._r?"_r":"range",g=r.calendar;r.cleanRange(_);var h=r.r2l(r[_][0],g),S=r.r2l(r[_][1],g),d=a==="y";if(d?(r._offset=T.t+(1-r.domain[1])*T.h,r._length=T.h*(r.domain[1]-r.domain[0]),r._m=r._length/(h-S),r._b=-r._m*S):(r._offset=T.l+r.domain[0]*T.w,r._length=T.w*(r.domain[1]-r.domain[0]),r._m=r._length/(S-h),r._b=-r._m*h),r._rangebreaks=[],r._lBreaks=0,r._m2=0,r._B=[],r.rangebreaks){var R,L;if(r._rangebreaks=r.locateBreaks(Math.min(h,S),Math.max(h,S)),r._rangebreaks.length){for(R=0;R<r._rangebreaks.length;R++)L=r._rangebreaks[R],r._lBreaks+=Math.abs(L.max-L.min);var F=d;h>S&&(F=!F),F&&r._rangebreaks.reverse();var O=F?-1:1;for(r._m2=O*r._length/(Math.abs(S-h)-r._lBreaks),r._B.push(-r._m2*(d?S:h)),R=0;R<r._rangebreaks.length;R++)L=r._rangebreaks[R],r._B.push(r._B[r._B.length-1]-O*r._m2*(L.max-L.min));for(R=0;R<r._rangebreaks.length;R++)L=r._rangebreaks[R],L.pmin=A(L.min),L.pmax=A(L.max)}}if(!isFinite(r._m)||!isFinite(r._b)||r._length<0)throw t._replotting=!1,new Error("Something went wrong with axis scaling")},r.maskBreaks=function(b){var T=r.rangebreaks||[],p,_,g,h,S;T._cachedPatterns||(T._cachedPatterns=T.map(function(z){return z.enabled&&z.bounds?pa.simpleMap(z.bounds,z.pattern?v0:r.d2c):null})),T._cachedValues||(T._cachedValues=T.map(function(z){return z.enabled&&z.values?pa.simpleMap(z.values,r.d2c).sort(pa.sorterAsc):null}));for(var d=0;d<T.length;d++){var R=T[d];if(R.enabled){if(R.bounds){var L=R.pattern;switch(p=T._cachedPatterns[d],_=p[0],g=p[1],L){case R3:S=new Date(b),h=S.getUTCDay(),_>g&&(g+=7,h<_&&(h+=7));break;case L3:S=new Date(b);var F=S.getUTCHours(),O=S.getUTCMinutes(),P=S.getUTCSeconds(),I=S.getUTCMilliseconds();h=F+(O/60+P/3600+I/36e5),_>g&&(g+=24,h<_&&(h+=24));break;case"":h=b;break}if(h>=_&&h<g)return tf}else for(var k=T._cachedValues[d],D=0;D<k.length;D++)if(_=k[D],g=_+R.dvalue,b>=_&&b<g)return tf}}return b},r.locateBreaks=function(b,T){var p,_,g,h,S=[];if(!r.rangebreaks)return S;var d=r.rangebreaks.slice().sort(function(j,Q){return j.pattern===R3&&Q.pattern===L3?-1:Q.pattern===R3&&j.pattern===L3?1:0}),R=function(j,Q){if(j=pa.constrain(j,b,T),Q=pa.constrain(Q,b,T),j!==Q){for(var K=!0,G=0;G<S.length;G++){var B=S[G];j<B.max&&Q>=B.min&&(j<B.min&&(B.min=j),Q>B.max&&(B.max=Q),K=!1)}K&&S.push({min:j,max:Q})}};for(p=0;p<d.length;p++){var L=d[p];if(L.enabled)if(L.bounds){var F=b,O=T;L.pattern&&(F=Math.floor(F)),_=pa.simpleMap(L.bounds,L.pattern?v0:r.r2l),g=_[0],h=_[1];var P=new Date(F),I,k;switch(L.pattern){case R3:k=Tve,I=((h<g?7:0)+(h-g))*S3,F+=g*S3-(P.getUTCDay()*S3+P.getUTCHours()*C3+P.getUTCMinutes()*VD+P.getUTCSeconds()*YD+P.getUTCMilliseconds());break;case L3:k=S3,I=((h<g?24:0)+(h-g))*C3,F+=g*C3-(P.getUTCHours()*C3+P.getUTCMinutes()*VD+P.getUTCSeconds()*YD+P.getUTCMilliseconds());break;default:F=Math.min(_[0],_[1]),O=Math.max(_[0],_[1]),k=O-F,I=k}for(var D=F;D<O;D+=k)R(D,D+I)}else for(var z=pa.simpleMap(L.values,r.d2c),q=0;q<z.length;q++)g=z[q],h=g+L.dvalue,R(g,h)}return S.sort(function(j,Q){return j.min-Q.min}),S},r.makeCalcdata=function(b,T,p){var _,g,h,S,d=r.type,R=d==="date"&&b[T+"calendar"];if(T in b){if(_=b[T],S=b._length||pa.minRowLength(_),pa.isTypedArray(_)&&(d==="linear"||d==="log")){if(S===_.length)return _;if(_.subarray)return _.subarray(0,S)}if(d==="multicategory")return u(_,S);for(g=new Array(S),h=0;h<S;h++)g[h]=r.d2c(_[h],0,R,p)}else{var L=T+"0"in b?r.d2c(b[T+"0"],0,R):0,F=b["d"+T]?Number(b["d"+T]):1;for(_=b[{x:"y",y:"x"}[T]],S=b._length||_.length,g=new Array(S),h=0;h<S;h++)g[h]=L+h*F}if(r.rangebreaks)for(h=0;h<S;h++)g[h]=r.maskBreaks(g[h]);return g},r.isValidRange=function(b,T){return Array.isArray(b)&&b.length===2&&(T&&b[0]===null||$f(r.r2l(b[0])))&&(T&&b[1]===null||$f(r.r2l(b[1])))},r.getAutorangeDflt=function(b,T){var p=!r.isValidRange(b,"nullOk");return p&&T&&T.reverseDflt?p="reversed":b&&(b[0]===null&&b[1]===null?p=!0:b[0]===null&&b[1]!==null?p="min":b[0]!==null&&b[1]===null&&(p="max")),p},r.isReversed=function(){var b=r.autorange;return b==="reversed"||b==="min reversed"||b==="max reversed"},r.isPtWithinRange=function(b,T){var p=r.c2l(b[a],null,T),_=r.r2l(r.range[0]),g=r.r2l(r.range[1]);return _<g?_<=p&&p<=g:g<=p&&p<=_},r._emptyCategories=function(){r._categories=[],r._categoriesMap={}},r.clearCalc=function(){var b=r._matchGroup;if(b){var T=null,p=null;for(var _ in b){var g=t[k3.id2name(_)];if(g._categories){T=g._categories,p=g._categoriesMap;break}}T&&p?(r._categories=T,r._categoriesMap=p):r._emptyCategories()}else r._emptyCategories();if(r._initialCategories)for(var h=0;h<r._initialCategories.length;h++)s(r._initialCategories[h])},r.sortByInitialCategories=function(){var b=[];if(r._emptyCategories(),r._initialCategories)for(var T=0;T<r._initialCategories.length;T++)s(r._initialCategories[T]);b=b.concat(r._traceIndices);var p=r._matchGroup;for(var _ in p)if(n!==_){var g=t[k3.id2name(_)];g._categories=r._categories,g._categoriesMap=r._categoriesMap,b=b.concat(g._traceIndices)}return b};var E=t._d3locale;r.type==="date"&&(r._dateFormat=E?E.timeFormat:bve,r._extraFormat=t._extraFormat),r._separators=t.separators,r._numFormat=E?E.numberFormat:_ve,delete r._minDtick,delete r._forceTick0}});var bA=fe((GPe,$D)=>{"use strict";var XD=kn(),xA=tt(),Mve=ui().BADNUM,I3=xA.isArrayOrTypedArray,Eve=xA.isDateTime,Sve=xA.cleanNumber,jD=Math.round;$D.exports=function(r,t,n){var a=r,o=n.noMultiCategory;if(I3(a)&&!a.length)return"-";if(!o&&Fve(a))return"multicategory";if(o&&Array.isArray(a[0])){for(var i=[],l=0;l<a.length;l++)if(I3(a[l]))for(var f=0;f<a[l].length;f++)i.push(a[l][f]);a=i}if(Lve(a,t))return"date";var s=n.autotypenumbers!=="strict";return Rve(a,s)?"category":kve(a,s)?"linear":"-"};function Cve(e,r){return r?XD(e):typeof e=="number"}function kve(e,r){for(var t=e.length,n=0;n<t;n++)if(Cve(e[n],r))return!0;return!1}function Lve(e,r){for(var t=e.length,n=ZD(t),a=0,o=0,i={},l=0;l<t;l+=n){var f=jD(l),s=e[f],u=String(s);i[u]||(i[u]=1,Eve(s,r)&&a++,XD(s)&&o++)}return a>o*2}function ZD(e){return Math.max(1,(e-1)/1e3)}function Rve(e,r){for(var t=e.length,n=ZD(t),a=0,o=0,i={},l=0;l<t;l+=n){var f=jD(l),s=e[f],u=String(s);if(!i[u]){i[u]=1;var c=typeof s;c==="boolean"?o++:(r?Sve(s)!==Mve:c==="number")?a++:c==="string"&&o++}}return o>a*2}function Fve(e){return I3(e[0])&&I3(e[1])}});var av=fe((HPe,aI)=>{"use strict";var Dve=Ln(),eI=kn(),p0=tt(),P3=ui().FP_SAFE,Ive=Qt(),Pve=ta(),rI=ti(),Ove=rI.getFromId,Nve=rI.isLinked;aI.exports={applyAutorangeOptions:nI,getAutoRange:_A,makePadFn:wA,doAutoRange:zve,findExtremes:qve,concatExtremes:MA};function _A(e,r){var t,n,a=[],o=e._fullLayout,i=wA(o,r,0),l=wA(o,r,1),f=MA(e,r),s=f.min,u=f.max;if(s.length===0||u.length===0)return p0.simpleMap(r.range,r.r2l);var c=s[0].val,v=u[0].val;for(t=1;t<s.length&&c===v;t++)c=Math.min(c,s[t].val);for(t=1;t<u.length&&c===v;t++)v=Math.max(v,u[t].val);var x=r.autorange,m=x==="reversed"||x==="min reversed"||x==="max reversed";if(!m&&r.range){var w=p0.simpleMap(r.range,r.r2l);m=w[1]<w[0]}r.autorange==="reversed"&&(r.autorange=!0);var A=r.rangemode,y=A==="tozero",M=A==="nonnegative",E=r._length,b=E/10,T=0,p,_,g,h,S,d;for(t=0;t<s.length;t++)for(p=s[t],n=0;n<u.length;n++)_=u[n],d=_.val-p.val-JD(r,p.val,_.val),d>0&&(S=E-i(p)-l(_),S>b?d/S>T&&(g=p,h=_,T=d/S):d/E>T&&(g={val:p.val,nopad:1},h={val:_.val,nopad:1},T=d/E));function R(I,k){return Math.max(I,l(k))}if(c===v){var L=c-1,F=c+1;if(y)if(c===0)a=[0,1];else{var O=(c>0?u:s).reduce(R,0),P=c/(1-Math.min(.5,O/E));a=c>0?[0,P]:[P,0]}else M?a=[Math.max(0,L),Math.max(1,F)]:a=[L,F]}else y?(g.val>=0&&(g={val:0,nopad:1}),h.val<=0&&(h={val:0,nopad:1})):M&&(g.val-T*i(g)<0&&(g={val:0,nopad:1}),h.val<=0&&(h={val:1,nopad:1})),T=(h.val-g.val-JD(r,p.val,_.val))/(E-i(g)-l(h)),a=[g.val-T*i(g),h.val+T*l(h)];return a=nI(a,r),r.limitRange&&r.limitRange(),m&&a.reverse(),p0.simpleMap(a,r.l2r||Number)}function JD(e,r,t){var n=0;if(e.rangebreaks)for(var a=e.locateBreaks(r,t),o=0;o<a.length;o++){var i=a[o];n+=i.max-i.min}return n}function wA(e,r,t){var n=.05*r._length,a=r._anchorAxis||{};if((r.ticklabelposition||"").indexOf("inside")!==-1||(a.ticklabelposition||"").indexOf("inside")!==-1){var o=r.isReversed();if(!o){var i=p0.simpleMap(r.range,r.r2l);o=i[1]<i[0]}o&&(t=!t)}var l=0;return Nve(e,r._id)||(l=Bve(e,r,t)),n=Math.max(l,n),r.constrain==="domain"&&r._inputDomain&&(n*=(r._inputDomain[1]-r._inputDomain[0])/(r.domain[1]-r.domain[0])),function(s){return s.nopad?0:s.pad+(s.extrapad?n:l)}}var KD=3;function Bve(e,r,t){var n=0,a=r._id.charAt(0)==="x";for(var o in e._plots){var i=e._plots[o];if(!(r._id!==i.xaxis._id&&r._id!==i.yaxis._id)){var l=(a?i.yaxis:i.xaxis)||{};if((l.ticklabelposition||"").indexOf("inside")!==-1&&(!t&&(l.side==="left"||l.side==="bottom")||t&&(l.side==="top"||l.side==="right"))){if(l._vals){var f=p0.deg2rad(l._tickAngles[l._id+"tick"]||0),s=Math.abs(Math.cos(f)),u=Math.abs(Math.sin(f));if(!l._vals[0].bb){var c=l._id+"tick",v=l._selections[c];v.each(function(M){var E=Dve.select(this),b=E.select(".text-math-group");b.empty()&&(M.bb=Pve.bBox(E.node()))})}for(var x=0;x<l._vals.length;x++){var m=l._vals[x],w=m.bb;if(w){var A=2*KD+w.width,y=2*KD+w.height;n=Math.max(n,a?Math.max(A*s,y*u):Math.max(y*s,A*u))}}}l.ticks==="inside"&&l.ticklabelposition==="inside"&&(n+=l.ticklen||0)}}}return n}function MA(e,r,t){var n=r._id,a=e._fullData,o=e._fullLayout,i=[],l=[],f,s,u;function c(A,y){for(f=0;f<y.length;f++){var M=A[y[f]],E=(M._extremes||{})[n];if(M.visible===!0&&E){for(s=0;s<E.min.length;s++)u=E.min[s],AA(i,u.val,u.pad,{extrapad:u.extrapad});for(s=0;s<E.max.length;s++)u=E.max[s],TA(l,u.val,u.pad,{extrapad:u.extrapad})}}}if(c(a,r._traceIndices),c(o.annotations||[],r._annIndices||[]),c(o.shapes||[],r._shapeIndices||[]),r._matchGroup&&!t){for(var v in r._matchGroup)if(v!==r._id){var x=Ove(e,v),m=MA(e,x,!0),w=r._length/x._length;for(s=0;s<m.min.length;s++)u=m.min[s],AA(i,u.val,u.pad*w,{extrapad:u.extrapad});for(s=0;s<m.max.length;s++)u=m.max[s],TA(l,u.val,u.pad*w,{extrapad:u.extrapad})}}return{min:i,max:l}}function zve(e,r,t){if(r.setScale(),r.autorange){r.range=t?t.slice():_A(e,r),r._r=r.range.slice(),r._rl=p0.simpleMap(r._r,r.r2l);var n=r._input,a={};a[r._attr+".range"]=r.range,a[r._attr+".autorange"]=r.autorange,Ive.call("_storeDirectGUIEdit",e.layout,e._fullLayout._preGUI,a),n.range=r.range.slice(),n.autorange=r.autorange}var o=r._anchorAxis;if(o&&o.rangeslider){var i=o.rangeslider[r._name];i&&i.rangemode==="auto"&&(i.range=_A(e,r)),o._input.rangeslider[r._name]=p0.extendFlat({},i)}}function qve(e,r,t){t||(t={}),e._m||e.setScale();var n=[],a=[],o=r.length,i=t.padded||!1,l=t.tozero&&(e.type==="linear"||e.type==="-"),f=e.type==="log",s=!1,u=t.vpadLinearized||!1,c,v,x,m,w,A,y,M,E;function b(R){if(Array.isArray(R))return s=!0,function(F){return Math.max(Number(R[F]||0),0)};var L=Math.max(Number(R||0),0);return function(){return L}}var T=b((e._m>0?t.ppadplus:t.ppadminus)||t.ppad||0),p=b((e._m>0?t.ppadminus:t.ppadplus)||t.ppad||0),_=b(t.vpadplus||t.vpad),g=b(t.vpadminus||t.vpad);if(!s){if(M=1/0,E=-1/0,f)for(c=0;c<o;c++)v=r[c],v<M&&v>0&&(M=v),v>E&&v<P3&&(E=v);else for(c=0;c<o;c++)v=r[c],v<M&&v>-P3&&(M=v),v>E&&v<P3&&(E=v);r=[M,E],o=2}var h={tozero:l,extrapad:i};function S(R){x=r[R],eI(x)&&(A=T(R),y=p(R),u?(m=e.c2l(x)-g(R),w=e.c2l(x)+_(R)):(M=x-g(R),E=x+_(R),f&&M<E/10&&(M=E/10),m=e.c2l(M),w=e.c2l(E)),l&&(m=Math.min(0,m),w=Math.max(0,w)),QD(m)&&AA(n,m,y,h),QD(w)&&TA(a,w,A,h))}var d=Math.min(6,o);for(c=0;c<d;c++)S(c);for(c=o-1;c>=d;c--)S(c);return{min:n,max:a,opts:t}}function AA(e,r,t,n){tI(e,r,t,n,Uve)}function TA(e,r,t,n){tI(e,r,t,n,Gve)}function tI(e,r,t,n,a){for(var o=n.tozero,i=n.extrapad,l=!0,f=0;f<e.length&&l;f++){var s=e[f];if(a(s.val,r)&&s.pad>=t&&(s.extrapad||!i)){l=!1;break}else a(r,s.val)&&s.pad<=t&&(i||!s.extrapad)&&(e.splice(f,1),f--)}if(l){var u=o&&r===0;e.push({val:r,pad:u?0:t,extrapad:u?!1:i})}}function QD(e){return eI(e)&&Math.abs(e)<P3}function Uve(e,r){return e<=r}function Gve(e,r){return e>=r}function Hve(e,r){var t=r.autorangeoptions;return t&&t.minallowed!==void 0&&O3(r,t.minallowed,t.maxallowed)?t.minallowed:t&&t.clipmin!==void 0&&O3(r,t.clipmin,t.clipmax)?Math.max(e,r.d2l(t.clipmin)):e}function Vve(e,r){var t=r.autorangeoptions;return t&&t.maxallowed!==void 0&&O3(r,t.minallowed,t.maxallowed)?t.maxallowed:t&&t.clipmax!==void 0&&O3(r,t.clipmin,t.clipmax)?Math.min(e,r.d2l(t.clipmax)):e}function O3(e,r,t){return r!==void 0&&t!==void 0?(r=e.d2l(r),t=e.d2l(t),r<t):!0}function nI(e,r){if(!r||!r.autorangeoptions)return e;var t=e[0],n=e[1],a=r.autorangeoptions.include;if(a!==void 0){var o=r.d2l(t),i=r.d2l(n);p0.isArrayOrTypedArray(a)||(a=[a]);for(var l=0;l<a.length;l++){var f=r.d2l(a[l]);o>=f&&(o=f,t=f),i<=f&&(i=f,n=f)}}return t=Hve(t,r),n=Vve(n,r),[t,n]}});var Fa=fe((VPe,SI)=>{"use strict";var vs=Ln(),vi=kn(),i1=ci(),$g=Qt(),rn=tt(),o1=rn.strTranslate,iv=po(),Yve=Xg(),Jg=xn(),Vl=ta(),Wve=cs(),iI=H4(),eo=ui(),Xve=eo.ONEMAXYEAR,z3=eo.ONEAVGYEAR,q3=eo.ONEMINYEAR,jve=eo.ONEMAXQUARTER,kA=eo.ONEAVGQUARTER,U3=eo.ONEMINQUARTER,Zve=eo.ONEMAXMONTH,l1=eo.ONEAVGMONTH,G3=eo.ONEMINMONTH,Yl=eo.ONEWEEK,Fo=eo.ONEDAY,g0=Fo/2,Qf=eo.ONEHOUR,Kg=eo.ONEMIN,H3=eo.ONESEC,$ve=eo.ONEMILLI,Jve=eo.ONEMICROSEC,ov=eo.MINUS_SIGN,Y3=eo.BADNUM,LA={K:"zeroline"},RA={K:"gridline",L:"path"},FA={K:"minor-gridline",L:"path"},gI={K:"tick",L:"path"},oI={K:"tick",L:"text"},lI={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},W3=Ro(),Zg=W3.MID_SHIFT,lv=W3.CAP_SHIFT,Qg=W3.LINE_SPACING,Kve=W3.OPPOSITE_SIDE,V3=3,bt=SI.exports={};bt.setConvert=D3();var Qve=bA(),Ju=ti(),ede=Ju.idSort,rde=Ju.isLinked;bt.id2name=Ju.id2name;bt.name2id=Ju.name2id;bt.cleanId=Ju.cleanId;bt.list=Ju.list;bt.listIds=Ju.listIds;bt.getFromId=Ju.getFromId;bt.getFromTrace=Ju.getFromTrace;var yI=av();bt.getAutoRange=yI.getAutoRange;bt.findExtremes=yI.findExtremes;var tde=1e-4;function OA(e){var r=(e[1]-e[0])*tde;return[e[0]-r,e[1]+r]}bt.coerceRef=function(e,r,t,n,a,o){var i=n.charAt(n.length-1),l=t._fullLayout._subplots[i+"axis"],f=n+"ref",s={};return a||(a=l[0]||(typeof o=="string"?o:o[0])),o||(o=a),l=l.concat(l.map(function(u){return u+" domain"})),s[f]={valType:"enumerated",values:l.concat(o?typeof o=="string"?[o]:o:[]),dflt:a},rn.coerce(e,r,s,f)};bt.getRefType=function(e){return e===void 0?e:e==="paper"?"paper":e==="pixel"?"pixel":/( domain)$/.test(e)?"domain":"range"};bt.coercePosition=function(e,r,t,n,a,o){var i,l,f=bt.getRefType(n);if(f!=="range")i=rn.ensureNumber,l=t(a,o);else{var s=bt.getFromId(r,n);o=s.fraction2r(o),l=t(a,o),i=s.cleanPos}e[a]=i(l)};bt.cleanPosition=function(e,r,t){var n=t==="paper"||t==="pixel"?rn.ensureNumber:bt.getFromId(r,t).cleanPos;return n(e)};bt.redrawComponents=function(e,r){r=r||bt.listIds(e);var t=e._fullLayout;function n(a,o,i,l){for(var f=$g.getComponentMethod(a,o),s={},u=0;u<r.length;u++)for(var c=t[bt.id2name(r[u])],v=c[i],x=0;x<v.length;x++){var m=v[x];if(!s[m]&&(f(e,m),s[m]=1,l))return}}n("annotations","drawOne","_annIndices"),n("shapes","drawOne","_shapeIndices"),n("images","draw","_imgIndices",!0),n("selections","drawOne","_selectionIndices")};var nde=bt.getDataConversions=function(e,r,t,n){var a,o=t==="x"||t==="y"||t==="z"?t:n;if(rn.isArrayOrTypedArray(o)){if(a={type:Qve(n,void 0,{autotypenumbers:e._fullLayout.autotypenumbers}),_categories:[]},bt.setConvert(a),a.type==="category")for(var i=0;i<n.length;i++)a.d2c(n[i])}else a=bt.getFromTrace(e,r,o);return a?{d2c:a.d2c,c2d:a.c2d}:o==="ids"?{d2c:fI,c2d:fI}:{d2c:sI,c2d:sI}};function sI(e){return+e}function fI(e){return String(e)}bt.getDataToCoordFunc=function(e,r,t,n){return nde(e,r,t,n).d2c};bt.counterLetter=function(e){var r=e.charAt(0);if(r==="x")return"y";if(r==="y")return"x"};bt.minDtick=function(e,r,t,n){["log","category","multicategory"].indexOf(e.type)!==-1||!n?e._minDtick=0:e._minDtick===void 0?(e._minDtick=r,e._forceTick0=t):e._minDtick&&((e._minDtick/r+1e-6)%1<2e-6&&((t-e._forceTick0)/r%1+1.000001)%1<2e-6?(e._minDtick=r,e._forceTick0=t):((r/e._minDtick+1e-6)%1>2e-6||((t-e._forceTick0)/e._minDtick%1+1.000001)%1>2e-6)&&(e._minDtick=0))};bt.saveRangeInitial=function(e,r){for(var t=bt.list(e,"",!0),n=!1,a=0;a<t.length;a++){var o=t[a],i=o._rangeInitial0===void 0&&o._rangeInitial1===void 0,l=i||o.range[0]!==o._rangeInitial0||o.range[1]!==o._rangeInitial1,f=o.autorange;(i&&f!==!0||r&&l)&&(o._rangeInitial0=f==="min"||f==="max reversed"?void 0:o.range[0],o._rangeInitial1=f==="max"||f==="min reversed"?void 0:o.range[1],o._autorangeInitial=f,n=!0)}return n};bt.saveShowSpikeInitial=function(e,r){for(var t=bt.list(e,"",!0),n=!1,a="on",o=0;o<t.length;o++){var i=t[o],l=i._showSpikeInitial===void 0,f=l||i.showspikes!==i._showspikes;(l||r&&f)&&(i._showSpikeInitial=i.showspikes,n=!0),a==="on"&&!i.showspikes&&(a="off")}return e._fullLayout._cartesianSpikesEnabled=a,n};bt.autoBin=function(e,r,t,n,a,o){var i=rn.aggNums(Math.min,null,e),l=rn.aggNums(Math.max,null,e);if(r.type==="category"||r.type==="multicategory")return{start:i-.5,end:l+.5,size:Math.max(1,Math.round(o)||1),_dataSpan:l-i};a||(a=r.calendar);var f;if(r.type==="log"?f={type:"linear",range:[i,l]}:f={type:r.type,range:rn.simpleMap([i,l],r.c2r,0,a),calendar:a},bt.setConvert(f),o=o&&iI.dtick(o,f.type),o)f.dtick=o,f.tick0=iI.tick0(void 0,f.type,a);else{var s;if(t)s=(l-i)/t;else{var u=rn.distinctVals(e),c=Math.pow(10,Math.floor(Math.log(u.minDiff)/Math.LN10)),v=c*rn.roundUp(u.minDiff/c,[.9,1.9,4.9,9.9],!0);s=Math.max(v,2*rn.stdev(e)/Math.pow(e.length,n?.25:.4)),vi(s)||(s=1)}bt.autoTicks(f,s)}var x=f.dtick,m=bt.tickIncrement(bt.tickFirst(f),x,"reverse",a),w,A;if(typeof x=="number")m=ade(m,e,f,i,l),A=1+Math.floor((l-m)/x),w=m+A*x;else for(f.dtick.charAt(0)==="M"&&(m=ide(m,e,x,i,a)),w=m,A=0;w<=l;)w=bt.tickIncrement(w,x,!1,a),A++;return{start:r.c2r(m,0,a),end:r.c2r(w,0,a),size:x,_dataSpan:l-i}};function ade(e,r,t,n,a){var o=0,i=0,l=0,f=0;function s(x){return(1+(x-e)*100/t.dtick)%100<2}for(var u=0;u<r.length;u++)r[u]%1===0?l++:vi(r[u])||f++,s(r[u])&&o++,s(r[u]+t.dtick/2)&&i++;var c=r.length-f;if(l===c&&t.type!=="date")t.dtick<1?e=n-.5*t.dtick:(e-=.5,e+t.dtick<n&&(e+=t.dtick));else if(i<c*.1&&(o>c*.3||s(n)||s(a))){var v=t.dtick/2;e+=e+v<n?v:-v}return e}function ide(e,r,t,n,a){var o=rn.findExactDates(r,a),i=.8;if(o.exactDays>i){var l=Number(t.substr(1));o.exactYears>i&&l%12===0?e=bt.tickIncrement(e,"M6","reverse")+Fo*1.5:o.exactMonths>i?e=bt.tickIncrement(e,"M1","reverse")+Fo*15.5:e-=g0;var f=bt.tickIncrement(e,t);if(f<=n)return f}return e}bt.prepMinorTicks=function(e,r,t){if(!r.minor.dtick){delete e.dtick;var n=r.dtick&&vi(r._tmin),a;if(n){var o=bt.tickIncrement(r._tmin,r.dtick,!0);a=[r._tmin,o*.99+r._tmin*.01]}else{var i=rn.simpleMap(r.range,r.r2l);a=[i[0],.8*i[0]+.2*i[1]]}if(e.range=rn.simpleMap(a,r.l2r),e._isMinor=!0,bt.prepTicks(e,t),n){var l=vi(r.dtick),f=vi(e.dtick),s=l?r.dtick:+r.dtick.substring(1),u=f?e.dtick:+e.dtick.substring(1);l&&f?EA(s,u)?s===2*Yl&&u===2*Fo&&(e.dtick=Yl):s===2*Yl&&u===3*Fo?e.dtick=Yl:s===Yl&&!(r._input.minor||{}).nticks?e.dtick=Fo:uI(s/u,2.5)?e.dtick=s/2:e.dtick=s:String(r.dtick).charAt(0)==="M"?f?e.dtick="M1":EA(s,u)?s>=12&&u===2&&(e.dtick="M3"):e.dtick=r.dtick:String(e.dtick).charAt(0)==="L"?String(r.dtick).charAt(0)==="L"?EA(s,u)||(e.dtick=uI(s/u,2.5)?r.dtick/2:r.dtick):e.dtick="D1":e.dtick==="D2"&&+r.dtick>1&&(e.dtick=1)}e.range=r.range}r.minor._tick0Init===void 0&&(e.tick0=r.tick0)};function EA(e,r){return Math.abs((e/r+.5)%1-.5)<.001}function uI(e,r){return Math.abs(e/r-1)<.001}bt.prepTicks=function(e,r){var t=rn.simpleMap(e.range,e.r2l,void 0,void 0,r);if(e.tickmode==="auto"||!e.dtick){var n=e.nticks,a;n||(e.type==="category"||e.type==="multicategory"?(a=e.tickfont?rn.bigFont(e.tickfont.size||12):15,n=e._length/a):(a=e._id.charAt(0)==="y"?40:80,n=rn.constrain(e._length/a,4,9)+1),e._name==="radialaxis"&&(n*=2)),e.minor&&e.minor.tickmode!=="array"||e.tickmode==="array"&&(n*=100),e._roughDTick=Math.abs(t[1]-t[0])/n,bt.autoTicks(e,e._roughDTick),e._minDtick>0&&e.dtick<e._minDtick*2&&(e.dtick=e._minDtick,e.tick0=e.l2r(e._forceTick0))}e.ticklabelmode==="period"&&ode(e),e.tick0||(e.tick0=e.type==="date"?"2000-01-01":0),e.type==="date"&&e.dtick<.1&&(e.dtick=.1),_I(e)};function SA(e){return+e.substring(1)}function ode(e){var r;function t(){return!(vi(e.dtick)||e.dtick.charAt(0)!=="M")}var n=t(),a=bt.getTickFormat(e);if(a){var o=e._dtickInit!==e.dtick;/%[fLQsSMX]/.test(a)||(/%[HI]/.test(a)?(r=Qf,o&&!n&&e.dtick<Qf&&(e.dtick=Qf)):/%p/.test(a)?(r=g0,o&&!n&&e.dtick<g0&&(e.dtick=g0)):/%[Aadejuwx]/.test(a)?(r=Fo,o&&!n&&e.dtick<Fo&&(e.dtick=Fo)):/%[UVW]/.test(a)?(r=Yl,o&&!n&&e.dtick<Yl&&(e.dtick=Yl)):/%[Bbm]/.test(a)?(r=l1,o&&(n?SA(e.dtick)<1:e.dtick<G3)&&(e.dtick="M1")):/%[q]/.test(a)?(r=kA,o&&(n?SA(e.dtick)<3:e.dtick<U3)&&(e.dtick="M3")):/%[Yy]/.test(a)&&(r=z3,o&&(n?SA(e.dtick)<12:e.dtick<q3)&&(e.dtick="M12")))}n=t(),n&&e.tick0===e._dowTick0&&(e.tick0=e._rawTick0),e._definedDelta=r}function lde(e,r,t){for(var n=0;n<e.length;n++){var a=e[n].value,o=n,i=n+1;n<e.length-1?(o=n,i=n+1):n>0?(o=n-1,i=n):(o=n,i=n);var l=e[o].value,f=e[i].value,s=Math.abs(f-l),u=t||s,c=0;u>=q3?s>=q3&&s<=Xve?c=s:c=z3:t===kA&&u>=U3?s>=U3&&s<=jve?c=s:c=kA:u>=G3?s>=G3&&s<=Zve?c=s:c=l1:t===Yl&&u>=Yl?c=Yl:u>=Fo?c=Fo:t===g0&&u>=g0?c=g0:t===Qf&&u>=Qf&&(c=Qf);var v;c>=s&&(c=s,v=!0);var x=a+c;if(r.rangebreaks&&c>0){for(var m=84,w=0,A=0;A<m;A++){var y=(A+.5)/m;r.maskBreaks(a*(1-y)+y*x)!==Y3&&w++}c*=w/m,c||(e[n].drop=!0),v&&s>Yl&&(c=s)}(c>0||n===0)&&(e[n].periodX=a+c/2)}}bt.calcTicks=function(r,t){for(var n=r.type,a=r.calendar,o=r.ticklabelstep,i=r.ticklabelmode==="period",l=r.range[0]>r.range[1],f=!r.ticklabelindex||rn.isArrayOrTypedArray(r.ticklabelindex)?r.ticklabelindex:[r.ticklabelindex],s=rn.simpleMap(r.range,r.r2l,void 0,void 0,t),u=s[1]<s[0],c=Math.min(s[0],s[1]),v=Math.max(s[0],s[1]),x=Math.max(1e3,r._length||0),m=[],w=[],A=[],y=[],M=[],E=r.minor&&(r.minor.ticks||r.minor.showgrid),b=1;b>=(E?0:1);b--){var T=!b;b?(r._dtickInit=r.dtick,r._tick0Init=r.tick0):(r.minor._dtickInit=r.minor.dtick,r.minor._tick0Init=r.minor.tick0);var p=b?r:rn.extendFlat({},r,r.minor);if(T?bt.prepMinorTicks(p,r,t):bt.prepTicks(p,t),p.tickmode==="array"){b?(A=[],m=cI(r,!T)):(y=[],w=cI(r,!T));continue}if(p.tickmode==="sync"){A=[],m=sde(r);continue}var _=OA(s),g=_[0],h=_[1],S=vi(p.dtick),d=n==="log"&&!(S||p.dtick.charAt(0)==="L"),R=bt.tickFirst(p,t);if(b){if(r._tmin=R,R<g!==u)break;(n==="category"||n==="multicategory")&&(h=u?Math.max(-.5,h):Math.min(r._categories.length-.5,h))}var L=null,F=R,O;if(b){var P;S?P=r.dtick:n==="date"?typeof r.dtick=="string"&&r.dtick.charAt(0)==="M"&&(P=l1*r.dtick.substring(1)):P=r._roughDTick,O=Math.round((r.r2l(F)-r.r2l(r.tick0))/P)-1}var I=p.dtick;for(p.rangebreaks&&p._tick0Init!==p.tick0&&(F=CA(F,r),u||(F=bt.tickIncrement(F,I,!u,a))),b&&i&&(F=bt.tickIncrement(F,I,!u,a),O--);u?F>=h:F<=h;F=bt.tickIncrement(F,I,u,a)){if(b&&O++,p.rangebreaks&&!u){if(F<g)continue;if(p.maskBreaks(F)===Y3&&CA(F,p)>=v)break}if(A.length>x||F===L)break;L=F;var k={value:F};b?(d&&F!==(F|0)&&(k.simpleLabel=!0),o>1&&O%o&&(k.skipLabel=!0),A.push(k)):(k.minor=!0,y.push(k))}}if(!y||y.length<2)f=!1;else{var D=(y[1].value-y[0].value)*(l?-1:1);Dde(D,r.tickformat)||(f=!1)}if(!f)M=A;else{var z=A.concat(y);i&&A.length&&(z=z.slice(1)),z=z.sort(function(Ie,Be){return Ie.value-Be.value}).filter(function(Ie,Be,je){return Be===0||Ie.value!==je[Be-1].value});var q=z.map(function(Ie,Be){return Ie.minor===void 0&&!Ie.skipLabel?Be:null}).filter(function(Ie){return Ie!==null});q.forEach(function(Ie){f.map(function(Be){var je=Ie+Be;je>=0&&je<z.length&&rn.pushUnique(M,z[je])})})}if(E){var j=r.minor.ticks==="inside"&&r.ticks==="outside"||r.minor.ticks==="outside"&&r.ticks==="inside";if(!j){for(var Q=A.map(function(Ie){return Ie.value}),K=[],G=0;G<y.length;G++){var B=y[G],Z=B.value;if(Q.indexOf(Z)===-1){for(var ie=!1,J=0;!ie&&J<A.length;J++)1e7+A[J].value===1e7+Z&&(ie=!0);ie||K.push(B)}}y=K}}i&&lde(M,r,r._definedDelta);var le;if(r.rangebreaks){var te=r._id.charAt(0)==="y",V=1;r.tickmode==="auto"&&(V=r.tickfont?r.tickfont.size:12);var ne=NaN;for(le=A.length-1;le>-1;le--){if(A[le].drop){A.splice(le,1);continue}A[le].value=CA(A[le].value,r);var Y=r.c2p(A[le].value);(te?ne>Y-V:ne<Y+V)?A.splice(u?le+1:le,1):ne=Y}}qA(r)&&Math.abs(s[1]-s[0])===360&&A.pop(),r._tmax=(A[A.length-1]||{}).value,r._prevDateHead="",r._inCalcTicks=!0;var oe,pe=function(Ie){Ie.text="",r._prevDateHead=oe};A=A.concat(y);function we(Ie,Be){var je=bt.tickText(Ie,Be.value,!1,Be.simpleLabel),Ne=Be.periodX;return Ne!==void 0&&(je.periodX=Ne,(Ne>v||Ne<c)&&(Ne>v&&(je.periodX=v),Ne<c&&(je.periodX=c),pe(je))),je}var De;for(le=0;le<A.length;le++){var Re=A[le].minor,Ae=A[le].value;Re?(f&&M.indexOf(A[le])!==-1?De=we(r,A[le]):De={x:Ae},De.minor=!0,w.push(De)):(oe=r._prevDateHead,De=we(r,A[le]),(A[le].skipLabel||f&&M.indexOf(A[le])===-1)&&pe(De),m.push(De))}return m=m.concat(w),r._inCalcTicks=!1,i&&m.length&&(m[0].noTick=!0),m};function mI(e,r){return e.rangebreaks&&(r=r.filter(function(t){return e.maskBreaks(t.x)!==Y3})),r}function sde(e){var r=e._mainAxis,t=[];if(r._vals){for(var n=0;n<r._vals.length;n++)if(!r._vals[n].noTick){var a=r.l2p(r._vals[n].x),o=e.p2l(a),i=bt.tickText(e,o);r._vals[n].minor&&(i.minor=!0,i.text=""),t.push(i)}}return t=mI(e,t),t}function cI(e,r){var t=rn.simpleMap(e.range,e.r2l),n=OA(t),a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]),i=e.type==="category"?e.d2l_noadd:e.d2l;e.type==="log"&&String(e.dtick).charAt(0)!=="L"&&(e.dtick="L"+Math.pow(10,Math.floor(Math.min(e.range[0],e.range[1]))-1));for(var l=[],f=0;f<=1;f++)if(!(r!==void 0&&(r&&f||r===!1&&!f))&&!(f&&!e.minor)){var s=f?e.minor.tickvals:e.tickvals,u=f?[]:e.ticktext;if(s){rn.isArrayOrTypedArray(u)||(u=[]);for(var c=0;c<s.length;c++){var v=i(s[c]);if(v>a&&v<o){var x=bt.tickText(e,v,!1,String(u[c]));f&&(x.minor=!0,x.text=""),l.push(x)}}}}return l=mI(e,l),l}var N3=[2,5,10],hI=[1,2,3,6,12],vI=[1,2,5,10,15,30],fde=[1,2,3,7,14],xI=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],bI=[-.301,0,.301,.699,1],ude=[15,30,45,90,180];function Kf(e,r,t){return r*rn.roundUp(e/r,t)}bt.autoTicks=function(e,r,t){var n;function a(c){return Math.pow(c,Math.floor(Math.log(r)/Math.LN10))}if(e.type==="date"){e.tick0=rn.dateTick0(e.calendar,0);var o=2*r;if(o>z3)r/=z3,n=a(10),e.dtick="M"+12*Kf(r,n,N3);else if(o>l1)r/=l1,e.dtick="M"+Kf(r,1,hI);else if(o>Fo){if(e.dtick=Kf(r,Fo,e._hasDayOfWeekBreaks?[1,2,7,14]:fde),!t){var i=bt.getTickFormat(e),l=e.ticklabelmode==="period";l&&(e._rawTick0=e.tick0),/%[uVW]/.test(i)?e.tick0=rn.dateTick0(e.calendar,2):e.tick0=rn.dateTick0(e.calendar,1),l&&(e._dowTick0=e.tick0)}}else o>Qf?e.dtick=Kf(r,Qf,hI):o>Kg?e.dtick=Kf(r,Kg,vI):o>H3?e.dtick=Kf(r,H3,vI):(n=a(10),e.dtick=Kf(r,n,N3))}else if(e.type==="log"){e.tick0=0;var f=rn.simpleMap(e.range,e.r2l);if(e._isMinor&&(r*=1.5),r>.7)e.dtick=Math.ceil(r);else if(Math.abs(f[1]-f[0])<1){var s=1.5*Math.abs((f[1]-f[0])/r);r=Math.abs(Math.pow(10,f[1])-Math.pow(10,f[0]))/s,n=a(10),e.dtick="L"+Kf(r,n,N3)}else e.dtick=r>.3?"D2":"D1"}else e.type==="category"||e.type==="multicategory"?(e.tick0=0,e.dtick=Math.ceil(Math.max(r,1))):qA(e)?(e.tick0=0,n=1,e.dtick=Kf(r,n,ude)):(e.tick0=0,n=a(10),e.dtick=Kf(r,n,N3));if(e.dtick===0&&(e.dtick=1),!vi(e.dtick)&&typeof e.dtick!="string"){var u=e.dtick;throw e.dtick=1,"ax.dtick error: "+String(u)}};function _I(e){var r=e.dtick;if(e._tickexponent=0,!vi(r)&&typeof r!="string"&&(r=1),(e.type==="category"||e.type==="multicategory")&&(e._tickround=null),e.type==="date"){var t=e.r2l(e.tick0),n=e.l2r(t).replace(/(^-|i)/g,""),a=n.length;if(String(r).charAt(0)==="M")a>10||n.substr(5)!=="01-01"?e._tickround="d":e._tickround=+r.substr(1)%12===0?"y":"m";else if(r>=Fo&&a<=10||r>=Fo*15)e._tickround="d";else if(r>=Kg&&a<=16||r>=Qf)e._tickround="M";else if(r>=H3&&a<=19||r>=Kg)e._tickround="S";else{var o=e.l2r(t+r).replace(/^-/,"").length;e._tickround=Math.max(a,o)-20,e._tickround<0&&(e._tickround=4)}}else if(vi(r)||r.charAt(0)==="L"){var i=e.range.map(e.r2d||Number);vi(r)||(r=Number(r.substr(1))),e._tickround=2-Math.floor(Math.log(r)/Math.LN10+.01);var l=Math.max(Math.abs(i[0]),Math.abs(i[1])),f=Math.floor(Math.log(l)/Math.LN10+.01),s=e.minexponent===void 0?3:e.minexponent;Math.abs(f)>s&&(s1(e.exponentformat)&&e.exponentformat!=="SI extended"&&!NA(f)||s1(e.exponentformat)&&e.exponentformat==="SI extended"&&!BA(f)?e._tickexponent=3*Math.round((f-1)/3):e._tickexponent=f)}else e._tickround=null}bt.tickIncrement=function(e,r,t,n){var a=t?-1:1;if(vi(r))return rn.increment(e,a*r);var o=r.charAt(0),i=a*Number(r.substr(1));if(o==="M")return rn.incrementMonth(e,i,n);if(o==="L")return Math.log(Math.pow(10,e)+i)/Math.LN10;if(o==="D"){var l=r==="D2"?bI:xI,f=e+a*.01,s=rn.roundUp(rn.mod(f,1),l,t);return Math.floor(f)+Math.log(vs.round(Math.pow(10,s),1))/Math.LN10}throw"unrecognized dtick "+String(r)};bt.tickFirst=function(e,r){var t=e.r2l||Number,n=rn.simpleMap(e.range,t,void 0,void 0,r),a=n[1]<n[0],o=a?Math.floor:Math.ceil,i=OA(n)[0],l=e.dtick,f=t(e.tick0);if(vi(l)){var s=o((i-f)/l)*l+f;return(e.type==="category"||e.type==="multicategory")&&(s=rn.constrain(s,0,e._categories.length-1)),s}var u=l.charAt(0),c=Number(l.substr(1));if(u==="M"){for(var v=0,x=f,m,w,A;v<10;){if(m=bt.tickIncrement(x,l,a,e.calendar),(m-i)*(x-i)<=0)return a?Math.min(x,m):Math.max(x,m);w=(i-(x+m)/2)/(m-x),A=u+(Math.abs(Math.round(w))||1)*c,x=bt.tickIncrement(x,A,w<0?!a:a,e.calendar),v++}return rn.error("tickFirst did not converge",e),x}else{if(u==="L")return Math.log(o((Math.pow(10,i)-f)/c)*c+f)/Math.LN10;if(u==="D"){var y=l==="D2"?bI:xI,M=rn.roundUp(rn.mod(i,1),y,a);return Math.floor(i)+Math.log(vs.round(Math.pow(10,M),1))/Math.LN10}else throw"unrecognized dtick "+String(l)}};bt.tickText=function(e,r,t,n){var a=wI(e,r),o=e.tickmode==="array",i=t||o,l=e.type,f=l==="category"?e.d2l_noadd:e.d2l,s,u=function(A){var y=e.l2p(A);return y>=0&&y<=e._length?A:null};if(o&&rn.isArrayOrTypedArray(e.ticktext)){var c=rn.simpleMap(e.range,e.r2l),v=(Math.abs(c[1]-c[0])-(e._lBreaks||0))/1e4;for(s=0;s<e.ticktext.length&&!(Math.abs(r-f(e.tickvals[s]))<v);s++);if(s<e.ticktext.length)return a.text=String(e.ticktext[s]),a.xbnd=[u(a.x-.5),u(a.x+e.dtick-.5)],a}function x(A){if(A===void 0)return!0;if(t)return A==="none";var y={first:e._tmin,last:e._tmax}[A];return A!=="all"&&r!==y}var m=t?"never":e.exponentformat!=="none"&&x(e.showexponent)?"hide":"";if(l==="date"?cde(e,a,t,i):l==="log"?hde(e,a,t,i,m):l==="category"?vde(e,a):l==="multicategory"?dde(e,a,t):qA(e)?gde(e,a,t,i,m):pde(e,a,t,i,m),n||(e.tickprefix&&!x(e.showtickprefix)&&(a.text=e.tickprefix+a.text),e.ticksuffix&&!x(e.showticksuffix)&&(a.text+=e.ticksuffix)),e.labelalias&&e.labelalias.hasOwnProperty(a.text)){var w=e.labelalias[a.text];typeof w=="string"&&(a.text=w)}return(e.tickson==="boundaries"||e.showdividers)&&(a.xbnd=[u(a.x-.5),u(a.x+e.dtick-.5)]),a};bt.hoverLabelText=function(e,r,t){t&&(e=rn.extendFlat({},e,{hoverformat:t}));var n=rn.isArrayOrTypedArray(r)?r[0]:r,a=rn.isArrayOrTypedArray(r)?r[1]:void 0;if(a!==void 0&&a!==n)return bt.hoverLabelText(e,n,t)+" - "+bt.hoverLabelText(e,a,t);var o=e.type==="log"&&n<=0,i=bt.tickText(e,e.c2l(o?-n:n),"hover").text;return o?n===0?"0":ov+i:i};function wI(e,r,t){var n=e.tickfont||{};return{x:r,dx:0,dy:0,text:t||"",fontSize:n.size,font:n.family,fontWeight:n.weight,fontStyle:n.style,fontVariant:n.variant,fontTextcase:n.textcase,fontLineposition:n.lineposition,fontShadow:n.shadow,fontColor:n.color}}function cde(e,r,t,n){var a=e._tickround,o=t&&e.hoverformat||bt.getTickFormat(e);n=!o&&n,n&&(vi(a)?a=4:a={y:"m",m:"d",d:"M",M:"S",S:4}[a]);var i=rn.formatDate(r.x,o,a,e._dateFormat,e.calendar,e._extraFormat),l,f=i.indexOf(`
`);if(f!==-1&&(l=i.substr(f+1),i=i.substr(0,f)),n&&(l!==void 0&&(i==="00:00:00"||i==="00:00")?(i=l,l=""):i.length===8&&(i=i.replace(/:00$/,""))),l)if(t)a==="d"?i+=", "+l:i=l+(i?", "+i:"");else if(!e._inCalcTicks||e._prevDateHead!==l)e._prevDateHead=l,i+="<br>"+l;else{var s=ry(e),u=e._trueSide||e.side;(!s&&u==="top"||s&&u==="bottom")&&(i+="<br> ")}r.text=i}function hde(e,r,t,n,a){var o=e.dtick,i=r.x,l=e.tickformat,f=typeof o=="string"&&o.charAt(0);if(a==="never"&&(a=""),n&&f!=="L"&&(o="L3",f="L"),l||f==="L")r.text=ey(Math.pow(10,i),e,a,n);else if(vi(o)||f==="D"&&(e.minorloglabels==="complete"||rn.mod(i+.01,1)<.1)){var s;e.minorloglabels==="complete"&&!(rn.mod(i+.01,1)<.1)&&(s=!0,r.fontSize*=.75);var u=Math.pow(10,i).toExponential(0),c=u.split("e"),v=+c[1],x=Math.abs(v),m=e.exponentformat;m==="power"||s1(m)&&m!=="SI extended"&&NA(v)||s1(m)&&m==="SI extended"&&BA(v)?(r.text=c[0],x>0&&(r.text+="x10"),r.text==="1x10"&&(r.text="10"),v!==0&&v!==1&&(r.text+="<sup>"+(v>0?"":ov)+x+"</sup>"),r.fontSize*=1.25):(m==="e"||m==="E")&&x>2?r.text=c[0]+m+(v>0?"+":ov)+x:(r.text=ey(Math.pow(10,i),e,"","fakehover"),o==="D1"&&e._id.charAt(0)==="y"&&(r.dy-=r.fontSize/6))}else if(f==="D")r.text=e.minorloglabels==="none"?"":String(Math.round(Math.pow(10,rn.mod(i,1)))),r.fontSize*=.75;else throw"unrecognized dtick "+String(o);if(e.dtick==="D1"){var w=String(r.text).charAt(0);(w==="0"||w==="1")&&(e._id.charAt(0)==="y"?r.dx-=r.fontSize/4:(r.dy+=r.fontSize/2,r.dx+=(e.range[1]>e.range[0]?1:-1)*r.fontSize*(i<0?.5:.25)))}}function vde(e,r){var t=e._categories[Math.round(r.x)];t===void 0&&(t=""),r.text=String(t)}function dde(e,r,t){var n=Math.round(r.x),a=e._categories[n]||[],o=a[1]===void 0?"":String(a[1]),i=a[0]===void 0?"":String(a[0]);t?r.text=i+" - "+o:(r.text=o,r.text2=i)}function pde(e,r,t,n,a){a==="never"?a="":e.showexponent==="all"&&Math.abs(r.x/e.dtick)<1e-6&&(a="hide"),r.text=ey(r.x,e,a,n)}function gde(e,r,t,n,a){if(e.thetaunit==="radians"&&!t){var o=r.x/180;if(o===0)r.text="0";else{var i=yde(o);if(i[1]>=100)r.text=ey(rn.deg2rad(r.x),e,a,n);else{var l=r.x<0;i[1]===1?i[0]===1?r.text="\u03C0":r.text=i[0]+"\u03C0":r.text=["<sup>",i[0],"</sup>","\u2044","<sub>",i[1],"</sub>","\u03C0"].join(""),l&&(r.text=ov+r.text)}}}else r.text=ey(r.x,e,a,n)}function yde(e){function r(l,f){return Math.abs(l-f)<=1e-6}function t(l,f){return r(f,0)?l:t(f,l%f)}function n(l){for(var f=1;!r(Math.round(l*f)/f,l);)f*=10;return f}var a=n(e),o=e*a,i=Math.abs(t(o,a));return[Math.round(o/i),Math.round(a/i)]}var AI=["f","p","n","\u03BC","m","","k","M","G","T"],mde=["q","r","y","z","a",...AI,"P","E","Z","Y","R","Q"],s1=e=>["SI","SI extended","B"].includes(e);function NA(e){return e>14||e<-15}function BA(e){return e>32||e<-30}function xde(e,r){return s1(r)?!!(r==="SI extended"&&BA(e)||r!=="SI extended"&&NA(e)):!1}function ey(e,r,t,n){var a=e<0,o=r._tickround,i=t||r.exponentformat||"B",l=r._tickexponent,f=bt.getTickFormat(r),s=r.separatethousands;if(n){var u={exponentformat:i,minexponent:r.minexponent,dtick:r.showexponent==="none"?r.dtick:vi(e)&&Math.abs(e)||1,range:r.showexponent==="none"?r.range.map(r.r2d):[0,e||1]};_I(u),o=(Number(u._tickround)||0)+4,l=u._tickexponent,r.hoverformat&&(f=r.hoverformat)}if(f)return r._numFormat(f)(e).replace(/-/g,ov);var c=Math.pow(10,-o)/2;if(i==="none"&&(l=0),e=Math.abs(e),e<c)e="0",a=!1;else{if(e+=c,l&&(e*=Math.pow(10,-l),o+=l),o===0)e=String(Math.floor(e));else if(o<0){e=String(Math.round(e)),e=e.substr(0,e.length+o);for(var v=o;v<0;v++)e+="0"}else{e=String(e);var x=e.indexOf(".")+1;x&&(e=e.substr(0,x+o).replace(/\.?0+$/,""))}e=rn.numSeparate(e,r._separators,s)}if(l&&i!=="hide"){xde(l,i)&&(i="power");var m;l<0?m=ov+-l:i!=="power"?m="+"+l:m=String(l),i==="e"||i==="E"?e+=i+m:i==="power"?e+="\xD710<sup>"+m+"</sup>":i==="B"&&l===9?e+="B":s1(i)&&(e+=i==="SI extended"?mde[l/3+10]:AI[l/3+5])}return a?ov+e:e}bt.getTickFormat=function(e){var r;function t(f){return typeof f!="string"?f:Number(f.replace("M",""))*l1}function n(f,s){var u=["L","D"];if(typeof f==typeof s){if(typeof f=="number")return f-s;var c=u.indexOf(f.charAt(0)),v=u.indexOf(s.charAt(0));return c===v?Number(f.replace(/(L|D)/g,""))-Number(s.replace(/(L|D)/g,"")):c-v}else return typeof f=="number"?1:-1}function a(f,s,u){var c=u||function(m){return m},v=s[0],x=s[1];return(!v&&typeof v!="number"||c(v)<=c(f))&&(!x&&typeof x!="number"||c(x)>=c(f))}function o(f,s){var u=s[0]===null,c=s[1]===null,v=n(f,s[0])>=0,x=n(f,s[1])<=0;return(u||v)&&(c||x)}var i,l;if(e.tickformatstops&&e.tickformatstops.length>0)switch(e.type){case"date":case"linear":{for(r=0;r<e.tickformatstops.length;r++)if(l=e.tickformatstops[r],l.enabled&&a(e.dtick,l.dtickrange,t)){i=l;break}break}case"log":{for(r=0;r<e.tickformatstops.length;r++)if(l=e.tickformatstops[r],l.enabled&&o(e.dtick,l.dtickrange)){i=l;break}break}default:}return i?i.value:e.tickformat};bt.getSubplots=function(e,r){var t=e._fullLayout._subplots,n=t.cartesian.concat(t.gl2d||[]),a=r?bt.findSubplotsWithAxis(n,r):n;return a.sort(function(o,i){var l=o.substr(1).split("y"),f=i.substr(1).split("y");return l[0]===f[0]?+l[1]-+f[1]:+l[0]-+f[0]}),a};bt.findSubplotsWithAxis=function(e,r){for(var t=new RegExp(r._id.charAt(0)==="x"?"^"+r._id+"y":r._id+"$"),n=[],a=0;a<e.length;a++){var o=e[a];t.test(o)&&n.push(o)}return n};bt.makeClipPaths=function(e){var r=e._fullLayout;if(!r._hasOnlyLargeSploms){var t={_offset:0,_length:r.width,_id:""},n={_offset:0,_length:r.height,_id:""},a=bt.list(e,"x",!0),o=bt.list(e,"y",!0),i=[],l,f;for(l=0;l<a.length;l++)for(i.push({x:a[l],y:n}),f=0;f<o.length;f++)l===0&&i.push({x:t,y:o[f]}),i.push({x:a[l],y:o[f]});var s=r._clips.selectAll(".axesclip").data(i,function(u){return u.x._id+u.y._id});s.enter().append("clipPath").classed("axesclip",!0).attr("id",function(u){return"clip"+r._uid+u.x._id+u.y._id}).append("rect"),s.exit().remove(),s.each(function(u){vs.select(this).select("rect").attr({x:u.x._offset||0,y:u.y._offset||0,width:u.x._length||1,height:u.y._length||1})})}};bt.draw=function(e,r,t){var n=e._fullLayout;r==="redraw"&&n._paper.selectAll("g.subplot").each(function(f){var s=f[0],u=n._plots[s];if(u){var c=u.xaxis,v=u.yaxis;u.xaxislayer.selectAll("."+c._id+"tick").remove(),u.yaxislayer.selectAll("."+v._id+"tick").remove(),u.xaxislayer.selectAll("."+c._id+"tick2").remove(),u.yaxislayer.selectAll("."+v._id+"tick2").remove(),u.xaxislayer.selectAll("."+c._id+"divider").remove(),u.yaxislayer.selectAll("."+v._id+"divider").remove(),u.minorGridlayer&&u.minorGridlayer.selectAll("path").remove(),u.gridlayer&&u.gridlayer.selectAll("path").remove(),u.zerolinelayer&&u.zerolinelayer.selectAll("path").remove(),u.zerolinelayerAbove&&u.zerolinelayerAbove.selectAll("path").remove(),n._infolayer.select(".g-"+c._id+"title").remove(),n._infolayer.select(".g-"+v._id+"title").remove()}});var a=!r||r==="redraw"?bt.listIds(e):r,o=bt.list(e),i=o.filter(function(f){return f.autoshift}).map(function(f){return f.overlaying});a.map(function(f){var s=bt.getFromId(e,f);if(s.tickmode==="sync"&&s.overlaying){var u=a.findIndex(function(c){return c===s.overlaying});u>=0&&a.unshift(a.splice(u,1).shift())}});var l={false:{left:0,right:0}};return rn.syncOrAsync(a.map(function(f){return function(){if(f){var s=bt.getFromId(e,f);t||(t={}),t.axShifts=l,t.overlayingShiftedAx=i;var u=bt.drawOne(e,s,t);return s._shiftPusher&&PA(s,s._fullDepth||0,l,!0),s._r=s.range.slice(),s._rl=rn.simpleMap(s._r,s.r2l),u}}}))};bt.drawOne=function(e,r,t){t=t||{};var n=t.axShifts||{},a=t.overlayingShiftedAx||[],o,i,l;r.setScale();var f=e._fullLayout,s=r._id,u=s.charAt(0),c=bt.counterLetter(s),v=f._plots[r._mainSubplot],x=r.zerolinelayer==="above traces";if(!v)return;if(r._shiftPusher=r.autoshift||a.indexOf(r._id)!==-1||a.indexOf(r.overlaying)!==-1,r._shiftPusher&r.anchor==="free"){var m=r.linewidth/2||0;r.ticks==="inside"&&(m+=r.ticklen),PA(r,m,n,!0),PA(r,r.shift||0,n,!1)}(t.skipTitle!==!0||r._shift===void 0)&&(r._shift=Fde(r,n));var w=v[u+"axislayer"],A=r._mainLinePosition,y=A+=r._shift,M=r._mainMirrorPosition,E=r._vals=bt.calcTicks(r),b=[r.mirror,y,M].join("_");for(o=0;o<E.length;o++)E[o].axInfo=b;r._selections={},r._tickAngles&&(r._prevTickAngles=r._tickAngles),r._tickAngles={},r._depth=null;var T={};function p(Ae){var Ie=s+(Ae||"tick");return T[Ie]||(T[Ie]=Ade(r,Ie,y)),T[Ie]}if(r.visible){var _=bt.makeTransTickFn(r),g=bt.makeTransTickLabelFn(r),h,S,d=r.ticks==="inside",R=r.ticks==="outside";if(r.tickson==="boundaries"){var L=bde(r,E);S=bt.clipEnds(r,L),h=d?S:L}else S=bt.clipEnds(r,E),h=d&&r.ticklabelmode!=="period"?S:E;var F=r._gridVals=S,O=wde(r,E);if(!f._hasOnlyLargeSploms){var P=r._subplotsWith,I={};for(o=0;o<P.length;o++){i=P[o],l=f._plots[i];var k=l[c+"axis"],D=k._mainAxis._id;if(!I[D]){I[D]=1;var z=u==="x"?"M0,"+k._offset+"v"+k._length:"M"+k._offset+",0h"+k._length;bt.drawGrid(e,r,{vals:F,counterAxis:k,layer:l.gridlayer.select("."+s),minorLayer:l.minorGridlayer.select("."+s),path:z,transFn:_}),bt.drawZeroLine(e,r,{counterAxis:k,layer:x?l.zerolinelayerAbove:l.zerolinelayer,path:z,transFn:_})}}}var q,j=bt.getTickSigns(r),Q=bt.getTickSigns(r,"minor");if(r.ticks||r.minor&&r.minor.ticks){var K=bt.makeTickPath(r,y,j[2]),G=bt.makeTickPath(r,y,Q[2],{minor:!0}),B,Z,ie,J;if(r._anchorAxis&&r.mirror&&r.mirror!==!0?(B=bt.makeTickPath(r,M,j[3]),Z=bt.makeTickPath(r,M,Q[3],{minor:!0}),ie=K+B,J=G+Z):(B="",Z="",ie=K,J=G),r.showdividers&&R&&r.tickson==="boundaries"){var le={};for(o=0;o<O.length;o++)le[O[o].x]=1;q=function(Ae){return le[Ae.x]?B:ie}}else q=function(Ae){return Ae.minor?J:ie}}if(bt.drawTicks(e,r,{vals:h,layer:w,path:q,transFn:_}),r.mirror==="allticks"){var te=Object.keys(r._linepositions||{});for(o=0;o<te.length;o++){i=te[o],l=f._plots[i];var V=r._linepositions[i]||[],ne=V[0],Y=V[1],oe=V[2],pe=bt.makeTickPath(r,ne,oe?j[0]:Q[0],{minor:oe})+bt.makeTickPath(r,Y,oe?j[1]:Q[1],{minor:oe});bt.drawTicks(e,r,{vals:h,layer:l[u+"axislayer"],path:pe,transFn:_})}}var we=[];if(we.push(function(){return bt.drawLabels(e,r,{vals:E,layer:w,plotinfo:l,transFn:g,labelFns:bt.makeLabelFns(r,y)})}),r.type==="multicategory"){var De={x:2,y:10}[u];we.push(function(){var Ae={x:"height",y:"width"}[u],Ie=p()[Ae]+De+(r._tickAngles[s+"tick"]?r.tickfont.size*Qg:0);return bt.drawLabels(e,r,{vals:_de(r,E),layer:w,cls:s+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:_,labelFns:bt.makeLabelFns(r,y+Ie*j[4])})}),we.push(function(){return r._depth=j[4]*(p("tick2")[r.side]-y),Mde(e,r,{vals:O,layer:w,path:bt.makeTickPath(r,y,j[4],{len:r._depth}),transFn:_})})}else r.title.hasOwnProperty("standoff")&&we.push(function(){r._depth=j[4]*(p()[r.side]-y)});var Re=$g.getComponentMethod("rangeslider","isVisible")(r);return!t.skipTitle&&!(Re&&r.side==="bottom")&&we.push(function(){return Ede(e,r)}),we.push(function(){var Ae=r.side.charAt(0),Ie=Kve[r.side].charAt(0),Be=bt.getPxPosition(e,r),je=R?r.ticklen:0,Ne,Qe,pr,Se;(r.automargin||Re||r._shiftPusher)&&(r.type==="multicategory"?Ne=p("tick2"):(Ne=p(),u==="x"&&Ae==="b"&&(r._depth=Math.max(Ne.width>0?Ne.bottom-Be:0,je))));var Fe=0,hr=0;if(r._shiftPusher&&(Fe=Math.max(je,Ne.height>0?Ae==="l"?Be-Ne.left:Ne.right-Be:0),r.title.text!==f._dfltTitle[u]&&(hr=(r._titleStandoff||0)+(r._titleScoot||0),Ae==="l"&&(hr+=pI(r))),r._fullDepth=Math.max(Fe,hr)),r.automargin){Qe={x:0,y:0,r:0,l:0,t:0,b:0};var dr=[0,1],kr=typeof r._shift=="number"?r._shift:0;if(u==="x"){if(Ae==="b"?Qe[Ae]=r._depth:(Qe[Ae]=r._depth=Math.max(Ne.width>0?Be-Ne.top:0,je),dr.reverse()),Ne.width>0){var Ue=Ne.right-(r._offset+r._length);Ue>0&&(Qe.xr=1,Qe.r=Ue);var He=r._offset-Ne.left;He>0&&(Qe.xl=0,Qe.l=He)}}else if(Ae==="l"?(r._depth=Math.max(Ne.height>0?Be-Ne.left:0,je),Qe[Ae]=r._depth-kr):(r._depth=Math.max(Ne.height>0?Ne.right-Be:0,je),Qe[Ae]=r._depth+kr,dr.reverse()),Ne.height>0){var Xe=Ne.bottom-(r._offset+r._length);Xe>0&&(Qe.yb=0,Qe.b=Xe);var fr=r._offset-Ne.top;fr>0&&(Qe.yt=1,Qe.t=fr)}Qe[c]=r.anchor==="free"?r.position:r._anchorAxis.domain[dr[0]],r.title.text!==f._dfltTitle[u]&&(Qe[Ae]+=pI(r)+(r.title.standoff||0)),r.mirror&&r.anchor!=="free"&&(pr={x:0,y:0,r:0,l:0,t:0,b:0},pr[Ie]=r.linewidth,r.mirror&&r.mirror!==!0&&(pr[Ie]+=je),r.mirror===!0||r.mirror==="ticks"?pr[c]=r._anchorAxis.domain[dr[1]]:(r.mirror==="all"||r.mirror==="allticks")&&(pr[c]=[r._counterDomainMin,r._counterDomainMax][dr[1]]))}Re&&(Se=$g.getComponentMethod("rangeslider","autoMarginOpts")(e,r)),typeof r.automargin=="string"&&(dI(Qe,r.automargin),dI(pr,r.automargin)),i1.autoMargin(e,zA(r),Qe),i1.autoMargin(e,MI(r),pr),i1.autoMargin(e,EI(r),Se)}),rn.syncOrAsync(we)}};function dI(e,r){if(e){var t=Object.keys(lI).reduce(function(n,a){return r.indexOf(a)!==-1&&lI[a].forEach(function(o){n[o]=1}),n},{});Object.keys(e).forEach(function(n){t[n]||(n.length===1?e[n]=0:delete e[n])})}}function bde(e,r){var t=[],n,a=function(o,i){var l=o.xbnd[i];l!==null&&t.push(rn.extendFlat({},o,{x:l}))};if(r.length){for(n=0;n<r.length;n++)a(r[n],0);a(r[n-1],1)}return t}function _de(e,r){for(var t=[],n={},a=0;a<r.length;a++){var o=r[a];n[o.text2]?n[o.text2].push(o.x):n[o.text2]=[o.x]}for(var i in n)t.push(wI(e,rn.interp(n[i],.5),i));return t}function wde(e,r){var t=[],n,a,o=r.length&&r[r.length-1].x<r[0].x,i=function(f,s){var u=f.xbnd[s];u!==null&&t.push(rn.extendFlat({},f,{x:u}))};if(e.showdividers&&r.length){for(n=0;n<r.length;n++){var l=r[n];l.text2!==a&&i(l,o?1:0),a=l.text2}i(r[n-1],o?0:1)}return t}function Ade(e,r,t){var n,a,o,i;if(e._selections[r].size())n=1/0,a=-1/0,o=1/0,i=-1/0,e._selections[r].each(function(){var f=IA(this);if(f.node().style.display!=="none"){var s=Vl.bBox(f.node().parentNode);n=Math.min(n,s.top),a=Math.max(a,s.bottom),o=Math.min(o,s.left),i=Math.max(i,s.right)}});else{var l=bt.makeLabelFns(e,t);n=a=l.yFn({dx:0,dy:0,fontSize:0}),o=i=l.xFn({dx:0,dy:0,fontSize:0})}return{top:n,bottom:a,left:o,right:i,height:a-n,width:i-o}}bt.getTickSigns=function(e,r){var t=e._id.charAt(0),n={x:"top",y:"right"}[t],a=e.side===n?1:-1,o=[-1,1,a,-a],i=r?(e.minor||{}).ticks:e.ticks;return i!=="inside"==(t==="x")&&(o=o.map(function(l){return-l})),e.side&&o.push({l:-1,t:-1,r:1,b:1}[e.side.charAt(0)]),o};bt.makeTransTickFn=function(e){return e._id.charAt(0)==="x"?function(r){return o1(e._offset+e.l2p(r.x),0)}:function(r){return o1(0,e._offset+e.l2p(r.x))}};bt.makeTransTickLabelFn=function(e){var r=Tde(e),t=e.ticklabelshift||0,n=e.ticklabelstandoff||0,a=r[0],o=r[1],i=e.range[0]>e.range[1],l=e.ticklabelposition&&e.ticklabelposition.indexOf("inside")!==-1,f=!l;if(t){var s=i?-1:1;t=t*s}if(n){var u=e.side,c=l&&(u==="top"||u==="left")||f&&(u==="bottom"||u==="right")?1:-1;n=n*c}return e._id.charAt(0)==="x"?function(v){return o1(a+e._offset+e.l2p(DA(v))+t,o+n)}:function(v){return o1(o+n,a+e._offset+e.l2p(DA(v))+t)}};function DA(e){return e.periodX!==void 0?e.periodX:e.x}function Tde(e){var r=e.ticklabelposition||"",t=e.tickson||"",n=function(m){return r.indexOf(m)!==-1},a=n("top"),o=n("left"),i=n("right"),l=n("bottom"),f=n("inside"),s=t!=="boundaries"&&(l||o||a||i);if(!s&&!f)return[0,0];var u=e.side,c=s?(e.tickwidth||0)/2:0,v=V3,x=e.tickfont?e.tickfont.size:12;return(l||a)&&(c+=x*lv,v+=(e.linewidth||0)/2),(o||i)&&(c+=(e.linewidth||0)/2,v+=V3),f&&u==="top"&&(v-=x*(1-lv)),(o||a)&&(c=-c),(u==="bottom"||u==="right")&&(v=-v),[s?c:0,f?v:0]}bt.makeTickPath=function(e,r,t,n){n||(n={});var a=n.minor;if(a&&!e.minor)return"";var o=n.len!==void 0?n.len:a?e.minor.ticklen:e.ticklen,i=e._id.charAt(0),l=(e.linewidth||1)/2;return i==="x"?"M0,"+(r+l*t)+"v"+o*t:"M"+(r+l*t)+",0h"+o*t};bt.makeLabelFns=function(e,r,t){var n=e.ticklabelposition||"",a=e.tickson||"",o=function(L){return n.indexOf(L)!==-1},i=o("top"),l=o("left"),f=o("right"),s=o("bottom"),u=a!=="boundaries"&&(s||l||i||f),c=o("inside"),v=n==="inside"&&e.ticks==="inside"||!c&&e.ticks==="outside"&&a!=="boundaries",x=0,m=0,w=v?e.ticklen:0;if(c?w*=-1:u&&(w=0),v&&(x+=w,t)){var A=rn.deg2rad(t);x=w*Math.cos(A)+1,m=w*Math.sin(A)}e.showticklabels&&(v||e.showline)&&(x+=.2*e.tickfont.size),x+=(e.linewidth||1)/2*(c?-1:1);var y={labelStandoff:x,labelShift:m},M,E,b,T,p=0,_=e.side,g=e._id.charAt(0),h=e.tickangle,S;if(g==="x")S=!c&&_==="bottom"||c&&_==="top",T=S?1:-1,c&&(T*=-1),M=m*T,E=r+x*T,b=S?1:-.2,Math.abs(h)===90&&(c?b+=Zg:h===-90&&_==="bottom"?b=lv:h===90&&_==="top"?b=Zg:b=.5,p=Zg/2*(h/90)),y.xFn=function(L){return L.dx+M+p*L.fontSize},y.yFn=function(L){return L.dy+E+L.fontSize*b},y.anchorFn=function(L,F){if(u){if(l)return"end";if(f)return"start"}return!vi(F)||F===0||F===180?"middle":F*T<0!==c?"end":"start"},y.heightFn=function(L,F,O){return F<-60||F>60?-.5*O:e.side==="top"!==c?-O:0};else if(g==="y"){if(S=!c&&_==="left"||c&&_==="right",T=S?1:-1,c&&(T*=-1),M=x,E=m*T,b=0,!c&&Math.abs(h)===90&&(h===-90&&_==="left"||h===90&&_==="right"?b=lv:b=.5),c){var d=vi(h)?+h:0;if(d!==0){var R=rn.deg2rad(d);p=Math.abs(Math.sin(R))*lv*T,b=0}}y.xFn=function(L){return L.dx+r-(M+L.fontSize*b)*T+p*L.fontSize},y.yFn=function(L){return L.dy+E+L.fontSize*Zg},y.anchorFn=function(L,F){return vi(F)&&Math.abs(F)===90?"middle":S?"end":"start"},y.heightFn=function(L,F,O){return e.side==="right"&&(F*=-1),F<-30?-O:F<30?-.5*O:0}}return y};function X3(e){return[e.text,e.x,e.axInfo,e.font,e.fontSize,e.fontColor].join("_")}bt.drawTicks=function(e,r,t){t=t||{};var n=r._id+"tick",a=[].concat(r.minor&&r.minor.ticks?t.vals.filter(function(i){return i.minor&&!i.noTick}):[]).concat(r.ticks?t.vals.filter(function(i){return!i.minor&&!i.noTick}):[]),o=t.layer.selectAll("path."+n).data(a,X3);o.exit().remove(),o.enter().append("path").classed(n,1).classed("ticks",1).classed("crisp",t.crisp!==!1).each(function(i){return Jg.stroke(vs.select(this),i.minor?r.minor.tickcolor:r.tickcolor)}).style("stroke-width",function(i){return Vl.crispRound(e,i.minor?r.minor.tickwidth:r.tickwidth,1)+"px"}).attr("d",t.path).style("display",null),j3(r,[gI]),o.attr("transform",t.transFn)};bt.drawGrid=function(e,r,t){if(t=t||{},r.tickmode!=="sync"){var n=r._id+"grid",a=r.minor&&r.minor.showgrid,o=a?t.vals.filter(function(y){return y.minor}):[],i=r.showgrid?t.vals.filter(function(y){return!y.minor}):[],l=t.counterAxis;if(l&&bt.shouldShowZeroLine(e,r,l))for(var f=r.tickmode==="array",s=0;s<i.length;s++){var u=i[s].x;if(f?!u:Math.abs(u)<r.dtick/100)if(i=i.slice(0,s).concat(i.slice(s+1)),f)s--;else break}r._gw=Vl.crispRound(e,r.gridwidth,1);for(var c=a?Vl.crispRound(e,r.minor.gridwidth,1):0,v=t.layer,x=t.minorLayer,m=1;m>=0;m--){var w=m?v:x;if(w){var A=w.selectAll("path."+n).data(m?i:o,X3);A.exit().remove(),A.enter().append("path").classed(n,1).classed("crisp",t.crisp!==!1),A.attr("transform",t.transFn).attr("d",t.path).each(function(y){return Jg.stroke(vs.select(this),y.minor?r.minor.gridcolor:r.gridcolor||"#ddd")}).style("stroke-dasharray",function(y){return Vl.dashStyle(y.minor?r.minor.griddash:r.griddash,y.minor?r.minor.gridwidth:r.gridwidth)}).style("stroke-width",function(y){return(y.minor?c:r._gw)+"px"}).style("display",null),typeof t.path=="function"&&A.attr("d",t.path)}}j3(r,[RA,FA])}};bt.drawZeroLine=function(e,r,t){t=t||t;var n=r._id+"zl",a=bt.shouldShowZeroLine(e,r,t.counterAxis),o=t.layer.selectAll("path."+n).data(a?[{x:0,id:r._id}]:[]);o.exit().remove(),o.enter().append("path").classed(n,1).classed("zl",1).classed("crisp",t.crisp!==!1).each(function(){t.layer.selectAll("path").sort(function(i,l){return ede(i.id,l.id)})}),o.attr("transform",t.transFn).attr("d",t.path).call(Jg.stroke,r.zerolinecolor||Jg.defaultLine).style("stroke-width",Vl.crispRound(e,r.zerolinewidth,r._gw||1)+"px").style("display",null),j3(r,[LA])};bt.drawLabels=function(e,r,t){t=t||{};var n=e._fullLayout,a=r._id,o=r.zerolinelayer==="above traces",i=t.cls||a+"tick",l=t.vals.filter(function(D){return D.text}),f=t.labelFns,s=t.secondary?0:r.tickangle,u=(r._prevTickAngles||{})[i],c=t.layer.selectAll("g."+i).data(r.showticklabels?l:[],X3),v=[];c.enter().append("g").classed(i,1).append("text").attr("text-anchor","middle").each(function(D){var z=vs.select(this),q=e._promises.length;z.call(iv.positionText,f.xFn(D),f.yFn(D)).call(Vl.font,{family:D.font,size:D.fontSize,color:D.fontColor,weight:D.fontWeight,style:D.fontStyle,variant:D.fontVariant,textcase:D.fontTextcase,lineposition:D.fontLineposition,shadow:D.fontShadow}).text(D.text).call(iv.convertToTspans,e),e._promises[q]?v.push(e._promises.pop().then(function(){x(z,s)})):x(z,s)}),j3(r,[oI]),c.exit().remove(),t.repositionOnUpdate&&c.each(function(D){vs.select(this).select("text").call(iv.positionText,f.xFn(D),f.yFn(D))});function x(D,z){D.each(function(q){var j=vs.select(this),Q=j.select(".text-math-group"),K=f.anchorFn(q,z),G=t.transFn.call(j.node(),q)+(vi(z)&&+z!=0?" rotate("+z+","+f.xFn(q)+","+(f.yFn(q)-q.fontSize/2)+")":""),B=iv.lineCount(j),Z=Qg*q.fontSize,ie=f.heightFn(q,vi(z)?+z:0,(B-1)*Z);if(ie&&(G+=o1(0,ie)),Q.empty()){var J=j.select("text");J.attr({transform:G,"text-anchor":K}),J.style("display",null),r._adjustTickLabelsOverflow&&r._adjustTickLabelsOverflow()}else{var le=Vl.bBox(Q.node()).width,te=le*{end:-.5,start:.5}[K];Q.attr("transform",G+o1(te,0))}})}r._adjustTickLabelsOverflow=function(){var D=r.ticklabeloverflow;if(!(!D||D==="allow")){var z=D.indexOf("hide")!==-1,q=r._id.charAt(0)==="x",j=0,Q=q?e._fullLayout.width:e._fullLayout.height;if(D.indexOf("domain")!==-1){var K=rn.simpleMap(r.range,r.r2l);j=r.l2p(K[0])+r._offset,Q=r.l2p(K[1])+r._offset}var G=Math.min(j,Q),B=Math.max(j,Q),Z=r.side,ie=1/0,J=-1/0;c.each(function(ne){var Y=vs.select(this),oe=Y.select(".text-math-group");if(oe.empty()){var pe=Vl.bBox(Y.node()),we=0;q?(pe.right>B||pe.left<G)&&(we=1):(pe.bottom>B||pe.top+(r.tickangle?0:ne.fontSize/4)<G)&&(we=1);var De=Y.select("text");we?z&&De.style("display","none"):De.node().style.display!=="none"&&(De.style("display",null),Z==="bottom"||Z==="right"?ie=Math.min(ie,q?pe.top:pe.left):ie=-1/0,Z==="top"||Z==="left"?J=Math.max(J,q?pe.bottom:pe.right):J=1/0)}});for(var le in n._plots){var te=n._plots[le];if(!(r._id!==te.xaxis._id&&r._id!==te.yaxis._id)){var V=q?te.yaxis:te.xaxis;V&&(V["_visibleLabelMin_"+r._id]=ie,V["_visibleLabelMax_"+r._id]=J)}}}},r._hideCounterAxisInsideTickLabels=function(D){var z=r._id.charAt(0)==="x",q=[];for(var j in n._plots){var Q=n._plots[j];r._id!==Q.xaxis._id&&r._id!==Q.yaxis._id||q.push(z?Q.yaxis:Q.xaxis)}q.forEach(function(K,G){K&&ry(K)&&(D||[LA,FA,RA,gI,oI]).forEach(function(B){var Z=B.K==="tick"&&B.L==="text"&&r.ticklabelmode==="period",ie=n._plots[r._mainSubplot],J;if(B.K===LA.K){var le=o?ie.zerolinelayerAbove:ie.zerolinelayer;J=le.selectAll("."+r._id+"zl")}else B.K===FA.K?J=ie.minorGridlayer.selectAll("."+r._id):B.K===RA.K?J=ie.gridlayer.selectAll("."+r._id):J=ie[r._id.charAt(0)+"axislayer"];J.each(function(){var te=vs.select(this);B.L&&(te=te.selectAll(B.L)),te.each(function(V){var ne=r.l2p(Z?DA(V):V.x)+r._offset,Y=vs.select(this);ne<r["_visibleLabelMax_"+K._id]&&ne>r["_visibleLabelMin_"+K._id]?Y.style("display","none"):B.K==="tick"&&!G&&Y.node().style.display!=="none"&&Y.style("display",null)})})})})},x(c,u+1?u:s);function m(){return v.length&&Promise.all(v)}var w=null;function A(){if(x(c,s),l.length&&r.autotickangles&&(r.type!=="log"||String(r.dtick).charAt(0)!=="D")){w=r.autotickangles[0];var D=0,z=[],q,j=1;c.each(function(Qe){D=Math.max(D,Qe.fontSize);var pr=r.l2p(Qe.x),Se=IA(this),Fe=Vl.bBox(Se.node());j=Math.max(j,iv.lineCount(Se)),z.push({top:0,bottom:10,height:10,left:pr-Fe.width/2,right:pr+Fe.width/2+2,width:Fe.width+2})});var Q=(r.tickson==="boundaries"||r.showdividers)&&!t.secondary,K=l.length,G=Math.abs((l[K-1].x-l[0].x)*r._m)/(K-1),B=Q?G/2:G,Z=Q?r.ticklen:D*1.25*j,ie=Math.sqrt(Math.pow(B,2)+Math.pow(Z,2)),J=B/ie,le=r.autotickangles.map(function(Qe){return Qe*Math.PI/180}),te=le.find(function(Qe){return Math.abs(Math.cos(Qe))<=J});te===void 0&&(te=le.reduce(function(Qe,pr){return Math.abs(Math.cos(Qe))<Math.abs(Math.cos(pr))?Qe:pr},le[0]));var V=te*(180/Math.PI);if(Q){var ne=2;for(r.ticks&&(ne+=r.tickwidth/2),q=0;q<z.length;q++){var Y=l[q].xbnd,oe=z[q];if(Y[0]!==null&&oe.left-r.l2p(Y[0])<ne||Y[1]!==null&&r.l2p(Y[1])-oe.right<ne){w=V;break}}}else{var pe=r.ticklabelposition||"",we=r.tickson||"",De=function(Qe){return pe.indexOf(Qe)!==-1},Re=De("top"),Ae=De("left"),Ie=De("right"),Be=De("bottom"),je=we!=="boundaries"&&(Be||Ae||Re||Ie),Ne=je?(r.tickwidth||0)+2*V3:0;for(q=0;q<z.length-1;q++)if(rn.bBoxIntersect(z[q],z[q+1],Ne)){w=V;break}}w&&x(c,w)}}r._selections&&(r._selections[i]=c);var y=[m];r.automargin&&n._redrawFromAutoMarginCount&&u===90?(w=u,y.push(function(){x(c,u)})):y.push(A),r._tickAngles&&y.push(function(){r._tickAngles[i]=w===null?vi(s)?s:0:w});var M=function(){var D=0,z=0;return c.each(function(q,j){var Q=IA(this),K=Q.select(".text-math-group");if(K.empty()){var G;r._vals[j]&&(G=r._vals[j].bb||Vl.bBox(Q.node()),r._vals[j].bb=G),D=Math.max(D,G.width),z=Math.max(z,G.height)}}),{labelsMaxW:D,labelsMaxH:z}},E=r._anchorAxis;if(E&&(E.autorange||E.insiderange)&&ry(r)&&!rde(n,r._id)&&(n._insideTickLabelsUpdaterange||(n._insideTickLabelsUpdaterange={}),E.autorange&&(n._insideTickLabelsUpdaterange[E._name+".autorange"]=E.autorange,y.push(M)),E.insiderange)){var b=M(),T=r._id.charAt(0)==="y"?b.labelsMaxW:b.labelsMaxH;T+=2*V3,r.ticklabelposition==="inside"&&(T+=r.ticklen||0);var p=r.side==="right"||r.side==="top"?1:-1,_=p===1?1:0,g=p===1?0:1,h=[];h[g]=E.range[g];var S=E.range,d=E.r2p(S[_]),R=E.r2p(S[g]),L=n._insideTickLabelsUpdaterange[E._name+".range"];if(L){var F=E.r2p(L[_]),O=E.r2p(L[g]),P=p*(r._id.charAt(0)==="y"?1:-1);P*d<P*F&&(d=F,h[_]=S[_]=L[_]),P*R>P*O&&(R=O,h[g]=S[g]=L[g])}var I=Math.abs(R-d);I-T>0?(I-=T,T*=1+T/I):T=0,r._id.charAt(0)!=="y"&&(T=-T),h[_]=E.p2r(E.r2p(S[_])+p*T),E.autorange==="min"||E.autorange==="max reversed"?(h[0]=null,E._rangeInitial0=void 0,E._rangeInitial1=void 0):(E.autorange==="max"||E.autorange==="min reversed")&&(h[1]=null,E._rangeInitial0=void 0,E._rangeInitial1=void 0),n._insideTickLabelsUpdaterange[E._name+".range"]=h}var k=rn.syncOrAsync(y);return k&&k.then&&e._promises.push(k),k};function Mde(e,r,t){var n=r._id+"divider",a=t.vals,o=t.layer.selectAll("path."+n).data(a,X3);o.exit().remove(),o.enter().insert("path",":first-child").classed(n,1).classed("crisp",1).call(Jg.stroke,r.dividercolor).style("stroke-width",Vl.crispRound(e,r.dividerwidth,1)+"px"),o.attr("transform",t.transFn).attr("d",t.path)}bt.getPxPosition=function(e,r){var t=e._fullLayout._size,n=r._id.charAt(0),a=r.side,o;if(r.anchor!=="free"?o=r._anchorAxis:n==="x"?o={_offset:t.t+(1-(r.position||0))*t.h,_length:0}:n==="y"&&(o={_offset:t.l+(r.position||0)*t.w+r._shift,_length:0}),a==="top"||a==="left")return o._offset;if(a==="bottom"||a==="right")return o._offset+o._length};function pI(e){var r=e.title.font.size,t=(e.title.text.match(iv.BR_TAG_ALL)||[]).length;return e.title.hasOwnProperty("standoff")?r*(lv+t*Qg):t?r*(t+1)*Qg:r}function Ede(e,r){var t=e._fullLayout,n=r._id,a=n.charAt(0),o=r.title.font.size,i,l=(r.title.text.match(iv.BR_TAG_ALL)||[]).length;if(r.title.hasOwnProperty("standoff"))r.side==="bottom"||r.side==="right"?i=r._depth+r.title.standoff+o*lv:(r.side==="top"||r.side==="left")&&(i=r._depth+r.title.standoff+o*(Zg+l*Qg));else{var f=ry(r);if(r.type==="multicategory")i=r._depth;else{var s=1.5*o;f&&(s=.5*o,r.ticks==="outside"&&(s+=r.ticklen)),i=10+s+(r.linewidth?r.linewidth-1:0)}f||(a==="x"?i+=r.side==="top"?o*(r.showticklabels?1:0):o*(r.showticklabels?1.5:.5):i+=r.side==="right"?o*(r.showticklabels?1:.5):o*(r.showticklabels?.5:0))}var u=bt.getPxPosition(e,r),c,v,x;a==="x"?(v=r._offset+r._length/2,x=r.side==="top"?u-i:u+i):(x=r._offset+r._length/2,v=r.side==="right"?u+i:u-i,c={rotate:"-90",offset:0});var m;if(r.type!=="multicategory"){var w=r._selections[r._id+"tick"];if(m={selection:w,side:r.side},w&&w.node()&&w.node().parentNode){var A=Vl.getTranslate(w.node().parentNode);m.offsetLeft=A.x,m.offsetTop=A.y}r.title.hasOwnProperty("standoff")&&(m.pad=0)}return r._titleStandoff=i,Yve.draw(e,n+"title",{propContainer:r,propName:r._name+".title.text",placeholder:t._dfltTitle[a],avoid:m,transform:c,attributes:{x:v,y:x,"text-anchor":"middle"}})}bt.shouldShowZeroLine=function(e,r,t){var n=rn.simpleMap(r.range,r.r2l);return n[0]*n[1]<=0&&r.zeroline&&(r.type==="linear"||r.type==="-")&&!(r.rangebreaks&&r.maskBreaks(0)===Y3)&&(TI(r,0)||!Sde(e,r,t,n)||Cde(e,r))};bt.clipEnds=function(e,r){return r.filter(function(t){return TI(e,t.x)})};function TI(e,r){var t=e.l2p(r);return t>1&&t<e._length-1}function Sde(e,r,t,n){var a=t._mainAxis;if(!a)return;var o=e._fullLayout,i=r._id.charAt(0),l=bt.counterLetter(r._id),f=r._offset+(Math.abs(n[0])<Math.abs(n[1])==(i==="x")?0:r._length);function s(m){if(!m.showline||!m.linewidth)return!1;var w=Math.max((m.linewidth+r.zerolinewidth)/2,1);function A(E){return typeof E=="number"&&Math.abs(E-f)<w}if(A(m._mainLinePosition)||A(m._mainMirrorPosition))return!0;var y=m._linepositions||{};for(var M in y)if(A(y[M][0])||A(y[M][1]))return!0}var u=o._plots[t._mainSubplot];if(!(u.mainplotinfo||u).overlays.length)return s(t,f);for(var c=bt.list(e,l),v=0;v<c.length;v++){var x=c[v];if(x._mainAxis===a&&s(x,f))return!0}}function Cde(e,r){for(var t=e._fullData,n=r._mainSubplot,a=r._id.charAt(0),o=0;o<t.length;o++){var i=t[o];if(i.visible===!0&&i.xaxis+i.yaxis===n&&($g.traceIs(i,"bar-like")&&i.orientation==={x:"h",y:"v"}[a]||i.fill&&i.fill.charAt(i.fill.length-1)===a))return!0}return!1}function IA(e){var r=vs.select(e),t=r.select(".text-math-group");return t.empty()?r.select("text"):t}bt.allowAutoMargin=function(e){for(var r=bt.list(e,"",!0),t=0;t<r.length;t++){var n=r[t];n.automargin&&(i1.allowAutoMargin(e,zA(n)),n.mirror&&i1.allowAutoMargin(e,MI(n))),$g.getComponentMethod("rangeslider","isVisible")(n)&&i1.allowAutoMargin(e,EI(n))}};function zA(e){return e._id+".automargin"}function MI(e){return zA(e)+".mirror"}function EI(e){return e._id+".rangeslider"}bt.swap=function(e,r){for(var t=kde(e,r),n=0;n<t.length;n++)Lde(e,t[n].x,t[n].y)};function kde(e,r){var t=[],n,a;for(n=0;n<r.length;n++){var o=[],i=e._fullData[r[n]].xaxis,l=e._fullData[r[n]].yaxis;if(!(!i||!l)){for(a=0;a<t.length;a++)(t[a].x.indexOf(i)!==-1||t[a].y.indexOf(l)!==-1)&&o.push(a);if(!o.length){t.push({x:[i],y:[l]});continue}var f=t[o[0]],s;if(o.length>1)for(a=1;a<o.length;a++)s=t[o[a]],B3(f.x,s.x),B3(f.y,s.y);B3(f.x,[i]),B3(f.y,[l])}}return t}function B3(e,r){for(var t=0;t<r.length;t++)e.indexOf(r[t])===-1&&e.push(r[t])}function Lde(e,r,t){var n=[],a=[],o=e.layout,i,l;for(i=0;i<r.length;i++)n.push(bt.getFromId(e,r[i]));for(i=0;i<t.length;i++)a.push(bt.getFromId(e,t[i]));var f=Object.keys(Wve),s=["anchor","domain","overlaying","position","side","tickangle","editType"],u=["linear","log"];for(i=0;i<f.length;i++){var c=f[i],v=n[0][c],x=a[0][c],m=!0,w=!1,A=!1;if(!(c.charAt(0)==="_"||typeof v=="function"||s.indexOf(c)!==-1)){for(l=1;l<n.length&&m;l++){var y=n[l][c];c==="type"&&u.indexOf(v)!==-1&&u.indexOf(y)!==-1&&v!==y?w=!0:y!==v&&(m=!1)}for(l=1;l<a.length&&m;l++){var M=a[l][c];c==="type"&&u.indexOf(x)!==-1&&u.indexOf(M)!==-1&&x!==M?A=!0:a[l][c]!==x&&(m=!1)}m&&(w&&(o[n[0]._name].type="linear"),A&&(o[a[0]._name].type="linear"),Rde(o,c,n,a,e._fullLayout._dfltTitle))}}for(i=0;i<e._fullLayout.annotations.length;i++){var E=e._fullLayout.annotations[i];r.indexOf(E.xref)!==-1&&t.indexOf(E.yref)!==-1&&rn.swapAttrs(o.annotations[i],["?"])}}function Rde(e,r,t,n,a){var o=rn.nestedProperty,i=o(e[t[0]._name],r).get(),l=o(e[n[0]._name],r).get(),f;for(r==="title"&&(i&&i.text===a.x&&(i.text=a.y),l&&l.text===a.y&&(l.text=a.x)),f=0;f<t.length;f++)o(e,t[f]._name+"."+r).set(l);for(f=0;f<n.length;f++)o(e,n[f]._name+"."+r).set(i)}function qA(e){return e._id==="angularaxis"}function CA(e,r){for(var t=r._rangebreaks.length,n=0;n<t;n++){var a=r._rangebreaks[n];if(e>=a.min&&e<a.max)return a.max}return e}function ry(e){return(e.ticklabelposition||"").indexOf("inside")!==-1}function j3(e,r){ry(e._anchorAxis||{})&&e._hideCounterAxisInsideTickLabels&&e._hideCounterAxisInsideTickLabels(r)}function PA(e,r,t,n){var a=e.anchor!=="free"&&(e.overlaying===void 0||e.overlaying===!1)?e._id:e.overlaying,o;n?o=e.side==="right"?r:-r:o=r,a in t||(t[a]={}),e.side in t[a]||(t[a][e.side]=0),t[a][e.side]+=o}function Fde(e,r){return e.autoshift?r[e.overlaying][e.side]:e.shift||0}function Dde(e,r){return/%f/.test(r)?e>=Jve:/%L/.test(r)?e>=$ve:/%[SX]/.test(r)?e>=H3:/%M/.test(r)?e>=Kg:/%[HI]/.test(r)?e>=Qf:/%p/.test(r)?e>=g0:/%[Aadejuwx]/.test(r)?e>=Fo:/%[UVW]/.test(r)?e>=Yl:/%[Bbm]/.test(r)?e>=G3:/%[q]/.test(r)?e>=U3:/%[Yy]/.test(r)?e>=q3:!0}});var kI=fe((YPe,CI)=>{"use strict";CI.exports=function(r,t,n){var a,o;if(n){var i=t==="reversed"||t==="min reversed"||t==="max reversed";a=n[i?1:0],o=n[i?0:1]}var l=r("autorangeoptions.minallowed",o===null?a:void 0),f=r("autorangeoptions.maxallowed",a===null?o:void 0);l===void 0&&r("autorangeoptions.clipmin"),f===void 0&&r("autorangeoptions.clipmax"),r("autorangeoptions.include")}});var UA=fe((WPe,LI)=>{"use strict";var Ide=kI();LI.exports=function(r,t,n,a){var o=t._template||{},i=t.type||o.type||"-";n("minallowed"),n("maxallowed");var l=n("range");if(!l){var f;!a.noInsiderange&&i!=="log"&&(f=n("insiderange"),f&&(f[0]===null||f[1]===null)&&(t.insiderange=!1,f=void 0),f&&(l=n("range",f)))}var s=t.getAutorangeDflt(l,a),u=n("autorange",s),c;l&&(l[0]===null&&l[1]===null||(l[0]===null||l[1]===null)&&(u==="reversed"||u===!0)||l[0]!==null&&(u==="min"||u==="max reversed")||l[1]!==null&&(u==="max"||u==="min reversed"))&&(l=void 0,delete t.range,t.autorange=!0,c=!0),c||(s=t.getAutorangeDflt(l,a),u=n("autorange",s)),u&&(Ide(n,u,l),(i==="linear"||i==="-")&&n("rangemode")),t.cleanRange()}});var FI=fe((XPe,RI)=>{var Pde={left:0,top:0};RI.exports=Ode;function Ode(e,r,t){r=r||e.currentTarget||e.srcElement,Array.isArray(t)||(t=[0,0]);var n=e.clientX||0,a=e.clientY||0,o=Nde(r);return t[0]=n-o.left,t[1]=a-o.top,t}function Nde(e){return e===window||e===document||e===document.body?Pde:e.getBoundingClientRect()}});var Z3=fe((jPe,DI)=>{"use strict";var Bde=m4();function zde(){var e=!1;try{var r=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,r),window.removeEventListener("test",null,r)}catch(t){e=!1}return e}DI.exports=Bde&&zde()});var PI=fe((ZPe,II)=>{"use strict";II.exports=function(r,t,n,a,o){var i=(r-n)/(a-n),l=i+t/(a-n),f=(i+l)/2;return o==="left"||o==="bottom"?i:o==="center"||o==="middle"?f:o==="right"||o==="top"?l:i<2/3-f?i:l>4/3-f?l:f}});var BI=fe(($Pe,NI)=>{"use strict";var OI=tt(),qde=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];NI.exports=function(r,t,n,a){return n==="left"?r=0:n==="center"?r=1:n==="right"?r=2:r=OI.constrain(Math.floor(r*3),0,2),a==="bottom"?t=0:a==="middle"?t=1:a==="top"?t=2:t=OI.constrain(Math.floor(t*3),0,2),qde[t][r]}});var qI=fe((JPe,zI)=>{"use strict";var Ude=Yd(),Gde=$2(),Hde=Cg().getGraphDiv,Vde=Tg(),GA=zI.exports={};GA.wrapped=function(e,r,t){e=Hde(e),e._fullLayout&&Gde.clear(e._fullLayout._uid+Vde.HOVERID),GA.raw(e,r,t)};GA.raw=function(r,t){var n=r._fullLayout,a=r._hoverdata;t||(t={}),!(t.target&&!r._dragged&&Ude.triggerHandler(r,"plotly_beforehover",t)===!1)&&(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),r._hoverdata=void 0,t.target&&a&&r.emit("plotly_unhover",{event:t,points:a}))}});var nf=fe((KPe,VI)=>{"use strict";var Yde=FI(),HA=b4(),Wde=Z3(),Xde=tt().removeElement,jde=Ji(),sv=VI.exports={};sv.align=PI();sv.getCursor=BI();var GI=qI();sv.unhover=GI.wrapped;sv.unhoverRaw=GI.raw;sv.init=function(r){var t=r.gd,n=1,a=t._context.doubleClickDelay,o=r.element,i,l,f,s,u,c,v,x;t._mouseDownTime||(t._mouseDownTime=0),o.style.pointerEvents="all",o.onmousedown=A,Wde?(o._ontouchstart&&o.removeEventListener("touchstart",o._ontouchstart),o._ontouchstart=A,o.addEventListener("touchstart",A,{passive:!1})):o.ontouchstart=A;function m(E,b,T){return Math.abs(E)<T&&(E=0),Math.abs(b)<T&&(b=0),[E,b]}var w=r.clampFn||m;function A(E){t._dragged=!1,t._dragging=!0;var b=UI(E);i=b[0],l=b[1],v=E.target,c=E,x=E.buttons===2||E.ctrlKey,typeof E.clientX=="undefined"&&typeof E.clientY=="undefined"&&(E.clientX=i,E.clientY=l),f=new Date().getTime(),f-t._mouseDownTime<a?n+=1:(n=1,t._mouseDownTime=f),r.prepFn&&r.prepFn(E,i,l),HA&&!x?(u=HI(),u.style.cursor=window.getComputedStyle(o).cursor):HA||(u=document,s=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(o).cursor),document.addEventListener("mouseup",M),document.addEventListener("touchend",M),r.dragmode!==!1&&(E.preventDefault(),document.addEventListener("mousemove",y),document.addEventListener("touchmove",y,{passive:!1}))}function y(E){E.preventDefault();var b=UI(E),T=r.minDrag||jde.MINDRAG,p=w(b[0]-i,b[1]-l,T),_=p[0],g=p[1];(_||g)&&(t._dragged=!0,sv.unhover(t,E)),t._dragged&&r.moveFn&&!x&&(t._dragdata={element:o,dx:_,dy:g},r.moveFn(_,g))}function M(E){if(delete t._dragdata,r.dragmode!==!1&&(E.preventDefault(),document.removeEventListener("mousemove",y),document.removeEventListener("touchmove",y)),document.removeEventListener("mouseup",M),document.removeEventListener("touchend",M),HA?Xde(u):s&&(u.documentElement.style.cursor=s,s=null),!t._dragging){t._dragged=!1;return}if(t._dragging=!1,new Date().getTime()-t._mouseDownTime>a&&(n=Math.max(n-1,1)),t._dragged)r.doneFn&&r.doneFn();else{var b;c.target===v?b=c:(b={target:v,srcElement:v,toElement:v},Object.keys(c).concat(Object.keys(c.__proto__)).forEach(T=>{var p=c[T];!b[T]&&typeof p!="function"&&(b[T]=p)})),r.clickFn&&r.clickFn(n,b),x||v.dispatchEvent(new MouseEvent("click",E))}t._dragging=!1,t._dragged=!1}};function HI(){var e=document.createElement("div");e.className="dragcover";var r=e.style;return r.position="fixed",r.left=0,r.right=0,r.top=0,r.bottom=0,r.zIndex=999999999,r.background="none",document.body.appendChild(e),e}sv.coverSlip=HI;function UI(e){return Yde(e.changedTouches?e.changedTouches[0]:e,document.body)}});var Ku=fe((QPe,YI)=>{"use strict";YI.exports=function(r,t){(r.attr("class")||"").split(" ").forEach(function(n){n.indexOf("cursor-")===0&&r.classed(n,!1)}),t&&r.classed("cursor-"+t,!0)}});var jI=fe((eOe,XI)=>{"use strict";var VA=Ku(),ty="data-savedcursor",WI="!!";XI.exports=function(r,t){var n=r.attr(ty);if(t){if(!n){for(var a=(r.attr("class")||"").split(" "),o=0;o<a.length;o++){var i=a[o];i.indexOf("cursor-")===0&&r.attr(ty,i.substr(7)).classed(i,!1)}r.attr(ty)||r.attr(ty,WI)}VA(r,t)}else n&&(r.attr(ty,null),n===WI?VA(r):VA(r,n))}});var WA=fe((rOe,ZI)=>{"use strict";var YA=Fi(),Zde=Zs();ZI.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:Zde.defaultLine,editType:"legend"},maxheight:{valType:"number",min:0,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:YA({editType:"legend"}),grouptitlefont:YA({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:YA({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}});var J3=fe($3=>{"use strict";$3.isGrouped=function(r){return(r.traceorder||"").indexOf("grouped")!==-1};$3.isVertical=function(r){return r.orientation!=="h"};$3.isReversed=function(r){return(r.traceorder||"").indexOf("reversed")!==-1}});var ZA=fe((nOe,$I)=>{"use strict";var XA=Qt(),Wl=tt(),$de=da(),Jde=ul(),Kde=WA(),Qde=Od(),jA=J3();function e1e(e,r,t,n){var a=r[e]||{},o=$de.newContainer(t,e);function i(I,k){return Wl.coerce(a,o,Kde,I,k)}var l=Wl.coerceFont(i,"font",t.font);i("bgcolor",t.paper_bgcolor),i("bordercolor");var f=i("visible");if(f){for(var s,u=function(I,k){var D=s._input,z=s;return Wl.coerce(D,z,Jde,I,k)},c=t.font||{},v=Wl.coerceFont(i,"grouptitlefont",c,{overrideDflt:{size:Math.round(c.size*1.1)}}),x=0,m=!1,w="normal",A=(t.shapes||[]).filter(function(I){return I.showlegend}),y=n.concat(A).filter(function(I){return e===(I.legend||"legend")}),M=0;M<y.length;M++)if(s=y[M],!!s.visible){var E=s._isShape;(s.showlegend||s._dfltShowLegend&&!(s._module&&s._module.attributes&&s._module.attributes.showlegend&&s._module.attributes.showlegend.dflt===!1))&&(x++,s.showlegend&&(m=!0,(!E&&XA.traceIs(s,"pie-like")||s._input.showlegend===!0)&&x++),Wl.coerceFont(u,"legendgrouptitle.font",v)),(!E&&XA.traceIs(s,"bar")&&t.barmode==="stack"||["tonextx","tonexty"].indexOf(s.fill)!==-1)&&(w=jA.isGrouped({traceorder:w})?"grouped+reversed":"reversed"),s.legendgroup!==void 0&&s.legendgroup!==""&&(w=jA.isReversed({traceorder:w})?"reversed+grouped":"grouped")}var b=Wl.coerce(r,t,Qde,"showlegend",m&&x>(e==="legend"?1:0));if(b===!1&&(t[e]=void 0),!(b===!1&&!a.uirevision)&&(i("uirevision",t.uirevision),b!==!1)){i("borderwidth");var T=i("orientation"),p=i("yref"),_=i("xref"),g=T==="h",h=p==="paper",S=_==="paper",d,R,L,F="left";g?(d=0,XA.getComponentMethod("rangeslider","isVisible")(r.xaxis)?h?(R=1.1,L="bottom"):(R=1,L="top"):h?(R=-.1,L="top"):(R=0,L="bottom")):(R=1,L="auto",S?d=1.02:(d=1,F="right")),Wl.coerce(a,o,{x:{valType:"number",editType:"legend",min:S?-2:0,max:S?3:1,dflt:d}},"x"),Wl.coerce(a,o,{y:{valType:"number",editType:"legend",min:h?-2:0,max:h?3:1,dflt:R}},"y"),i("traceorder",w),jA.isGrouped(t[e])&&i("tracegroupgap"),i("entrywidth"),i("entrywidthmode"),i("indentation"),i("itemsizing"),i("itemwidth"),i("itemclick"),i("itemdoubleclick"),i("groupclick"),i("xanchor",F),i("yanchor",L),i("maxheight"),i("valign"),Wl.noneOrAll(a,o,["x","y"]);var O=i("title.text");if(O){i("title.side",g?"left":"top");var P=Wl.extendFlat({},l,{size:Wl.bigFont(l.size)});Wl.coerceFont(i,"title.font",P)}}}}$I.exports=function(r,t,n){var a,o=n.slice(),i=t.shapes;if(i)for(a=0;a<i.length;a++){var l=i[a];if(l.showlegend){var f={_input:l._input,visible:l.visible,showlegend:l.showlegend,legend:l.legend};o.push(f)}}var s=["legend"];for(a=0;a<o.length;a++)Wl.pushUnique(s,o[a].legend);for(t._legends=[],a=0;a<s.length;a++){var u=s[a];e1e(u,r,t,o),t[u]&&(t[u]._id=u),t._legends.push(u)}}});var KI=fe((aOe,JI)=>{"use strict";var f1=Qt(),JA=tt(),r1e=JA.pushUnique,$A=!0;JI.exports=function(r,t,n){var a=t._fullLayout;if(t._dragged||t._editing)return;var o=a.legend.itemclick,i=a.legend.itemdoubleclick,l=a.legend.groupclick;n===1&&o==="toggle"&&i==="toggleothers"&&$A&&t.data&&t._context.showTips&&JA.notifier(JA._(t,"Double-click on legend to isolate one trace"),"long"),$A=!1;var f;if(n===1?f=o:n===2&&(f=i),!f)return;var s=l==="togglegroup",u=a.hiddenlabels?a.hiddenlabels.slice():[],c=r.data()[0][0];if(c.groupTitle&&c.noClick)return;var v=t._fullData,x=(a.shapes||[]).filter(function(Ie){return Ie.showlegend}),m=v.concat(x),w=c.trace;w._isShape&&(w=w._fullInput);var A=w.legendgroup,y,M,E,b,T,p,_={},g=[],h=[],S=[];function d(Ie,Be){var je=g.indexOf(Ie),Ne=_.visible;return Ne||(Ne=_.visible=[]),g.indexOf(Ie)===-1&&(g.push(Ie),je=g.length-1),Ne[je]=Be,je}var R=(a.shapes||[]).map(function(Ie){return Ie._input}),L=!1;function F(Ie,Be){R[Ie].visible=Be,L=!0}function O(Ie,Be){if(!(c.groupTitle&&!s)){var je=Ie._fullInput||Ie,Ne=je._isShape,Qe=je.index;Qe===void 0&&(Qe=je._index);var pr=je.visible===!1?!1:Be;Ne?F(Qe,pr):d(Qe,pr)}}var P=w.legend,I=w._fullInput,k=I&&I._isShape;if(!k&&f1.traceIs(w,"pie-like")){var D=c.label,z=u.indexOf(D);if(f==="toggle")z===-1?u.push(D):u.splice(z,1);else if(f==="toggleothers"){var q=z!==-1,j=[];for(y=0;y<t.calcdata.length;y++){var Q=t.calcdata[y];for(M=0;M<Q.length;M++){var K=Q[M],G=K.label;P===Q[0].trace.legend&&D!==G&&(u.indexOf(G)===-1&&(q=!0),r1e(u,G),j.push(G))}}if(!q)for(var B=0;B<j.length;B++){var Z=u.indexOf(j[B]);Z!==-1&&u.splice(Z,1)}}f1.call("_guiRelayout",t,"hiddenlabels",u)}else{var ie=A&&A.length,J=[],le;if(ie)for(y=0;y<m.length;y++)le=m[y],le.visible&&le.legendgroup===A&&J.push(y);if(f==="toggle"){var te;switch(w.visible){case!0:te="legendonly";break;case!1:te=!1;break;case"legendonly":te=!0;break}if(ie)if(s)for(y=0;y<m.length;y++){var V=m[y];V.visible!==!1&&V.legendgroup===A&&O(V,te)}else O(w,te);else O(w,te)}else if(f==="toggleothers"){var ne,Y,oe,pe,we,De=!0;for(y=0;y<m.length;y++)if(we=m[y],ne=we===w,oe=we.showlegend!==!0,!(ne||oe)&&(Y=ie&&we.legendgroup===A,!Y&&we.legend===P&&we.visible===!0&&!f1.traceIs(we,"notLegendIsolatable"))){De=!1;break}for(y=0;y<m.length;y++)if(we=m[y],!(we.visible===!1||we.legend!==P)&&!f1.traceIs(we,"notLegendIsolatable"))switch(w.visible){case"legendonly":O(we,!0);break;case!0:pe=De?!0:"legendonly",ne=we===w,oe=we.showlegend!==!0&&!we.legendgroup,Y=ne||ie&&we.legendgroup===A,O(we,Y||oe?!0:pe);break}}for(y=0;y<h.length;y++)if(E=h[y],!!E){var Re=E.constructUpdate(),Ae=Object.keys(Re);for(M=0;M<Ae.length;M++)b=Ae[M],p=_[b]=_[b]||[],p[S[y]]=Re[b]}for(T=Object.keys(_),y=0;y<T.length;y++)for(b=T[y],M=0;M<g.length;M++)_[b].hasOwnProperty(M)||(_[b][M]=void 0);L?f1.call("_guiUpdate",t,_,{shapes:R},g):f1.call("_guiRestyle",t,_,g)}}});var KA=fe((iOe,QI)=>{"use strict";QI.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}});var tP=fe((oOe,rP)=>{"use strict";var eP=Qt(),QA=J3();rP.exports=function(r,t,n){var a=t._inHover,o=QA.isGrouped(t),i=QA.isReversed(t),l={},f=[],s=!1,u={},c=0,v=0,x,m;function w(I,k,D){if(t.visible!==!1&&!(n&&I!==t._id))if(k===""||!QA.isGrouped(t)){var z="~~i"+c;f.push(z),l[z]=[D],c++}else f.indexOf(k)===-1?(f.push(k),s=!0,l[k]=[D]):l[k].push(D)}for(x=0;x<r.length;x++){var A=r[x],y=A[0],M=y.trace,E=M.legend,b=M.legendgroup;if(!(!a&&(!M.visible||!M.showlegend)))if(eP.traceIs(M,"pie-like"))for(u[b]||(u[b]={}),m=0;m<A.length;m++){var T=A[m].label;u[b][T]||(w(E,b,{label:T,color:A[m].color,i:A[m].i,trace:M,pts:A[m].pts}),u[b][T]=!0,v=Math.max(v,(T||"").length))}else w(E,b,y),v=Math.max(v,(M.name||"").length)}if(!f.length)return[];var p=!s||!o,_=[];for(x=0;x<f.length;x++){var g=l[f[x]];p?_.push(g[0]):_.push(g)}for(p&&(_=[_]),x=0;x<_.length;x++){var h=1/0;for(m=0;m<_[x].length;m++){var S=_[x][m].trace.legendrank;h>S&&(h=S)}_[x][0]._groupMinRank=h,_[x][0]._preGroupSort=x}var d=function(I,k){return I[0]._groupMinRank-k[0]._groupMinRank||I[0]._preGroupSort-k[0]._preGroupSort},R=function(I,k){return I.trace.legendrank-k.trace.legendrank||I._preSort-k._preSort};for(_.forEach(function(I,k){I[0]._preGroupSort=k}),_.sort(d),x=0;x<_.length;x++){_[x].forEach(function(I,k){I._preSort=k}),_[x].sort(R);var L=_[x][0].trace,F=null;for(m=0;m<_[x].length;m++){var O=_[x][m].trace.legendgrouptitle;if(O&&O.text){F=O,a&&(O.font=t._groupTitleFont);break}}if(i&&_[x].reverse(),F){var P=!1;for(m=0;m<_[x].length;m++)if(eP.traceIs(_[x][m].trace,"pie-like")){P=!0;break}_[x].unshift({i:-1,groupTitle:F,noClick:P,trace:{showlegend:L.showlegend,legendgroup:L.legendgroup,visible:t.groupclick==="toggleitem"?!0:L.visible}})}for(m=0;m<_[x].length;m++)_[x][m]=[_[x][m]]}return t._lgroupsLength=_.length,t._maxNameLength=v,_}});var uv=fe(fv=>{"use strict";var K3=tt();function nP(e){return e.indexOf("e")!==-1?e.replace(/[.]?0+e/,"e"):e.indexOf(".")!==-1?e.replace(/[.]?0+$/,""):e}fv.formatPiePercent=function(r,t){var n=nP((r*100).toPrecision(3));return K3.numSeparate(n,t)+"%"};fv.formatPieValue=function(r,t){var n=nP(r.toPrecision(10));return K3.numSeparate(n,t)};fv.getFirstFilled=function(r,t){if(K3.isArrayOrTypedArray(r))for(var n=0;n<t.length;n++){var a=r[t[n]];if(a||a===0||a==="")return a}};fv.castOption=function(r,t){if(K3.isArrayOrTypedArray(r))return fv.getFirstFilled(r,t);if(r)return r};fv.getRotationAngle=function(e){return(e==="auto"?0:e)*Math.PI/180}});var iP=fe((sOe,aP)=>{"use strict";var t1e=ta(),n1e=xn();aP.exports=function(r,t,n,a){var o=n.marker.pattern;o&&o.shape?t1e.pointStyle(r,n,a,t):n1e.fill(r,t.color)}});var fP=fe((fOe,sP)=>{"use strict";var oP=xn(),lP=uv().castOption,a1e=iP();sP.exports=function(r,t,n,a){var o=n.marker.line,i=lP(o.color,t.pts)||oP.defaultLine,l=lP(o.width,t.pts)||0;r.call(a1e,t,n,a).style("stroke-width",l).call(oP.stroke,i)}});var n6=fe((uOe,pP)=>{"use strict";var Do=Ln(),e6=Qt(),yo=tt(),uP=yo.strTranslate,Xl=ta(),ds=xn(),r6=ef().extractOpts,Q3=Ki(),i1e=fP(),o1e=uv().castOption,l1e=KA(),cP=12,hP=5,cv=2,s1e=10,u1=5;pP.exports=function(r,t,n){var a=t._fullLayout;n||(n=a.legend);var o=n.itemsizing==="constant",i=n.itemwidth,l=(i+l1e.itemGap*2)/2,f=uP(l,0),s=function(_,g,h,S){var d;if(_+1)d=_;else if(g&&g.width>0)d=g.width;else return 0;return o?S:Math.min(d,h)};r.each(function(_){var g=Do.select(this),h=yo.ensureSingle(g,"g","layers");h.style("opacity",_[0].trace.opacity);var S=n.indentation,d=n.valign,R=_[0].lineHeight,L=_[0].height;if(d==="middle"&&S===0||!R||!L)h.attr("transform",null);else{var F={top:1,bottom:-1}[d],O=F*(.5*(R-L+3))||0,P=n.indentation;h.attr("transform",uP(P,O))}var I=h.selectAll("g.legendfill").data([_]);I.enter().append("g").classed("legendfill",!0);var k=h.selectAll("g.legendlines").data([_]);k.enter().append("g").classed("legendlines",!0);var D=h.selectAll("g.legendsymbols").data([_]);D.enter().append("g").classed("legendsymbols",!0),D.selectAll("g.legendpoints").data([_]).enter().append("g").classed("legendpoints",!0)}).each(p).each(v).each(m).each(x).each(A).each(b).each(E).each(u).each(c).each(y).each(M);function u(_){var g=vP(_),h=g.showFill,S=g.showLine,d=g.showGradientLine,R=g.showGradientFill,L=g.anyFill,F=g.anyLine,O=_[0],P=O.trace,I,k,D=r6(P),z=D.colorscale,q=D.reversescale,j=function(J){if(J.size())if(h)Xl.fillGroupStyle(J,t,!0);else{var le="legendfill-"+P.uid;Xl.gradient(J,t,le,t6(q),z,"fill")}},Q=function(J){if(J.size()){var le="legendline-"+P.uid;Xl.lineGroupStyle(J),Xl.gradient(J,t,le,t6(q),z,"stroke")}},K=Q3.hasMarkers(P)||!L?"M5,0":F?"M5,-2":"M5,-3",G=Do.select(this),B=G.select(".legendfill").selectAll("path").data(h||R?[_]:[]);if(B.enter().append("path").classed("js-fill",!0),B.exit().remove(),B.attr("d",K+"h"+i+"v6h-"+i+"z").call(j),S||d){var Z=s(void 0,P.line,s1e,hP);k=yo.minExtend(P,{line:{width:Z}}),I=[yo.minExtend(O,{trace:k})]}var ie=G.select(".legendlines").selectAll("path").data(S||d?[I]:[]);ie.enter().append("path").classed("js-line",!0),ie.exit().remove(),ie.attr("d",K+(d?"l"+i+",0.0001":"h"+i)).call(S?Xl.lineGroupStyle:Q)}function c(_){var g=vP(_),h=g.anyFill,S=g.anyLine,d=g.showLine,R=g.showMarker,L=_[0],F=L.trace,O=!R&&!S&&!h&&Q3.hasText(F),P,I;function k(B,Z,ie,J){var le=yo.nestedProperty(F,B).get(),te=yo.isArrayOrTypedArray(le)&&Z?Z(le):le;if(o&&te&&J!==void 0&&(te=J),ie){if(te<ie[0])return ie[0];if(te>ie[1])return ie[1]}return te}function D(B){return L._distinct&&L.index&&B[L.index]?B[L.index]:B[0]}if(R||O||d){var z={},q={};if(R){z.mc=k("marker.color",D),z.mx=k("marker.symbol",D),z.mo=k("marker.opacity",yo.mean,[.2,1]),z.mlc=k("marker.line.color",D),z.mlw=k("marker.line.width",yo.mean,[0,5],cv),q.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var j=k("marker.size",yo.mean,[2,16],cP);z.ms=j,q.marker.size=j}d&&(q.line={width:k("line.width",D,[0,10],hP)}),O&&(z.tx="Aa",z.tp=k("textposition",D),z.ts=10,z.tc=k("textfont.color",D),z.tf=k("textfont.family",D),z.tw=k("textfont.weight",D),z.ty=k("textfont.style",D),z.tv=k("textfont.variant",D),z.tC=k("textfont.textcase",D),z.tE=k("textfont.lineposition",D),z.tS=k("textfont.shadow",D)),P=[yo.minExtend(L,z)],I=yo.minExtend(F,q),I.selectedpoints=null,I.texttemplate=null}var Q=Do.select(this).select("g.legendpoints"),K=Q.selectAll("path.scatterpts").data(R?P:[]);K.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",f),K.exit().remove(),K.call(Xl.pointStyle,I,t),R&&(P[0].mrc=3);var G=Q.selectAll("g.pointtext").data(O?P:[]);G.enter().append("g").classed("pointtext",!0).append("text").attr("transform",f),G.exit().remove(),G.selectAll("text").call(Xl.textPointStyle,I,t)}function v(_){var g=_[0].trace,h=g.type==="waterfall";if(_[0]._distinct&&h){var S=_[0].trace[_[0].dir].marker;return _[0].mc=S.color,_[0].mlw=S.line.width,_[0].mlc=S.line.color,w(_,this,"waterfall")}var d=[];g.visible&&h&&(d=_[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var R=Do.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(d);R.enter().append("path").classed("legendwaterfall",!0).attr("transform",f).style("stroke-miterlimit",1),R.exit().remove(),R.each(function(L){var F=Do.select(this),O=g[L[0]].marker,P=s(void 0,O.line,u1,cv);F.attr("d",L[1]).style("stroke-width",P+"px").call(ds.fill,O.color),P&&F.call(ds.stroke,O.line.color)})}function x(_){w(_,this)}function m(_){w(_,this,"funnel")}function w(_,g,h){var S=_[0].trace,d=S.marker||{},R=d.line||{},L=d.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",F=h?S.visible&&S.type===h:e6.traceIs(S,"bar"),O=Do.select(g).select("g.legendpoints").selectAll("path.legend"+h).data(F?[_]:[]);O.enter().append("path").classed("legend"+h,!0).attr("d",L).attr("transform",f),O.exit().remove(),O.each(function(P){var I=Do.select(this),k=P[0],D=s(k.mlw,d.line,u1,cv);I.style("stroke-width",D+"px");var z=k.mcc;if(!n._inHover&&"mc"in k){var q=r6(d),j=q.mid;j===void 0&&(j=(q.max+q.min)/2),z=Xl.tryColorscale(d,"")(j)}var Q=z||k.mc||d.color,K=d.pattern,G=Xl.getPatternAttr,B=K&&(G(K.shape,0,"")||G(K.path,0,""));if(B){var Z=G(K.bgcolor,0,null),ie=G(K.fgcolor,0,null),J=K.fgopacity,le=dP(K.size,8,10),te=dP(K.solidity,.5,1),V="legend-"+S.uid;I.call(Xl.pattern,"legend",t,V,B,le,te,z,K.fillmode,Z,ie,J)}else I.call(ds.fill,Q);D&&ds.stroke(I,k.mlc||R.color)})}function A(_){var g=_[0].trace,h=Do.select(this).select("g.legendpoints").selectAll("path.legendbox").data(g.visible&&e6.traceIs(g,"box-violin")?[_]:[]);h.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",f),h.exit().remove(),h.each(function(){var S=Do.select(this);if((g.boxpoints==="all"||g.points==="all")&&ds.opacity(g.fillcolor)===0&&ds.opacity((g.line||{}).color)===0){var d=yo.minExtend(g,{marker:{size:o?cP:yo.constrain(g.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});h.call(Xl.pointStyle,d,t)}else{var R=s(void 0,g.line,u1,cv);S.style("stroke-width",R+"px").call(ds.fill,g.fillcolor),R&&ds.stroke(S,g.line.color)}})}function y(_){var g=_[0].trace,h=Do.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(g.visible&&g.type==="candlestick"?[_,_]:[]);h.enter().append("path").classed("legendcandle",!0).attr("d",function(S,d){return d?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",f).style("stroke-miterlimit",1),h.exit().remove(),h.each(function(S,d){var R=Do.select(this),L=g[d?"increasing":"decreasing"],F=s(void 0,L.line,u1,cv);R.style("stroke-width",F+"px").call(ds.fill,L.fillcolor),F&&ds.stroke(R,L.line.color)})}function M(_){var g=_[0].trace,h=Do.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(g.visible&&g.type==="ohlc"?[_,_]:[]);h.enter().append("path").classed("legendohlc",!0).attr("d",function(S,d){return d?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",f).style("stroke-miterlimit",1),h.exit().remove(),h.each(function(S,d){var R=Do.select(this),L=g[d?"increasing":"decreasing"],F=s(void 0,L.line,u1,cv);R.style("fill","none").call(Xl.dashLine,L.line.dash,F),F&&ds.stroke(R,L.line.color)})}function E(_){T(_,this,"pie")}function b(_){T(_,this,"funnelarea")}function T(_,g,h){var S=_[0],d=S.trace,R=h?d.visible&&d.type===h:e6.traceIs(d,h),L=Do.select(g).select("g.legendpoints").selectAll("path.legend"+h).data(R?[_]:[]);if(L.enter().append("path").classed("legend"+h,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",f),L.exit().remove(),L.size()){var F=d.marker||{},O=s(o1e(F.line.width,S.pts),F.line,u1,cv),P="pieLike",I=yo.minExtend(d,{marker:{line:{width:O}}},P),k=yo.minExtend(S,{trace:I},P);i1e(L,k,I,t)}}function p(_){var g=_[0].trace,h,S=[];if(g.visible)switch(g.type){case"histogram2d":case"heatmap":S=[["M-15,-2V4H15V-2Z"]],h=!0;break;case"choropleth":case"choroplethmapbox":case"choroplethmap":S=[["M-6,-6V6H6V-6Z"]],h=!0;break;case"densitymapbox":case"densitymap":S=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],h="radial";break;case"cone":S=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],h=!1;break;case"streamtube":S=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],h=!1;break;case"surface":S=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],h=!0;break;case"mesh3d":S=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],h=!1;break;case"volume":S=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],h=!0;break;case"isosurface":S=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],h=!1;break}var d=Do.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(S);d.enter().append("path").classed("legend3dandfriends",!0).attr("transform",f).style("stroke-miterlimit",1),d.exit().remove(),d.each(function(R,L){var F=Do.select(this),O=r6(g),P=O.colorscale,I=O.reversescale,k=function(j){if(j.size()){var Q="legendfill-"+g.uid;Xl.gradient(j,t,Q,t6(I,h==="radial"),P,"fill")}},D;if(P){if(!h){var q=P.length;D=L===0?P[I?q-1:0][1]:L===1?P[I?0:q-1][1]:P[Math.floor((q-1)/2)][1]}}else{var z=g.vertexcolor||g.facecolor||g.color;D=yo.isArrayOrTypedArray(z)?z[L]||z[0]:z}F.attr("d",R[0]),D?F.call(ds.fill,D):F.call(k)})}};function t6(e,r){var t=r?"radial":"horizontal";return t+(e?"":"reversed")}function vP(e){var r=e[0].trace,t=r.contours,n=Q3.hasLines(r),a=Q3.hasMarkers(r),o=r.visible&&r.fill&&r.fill!=="none",i=!1,l=!1;if(t){var f=t.coloring;f==="lines"?i=!0:n=f==="none"||f==="heatmap"||t.showlines,t.type==="constraint"?o=t._operation!=="=":(f==="fill"||f==="heatmap")&&(l=!0)}return{showMarker:a,showLine:n,showFill:o,showGradientLine:i,showGradientFill:l,anyLine:n||i,anyFill:o||l}}function dP(e,r,t){return e&&yo.isArrayOrTypedArray(e)?r:e>t?t:e}});var l6=fe((cOe,MP)=>{"use strict";var xl=Ln(),di=tt(),i6=ci(),v1=Qt(),gP=Yd(),a6=nf(),pi=ta(),rx=xn(),hv=po(),yP=KI(),Ai=KA(),o6=Ro(),AP=o6.LINE_SPACING,h1=o6.FROM_TL,mP=o6.FROM_BR,xP=tP(),f1e=n6(),bP=J3(),c1=1,u1e=/^legend[0-9]*$/;MP.exports=function(r,t){if(t)_P(r,t);else{var n=r._fullLayout,a=n._legends,o=n._infolayer.selectAll('[class^="legend"]');o.each(function(){var s=xl.select(this),u=s.attr("class"),c=u.split(" ")[0];c.match(u1e)&&a.indexOf(c)===-1&&s.remove()});for(var i=0;i<a.length;i++){var l=a[i],f=r._fullLayout[l];_P(r,f)}}};function c1e(e,r,t){if(!(r.title.side!=="top center"&&r.title.side!=="top right")){var n=r.title.font,a=n.size*AP,o=0,i=e.node(),l=pi.bBox(i).width;r.title.side==="top center"?o=.5*(r._width-2*t-2*Ai.titlePad-l):r.title.side==="top right"&&(o=r._width-2*t-2*Ai.titlePad-l),hv.positionText(e,t+Ai.titlePad+o,t+a)}}function _P(e,r){var t=r||{},n=e._fullLayout,a=ix(t),o,i,l=t._inHover;if(l?(i=t.layer,o="hover"):(i=n._infolayer,o=a),!!i){o+=n._uid,e._legendMouseDownTime||(e._legendMouseDownTime=0);var f;if(l){if(!t.entries)return;f=xP(t.entries,t)}else{for(var s=(e.calcdata||[]).slice(),u=n.shapes,c=0;c<u.length;c++){var v=u[c];if(v.showlegend){var x={_isShape:!0,_fullInput:v,index:v._index,name:v.name||v.label.text||"shape "+v._index,legend:v.legend,legendgroup:v.legendgroup,legendgrouptitle:v.legendgrouptitle,legendrank:v.legendrank,legendwidth:v.legendwidth,showlegend:v.showlegend,visible:v.visible,opacity:v.opacity,mode:v.type==="line"?"lines":"markers",line:v.line,marker:{line:v.line,color:v.fillcolor,size:12,symbol:v.type==="rect"?"square":v.type==="circle"?"circle":"hexagon2"}};s.push([{trace:x}])}}f=n.showlegend&&xP(s,t,n._legends.length>1)}var m=n.hiddenlabels||[];if(!l&&(!n.showlegend||!f.length))return i.selectAll("."+a).remove(),n._topdefs.select("#"+o).remove(),i6.autoMargin(e,a);var w=di.ensureSingle(i,"g",a,function(g){l||g.attr("pointer-events","all")}),A=di.ensureSingleById(n._topdefs,"clipPath",o,function(g){g.append("rect")}),y=di.ensureSingle(w,"rect","bg",function(g){g.attr("shape-rendering","crispEdges")});y.call(rx.stroke,t.bordercolor).call(rx.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px");var M=di.ensureSingle(w,"g","scrollbox"),E=t.title;t._titleWidth=0,t._titleHeight=0;var b;E.text?(b=di.ensureSingle(M,"text",a+"titletext"),b.attr("text-anchor","start").call(pi.font,E.font).text(E.text),tx(b,M,e,t,c1)):M.selectAll("."+a+"titletext").remove();var T=di.ensureSingle(w,"rect","scrollbar",function(g){g.attr(Ai.scrollBarEnterAttrs).call(rx.fill,Ai.scrollBarColor)}),p=M.selectAll("g.groups").data(f);p.enter().append("g").attr("class","groups"),p.exit().remove();var _=p.selectAll("g.traces").data(di.identity);_.enter().append("g").attr("class","traces"),_.exit().remove(),_.style("opacity",function(g){var h=g[0].trace;return v1.traceIs(h,"pie-like")?m.indexOf(g[0].label)!==-1?.5:1:h.visible==="legendonly"?.5:1}).each(function(){xl.select(this).call(h1e,e,t)}).call(f1e,e,t).each(function(){l||xl.select(this).call(v1e,e,a)}),di.syncOrAsync([i6.previousPromises,function(){return g1e(e,p,_,t)},function(){var g=n._size,h=t.borderwidth,S=t.xref==="paper",d=t.yref==="paper";if(E.text&&c1e(b,t,h),!l){var R,L;S?R=g.l+g.w*t.x-h1[nx(t)]*t._width:R=n.width*t.x-h1[nx(t)]*t._width,d?L=g.t+g.h*(1-t.y)-h1[ax(t)]*t._effHeight:L=n.height*(1-t.y)-h1[ax(t)]*t._effHeight;var F=y1e(e,a,R,L);if(F)return;if(n.margin.autoexpand){var O=R,P=L;R=S?di.constrain(R,0,n.width-t._width):O,L=d?di.constrain(L,0,n.height-t._effHeight):P,R!==O&&di.log("Constrain "+a+".x to make legend fit inside graph"),L!==P&&di.log("Constrain "+a+".y to make legend fit inside graph")}pi.setTranslate(w,R,L)}if(T.on(".drag",null),w.on("wheel",null),l||t._height<=t._maxHeight||e._context.staticPlot){var I=t._effHeight;l&&(I=t._height),y.attr({width:t._width-h,height:I-h,x:h/2,y:h/2}),pi.setTranslate(M,0,0),A.select("rect").attr({width:t._width-2*h,height:I-2*h,x:h,y:h}),pi.setClipUrl(M,o,e),pi.setRect(T,0,0,0,0),delete t._scrollY}else{var k=Math.max(Ai.scrollBarMinHeight,t._effHeight*t._effHeight/t._height),D=t._effHeight-k-2*Ai.scrollBarMargin,z=t._height-t._effHeight,q=D/z,j=Math.min(t._scrollY||0,z);y.attr({width:t._width-2*h+Ai.scrollBarWidth+Ai.scrollBarMargin,height:t._effHeight-h,x:h/2,y:h/2}),A.select("rect").attr({width:t._width-2*h+Ai.scrollBarWidth+Ai.scrollBarMargin,height:t._effHeight-2*h,x:h,y:h+j}),pi.setClipUrl(M,o,e),le(j,k,q),w.on("wheel",function(){j=di.constrain(t._scrollY+xl.event.deltaY/D*z,0,z),le(j,k,q),j!==0&&j!==z&&xl.event.preventDefault()});var Q,K,G,B=function(oe,pe,we){var De=(we-pe)/q+oe;return di.constrain(De,0,z)},Z=function(oe,pe,we){var De=(pe-we)/q+oe;return di.constrain(De,0,z)},ie=xl.behavior.drag().on("dragstart",function(){var oe=xl.event.sourceEvent;oe.type==="touchstart"?Q=oe.changedTouches[0].clientY:Q=oe.clientY,G=j}).on("drag",function(){var oe=xl.event.sourceEvent;oe.buttons===2||oe.ctrlKey||(oe.type==="touchmove"?K=oe.changedTouches[0].clientY:K=oe.clientY,j=B(G,Q,K),le(j,k,q))});T.call(ie);var J=xl.behavior.drag().on("dragstart",function(){var oe=xl.event.sourceEvent;oe.type==="touchstart"&&(Q=oe.changedTouches[0].clientY,G=j)}).on("drag",function(){var oe=xl.event.sourceEvent;oe.type==="touchmove"&&(K=oe.changedTouches[0].clientY,j=Z(G,Q,K),le(j,k,q))});M.call(J)}function le(oe,pe,we){t._scrollY=e._fullLayout[a]._scrollY=oe,pi.setTranslate(M,0,-oe),pi.setRect(T,t._width,Ai.scrollBarMargin+oe*we,Ai.scrollBarWidth,pe),A.select("rect").attr("y",h+oe)}if(e._context.edits.legendPosition){var te,V,ne,Y;w.classed("cursor-move",!0),a6.init({element:w.node(),gd:e,prepFn:function(oe){if(oe.target!==T.node()){var pe=pi.getTranslate(w);ne=pe.x,Y=pe.y}},moveFn:function(oe,pe){if(ne!==void 0&&Y!==void 0){var we=ne+oe,De=Y+pe;pi.setTranslate(w,we,De),te=a6.align(we,t._width,g.l,g.l+g.w,t.xanchor),V=a6.align(De+t._height,-t._height,g.t+g.h,g.t,t.yanchor)}},doneFn:function(){if(te!==void 0&&V!==void 0){var oe={};oe[a+".x"]=te,oe[a+".y"]=V,v1.call("_guiRelayout",e,oe)}},clickFn:function(oe,pe){var we=i.selectAll("g.traces").filter(function(){var De=this.getBoundingClientRect();return pe.clientX>=De.left&&pe.clientX<=De.right&&pe.clientY>=De.top&&pe.clientY<=De.bottom});we.size()>0&&TP(e,w,we,oe,pe)}})}}],e)}}function ex(e,r,t){var n=e[0],a=n.width,o=r.entrywidthmode,i=n.trace.legendwidth||r.entrywidth;return o==="fraction"?r._maxWidth*i:t+(i||a)}function TP(e,r,t,n,a){var o=t.data()[0][0].trace,i={event:a,node:t.node(),curveNumber:o.index,expandedIndex:o.index,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};o._group&&(i.group=o._group),v1.traceIs(o,"pie-like")&&(i.label=t.datum()[0].label);var l=gP.triggerHandler(e,"plotly_legendclick",i);if(n===1){if(l===!1)return;r._clickTimeout=setTimeout(function(){e._fullLayout&&yP(t,e,n)},e._context.doubleClickDelay)}else if(n===2){r._clickTimeout&&clearTimeout(r._clickTimeout),e._legendMouseDownTime=0;var f=gP.triggerHandler(e,"plotly_legenddoubleclick",i);f!==!1&&l!==!1&&yP(t,e,n)}}function h1e(e,r,t){var n=ix(t),a=e.data()[0][0],o=a.trace,i=v1.traceIs(o,"pie-like"),l=!t._inHover&&r._context.edits.legendText&&!i,f=t._maxNameLength,s,u;a.groupTitle?(s=a.groupTitle.text,u=a.groupTitle.font):(u=t.font,t.entries?s=a.text:(s=i?a.label:o.name,o._meta&&(s=di.templateString(s,o._meta))));var c=di.ensureSingle(e,"text",n+"text");c.attr("text-anchor","start").call(pi.font,u).text(l?wP(s,f):s);var v=t.indentation+t.itemwidth+Ai.itemGap*2;hv.positionText(c,v,0),l?c.call(hv.makeEditable,{gd:r,text:s}).call(tx,e,r,t).on("edit",function(x){this.text(wP(x,f)).call(tx,e,r,t);var m=a.trace._fullInput||{},w={};return w.name=x,m._isShape?v1.call("_guiRelayout",r,"shapes["+o.index+"].name",w.name):v1.call("_guiRestyle",r,w,o.index)}):tx(c,e,r,t)}function wP(e,r){var t=Math.max(4,r);if(e&&e.trim().length>=t/2)return e;e=e||"";for(var n=t-e.length;n>0;n--)e+=" ";return e}function v1e(e,r,t){var n=r._context.doubleClickDelay,a,o=1,i=di.ensureSingle(e,"rect",t+"toggle",function(l){r._context.staticPlot||l.style("cursor","pointer").attr("pointer-events","all"),l.call(rx.fill,"rgba(0,0,0,0)")});r._context.staticPlot||(i.on("mousedown",function(){a=new Date().getTime(),a-r._legendMouseDownTime<n?o+=1:(o=1,r._legendMouseDownTime=a)}),i.on("mouseup",function(){if(!(r._dragged||r._editing)){var l=r._fullLayout[t];new Date().getTime()-r._legendMouseDownTime>n&&(o=Math.max(o-1,1)),TP(r,l,e,o,xl.event)}}))}function tx(e,r,t,n,a){n._inHover&&e.attr("data-notex",!0),hv.convertToTspans(e,t,function(){d1e(r,t,n,a)})}function d1e(e,r,t,n){var a=e.data()[0][0];if(!t._inHover&&a&&!a.trace.showlegend){e.remove();return}var o=e.select("g[class*=math-group]"),i=o.node(),l=ix(t);t||(t=r._fullLayout[l]);var f=t.borderwidth,s;n===c1?s=t.title.font:a.groupTitle?s=a.groupTitle.font:s=t.font;var u=s.size*AP,c,v;if(i){var x=pi.bBox(i);c=x.height,v=x.width,n===c1?pi.setTranslate(o,f,f+c*.75):pi.setTranslate(o,0,c*.25)}else{var m="."+l+(n===c1?"title":"")+"text",w=e.select(m),A=hv.lineCount(w),y=w.node();if(c=u*A,v=y?pi.bBox(y).width:0,n===c1)t.title.side==="left"&&(v+=Ai.itemGap*2),hv.positionText(w,f+Ai.titlePad,f+u);else{var M=Ai.itemGap*2+t.indentation+t.itemwidth;a.groupTitle&&(M=Ai.itemGap,v-=t.indentation+t.itemwidth),hv.positionText(w,M,-u*((A-1)/2-.3))}}n===c1?(t._titleWidth=v,t._titleHeight=c):(a.lineHeight=u,a.height=Math.max(c,16)+3,a.width=v)}function p1e(e){var r=0,t=0,n=e.title.side;return n&&(n.indexOf("left")!==-1&&(r=e._titleWidth),n.indexOf("top")!==-1&&(t=e._titleHeight)),[r,t]}function g1e(e,r,t,n){var a=e._fullLayout,o=ix(n);n||(n=a[o]);var i=a._size,l=bP.isVertical(n),f=bP.isGrouped(n),s=n.entrywidthmode==="fraction",u=n.borderwidth,c=2*u,v=Ai.itemGap,x=n.indentation+n.itemwidth+v*2,m=2*(u+v),w=ax(n),A=n.y<0||n.y===0&&w==="top",y=n.y>1||n.y===1&&w==="bottom",M=n.tracegroupgap,E={};let{orientation:b,yref:T}=n,{maxheight:p}=n,_=A||y||b!=="v"||T!=="paper";p||(p=_?.5:1);let g=_?a.height:i.h;n._maxHeight=Math.max(p>1?p:p*g,30);var h=0;n._width=0,n._height=0;var S=p1e(n);if(l)t.each(function(le){var te=le[0].height;pi.setTranslate(this,u+S[0],u+S[1]+n._height+te/2+v),n._height+=te,n._width=Math.max(n._width,le[0].width)}),h=x+n._width,n._width+=v+x+c,n._height+=m,f&&(r.each(function(le,te){pi.setTranslate(this,0,te*n.tracegroupgap)}),n._height+=(n._lgroupsLength-1)*n.tracegroupgap);else{var d=nx(n),R=n.x<0||n.x===0&&d==="right",L=n.x>1||n.x===1&&d==="left",F=y||A,O=a.width/2;n._maxWidth=Math.max(R?F&&d==="left"?i.l+i.w:O:L?F&&d==="right"?i.r+i.w:O:i.w,2*x);var P=0,I=0;t.each(function(le){var te=ex(le,n,x);P=Math.max(P,te),I+=te}),h=null;var k=0;if(f){var D=0,z=0,q=0;r.each(function(){var le=0,te=0;xl.select(this).selectAll("g.traces").each(function(ne){var Y=ex(ne,n,x),oe=ne[0].height;pi.setTranslate(this,S[0],S[1]+u+v+oe/2+te),te+=oe,le=Math.max(le,Y),E[ne[0].trace.legendgroup]=le});var V=le+v;z>0&&V+u+z>n._maxWidth?(k=Math.max(k,z),z=0,q+=D+M,D=te):D=Math.max(D,te),pi.setTranslate(this,z,q),z+=V}),n._width=Math.max(k,z)+u,n._height=q+D+m}else{var j=t.size(),Q=I+c+(j-1)*v<n._maxWidth,K=0,G=0,B=0,Z=0;t.each(function(le){var te=le[0].height,V=ex(le,n,x,f),ne=Q?V:P;s||(ne+=v),ne+u+G-v>=n._maxWidth&&(k=Math.max(k,Z),G=0,B+=K,n._height+=K,K=0),pi.setTranslate(this,S[0]+u+G,S[1]+u+B+te/2+v),Z=G+V+v,G+=ne,K=Math.max(K,te)}),Q?(n._width=G+c,n._height=K+m):(n._width=Math.max(k,Z)+c,n._height+=K+m)}}n._width=Math.ceil(Math.max(n._width+S[0],n._titleWidth+2*(u+Ai.titlePad))),n._height=Math.ceil(Math.max(n._height+S[1],n._titleHeight+2*(u+Ai.itemGap))),n._effHeight=Math.min(n._height,n._maxHeight);var ie=e._context.edits,J=ie.legendText||ie.legendPosition;t.each(function(le){var te=xl.select(this).select("."+o+"toggle"),V=le[0].height,ne=le[0].trace.legendgroup,Y=ex(le,n,x);f&&ne!==""&&(Y=E[ne]);var oe=J?x:h||Y;!l&&!s&&(oe+=v/2),pi.setRect(te,0,-V/2,oe,V)})}function y1e(e,r,t,n){var a=e._fullLayout,o=a[r],i=nx(o),l=ax(o),f=o.xref==="paper",s=o.yref==="paper";e._fullLayout._reservedMargin[r]={};var u=o.y<.5?"b":"t",c=o.x<.5?"l":"r",v={r:a.width-t,l:t+o._width,b:a.height-n,t:n+o._effHeight};if(f&&s)return i6.autoMargin(e,r,{x:o.x,y:o.y,l:o._width*h1[i],r:o._width*mP[i],b:o._effHeight*mP[l],t:o._effHeight*h1[l]});f?e._fullLayout._reservedMargin[r][u]=v[u]:s||o.orientation==="v"?e._fullLayout._reservedMargin[r][c]=v[c]:e._fullLayout._reservedMargin[r][u]=v[u]}function nx(e){return di.isRightAnchor(e)?"right":di.isCenterAnchor(e)?"center":"left"}function ax(e){return di.isBottomAnchor(e)?"bottom":di.isMiddleAnchor(e)?"middle":"top"}function ix(e){return e._id||"legend"}});var c6=fe(u6=>{"use strict";var vv=Ln(),Qu=kn(),EP=fl(),Ga=tt(),m1e=Ga.pushUnique,s6=Ga.strTranslate,x1e=Ga.strRotate,b1e=Yd(),ps=po(),_1e=jI(),eu=ta(),Pi=xn(),ox=nf(),ru=Fa(),w1e=Ji().zindexSeparator,p1=Qt(),af=hs(),dv=Tg(),A1e=ZA(),T1e=l6(),IP=dv.YANGLE,f6=Math.PI*IP/180,M1e=1/Math.sin(f6),E1e=Math.cos(f6),S1e=Math.sin(f6),ka=dv.HOVERARROWSIZE,In=dv.HOVERTEXTPAD,SP={box:!0,ohlc:!0,violin:!0,candlestick:!0},C1e={scatter:!0,scattergl:!0,splom:!0};function CP(e,r){return e.distance-r.distance}u6.hover=function(r,t,n,a){r=Ga.getGraphDiv(r);var o=t.target;Ga.throttle(r._fullLayout._uid+dv.HOVERID,dv.HOVERMINTIME,function(){k1e(r,t,n,a,o)})};u6.loneHover=function(r,t){var n=!0;Array.isArray(r)||(n=!1,r=[r]);var a=t.gd,o=zP(a),i=qP(a),l=r.map(function(A){var y=A._x0||A.x0||A.x||0,M=A._x1||A.x1||A.x||0,E=A._y0||A.y0||A.y||0,b=A._y1||A.y1||A.y||0,T=A.eventData;if(T){var p=Math.min(y,M),_=Math.max(y,M),g=Math.min(E,b),h=Math.max(E,b),S=A.trace;if(p1.traceIs(S,"gl3d")){var d=a._fullLayout[S.scene]._scene.container,R=d.offsetLeft,L=d.offsetTop;p+=R,_+=R,g+=L,h+=L}T.bbox={x0:p+i,x1:_+i,y0:g+o,y1:h+o},t.inOut_bbox&&t.inOut_bbox.push(T.bbox)}else T=!1;return{color:A.color||Pi.defaultLine,x0:A.x0||A.x||0,x1:A.x1||A.x||0,y0:A.y0||A.y||0,y1:A.y1||A.y||0,xLabel:A.xLabel,yLabel:A.yLabel,zLabel:A.zLabel,text:A.text,name:A.name,idealAlign:A.idealAlign,borderColor:A.borderColor,fontFamily:A.fontFamily,fontSize:A.fontSize,fontColor:A.fontColor,fontWeight:A.fontWeight,fontStyle:A.fontStyle,fontVariant:A.fontVariant,nameLength:A.nameLength,textAlign:A.textAlign,trace:A.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:A.hovertemplate||!1,hovertemplateLabels:A.hovertemplateLabels||!1,eventData:T}}),f=!1,s=OP(l,{gd:a,hovermode:"closest",rotateLabels:f,bgColor:t.bgColor||Pi.background,container:vv.select(t.container),outerContainer:t.outerContainer||t.container}),u=s.hoverLabels,c=5,v=0,x=0;u.sort(function(A,y){return A.y0-y.y0}).each(function(A,y){var M=A.y0-A.by/2;M-c<v?A.offset=v-M+c:A.offset=0,v=M+A.by+A.offset,y===t.anchorIndex&&(x=A.offset)}).each(function(A){A.offset-=x});var m=a._fullLayout._invScaleX,w=a._fullLayout._invScaleY;return BP(u,f,m,w),n?u:u.node()};function k1e(e,r,t,n,a){t||(t="xy"),typeof t=="string"&&(t=t.split(w1e)[0]);var o=Array.isArray(t)?t:[t],i,l=e._fullLayout,f=l.hoversubplots,s=l._plots||[],u=s[t],c=l._has("cartesian"),v=r.hovermode||l.hovermode,x=(v||"").charAt(0)==="x",m=(v||"").charAt(0)==="y",w,A;if(c&&(x||m)&&f==="axis"){for(var y=o.length,M=0;M<y;M++)if(i=o[M],s[i]){w=ru.getFromId(e,i,"x"),A=ru.getFromId(e,i,"y");var E=(x?w:A)._subplotsWith;if(E&&E.length)for(var b=0;b<E.length;b++)m1e(o,E[b])}}if(u&&f!=="single"){var T=u.overlays.map(function(_t){return _t.id});o=o.concat(T)}for(var p=o.length,_=new Array(p),g=new Array(p),h=!1,S=0;S<p;S++)if(i=o[S],s[i])h=!0,_[S]=s[i].xaxis,g[S]=s[i].yaxis;else if(l[i]&&l[i]._subplot){var d=l[i]._subplot;_[S]=d.xaxis,g[S]=d.yaxis}else{Ga.warn("Unrecognized subplot: "+i);return}if(v&&!h&&(v="closest"),["x","y","closest","x unified","y unified"].indexOf(v)===-1||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return ox.unhoverRaw(e,r);var R=l.hoverdistance;R===-1&&(R=1/0);var L=l.spikedistance;L===-1&&(L=1/0);var F=[],O=[],P,I,k,D,z,q,j,Q,K,G,B,Z,ie,J={hLinePoint:null,vLinePoint:null},le=!1;if(Array.isArray(r))for(v="array",k=0;k<r.length;k++)z=e.calcdata[r[k].curveNumber||0],z&&(q=z[0].trace,z[0].trace.hoverinfo!=="skip"&&(O.push(z),q.orientation==="h"&&(le=!0)));else{var te=e.calcdata.slice();for(te.sort(function(_t,Jt){var Ut=_t[0].trace.zorder||0,$t=Jt[0].trace.zorder||0;return Ut-$t}),D=0;D<te.length;D++)z=te[D],q=z[0].trace,q.hoverinfo!=="skip"&&af.isTraceInSubplots(q,o)&&(O.push(z),q.orientation==="h"&&(le=!0));var V=!a,ne,Y;if(V)"xpx"in r?ne=r.xpx:ne=_[0]._length/2,"ypx"in r?Y=r.ypx:Y=g[0]._length/2;else{if(b1e.triggerHandler(e,"plotly_beforehover",r)===!1)return;var oe=a.getBoundingClientRect();ne=r.clientX-oe.left,Y=r.clientY-oe.top,l._calcInverseTransform(e);var pe=Ga.apply3DTransform(l._invTransform)(ne,Y);if(ne=pe[0],Y=pe[1],ne<0||ne>_[0]._length||Y<0||Y>g[0]._length)return ox.unhoverRaw(e,r)}if(r.pointerX=ne+_[0]._offset,r.pointerY=Y+g[0]._offset,"xval"in r?P=af.flat(o,r.xval):P=af.p2c(_,ne),"yval"in r?I=af.flat(o,r.yval):I=af.p2c(g,Y),!Qu(P[0])||!Qu(I[0]))return Ga.warn("Fx.hover failed",r,e),ox.unhoverRaw(e,r)}var we=1/0;function De(_t,Jt){for(D=0;D<O.length;D++)if(z=O[D],!(!z||!z[0]||!z[0].trace)&&(q=z[0].trace,!(q.visible!==!0||q._length===0)&&["carpet","contourcarpet"].indexOf(q._module.name)===-1)){if(K=v,af.isUnifiedHover(K)&&(K=K.charAt(0)),q.type==="splom"?(Q=0,j=o[Q]):(j=af.getSubplot(q),Q=o.indexOf(j)),Z={cd:z,trace:q,xa:_[Q],ya:g[Q],maxHoverDistance:R,maxSpikeDistance:L,index:!1,distance:Math.min(we,R),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:Pi.defaultLine,name:q.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},l[j]&&(Z.subplot=l[j]._subplot),l._splomScenes&&l._splomScenes[q.uid]&&(Z.scene=l._splomScenes[q.uid]),K==="array"){var Ut=r[D];"pointNumber"in Ut?(Z.index=Ut.pointNumber,K="closest"):(K="","xval"in Ut&&(G=Ut.xval,K="x"),"yval"in Ut&&(B=Ut.yval,K=K?"closest":"y"))}else _t!==void 0&&Jt!==void 0?(G=_t,B=Jt):(G=P[Q],B=I[Q]);if(ie=F.length,R!==0)if(q._module&&q._module.hoverPoints){var $t=q._module.hoverPoints(Z,G,B,K,{finiteRange:!0,hoverLayer:l._hoverlayer,hoversubplots:f,gd:e});if($t)for(var cn,jt=0;jt<$t.length;jt++)cn=$t[jt],Qu(cn.x0)&&Qu(cn.y0)&&F.push(D1e(cn,v))}else Ga.log("Unrecognized trace type in hover:",q);if(v==="closest"&&F.length>ie&&(F.splice(0,ie),we=F[0].distance),c&&L!==0&&F.length===0){Z.distance=L,Z.index=!1;var Kt=q._module.hoverPoints(Z,G,B,"closest",{hoverLayer:l._hoverlayer});if(Kt&&(Kt=Kt.filter(function(Mn){return Mn.spikeDistance<=L})),Kt&&Kt.length){var _n,Cn=Kt.filter(function(Mn){return Mn.xa.showspikes&&Mn.xa.spikesnap!=="hovered data"});if(Cn.length){var ua=Cn[0];Qu(ua.x0)&&Qu(ua.y0)&&(_n=Ae(ua),(!J.vLinePoint||J.vLinePoint.spikeDistance>_n.spikeDistance)&&(J.vLinePoint=_n))}var ra=Kt.filter(function(Mn){return Mn.ya.showspikes&&Mn.ya.spikesnap!=="hovered data"});if(ra.length){var la=ra[0];Qu(la.x0)&&Qu(la.y0)&&(_n=Ae(la),(!J.hLinePoint||J.hLinePoint.spikeDistance>_n.spikeDistance)&&(J.hLinePoint=_n))}}}}}De();function Re(_t,Jt,Ut){for(var $t=null,cn=1/0,jt,Kt=0;Kt<_t.length;Kt++)w&&w._id!==_t[Kt].xa._id||A&&A._id!==_t[Kt].ya._id||(jt=_t[Kt].spikeDistance,Ut&&Kt===0&&(jt=-1/0),jt<=cn&&jt<=Jt&&($t=_t[Kt],cn=jt));return $t}function Ae(_t){return _t?{xa:_t.xa,ya:_t.ya,x:_t.xSpike!==void 0?_t.xSpike:(_t.x0+_t.x1)/2,y:_t.ySpike!==void 0?_t.ySpike:(_t.y0+_t.y1)/2,distance:_t.distance,spikeDistance:_t.spikeDistance,curveNumber:_t.trace.index,color:_t.color,pointNumber:_t.index}:null}var Ie={fullLayout:l,container:l._hoverlayer,event:r},Be=e._spikepoints,je={vLinePoint:J.vLinePoint,hLinePoint:J.hLinePoint};e._spikepoints=je;var Ne=function(){var _t=F.filter(function(Ut){return w&&w._id===Ut.xa._id&&A&&A._id===Ut.ya._id}),Jt=F.filter(function(Ut){return!(w&&w._id===Ut.xa._id&&A&&A._id===Ut.ya._id)});_t.sort(CP),Jt.sort(CP),F=_t.concat(Jt),F=P1e(F,v)};Ne();var Qe=v.charAt(0),pr=(Qe==="x"||Qe==="y")&&F[0]&&C1e[F[0].trace.type];if(c&&L!==0&&F.length!==0){var Se=F.filter(function(_t){return _t.ya.showspikes}),Fe=Re(Se,L,pr);J.hLinePoint=Ae(Fe);var hr=F.filter(function(_t){return _t.xa.showspikes}),dr=Re(hr,L,pr);J.vLinePoint=Ae(dr)}if(F.length===0){var kr=ox.unhoverRaw(e,r);return c&&(J.hLinePoint!==null||J.vLinePoint!==null)&&RP(Be)&&LP(e,J,Ie),kr}if(c&&RP(Be)&&LP(e,J,Ie),af.isXYhover(K)&&F[0].length!==0&&F[0].trace.type!=="splom"){var Ue=F[0];SP[Ue.trace.type]?F=F.filter(function(_t){return _t.trace.index===Ue.trace.index}):F=[Ue];var He=F.length,Xe=DP("x",Ue,l),fr=DP("y",Ue,l);De(Xe,fr);var Mr=[],qr={},et=0,jr=function(_t){var Jt=SP[_t.trace.type]?PP(_t):_t.trace.index;if(!qr[Jt])et++,qr[Jt]=et,Mr.push(_t);else{var Ut=qr[Jt]-1,$t=Mr[Ut];Ut>0&&Math.abs(_t.distance)<Math.abs($t.distance)&&(Mr[Ut]=_t)}},Or;for(Or=0;Or<He;Or++)jr(F[Or]);for(Or=F.length-1;Or>He-1;Or--)jr(F[Or]);F=Mr,Ne()}var _r=e._hoverdata,qe=[],nr=zP(e),Te=qP(e);for(k=0;k<F.length;k++){var be=F[k],Ge=af.makeEventData(be,be.trace,be.cd);if(be.hovertemplate!==!1){var ae=!1;be.cd[be.index]&&be.cd[be.index].ht&&(ae=be.cd[be.index].ht),be.hovertemplate=ae||be.trace.hovertemplate||!1}if(be.xa&&be.ya){var W=be.x0+be.xa._offset,re=be.x1+be.xa._offset,Ee=be.y0+be.ya._offset,We=be.y1+be.ya._offset,lr=Math.min(W,re),sr=Math.max(W,re),Yr=Math.min(Ee,We),rt=Math.max(Ee,We);Ge.bbox={x0:lr+Te,x1:sr+Te,y0:Yr+nr,y1:rt+nr}}be.eventData=[Ge],qe.push(Ge)}e._hoverdata=qe;var zr=v==="y"&&(O.length>1||F.length>1)||v==="closest"&&le&&F.length>1,vt=Pi.combine(l.plot_bgcolor||Pi.background,l.paper_bgcolor),dt=OP(F,{gd:e,hovermode:v,rotateLabels:zr,bgColor:vt,container:l._hoverlayer,outerContainer:l._paper.node(),commonLabelOpts:l.hoverlabel,hoverdistance:l.hoverdistance}),qt=dt.hoverLabels;if(af.isUnifiedHover(v)||(R1e(qt,zr,l,dt.commonLabelBoundingBox),BP(qt,zr,l._invScaleX,l._invScaleY)),a&&a.tagName){var Nt=p1.getComponentMethod("annotations","hasClickToShow")(e,qe);_1e(vv.select(a),Nt?"pointer":"")}!a||n||!I1e(e,r,_r)||(_r&&e.emit("plotly_unhover",{event:r,points:_r}),e.emit("plotly_hover",{event:r,points:e._hoverdata,xaxes:_,yaxes:g,xvals:P,yvals:I}))}function PP(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa?e.xa._id:"",e.ya?e.ya._id:""].join(",")}var L1e=/<extra>([\s\S]*)<\/extra>/;function OP(e,r){var t=r.gd,n=t._fullLayout,a=r.hovermode,o=r.rotateLabels,i=r.bgColor,l=r.container,f=r.outerContainer,s=r.commonLabelOpts||{};if(e.length===0)return[[]];var u=r.fontFamily||dv.HOVERFONT,c=r.fontSize||dv.HOVERFONTSIZE,v=r.fontWeight||n.font.weight,x=r.fontStyle||n.font.style,m=r.fontVariant||n.font.variant,w=r.fontTextcase||n.font.textcase,A=r.fontLineposition||n.font.lineposition,y=r.fontShadow||n.font.shadow,M=e[0],E=M.xa,b=M.ya,T=a.charAt(0),p=T+"Label",_=M[p];if(_===void 0&&E.type==="multicategory")for(var g=0;g<e.length&&(_=e[g][p],_===void 0);g++);var h=d1(t,f),S=h.top,d=h.width,R=h.height,L=_!==void 0&&M.distance<=r.hoverdistance&&(a==="x"||a==="y");if(L){var F=!0,O,P;for(O=0;O<e.length;O++)if(F&&e[O].zLabel===void 0&&(F=!1),P=e[O].hoverinfo||e[O].trace.hoverinfo,P){var I=Array.isArray(P)?P:P.split("+");if(I.indexOf("all")===-1&&I.indexOf(a)===-1){L=!1;break}}F&&(L=!1)}var k=l.selectAll("g.axistext").data(L?[0]:[]);k.enter().append("g").classed("axistext",!0),k.exit().remove();var D={minX:0,maxX:0,minY:0,maxY:0};if(k.each(function(){var Ue=vv.select(this),He=Ga.ensureSingle(Ue,"path","",function(rt){rt.style({"stroke-width":"1px"})}),Xe=Ga.ensureSingle(Ue,"text","",function(rt){rt.attr("data-notex",1)}),fr=s.bgcolor||Pi.defaultLine,Mr=s.bordercolor||Pi.contrast(fr),qr=Pi.contrast(fr),et=s.font,jr={weight:et.weight||v,style:et.style||x,variant:et.variant||m,textcase:et.textcase||w,lineposition:et.lineposition||A,shadow:et.shadow||y,family:et.family||u,size:et.size||c,color:et.color||qr};He.style({fill:fr,stroke:Mr}),Xe.text(_).call(eu.font,jr).call(ps.positionText,0,0).call(ps.convertToTspans,t),Ue.attr("transform","");var Or=d1(t,Xe.node()),_r,qe;if(a==="x"){var nr=E.side==="top"?"-":"";Xe.attr("text-anchor","middle").call(ps.positionText,0,E.side==="top"?S-Or.bottom-ka-In:S-Or.top+ka+In),_r=E._offset+(M.x0+M.x1)/2,qe=b._offset+(E.side==="top"?0:b._length);var Te=Or.width/2+In,be=_r;_r<Te?be=Te:_r>n.width-Te&&(be=n.width-Te),He.attr("d","M"+(_r-be)+",0L"+(_r-be+ka)+","+nr+ka+"H"+Te+"v"+nr+(In*2+Or.height)+"H"+-Te+"V"+nr+ka+"H"+(_r-be-ka)+"Z"),_r=be,D.minX=_r-Te,D.maxX=_r+Te,E.side==="top"?(D.minY=qe-(In*2+Or.height),D.maxY=qe-In):(D.minY=qe+In,D.maxY=qe+(In*2+Or.height))}else{var Ge,ae,W;b.side==="right"?(Ge="start",ae=1,W="",_r=E._offset+E._length):(Ge="end",ae=-1,W="-",_r=E._offset),qe=b._offset+(M.y0+M.y1)/2,Xe.attr("text-anchor",Ge),He.attr("d","M0,0L"+W+ka+","+ka+"V"+(In+Or.height/2)+"h"+W+(In*2+Or.width)+"V-"+(In+Or.height/2)+"H"+W+ka+"V-"+ka+"Z"),D.minY=qe-(In+Or.height/2),D.maxY=qe+(In+Or.height/2),b.side==="right"?(D.minX=_r+ka,D.maxX=_r+ka+(In*2+Or.width)):(D.minX=_r-ka-(In*2+Or.width),D.maxX=_r-ka);var re=Or.height/2,Ee=S-Or.top-re,We="clip"+n._uid+"commonlabel"+b._id,lr;if(_r<Or.width+2*In+ka){lr="M-"+(ka+In)+"-"+re+"h-"+(Or.width-In)+"V"+re+"h"+(Or.width-In)+"Z";var sr=Or.width-_r+In;ps.positionText(Xe,sr,Ee),Ge==="end"&&Xe.selectAll("tspan").each(function(){var rt=vv.select(this),zr=eu.tester.append("text").text(rt.text()).call(eu.font,jr),vt=d1(t,zr.node());Math.round(vt.width)<Math.round(Or.width)&&rt.attr("x",sr-vt.width),zr.remove()})}else ps.positionText(Xe,ae*(In+ka),Ee),lr=null;var Yr=n._topclips.selectAll("#"+We).data(lr?[0]:[]);Yr.enter().append("clipPath").attr("id",We).append("path"),Yr.exit().remove(),Yr.select("path").attr("d",lr),eu.setClipUrl(Xe,lr?We:null,t)}Ue.attr("transform",s6(_r,qe))}),af.isUnifiedHover(a)){l.selectAll("g.hovertext").remove();var z=e.filter(function(Ue){return Ue.hoverinfo!=="none"});if(z.length===0)return[];var q=n.hoverlabel,j=q.font,Q=z[0],K=((a==="x unified"?Q.xa:Q.ya).unifiedhovertitle||{}).text,G=K?Ga.hovertemplateString(K,{},n._d3locale,a==="x unified"?{xa:Q.xa,x:Q.xVal}:{ya:Q.ya,y:Q.yVal}):_,B={showlegend:!0,legend:{title:{text:G,font:j},font:j,bgcolor:q.bgcolor,bordercolor:q.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:n.legend?n.legend.traceorder:void 0,orientation:"v"}},Z={font:j};A1e(B,Z,t._fullData);var ie=Z.legend;ie.entries=[];for(var J=0;J<z.length;J++){var le=z[J];if(le.hoverinfo!=="none"){var te=kP(le,!0,a,n,_),V=te[0],ne=te[1];le.name=ne,ne!==""?le.text=ne+" : "+V:le.text=V;var Y=le.cd[le.index];Y&&(Y.mc&&(le.mc=Y.mc),Y.mcc&&(le.mc=Y.mcc),Y.mlc&&(le.mlc=Y.mlc),Y.mlcc&&(le.mlc=Y.mlcc),Y.mlw&&(le.mlw=Y.mlw),Y.mrc&&(le.mrc=Y.mrc),Y.dir&&(le.dir=Y.dir)),le._distinct=!0,ie.entries.push([le])}}ie.entries.sort(function(Ue,He){return Ue[0].trace.index-He[0].trace.index}),ie.layer=l,ie._inHover=!0,ie._groupTitleFont=q.grouptitlefont,T1e(t,ie);var oe=l.select("g.legend"),pe=d1(t,oe.node()),we=pe.width+2*In,De=pe.height+2*In,Re=z[0],Ae=(Re.x0+Re.x1)/2,Ie=(Re.y0+Re.y1)/2,Be=!(p1.traceIs(Re.trace,"bar-like")||p1.traceIs(Re.trace,"box-violin")),je,Ne;T==="y"?Be?(Ne=Ie-In,je=Ie+In):(Ne=Math.min.apply(null,z.map(function(Ue){return Math.min(Ue.y0,Ue.y1)})),je=Math.max.apply(null,z.map(function(Ue){return Math.max(Ue.y0,Ue.y1)}))):Ne=je=Ga.mean(z.map(function(Ue){return(Ue.y0+Ue.y1)/2}))-De/2;var Qe,pr;T==="x"?Be?(Qe=Ae+In,pr=Ae-In):(Qe=Math.max.apply(null,z.map(function(Ue){return Math.max(Ue.x0,Ue.x1)})),pr=Math.min.apply(null,z.map(function(Ue){return Math.min(Ue.x0,Ue.x1)}))):Qe=pr=Ga.mean(z.map(function(Ue){return(Ue.x0+Ue.x1)/2}))-we/2;var Se=E._offset,Fe=b._offset;je+=Fe,Qe+=Se,pr+=Se-we,Ne+=Fe-De;var hr,dr;return Qe+we<d&&Qe>=0?hr=Qe:pr+we<d&&pr>=0?hr=pr:Se+we<d?hr=Se:Qe-Ae<Ae-pr+we?hr=d-we:hr=0,hr+=In,je+De<R&&je>=0?dr=je:Ne+De<R&&Ne>=0?dr=Ne:Fe+De<R?dr=Fe:je-Ie<Ie-Ne+De?dr=R-De:dr=0,dr+=In,oe.attr("transform",s6(hr-1,dr-1)),oe}var kr=l.selectAll("g.hovertext").data(e,function(Ue){return PP(Ue)});return kr.enter().append("g").classed("hovertext",!0).each(function(){var Ue=vv.select(this);Ue.append("rect").call(Pi.fill,Pi.addOpacity(i,.8)),Ue.append("text").classed("name",!0),Ue.append("path").style("stroke-width","1px"),Ue.append("text").classed("nums",!0).call(eu.font,{weight:v,style:x,variant:m,textcase:w,lineposition:A,shadow:y,family:u,size:c})}),kr.exit().remove(),kr.each(function(Ue){var He=vv.select(this).attr("transform",""),Xe=Ue.color;Array.isArray(Xe)&&(Xe=Xe[Ue.eventData[0].pointNumber]);var fr=Ue.bgcolor||Xe,Mr=Pi.combine(Pi.opacity(fr)?fr:Pi.defaultLine,i),qr=Pi.combine(Pi.opacity(Xe)?Xe:Pi.defaultLine,i),et=Ue.borderColor||Pi.contrast(Mr),jr=kP(Ue,L,a,n,_,He),Or=jr[0],_r=jr[1],qe=He.select("text.nums").call(eu.font,{family:Ue.fontFamily||u,size:Ue.fontSize||c,color:Ue.fontColor||et,weight:Ue.fontWeight||v,style:Ue.fontStyle||x,variant:Ue.fontVariant||m,textcase:Ue.fontTextcase||w,lineposition:Ue.fontLineposition||A,shadow:Ue.fontShadow||y}).text(Or).attr("data-notex",1).call(ps.positionText,0,0).call(ps.convertToTspans,t),nr=He.select("text.name"),Te=0,be=0;if(_r&&_r!==Or){nr.call(eu.font,{family:Ue.fontFamily||u,size:Ue.fontSize||c,color:qr,weight:Ue.fontWeight||v,style:Ue.fontStyle||x,variant:Ue.fontVariant||m,textcase:Ue.fontTextcase||w,lineposition:Ue.fontLineposition||A,shadow:Ue.fontShadow||y}).text(_r).attr("data-notex",1).call(ps.positionText,0,0).call(ps.convertToTspans,t);var Ge=d1(t,nr.node());Te=Ge.width+2*In,be=Ge.height+2*In}else nr.remove(),He.select("rect").remove();He.select("path").style({fill:Mr,stroke:et});var ae=Ue.xa._offset+(Ue.x0+Ue.x1)/2,W=Ue.ya._offset+(Ue.y0+Ue.y1)/2,re=Math.abs(Ue.x1-Ue.x0),Ee=Math.abs(Ue.y1-Ue.y0),We=d1(t,qe.node()),lr=We.width/n._invScaleX,sr=We.height/n._invScaleY;Ue.ty0=(S-We.top)/n._invScaleY,Ue.bx=lr+2*In,Ue.by=Math.max(sr+2*In,be),Ue.anchor="start",Ue.txwidth=lr,Ue.tx2width=Te,Ue.offset=0;var Yr=(lr+ka+In+Te)*n._invScaleX,rt,zr;if(o)Ue.pos=ae,rt=W+Ee/2+Yr<=R,zr=W-Ee/2-Yr>=0,(Ue.idealAlign==="top"||!rt)&&zr?(W-=Ee/2,Ue.anchor="end"):rt?(W+=Ee/2,Ue.anchor="start"):Ue.anchor="middle",Ue.crossPos=W;else{if(Ue.pos=W,rt=ae+re/2+Yr<=d,zr=ae-re/2-Yr>=0,(Ue.idealAlign==="left"||!rt)&&zr)ae-=re/2,Ue.anchor="end";else if(rt)ae+=re/2,Ue.anchor="start";else{Ue.anchor="middle";var vt=Yr/2,dt=ae+vt-d,qt=ae-vt;dt>0&&(ae-=dt),qt<0&&(ae+=-qt)}Ue.crossPos=ae}qe.attr("text-anchor",Ue.anchor),Te&&nr.attr("text-anchor",Ue.anchor),He.attr("transform",s6(ae,W)+(o?x1e(IP):""))}),{hoverLabels:kr,commonLabelBoundingBox:D}}function kP(e,r,t,n,a,o){var i="",l="";e.nameOverride!==void 0&&(e.name=e.nameOverride),e.name&&(e.trace._meta&&(e.name=Ga.templateString(e.name,e.trace._meta)),i=FP(e.name,e.nameLength));var f=t.charAt(0),s=f==="x"?"y":"x";e.zLabel!==void 0?(e.xLabel!==void 0&&(l+="x: "+e.xLabel+"<br>"),e.yLabel!==void 0&&(l+="y: "+e.yLabel+"<br>"),e.trace.type!=="choropleth"&&e.trace.type!=="choroplethmapbox"&&e.trace.type!=="choroplethmap"&&(l+=(l?"z: ":"")+e.zLabel)):r&&e[f+"Label"]===a?l=e[s+"Label"]||"":e.xLabel===void 0?e.yLabel!==void 0&&e.trace.type!=="scattercarpet"&&(l=e.yLabel):e.yLabel===void 0?l=e.xLabel:l="("+e.xLabel+", "+e.yLabel+")",(e.text||e.text===0)&&!Array.isArray(e.text)&&(l+=(l?"<br>":"")+e.text),e.extraText!==void 0&&(l+=(l?"<br>":"")+e.extraText),o&&l===""&&!e.hovertemplate&&(i===""&&o.remove(),l=i);var u=e.hovertemplate||!1;if(u){var c=e.hovertemplateLabels||e;e[f+"Label"]!==a&&(c[f+"other"]=c[f+"Val"],c[f+"otherLabel"]=c[f+"Label"]),l=Ga.hovertemplateString(u,c,n._d3locale,e.eventData[0]||{},e.trace._meta),l=l.replace(L1e,function(v,x){return i=FP(x,e.nameLength),""})}return[l,i]}function R1e(e,r,t,n){var a=r?"xa":"ya",o=r?"ya":"xa",i=0,l=1,f=e.size(),s=new Array(f),u=0,c=n.minX,v=n.maxX,x=n.minY,m=n.maxY,w=function(P){return P*t._invScaleX},A=function(P){return P*t._invScaleY};e.each(function(P){var I=P[a],k=P[o],D=I._id.charAt(0)==="x",z=I.range;u===0&&z&&z[0]>z[1]!==D&&(l=-1);var q=0,j=D?t.width:t.height;if(t.hovermode==="x"||t.hovermode==="y"){var Q=NP(P,r),K=P.anchor,G=K==="end"?-1:1,B,Z;if(K==="middle")B=P.crossPos+(D?A(Q.y-P.by/2):w(P.bx/2+P.tx2width/2)),Z=B+(D?A(P.by):w(P.bx));else if(D)B=P.crossPos+A(ka+Q.y)-A(P.by/2-ka),Z=B+A(P.by);else{var ie=w(G*ka+Q.x),J=ie+w(G*P.bx);B=P.crossPos+Math.min(ie,J),Z=P.crossPos+Math.max(ie,J)}D?x!==void 0&&m!==void 0&&Math.min(Z,m)-Math.max(B,x)>1&&(k.side==="left"?(q=k._mainLinePosition,j=t.width):j=k._mainLinePosition):c!==void 0&&v!==void 0&&Math.min(Z,v)-Math.max(B,c)>1&&(k.side==="top"?(q=k._mainLinePosition,j=t.height):j=k._mainLinePosition)}s[u++]=[{datum:P,traceIndex:P.trace.index,dp:0,pos:P.pos,posref:P.posref,size:P.by*(D?M1e:1)/2,pmin:q,pmax:j}]}),s.sort(function(P,I){return P[0].posref-I[0].posref||l*(I[0].traceIndex-P[0].traceIndex)});var y,M,E,b,T,p,_;function g(P){var I=P[0],k=P[P.length-1];if(M=I.pmin-I.pos-I.dp+I.size,E=k.pos+k.dp+k.size-I.pmax,M>.01){for(T=P.length-1;T>=0;T--)P[T].dp+=M;y=!1}if(!(E<.01)){if(M<-.01){for(T=P.length-1;T>=0;T--)P[T].dp-=E;y=!1}if(y){var D=0;for(b=0;b<P.length;b++)p=P[b],p.pos+p.dp+p.size>I.pmax&&D++;for(b=P.length-1;b>=0&&!(D<=0);b--)p=P[b],p.pos>I.pmax-1&&(p.del=!0,D--);for(b=0;b<P.length&&!(D<=0);b++)if(p=P[b],p.pos<I.pmin+1)for(p.del=!0,D--,E=p.size*2,T=P.length-1;T>=0;T--)P[T].dp-=E;for(b=P.length-1;b>=0&&!(D<=0);b--)p=P[b],p.pos+p.dp+p.size>I.pmax&&(p.del=!0,D--)}}}for(;!y&&i<=f;){for(i++,y=!0,b=0;b<s.length-1;){var h=s[b],S=s[b+1],d=h[h.length-1],R=S[0];if(M=d.pos+d.dp+d.size-R.pos-R.dp+R.size,M>.01){for(T=S.length-1;T>=0;T--)S[T].dp+=M;for(h.push.apply(h,S),s.splice(b+1,1),_=0,T=h.length-1;T>=0;T--)_+=h[T].dp;for(E=_/h.length,T=h.length-1;T>=0;T--)h[T].dp-=E;y=!1}else b++}s.forEach(g)}for(b=s.length-1;b>=0;b--){var L=s[b];for(T=L.length-1;T>=0;T--){var F=L[T],O=F.datum;O.offset=F.dp,O.del=F.del}}}function NP(e,r){var t=0,n=e.offset;return r&&(n*=-S1e,t=e.offset*E1e),{x:t,y:n}}function F1e(e){var r={start:1,end:-1,middle:0}[e.anchor],t=r*(ka+In),n=t+r*(e.txwidth+In),a=e.anchor==="middle";return a&&(t-=e.tx2width/2,n+=e.txwidth/2+In),{alignShift:r,textShiftX:t,text2ShiftX:n}}function BP(e,r,t,n){var a=function(i){return i*t},o=function(i){return i*n};e.each(function(i){var l=vv.select(this);if(i.del)return l.remove();var f=l.select("text.nums"),s=i.anchor,u=s==="end"?-1:1,c=F1e(i),v=NP(i,r),x=v.x,m=v.y,w=s==="middle",A="hoverlabel"in i.trace?i.trace.hoverlabel.showarrow:!0,y;w?y="M-"+a(i.bx/2+i.tx2width/2)+","+o(m-i.by/2)+"h"+a(i.bx)+"v"+o(i.by)+"h-"+a(i.bx)+"Z":A?y="M0,0L"+a(u*ka+x)+","+o(ka+m)+"v"+o(i.by/2-ka)+"h"+a(u*i.bx)+"v-"+o(i.by)+"H"+a(u*ka+x)+"V"+o(m-ka)+"Z":y="M"+a(u*ka+x)+","+o(m-i.by/2)+"h"+a(u*i.bx)+"v"+o(i.by)+"h"+a(-u*i.bx)+"Z",l.select("path").attr("d",y);var M=x+c.textShiftX,E=m+i.ty0-i.by/2+In,b=i.textAlign||"auto";b!=="auto"&&(b==="left"&&s!=="start"?(f.attr("text-anchor","start"),M=w?-i.bx/2-i.tx2width/2+In:-i.bx-In):b==="right"&&s!=="end"&&(f.attr("text-anchor","end"),M=w?i.bx/2-i.tx2width/2-In:i.bx+In)),f.call(ps.positionText,a(M),o(E)),i.tx2width&&(l.select("text.name").call(ps.positionText,a(c.text2ShiftX+c.alignShift*In+x),o(m+i.ty0-i.by/2+In)),l.select("rect").call(eu.setRect,a(c.text2ShiftX+(c.alignShift-1)*i.tx2width/2+x),o(m-i.by/2-1),a(i.tx2width),o(i.by+2)))})}function D1e(e,r){var t=e.index,n=e.trace||{},a=e.cd[0],o=e.cd[t]||{};function i(v){return v||Qu(v)&&v===0}var l=Array.isArray(t)?function(v,x){var m=Ga.castOption(a,t,v);return i(m)?m:Ga.extractOption({},n,"",x)}:function(v,x){return Ga.extractOption(o,n,v,x)};function f(v,x,m){var w=l(x,m);i(w)&&(e[v]=w)}if(f("hoverinfo","hi","hoverinfo"),f("bgcolor","hbg","hoverlabel.bgcolor"),f("borderColor","hbc","hoverlabel.bordercolor"),f("fontFamily","htf","hoverlabel.font.family"),f("fontSize","hts","hoverlabel.font.size"),f("fontColor","htc","hoverlabel.font.color"),f("fontWeight","htw","hoverlabel.font.weight"),f("fontStyle","hty","hoverlabel.font.style"),f("fontVariant","htv","hoverlabel.font.variant"),f("nameLength","hnl","hoverlabel.namelength"),f("textAlign","hta","hoverlabel.align"),e.posref=r==="y"||r==="closest"&&n.orientation==="h"?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=Ga.constrain(e.x0,0,e.xa._length),e.x1=Ga.constrain(e.x1,0,e.xa._length),e.y0=Ga.constrain(e.y0,0,e.ya._length),e.y1=Ga.constrain(e.y1,0,e.ya._length),e.xLabelVal!==void 0&&(e.xLabel="xLabel"in e?e.xLabel:ru.hoverLabelText(e.xa,e.xLabelVal,n.xhoverformat),e.xVal=e.xa.c2d(e.xLabelVal)),e.yLabelVal!==void 0&&(e.yLabel="yLabel"in e?e.yLabel:ru.hoverLabelText(e.ya,e.yLabelVal,n.yhoverformat),e.yVal=e.ya.c2d(e.yLabelVal)),e.zLabelVal!==void 0&&e.zLabel===void 0&&(e.zLabel=String(e.zLabelVal)),!isNaN(e.xerr)&&!(e.xa.type==="log"&&e.xerr<=0)){var s=ru.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;e.xerrneg!==void 0?e.xLabel+=" +"+s+" / -"+ru.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" \xB1 "+s,r==="x"&&(e.distance+=1)}if(!isNaN(e.yerr)&&!(e.ya.type==="log"&&e.yerr<=0)){var u=ru.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;e.yerrneg!==void 0?e.yLabel+=" +"+u+" / -"+ru.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" \xB1 "+u,r==="y"&&(e.distance+=1)}var c=e.hoverinfo||e.trace.hoverinfo;return c&&c!=="all"&&(c=Array.isArray(c)?c:c.split("+"),c.indexOf("x")===-1&&(e.xLabel=void 0),c.indexOf("y")===-1&&(e.yLabel=void 0),c.indexOf("z")===-1&&(e.zLabel=void 0),c.indexOf("text")===-1&&(e.text=void 0),c.indexOf("name")===-1&&(e.name=void 0)),e}function LP(e,r,t){var n=t.container,a=t.fullLayout,o=a._size,i=t.event,l=!!r.hLinePoint,f=!!r.vLinePoint,s,u;if(n.selectAll(".spikeline").remove(),!!(f||l)){var c=Pi.combine(a.plot_bgcolor,a.paper_bgcolor);if(l){var v=r.hLinePoint,x,m;s=v&&v.xa,u=v&&v.ya;var w=u.spikesnap;w==="cursor"?(x=i.pointerX,m=i.pointerY):(x=s._offset+v.x,m=u._offset+v.y);var A=EP.readability(v.color,c)<1.5?Pi.contrast(c):v.color,y=u.spikemode,M=u.spikethickness,E=u.spikecolor||A,b=ru.getPxPosition(e,u),T,p;if(y.indexOf("toaxis")!==-1||y.indexOf("across")!==-1){if(y.indexOf("toaxis")!==-1&&(T=b,p=x),y.indexOf("across")!==-1){var _=u._counterDomainMin,g=u._counterDomainMax;u.anchor==="free"&&(_=Math.min(_,u.position),g=Math.max(g,u.position)),T=o.l+_*o.w,p=o.l+g*o.w}n.insert("line",":first-child").attr({x1:T,x2:p,y1:m,y2:m,"stroke-width":M,stroke:E,"stroke-dasharray":eu.dashStyle(u.spikedash,M)}).classed("spikeline",!0).classed("crisp",!0),n.insert("line",":first-child").attr({x1:T,x2:p,y1:m,y2:m,"stroke-width":M+2,stroke:c}).classed("spikeline",!0).classed("crisp",!0)}y.indexOf("marker")!==-1&&n.insert("circle",":first-child").attr({cx:b+(u.side!=="right"?M:-M),cy:m,r:M,fill:E}).classed("spikeline",!0)}if(f){var h=r.vLinePoint,S,d;s=h&&h.xa,u=h&&h.ya;var R=s.spikesnap;R==="cursor"?(S=i.pointerX,d=i.pointerY):(S=s._offset+h.x,d=u._offset+h.y);var L=EP.readability(h.color,c)<1.5?Pi.contrast(c):h.color,F=s.spikemode,O=s.spikethickness,P=s.spikecolor||L,I=ru.getPxPosition(e,s),k,D;if(F.indexOf("toaxis")!==-1||F.indexOf("across")!==-1){if(F.indexOf("toaxis")!==-1&&(k=I,D=d),F.indexOf("across")!==-1){var z=s._counterDomainMin,q=s._counterDomainMax;s.anchor==="free"&&(z=Math.min(z,s.position),q=Math.max(q,s.position)),k=o.t+(1-q)*o.h,D=o.t+(1-z)*o.h}n.insert("line",":first-child").attr({x1:S,x2:S,y1:k,y2:D,"stroke-width":O,stroke:P,"stroke-dasharray":eu.dashStyle(s.spikedash,O)}).classed("spikeline",!0).classed("crisp",!0),n.insert("line",":first-child").attr({x1:S,x2:S,y1:k,y2:D,"stroke-width":O+2,stroke:c}).classed("spikeline",!0).classed("crisp",!0)}F.indexOf("marker")!==-1&&n.insert("circle",":first-child").attr({cx:S,cy:I-(s.side!=="top"?O:-O),r:O,fill:P}).classed("spikeline",!0)}}}function I1e(e,r,t){if(!t||t.length!==e._hoverdata.length)return!0;for(var n=t.length-1;n>=0;n--){var a=t[n],o=e._hoverdata[n];if(a.curveNumber!==o.curveNumber||String(a.pointNumber)!==String(o.pointNumber)||String(a.pointNumbers)!==String(o.pointNumbers)||a.binNumber!==o.binNumber)return!0}return!1}function RP(e,r){return!r||r.vLinePoint!==e._spikepoints.vLinePoint||r.hLinePoint!==e._spikepoints.hLinePoint}function FP(e,r){return ps.plainText(e||"",{len:r,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function P1e(e,r){for(var t=r.charAt(0),n=[],a=[],o=[],i=0;i<e.length;i++){var l=e[i];p1.traceIs(l.trace,"bar-like")||p1.traceIs(l.trace,"box-violin")?o.push(l):l.trace[t+"period"]?a.push(l):n.push(l)}return n.concat(a).concat(o)}function DP(e,r,t){var n=r[e+"a"],a=r[e+"Val"],o=r.cd[0];if(n.type==="category"||n.type==="multicategory")a=n._categoriesMap[a];else if(n.type==="date"){var i=r.trace[e+"periodalignment"];if(i){var l=r.cd[r.index],f=l[e+"Start"];f===void 0&&(f=l[e]);var s=l[e+"End"];s===void 0&&(s=l[e]);var u=s-f;i==="end"?a+=u:i==="middle"&&(a+=u/2)}a=n.d2c(a)}return o&&o.t&&o.t.posLetter===n._id&&(t.boxmode==="group"||t.violinmode==="group")&&(a+=o.t.dPos),a}function zP(e){return e.offsetTop+e.clientTop}function qP(e){return e.offsetLeft+e.clientLeft}function d1(e,r){var t=e._fullLayout,n=r.getBoundingClientRect(),a=n.left,o=n.top,i=a+n.width,l=o+n.height,f=Ga.apply3DTransform(t._invTransform)(a,o),s=Ga.apply3DTransform(t._invTransform)(i,l),u=f[0],c=f[1],v=s[0],x=s[1];return{x:u,y:c,width:v-u,height:x-c,top:Math.min(c,x),left:Math.min(u,v),right:Math.max(u,v),bottom:Math.max(c,x)}}});var lx=fe((vOe,UP)=>{"use strict";var O1e=tt(),N1e=xn(),B1e=hs().isUnifiedHover;UP.exports=function(r,t,n,a){a=a||{};var o=t.legend;function i(l){a.font[l]||(a.font[l]=o?t.legend.font[l]:t.font[l])}t&&B1e(t.hovermode)&&(a.font||(a.font={}),i("size"),i("family"),i("color"),i("weight"),i("style"),i("variant"),o?(a.bgcolor||(a.bgcolor=N1e.combine(t.legend.bgcolor,t.paper_bgcolor)),a.bordercolor||(a.bordercolor=t.legend.bordercolor)):a.bgcolor||(a.bgcolor=t.paper_bgcolor)),n("hoverlabel.bgcolor",a.bgcolor),n("hoverlabel.bordercolor",a.bordercolor),n("hoverlabel.namelength",a.namelength),n("hoverlabel.showarrow",a.showarrow),O1e.coerceFont(n,"hoverlabel.font",a.font),n("hoverlabel.align",a.align)}});var HP=fe((dOe,GP)=>{"use strict";var z1e=tt(),q1e=lx(),U1e=Bh();GP.exports=function(r,t){function n(a,o){return z1e.coerce(r,t,U1e,a,o)}q1e(r,t,n)}});var WP=fe((pOe,YP)=>{"use strict";var VP=tt(),G1e=D2(),H1e=lx();YP.exports=function(r,t,n,a){function o(l,f){return VP.coerce(r,t,G1e,l,f)}var i=VP.extendFlat({},a.hoverlabel);t.hovertemplate&&(i.namelength=-1),H1e(r,t,o,i)}});var h6=fe((gOe,XP)=>{"use strict";var V1e=tt(),Y1e=Bh();XP.exports=function(r,t){function n(a,o){return t[a]!==void 0?t[a]:V1e.coerce(r,t,Y1e,a,o)}return n("clickmode"),n("hoversubplots"),n("hovermode")}});var $P=fe((yOe,ZP)=>{"use strict";var jP=tt(),W1e=Bh(),X1e=h6(),j1e=lx();ZP.exports=function(r,t){function n(u,c){return jP.coerce(r,t,W1e,u,c)}var a=X1e(r,t);a&&(n("hoverdistance"),n("spikedistance"));var o=n("dragmode");o==="select"&&n("selectdirection");var i=t._has("mapbox"),l=t._has("map"),f=t._has("geo"),s=t._basePlotModules.length;t.dragmode==="zoom"&&((i||l||f)&&s===1||(i||l)&&f&&s===2)&&(t.dragmode="pan"),j1e(r,t,n),jP.coerceFont(n,"hoverlabel.grouptitlefont",t.hoverlabel.font)}});var QP=fe((mOe,KP)=>{"use strict";var v6=tt(),JP=Qt();KP.exports=function(r){var t=r.calcdata,n=r._fullLayout;function a(s){return function(u){return v6.coerceHoverinfo({hoverinfo:u},{_module:s._module},n)}}for(var o=0;o<t.length;o++){var i=t[o],l=i[0].trace;if(!JP.traceIs(l,"pie-like")){var f=JP.traceIs(l,"2dMap")?Z1e:v6.fillArray;f(l.hoverinfo,i,"hi",a(l)),l.hovertemplate&&f(l.hovertemplate,i,"ht"),l.hoverlabel&&(f(l.hoverlabel.bgcolor,i,"hbg"),f(l.hoverlabel.bordercolor,i,"hbc"),f(l.hoverlabel.font.size,i,"hts"),f(l.hoverlabel.font.color,i,"htc"),f(l.hoverlabel.font.family,i,"htf"),f(l.hoverlabel.font.weight,i,"htw"),f(l.hoverlabel.font.style,i,"hty"),f(l.hoverlabel.font.variant,i,"htv"),f(l.hoverlabel.namelength,i,"hnl"),f(l.hoverlabel.align,i,"hta"),f(l.hoverlabel.showarrow,i,"htsa"))}}};function Z1e(e,r,t,n){n=n||v6.identity,Array.isArray(e)&&(r[0][t]=n(e))}});var rO=fe((xOe,eO)=>{"use strict";var $1e=Qt(),J1e=c6().hover;eO.exports=function(r,t,n){var a=$1e.getComponentMethod("annotations","onClick")(r,r._hoverdata);n!==void 0&&J1e(r,t,n,!0);function o(){r.emit("plotly_click",{points:r._hoverdata,event:t})}r._hoverdata&&t&&t.target&&(a&&a.then?a.then(o):o(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}});var of=fe((bOe,aO)=>{"use strict";var K1e=Ln(),sx=tt(),Q1e=nf(),ny=hs(),tO=Bh(),nO=c6();aO.exports={moduleType:"component",name:"fx",constants:Tg(),schema:{layout:tO},attributes:D2(),layoutAttributes:tO,supplyLayoutGlobalDefaults:HP(),supplyDefaults:WP(),supplyLayoutDefaults:$P(),calc:QP(),getDistanceFunction:ny.getDistanceFunction,getClosest:ny.getClosest,inbox:ny.inbox,quadrature:ny.quadrature,appendArrayPointValue:ny.appendArrayPointValue,castHoverOption:rpe,castHoverinfo:tpe,hover:nO.hover,unhover:Q1e.unhover,loneHover:nO.loneHover,loneUnhover:epe,click:rO()};function epe(e){var r=sx.isD3Selection(e)?e:K1e.select(e);r.selectAll("g.hovertext").remove(),r.selectAll(".spikeline").remove()}function rpe(e,r,t){return sx.castOption(e,r,"hoverlabel."+t)}function tpe(e,r,t){function n(a){return sx.coerceHoverinfo({hoverinfo:a},{_module:e._module},r)}return sx.castOption(e,t,"hoverinfo",n)}});var pv=fe(ec=>{"use strict";ec.selectMode=function(e){return e==="lasso"||e==="select"};ec.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"};ec.openMode=function(e){return e==="drawline"||e==="drawopenpath"};ec.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"};ec.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"};ec.selectingOrDrawing=function(e){return ec.freeMode(e)||ec.rectMode(e)}});var fx=fe((wOe,iO)=>{"use strict";iO.exports=function(r){var t=r._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(n){n.regl&&n.regl.clear({color:!0,depth:!0})})}});var ux=fe((AOe,oO)=>{"use strict";oO.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect fill='#000' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle fill='#9EF' cx='102' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='54' r='6'/>","  <circle fill='#D69' cx='54' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='54' r='6'/>","  <path fill='#FFF' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path fill='#FFF' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path fill='#FFF' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path fill='#FFF' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}});var hx=fe((TOe,lO)=>{"use strict";var cx=32;lO.exports={CIRCLE_SIDES:cx,i000:0,i090:cx/4,i180:cx/2,i270:cx/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}});var vx=fe((MOe,fO)=>{"use strict";var npe=tt().strTranslate;function sO(e,r){switch(e.type){case"log":return e.p2d(r);case"date":return e.p2r(r,0,e.calendar);default:return e.p2r(r)}}function ape(e,r){switch(e.type){case"log":return e.d2p(r);case"date":return e.r2p(r,0,e.calendar);default:return e.r2p(r)}}function ipe(e){var r=e._id.charAt(0)==="y"?1:0;return function(t){return sO(e,t[r])}}function ope(e){return npe(e.xaxis._offset,e.yaxis._offset)}fO.exports={p2r:sO,r2p:ape,axValue:ipe,getTransform:ope}});var y0=fe(rc=>{"use strict";var lpe=Vg(),hO=hx(),g1=hO.CIRCLE_SIDES,d6=hO.SQRT2,vO=vx(),uO=vO.p2r,cO=vO.r2p,spe=[0,3,4,5,6,1,2],fpe=[0,3,4,1,2];rc.writePaths=function(e){var r=e.length;if(!r)return"M0,0Z";for(var t="",n=0;n<r;n++)for(var a=e[n].length,o=0;o<a;o++){var i=e[n][o][0];if(i==="Z")t+="Z";else for(var l=e[n][o].length,f=0;f<l;f++){var s=f;i==="Q"||i==="S"?s=fpe[f]:i==="C"&&(s=spe[f]),t+=e[n][o][s],f>0&&f<l-1&&(t+=",")}}return t};rc.readPaths=function(e,r,t,n){var a=lpe(e),o=[],i=-1,l=function(){i++,o[i]=[]},f,s=0,u=0,c,v,x=function(){c=s,v=u};x();for(var m=0;m<a.length;m++){var w=[],A,y,M,E,b=a[m][0],T=b;switch(b){case"M":l(),s=+a[m][1],u=+a[m][2],w.push([T,s,u]),x();break;case"Q":case"S":A=+a[m][1],M=+a[m][2],s=+a[m][3],u=+a[m][4],w.push([T,s,u,A,M]);break;case"C":A=+a[m][1],M=+a[m][2],y=+a[m][3],E=+a[m][4],s=+a[m][5],u=+a[m][6],w.push([T,s,u,A,M,y,E]);break;case"T":case"L":s=+a[m][1],u=+a[m][2],w.push([T,s,u]);break;case"H":T="L",s=+a[m][1],w.push([T,s,u]);break;case"V":T="L",u=+a[m][1],w.push([T,s,u]);break;case"A":T="L";var p=+a[m][1],_=+a[m][2];+a[m][4]||(p=-p,_=-_);var g=s-p,h=u;for(f=1;f<=g1/2;f++){var S=2*Math.PI*f/g1;w.push([T,g+p*Math.cos(S),h+_*Math.sin(S)])}break;case"Z":(s!==c||u!==v)&&(s=c,u=v,w.push([T,s,u]));break}for(var d=(t||{}).domain,R=r._fullLayout._size,L=t&&t.xsizemode==="pixel",F=t&&t.ysizemode==="pixel",O=n===!1,P=0;P<w.length;P++){for(f=0;f+2<7;f+=2){var I=w[P][f+1],k=w[P][f+2];I===void 0||k===void 0||(s=I,u=k,t&&(t.xaxis&&t.xaxis.p2r?(O&&(I-=t.xaxis._offset),L?I=cO(t.xaxis,t.xanchor)+I:I=uO(t.xaxis,I)):(O&&(I-=R.l),d?I=d.x[0]+I/R.w:I=I/R.w),t.yaxis&&t.yaxis.p2r?(O&&(k-=t.yaxis._offset),F?k=cO(t.yaxis,t.yanchor)-k:k=uO(t.yaxis,k)):(O&&(k-=R.t),d?k=d.y[1]-k/R.h:k=1-k/R.h)),w[P][f+1]=I,w[P][f+2]=k)}o[i].push(w[P].slice())}}return o};function ay(e,r){return Math.abs(e-r)<=1e-6}function dx(e,r){var t=r[1]-e[1],n=r[2]-e[2];return Math.sqrt(t*t+n*n)}rc.pointsOnRectangle=function(e){var r=e.length;if(r!==5)return!1;for(var t=1;t<3;t++){var n=e[0][t]-e[1][t],a=e[3][t]-e[2][t];if(!ay(n,a))return!1;var o=e[0][t]-e[3][t],i=e[1][t]-e[2][t];if(!ay(o,i))return!1}return!ay(e[0][1],e[1][1])&&!ay(e[0][1],e[3][1])?!1:!!(dx(e[0],e[1])*dx(e[0],e[3]))};rc.pointsOnEllipse=function(e){var r=e.length;if(r!==g1+1)return!1;r=g1;for(var t=0;t<r;t++){var n=(r*2-t)%r,a=(r/2+n)%r,o=(r/2+t)%r;if(!ay(dx(e[t],e[o]),dx(e[n],e[a])))return!1}return!0};rc.handleEllipse=function(e,r,t){if(!e)return[r,t];var n=rc.ellipseOver({x0:r[0],y0:r[1],x1:t[0],y1:t[1]}),a=(n.x1+n.x0)/2,o=(n.y1+n.y0)/2,i=(n.x1-n.x0)/2,l=(n.y1-n.y0)/2;i||(i=l=l/d6),l||(l=i=i/d6);for(var f=[],s=0;s<g1;s++){var u=s*2*Math.PI/g1;f.push([a+i*Math.cos(u),o+l*Math.sin(u)])}return f};rc.ellipseOver=function(e){var r=e.x0,t=e.y0,n=e.x1,a=e.y1,o=n-r,i=a-t;r-=o,t-=i;var l=(r+n)/2,f=(t+a)/2,s=d6;return o*=s,i*=s,{x0:l-o,y0:f-i,x1:l+o,y1:f+i}};rc.fixDatesForPaths=function(e,r,t){var n=r.type==="date",a=t.type==="date";if(!n&&!a)return e;for(var o=0;o<e.length;o++)for(var i=0;i<e[o].length;i++)for(var l=0;l+2<e[o][i].length;l+=2)n&&(e[o][i][l+1]=e[o][i][l+1].replace(" ","_")),a&&(e[o][i][l+2]=e[o][i][l+2].replace(" ","_"));return e}});var yx=fe((SOe,wO)=>{"use strict";var dO=ti(),xO=pv(),upe=xO.drawMode,cpe=xO.openMode,y1=hx(),pO=y1.i000,gO=y1.i090,yO=y1.i180,mO=y1.i270,hpe=y1.cos45,vpe=y1.sin45,bO=vx(),px=bO.p2r,m0=bO.r2p,dpe=s0(),ppe=dpe.clearOutline,gx=y0(),gpe=gx.readPaths,ype=gx.writePaths,mpe=gx.ellipseOver,xpe=gx.fixDatesForPaths;function bpe(e,r){if(e.length){var t=e[0][0];if(t){var n=r.gd,a=r.isActiveShape,o=r.dragmode,i=(n.layout||{}).shapes||[];if(!upe(o)&&a!==void 0){var l=n._fullLayout._activeShapeIndex;if(l<i.length)switch(n._fullLayout.shapes[l].type){case"rect":o="drawrect";break;case"circle":o="drawcircle";break;case"line":o="drawline";break;case"path":var f=i[l].path||"";f[f.length-1]==="Z"?o="drawclosedpath":o="drawopenpath";break}}var s=_O(e,r,o);ppe(n);for(var u=r.editHelpers,c=(u||{}).modifyItem,v=[],x=0;x<i.length;x++){var m=n._fullLayout.shapes[x];if(v[x]=m._input,a!==void 0&&x===n._fullLayout._activeShapeIndex){var w=s;switch(m.type){case"line":case"rect":case"circle":var A=dO.getFromId(n,m.xref);m.xref.charAt(0)==="x"&&A.type.includes("category")?(c("x0",w.x0-(m.x0shift||0)),c("x1",w.x1-(m.x1shift||0))):(c("x0",w.x0),c("x1",w.x1));var y=dO.getFromId(n,m.yref);m.yref.charAt(0)==="y"&&y.type.includes("category")?(c("y0",w.y0-(m.y0shift||0)),c("y1",w.y1-(m.y1shift||0))):(c("y0",w.y0),c("y1",w.y1));break;case"path":c("path",w.path);break}}}return a===void 0?(v.push(s),v):u?u.getUpdateObj():{}}}}function _O(e,r,t){var n=e[0][0],a=r.gd,o=n.getAttribute("d"),i=a._fullLayout.newshape,l=r.plotinfo,f=r.isActiveShape,s=l.xaxis,u=l.yaxis,c=!!l.domain||!l.xaxis,v=!!l.domain||!l.yaxis,x=cpe(t),m=gpe(o,a,l,f),w={editable:!0,visible:i.visible,name:i.name,showlegend:i.showlegend,legend:i.legend,legendwidth:i.legendwidth,legendgroup:i.legendgroup,legendgrouptitle:{text:i.legendgrouptitle.text,font:i.legendgrouptitle.font},legendrank:i.legendrank,label:i.label,xref:c?"paper":s._id,yref:v?"paper":u._id,layer:i.layer,opacity:i.opacity,line:{color:i.line.color,width:i.line.width,dash:i.line.dash}};x||(w.fillcolor=i.fillcolor,w.fillrule=i.fillrule);var A;if(m.length===1&&(A=m[0]),A&&A.length===5&&t==="drawrect")w.type="rect",w.x0=A[0][1],w.y0=A[0][2],w.x1=A[2][1],w.y1=A[2][2];else if(A&&t==="drawline")w.type="line",w.x0=A[0][1],w.y0=A[0][2],w.x1=A[1][1],w.y1=A[1][2];else if(A&&t==="drawcircle"){w.type="circle";var y=A[pO][1],M=A[gO][1],E=A[yO][1],b=A[mO][1],T=A[pO][2],p=A[gO][2],_=A[yO][2],g=A[mO][2],h=l.xaxis&&(l.xaxis.type==="date"||l.xaxis.type==="log"),S=l.yaxis&&(l.yaxis.type==="date"||l.yaxis.type==="log");h&&(y=m0(l.xaxis,y),M=m0(l.xaxis,M),E=m0(l.xaxis,E),b=m0(l.xaxis,b)),S&&(T=m0(l.yaxis,T),p=m0(l.yaxis,p),_=m0(l.yaxis,_),g=m0(l.yaxis,g));var d=(M+b)/2,R=(T+_)/2,L=(b-M+E-y)/2,F=(g-p+_-T)/2,O=mpe({x0:d,y0:R,x1:d+L*hpe,y1:R+F*vpe});h&&(O.x0=px(l.xaxis,O.x0),O.x1=px(l.xaxis,O.x1)),S&&(O.y0=px(l.yaxis,O.y0),O.y1=px(l.yaxis,O.y1)),w.x0=O.x0,w.y0=O.y0,w.x1=O.x1,w.y1=O.y1}else w.type="path",s&&u&&xpe(m,s,u),w.path=ype(m),A=null;return w}wO.exports={newShapes:bpe,createShapeObj:_O}});var g6=fe((COe,AO)=>{"use strict";var _pe=pv(),wpe=_pe.selectMode,Ape=s0(),Tpe=Ape.clearOutline,p6=y0(),Mpe=p6.readPaths,Epe=p6.writePaths,Spe=p6.fixDatesForPaths;AO.exports=function(r,t){if(r.length){var n=r[0][0];if(n){var a=n.getAttribute("d"),o=t.gd,i=o._fullLayout.newselection,l=t.plotinfo,f=l.xaxis,s=l.yaxis,u=t.isActiveSelection,c=t.dragmode,v=(o.layout||{}).selections||[];if(!wpe(c)&&u!==void 0){var x=o._fullLayout._activeSelectionIndex;if(x<v.length)switch(o._fullLayout.selections[x].type){case"rect":c="select";break;case"path":c="lasso";break}}var m=Mpe(a,o,l,u),w={xref:f._id,yref:s._id,opacity:i.opacity,line:{color:i.line.color,width:i.line.width,dash:i.line.dash}},A;m.length===1&&(A=m[0]),A&&A.length===5&&c==="select"?(w.type="rect",w.x0=A[0][1],w.y0=A[0][2],w.x1=A[2][1],w.y1=A[2][2]):(w.type="path",f&&s&&Spe(m,f,s),w.path=Epe(m),A=null),Tpe(o);for(var y=t.editHelpers,M=(y||{}).modifyItem,E=[],b=0;b<v.length;b++){var T=o._fullLayout.selections[b];if(!T){E[b]=T;continue}if(E[b]=T._input,u!==void 0&&b===o._fullLayout._activeSelectionIndex){var p=w;switch(T.type){case"rect":M("x0",p.x0),M("x1",p.x1),M("y0",p.y0),M("y1",p.y1);break;case"path":M("path",p.path);break}}}return u===void 0?(E.push(w),E):y?y.getUpdateObj():{}}}}});var iy=fe((kOe,TO)=>{"use strict";TO.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}});var x0=fe(Xi=>{"use strict";var gv=iy(),MO=tt(),mx=Fa();Xi.rangeToShapePosition=function(e){return e.type==="log"?e.r2d:function(r){return r}};Xi.shapePositionToRange=function(e){return e.type==="log"?e.d2r:function(r){return r}};Xi.decodeDate=function(e){return function(r){return r.replace&&(r=r.replace("_"," ")),e(r)}};Xi.encodeDate=function(e){return function(r){return e(r).replace(" ","_")}};Xi.extractPathCoords=function(e,r,t){var n=[],a=e.match(gv.segmentRE);return a.forEach(function(o){var i=r[o.charAt(0)].drawn;if(i!==void 0){var l=o.substr(1).match(gv.paramRE);if(!(!l||l.length<i)){var f=l[i],s=t?f:MO.cleanNumber(f);n.push(s)}}}),n};Xi.getDataToPixel=function(e,r,t,n,a){var o=e._fullLayout._size,i;if(r)if(a==="domain")i=function(f){return r._length*(n?1-f:f)+r._offset};else{var l=Xi.shapePositionToRange(r);i=function(f){var s=oy(r,t);return r._offset+r.r2p(l(f,!0))+s},r.type==="date"&&(i=Xi.decodeDate(i))}else n?i=function(f){return o.t+o.h*(1-f)}:i=function(f){return o.l+o.w*f};return i};Xi.getPixelToData=function(e,r,t,n){var a=e._fullLayout._size,o;if(r)if(n==="domain")o=function(l){var f=(l-r._offset)/r._length;return t?1-f:f};else{var i=Xi.rangeToShapePosition(r);o=function(l){return i(r.p2r(l-r._offset))}}else t?o=function(l){return 1-(l-a.t)/a.h}:o=function(l){return(l-a.l)/a.w};return o};Xi.roundPositionForSharpStrokeRendering=function(e,r){var t=Math.round(r%2)===1,n=Math.round(e);return t?n+.5:n};Xi.makeShapesOptionsAndPlotinfo=function(e,r){var t=e._fullLayout.shapes[r]||{},n=e._fullLayout._plots[t.xref+t.yref],a=!!n;return a?n._hadPlotinfo=!0:(n={},t.xref&&t.xref!=="paper"&&(n.xaxis=e._fullLayout[t.xref+"axis"]),t.yref&&t.yref!=="paper"&&(n.yaxis=e._fullLayout[t.yref+"axis"])),n.xsizemode=t.xsizemode,n.ysizemode=t.ysizemode,n.xanchor=t.xanchor,n.yanchor=t.yanchor,{options:t,plotinfo:n}};Xi.makeSelectionsOptionsAndPlotinfo=function(e,r){var t=e._fullLayout.selections[r]||{},n=e._fullLayout._plots[t.xref+t.yref],a=!!n;return a?n._hadPlotinfo=!0:(n={},t.xref&&(n.xaxis=e._fullLayout[t.xref+"axis"]),t.yref&&(n.yaxis=e._fullLayout[t.yref+"axis"])),{options:t,plotinfo:n}};Xi.getPathString=function(e,r){var t=r.type,n=mx.getRefType(r.xref),a=mx.getRefType(r.yref),o=mx.getFromId(e,r.xref),i=mx.getFromId(e,r.yref),l=e._fullLayout._size,f,s,u,c,v=oy(o,r.x0shift),x=oy(o,r.x1shift),m=oy(i,r.y0shift),w=oy(i,r.y1shift),A,y,M,E;if(o?n==="domain"?s=function(L){return o._offset+o._length*L}:(f=Xi.shapePositionToRange(o),s=function(L){return o._offset+o.r2p(f(L,!0))}):s=function(L){return l.l+l.w*L},i?a==="domain"?c=function(L){return i._offset+i._length*(1-L)}:(u=Xi.shapePositionToRange(i),c=function(L){return i._offset+i.r2p(u(L,!0))}):c=function(L){return l.t+l.h*(1-L)},t==="path")return o&&o.type==="date"&&(s=Xi.decodeDate(s)),i&&i.type==="date"&&(c=Xi.decodeDate(c)),Cpe(r,s,c);if(r.xsizemode==="pixel"){var b=s(r.xanchor);A=b+r.x0+v,y=b+r.x1+x}else A=s(r.x0)+v,y=s(r.x1)+x;if(r.ysizemode==="pixel"){var T=c(r.yanchor);M=T-r.y0+m,E=T-r.y1+w}else M=c(r.y0)+m,E=c(r.y1)+w;if(t==="line")return"M"+A+","+M+"L"+y+","+E;if(t==="rect")return"M"+A+","+M+"H"+y+"V"+E+"H"+A+"Z";var p=(A+y)/2,_=(M+E)/2,g=Math.abs(p-A),h=Math.abs(_-M),S="A"+g+","+h,d=p+g+","+_,R=p+","+(_-h);return"M"+d+S+" 0 1,1 "+R+S+" 0 0,1 "+d+"Z"};function Cpe(e,r,t){var n=e.path,a=e.xsizemode,o=e.ysizemode,i=e.xanchor,l=e.yanchor;return n.replace(gv.segmentRE,function(f){var s=0,u=f.charAt(0),c=gv.paramIsX[u],v=gv.paramIsY[u],x=gv.numParams[u],m=f.substr(1).replace(gv.paramRE,function(w){return c[s]?a==="pixel"?w=r(i)+Number(w):w=r(w):v[s]&&(o==="pixel"?w=t(l)-Number(w):w=t(w)),s++,s>x&&(w="X"),w});return s>x&&(m=m.replace(/[\s,]*X.*/,""),MO.log("Ignoring extra params in segment "+f)),u+m})}function oy(e,r){r=r||0;var t=0;return r&&e&&(e.type==="category"||e.type==="multicategory")&&(t=(e.r2p(1)-e.r2p(0))*r),t}});var m6=fe((ROe,kO)=>{"use strict";var kpe=tt(),m1=Fa(),EO=po(),SO=ta(),Lpe=y0().readPaths,y6=x0(),Rpe=y6.getPathString,CO=U2(),Fpe=Ro().FROM_TL;kO.exports=function(r,t,n,a){if(a.selectAll(".shape-label").remove(),!!(n.label.text||n.label.texttemplate)){var o;if(n.label.texttemplate){var i={};if(n.type!=="path"){var l=m1.getFromId(r,n.xref),f=m1.getFromId(r,n.yref);for(var s in CO){var u=CO[s](n,l,f);u!==void 0&&(i[s]=u)}}o=kpe.texttemplateStringForShapes(n.label.texttemplate,{},r._fullLayout._d3locale,i)}else o=n.label.text;var c={"data-index":t},v=n.label.font,x={"data-notex":1},m=a.append("g").attr(c).classed("shape-label",!0),w=m.append("text").attr(x).classed("shape-label-text",!0).text(o),A,y,M,E;if(n.path){var b=Rpe(r,n),T=Lpe(b,r);A=1/0,M=1/0,y=-1/0,E=-1/0;for(var p=0;p<T.length;p++)for(var _=0;_<T[p].length;_++)for(var g=T[p][_],h=1;h<g.length;h+=2){var S=g[h],d=g[h+1];A=Math.min(A,S),y=Math.max(y,S),M=Math.min(M,d),E=Math.max(E,d)}}else{var R=m1.getFromId(r,n.xref),L=n.x0shift,F=n.x1shift,O=m1.getRefType(n.xref),P=m1.getFromId(r,n.yref),I=n.y0shift,k=n.y1shift,D=m1.getRefType(n.yref),z=function(ie,J){var le=y6.getDataToPixel(r,R,J,!1,O);return le(ie)},q=function(ie,J){var le=y6.getDataToPixel(r,P,J,!0,D);return le(ie)};A=z(n.x0,L),y=z(n.x1,F),M=q(n.y0,I),E=q(n.y1,k)}var j=n.label.textangle;j==="auto"&&(n.type==="line"?j=Dpe(A,M,y,E):j=0),w.call(function(ie){return ie.call(SO.font,v).attr({}),EO.convertToTspans(ie,r),ie});var Q=SO.bBox(w.node()),K=Ipe(A,M,y,E,n,j,Q),G=K.textx,B=K.texty,Z=K.xanchor;w.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[Z],y:B,x:G,transform:"rotate("+j+","+G+","+B+")"}).call(EO.positionText,G,B)}};function Dpe(e,r,t,n){var a,o;return o=Math.abs(t-e),t>=e?a=r-n:a=n-r,-180/Math.PI*Math.atan2(a,o)}function Ipe(e,r,t,n,a,o,i){var l=a.label.textposition,f=a.label.textangle,s=a.label.padding,u=a.type,c=Math.PI/180*o,v=Math.sin(c),x=Math.cos(c),m=a.label.xanchor,w=a.label.yanchor,A,y,M,E;if(u==="line"){l==="start"?(A=e,y=r):l==="end"?(A=t,y=n):(A=(e+t)/2,y=(r+n)/2),m==="auto"&&(l==="start"?f==="auto"?t>e?m="left":t<e?m="right":m="center":t>e?m="right":t<e?m="left":m="center":l==="end"?f==="auto"?t>e?m="right":t<e?m="left":m="center":t>e?m="left":t<e?m="right":m="center":m="center");var b={left:1,center:0,right:-1},T={bottom:-1,middle:0,top:1};if(f==="auto"){var p=T[w];M=-s*v*p,E=s*x*p}else{var _=b[m],g=T[w];M=s*_,E=s*g}A=A+M,y=y+E}else M=s+3,l.indexOf("right")!==-1?(A=Math.max(e,t)-M,m==="auto"&&(m="right")):l.indexOf("left")!==-1?(A=Math.min(e,t)+M,m==="auto"&&(m="left")):(A=(e+t)/2,m==="auto"&&(m="center")),l.indexOf("top")!==-1?y=Math.min(r,n):l.indexOf("bottom")!==-1?y=Math.max(r,n):y=(r+n)/2,E=s,w==="bottom"?y=y-E:w==="top"&&(y=y+E);var h=Fpe[w],S=a.label.font.size,d=i.height,R=(d*h-S)*v,L=-(d*h-S)*x;return{textx:A+R,texty:y+L,xanchor:m}}});var _x=fe((FOe,NO)=>{"use strict";var Ppe=tt(),Ope=Ppe.strTranslate,LO=nf(),DO=pv(),Npe=DO.drawMode,IO=DO.selectMode,PO=Qt(),RO=xn(),bx=hx(),Bpe=bx.i000,zpe=bx.i090,qpe=bx.i180,Upe=bx.i270,Gpe=s0(),OO=Gpe.clearOutlineControllers,b6=y0(),xx=b6.pointsOnRectangle,x6=b6.pointsOnEllipse,Hpe=b6.writePaths,Vpe=yx().newShapes,Ype=yx().createShapeObj,Wpe=g6(),Xpe=m6();NO.exports=function e(r,t,n,a){a||(a=0);var o=n.gd;function i(){e(r,t,n,a++),(x6(r[0])||n.hasText)&&l({redrawing:!0})}function l(I){var k={};n.isActiveShape!==void 0&&(n.isActiveShape=!1,k=Vpe(t,n)),n.isActiveSelection!==void 0&&(n.isActiveSelection=!1,k=Wpe(t,n),o._fullLayout._reselect=!0),Object.keys(k).length&&PO.call((I||{}).redrawing?"relayout":"_guiRelayout",o,k)}var f=o._fullLayout,s=f._zoomlayer,u=n.dragmode,c=Npe(u),v=IO(u);(c||v)&&(o._fullLayout._outlining=!0),OO(o),t.attr("d",Hpe(r));var x,m,w,A,y;if(!a&&(n.isActiveShape||n.isActiveSelection)){y=jpe([],r);var M=s.append("g").attr("class","outline-controllers");S(M),P()}if(c&&n.hasText){var E=s.select(".label-temp"),b=Ype(t,n,n.dragmode);Xpe(o,"label-temp",b,E)}function T(I){w=+I.srcElement.getAttribute("data-i"),A=+I.srcElement.getAttribute("data-j"),x[w][A].moveFn=p}function p(I,k){if(r.length){var D=y[w][A][1],z=y[w][A][2],q=r[w],j=q.length;if(xx(q)){var Q=I,K=k;if(n.isActiveSelection){var G=FO(q,A);G[1]===q[A][1]?K=0:Q=0}for(var B=0;B<j;B++)if(B!==A){var Z=q[B];Z[1]===q[A][1]&&(Z[1]=D+Q),Z[2]===q[A][2]&&(Z[2]=z+K)}if(q[A][1]=D+Q,q[A][2]=z+K,!xx(q))for(var ie=0;ie<j;ie++)for(var J=0;J<q[ie].length;J++)q[ie][J]=y[w][ie][J]}else q[A][1]=D+I,q[A][2]=z+k;i()}}function _(){l()}function g(){if(r.length&&r[w]&&r[w].length){for(var I=[],k=0;k<r[w].length;k++)k!==A&&I.push(r[w][k]);I.length>1&&!(I.length===2&&I[1][0]==="Z")&&(A===0&&(I[0][0]="M"),r[w]=I,i(),l())}}function h(I,k){if(I===2){w=+k.srcElement.getAttribute("data-i"),A=+k.srcElement.getAttribute("data-j");var D=r[w];!xx(D)&&!x6(D)&&g()}}function S(I){x=[];for(var k=0;k<r.length;k++){var D=r[k],z=xx(D),q=!z&&x6(D);x[k]=[];for(var j=D.length,Q=0;Q<j;Q++)if(D[Q][0]!=="Z"&&!(q&&Q!==Bpe&&Q!==zpe&&Q!==qpe&&Q!==Upe)){var K=z&&n.isActiveSelection,G;K&&(G=FO(D,Q));var B=D[Q][1],Z=D[Q][2],ie=I.append(K?"rect":"circle").attr("data-i",k).attr("data-j",Q).style({fill:RO.background,stroke:RO.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(K){var J=G[1]-B,le=G[2]-Z,te=le?5:Math.max(Math.min(25,Math.abs(J)-5),5),V=J?5:Math.max(Math.min(25,Math.abs(le)-5),5);ie.classed(le?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",te).attr("height",V).attr("x",B-te/2).attr("y",Z-V/2).attr("transform",Ope(J/2,le/2))}else ie.classed("cursor-grab",!0).attr("r",5).attr("cx",B).attr("cy",Z);x[k][Q]={element:ie.node(),gd:o,prepFn:T,doneFn:_,clickFn:h},LO.init(x[k][Q])}}}function d(I,k){if(r.length)for(var D=0;D<r.length;D++)for(var z=0;z<r[D].length;z++)for(var q=0;q+2<r[D][z].length;q+=2)r[D][z][q+1]=y[D][z][q+1]+I,r[D][z][q+2]=y[D][z][q+2]+k}function R(I,k){d(I,k),i()}function L(I){w=+I.srcElement.getAttribute("data-i"),w||(w=0),m[w].moveFn=R}function F(){l()}function O(I){I===2&&Zpe(o)}function P(){if(m=[],!!r.length){var I=0;m[I]={element:t[0][0],gd:o,prepFn:L,doneFn:F,clickFn:O},LO.init(m[I])}}};function jpe(e,r){for(var t=0;t<r.length;t++){var n=r[t];e[t]=[];for(var a=0;a<n.length;a++){e[t][a]=[];for(var o=0;o<n[a].length;o++)e[t][a][o]=n[a][o]}}return e}function FO(e,r){var t=e[r][1],n=e[r][2],a=e.length,o,i,l;return o=(r+1)%a,i=e[o][1],l=e[o][2],i===t&&l===n&&(o=(r+2)%a,i=e[o][1],l=e[o][2]),[o,i,l]}function Zpe(e){if(IO(e._fullLayout.dragmode)){OO(e);var r=e._fullLayout._activeSelectionIndex,t=(e.layout||{}).selections||[];if(r<t.length){for(var n=[],a=0;a<t.length;a++)a!==r&&n.push(t[a]);delete e._fullLayout._activeSelectionIndex;var o=e._fullLayout.selections[r];e._fullLayout._deselect={xref:o.xref,yref:o.yref},PO.call("_guiRelayout",e,{selections:n})}}}});var Mx=fe((DOe,XO)=>{"use strict";var $pe=Ln(),HO=Qt(),BO=tt(),x1=Fa(),Jpe=y0().readPaths,Kpe=_x(),Ax=m6(),VO=s0().clearOutlineControllers,_6=xn(),A6=ta(),Qpe=da().arrayEditor,zO=nf(),qO=Ku(),yv=iy(),bl=x0(),w6=bl.getPathString;XO.exports={draw:T6,drawOne:YO,eraseActiveShape:tge,drawLabel:Ax};function T6(e){var r=e._fullLayout;r._shapeUpperLayer.selectAll("path").remove(),r._shapeLowerLayer.selectAll("path").remove(),r._shapeUpperLayer.selectAll("text").remove(),r._shapeLowerLayer.selectAll("text").remove();for(var t in r._plots){var n=r._plots[t].shapelayer;n&&(n.selectAll("path").remove(),n.selectAll("text").remove())}for(var a=0;a<r.shapes.length;a++)r.shapes[a].visible===!0&&YO(e,a)}function wx(e){return!!e._fullLayout._outlining}function Tx(e){return!e._context.edits.shapePosition}function YO(e,r){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+r+'"]').remove();var t=bl.makeShapesOptionsAndPlotinfo(e,r),n=t.options,a=t.plotinfo;if(!n._input||n.visible!==!0)return;if(n.layer==="above")i(e._fullLayout._shapeUpperLayer);else if(n.xref==="paper"||n.yref==="paper")i(e._fullLayout._shapeLowerLayer);else if(n.layer==="between")i(a.shapelayerBetween);else if(a._hadPlotinfo){var o=a.mainplotinfo||a;i(o.shapelayer)}else i(e._fullLayout._shapeLowerLayer);function i(l){var f=w6(e,n),s={"data-index":r,"fill-rule":n.fillrule,d:f},u=n.opacity,c=n.fillcolor,v=n.line.width?n.line.color:"rgba(0,0,0,0)",x=n.line.width,m=n.line.dash;!x&&n.editable===!0&&(x=5,m="solid");var w=f[f.length-1]!=="Z",A=Tx(e)&&n.editable&&e._fullLayout._activeShapeIndex===r;A&&(c=w?"rgba(0,0,0,0)":e._fullLayout.activeshape.fillcolor,u=e._fullLayout.activeshape.opacity);var y=l.append("g").classed("shape-group",!0).attr({"data-index":r}),M=y.append("path").attr(s).style("opacity",u).call(_6.stroke,v).call(_6.fill,c).call(A6.dashLine,m,x);WO(y,e,n),Ax(e,r,n,y);var E;if((A||e._context.edits.shapePosition)&&(E=Qpe(e.layout,"shapes",n)),A){M.style({cursor:"move"});var b={element:M.node(),plotinfo:a,gd:e,editHelpers:E,hasText:n.label.text||n.label.texttemplate,isActiveShape:!0},T=Jpe(f,e);Kpe(T,M,b)}else e._context.edits.shapePosition?ege(e,M,n,r,l,E):n.editable===!0&&M.style("pointer-events",w||_6.opacity(c)*u<=.5?"stroke":"all");M.node().addEventListener("click",function(){return rge(e,M)})}}function WO(e,r,t){var n=(t.xref+t.yref).replace(/paper/g,"").replace(/[xyz][0-9]* *domain/g,"");A6.setClipUrl(e,n?"clip"+r._fullLayout._uid+n:null,r)}function ege(e,r,t,n,a,o){var i=10,l=10,f=t.xsizemode==="pixel",s=t.ysizemode==="pixel",u=t.type==="line",c=t.type==="path",v=o.modifyItem,x,m,w,A,y,M,E,b,T,p,_,g,h,S,d,R=$pe.select(r.node().parentNode),L=x1.getFromId(e,t.xref),F=x1.getRefType(t.xref),O=x1.getFromId(e,t.yref),P=x1.getRefType(t.yref),I=t.x0shift,k=t.x1shift,D=t.y0shift,z=t.y1shift,q=function(Re,Ae){var Ie=bl.getDataToPixel(e,L,Ae,!1,F);return Ie(Re)},j=function(Re,Ae){var Ie=bl.getDataToPixel(e,O,Ae,!0,P);return Ie(Re)},Q=bl.getPixelToData(e,L,!1,F),K=bl.getPixelToData(e,O,!0,P),G=ie(),B={element:G.node(),gd:e,prepFn:te,doneFn:V,clickFn:ne},Z;zO.init(B),G.node().onmousemove=le;function ie(){return u?J():r}function J(){var Re=10,Ae=Math.max(t.line.width,Re),Ie=a.append("g").attr("data-index",n).attr("drag-helper",!0);Ie.append("path").attr("d",r.attr("d")).style({cursor:"move","stroke-width":Ae,"stroke-opacity":"0"});var Be={"fill-opacity":"0"},je=Math.max(Ae/2,Re);return Ie.append("circle").attr({"data-line-point":"start-point",cx:f?q(t.xanchor)+t.x0:q(t.x0,I),cy:s?j(t.yanchor)-t.y0:j(t.y0,D),r:je}).style(Be).classed("cursor-grab",!0),Ie.append("circle").attr({"data-line-point":"end-point",cx:f?q(t.xanchor)+t.x1:q(t.x1,k),cy:s?j(t.yanchor)-t.y1:j(t.y1,z),r:je}).style(Be).classed("cursor-grab",!0),Ie}function le(Re){if(wx(e)){Z=null;return}if(u)Re.target.tagName==="path"?Z="move":Z=Re.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Ae=B.element.getBoundingClientRect(),Ie=Ae.right-Ae.left,Be=Ae.bottom-Ae.top,je=Re.clientX-Ae.left,Ne=Re.clientY-Ae.top,Qe=!c&&Ie>i&&Be>l&&!Re.shiftKey?zO.getCursor(je/Ie,1-Ne/Be):"move";qO(r,Qe),Z=Qe.split("-")[0]}}function te(Re){wx(e)||(f&&(y=q(t.xanchor)),s&&(M=j(t.yanchor)),t.type==="path"?d=t.path:(x=f?t.x0:q(t.x0),m=s?t.y0:j(t.y0),w=f?t.x1:q(t.x1),A=s?t.y1:j(t.y1)),x<w?(T=x,h="x0",p=w,S="x1"):(T=w,h="x1",p=x,S="x0"),!s&&m<A||s&&m>A?(E=m,_="y0",b=A,g="y1"):(E=A,_="y1",b=m,g="y0"),le(Re),pe(a,t),De(r,t,e),B.moveFn=Z==="move"?Y:oe,B.altKey=Re.altKey)}function V(){wx(e)||(qO(r),we(a),WO(r,e,t),HO.call("_guiRelayout",e,o.getUpdateObj()))}function ne(){wx(e)||we(a)}function Y(Re,Ae){if(t.type==="path"){var Ie=function(Ne){return Ne},Be=Ie,je=Ie;f?v("xanchor",t.xanchor=Q(y+Re)):(Be=function(Qe){return Q(q(Qe)+Re)},L&&L.type==="date"&&(Be=bl.encodeDate(Be))),s?v("yanchor",t.yanchor=K(M+Ae)):(je=function(Qe){return K(j(Qe)+Ae)},O&&O.type==="date"&&(je=bl.encodeDate(je))),v("path",t.path=UO(d,Be,je))}else f?v("xanchor",t.xanchor=Q(y+Re)):(v("x0",t.x0=Q(x+Re)),v("x1",t.x1=Q(w+Re))),s?v("yanchor",t.yanchor=K(M+Ae)):(v("y0",t.y0=K(m+Ae)),v("y1",t.y1=K(A+Ae)));r.attr("d",w6(e,t)),pe(a,t),Ax(e,n,t,R)}function oe(Re,Ae){if(c){var Ie=function(qr){return qr},Be=Ie,je=Ie;f?v("xanchor",t.xanchor=Q(y+Re)):(Be=function(et){return Q(q(et)+Re)},L&&L.type==="date"&&(Be=bl.encodeDate(Be))),s?v("yanchor",t.yanchor=K(M+Ae)):(je=function(et){return K(j(et)+Ae)},O&&O.type==="date"&&(je=bl.encodeDate(je))),v("path",t.path=UO(d,Be,je))}else if(u){if(Z==="resize-over-start-point"){var Ne=x+Re,Qe=s?m-Ae:m+Ae;v("x0",t.x0=f?Ne:Q(Ne)),v("y0",t.y0=s?Qe:K(Qe))}else if(Z==="resize-over-end-point"){var pr=w+Re,Se=s?A-Ae:A+Ae;v("x1",t.x1=f?pr:Q(pr)),v("y1",t.y1=s?Se:K(Se))}}else{var Fe=function(qr){return Z.indexOf(qr)!==-1},hr=Fe("n"),dr=Fe("s"),kr=Fe("w"),Ue=Fe("e"),He=hr?E+Ae:E,Xe=dr?b+Ae:b,fr=kr?T+Re:T,Mr=Ue?p+Re:p;s&&(hr&&(He=E-Ae),dr&&(Xe=b-Ae)),(!s&&Xe-He>l||s&&He-Xe>l)&&(v(_,t[_]=s?He:K(He)),v(g,t[g]=s?Xe:K(Xe))),Mr-fr>i&&(v(h,t[h]=f?fr:Q(fr)),v(S,t[S]=f?Mr:Q(Mr)))}r.attr("d",w6(e,t)),pe(a,t),Ax(e,n,t,R)}function pe(Re,Ae){(f||s)&&Ie();function Ie(){var Be=Ae.type!=="path",je=Re.selectAll(".visual-cue").data([0]),Ne=1;je.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Ne}).classed("visual-cue",!0);var Qe=q(f?Ae.xanchor:BO.midRange(Be?[Ae.x0,Ae.x1]:bl.extractPathCoords(Ae.path,yv.paramIsX))),pr=j(s?Ae.yanchor:BO.midRange(Be?[Ae.y0,Ae.y1]:bl.extractPathCoords(Ae.path,yv.paramIsY)));if(Qe=bl.roundPositionForSharpStrokeRendering(Qe,Ne),pr=bl.roundPositionForSharpStrokeRendering(pr,Ne),f&&s){var Se="M"+(Qe-1-Ne)+","+(pr-1-Ne)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";je.attr("d",Se)}else if(f){var Fe="M"+(Qe-1-Ne)+","+(pr-9-Ne)+"v18 h2 v-18 Z";je.attr("d",Fe)}else{var hr="M"+(Qe-9-Ne)+","+(pr-1-Ne)+"h18 v2 h-18 Z";je.attr("d",hr)}}}function we(Re){Re.selectAll(".visual-cue").remove()}function De(Re,Ae,Ie){var Be=Ae.xref,je=Ae.yref,Ne=x1.getFromId(Ie,Be),Qe=x1.getFromId(Ie,je),pr="";Be!=="paper"&&!Ne.autorange&&(pr+=Be),je!=="paper"&&!Qe.autorange&&(pr+=je),A6.setClipUrl(Re,pr?"clip"+Ie._fullLayout._uid+pr:null,Ie)}}function UO(e,r,t){return e.replace(yv.segmentRE,function(n){var a=0,o=n.charAt(0),i=yv.paramIsX[o],l=yv.paramIsY[o],f=yv.numParams[o],s=n.substr(1).replace(yv.paramRE,function(u){return a>=f||(i[a]?u=r(u):l[a]&&(u=t(u)),a++),u});return o+s})}function rge(e,r){if(Tx(e)){var t=r.node(),n=+t.getAttribute("data-index");if(n>=0){if(n===e._fullLayout._activeShapeIndex){GO(e);return}e._fullLayout._activeShapeIndex=n,e._fullLayout._deactivateShape=GO,T6(e)}}}function GO(e){if(Tx(e)){var r=e._fullLayout._activeShapeIndex;r>=0&&(VO(e),delete e._fullLayout._activeShapeIndex,T6(e))}}function tge(e){if(Tx(e)){VO(e);var r=e._fullLayout._activeShapeIndex,t=(e.layout||{}).shapes||[];if(r<t.length){for(var n=[],a=0;a<t.length;a++)a!==r&&n.push(t[a]);return delete e._fullLayout._activeShapeIndex,HO.call("_guiRelayout",e,{shapes:n})}}}});var S6=fe((IOe,tN)=>{"use strict";var gs=Qt(),jO=ci(),ZO=ti(),Un=ux(),nge=Mx().eraseActiveShape,Ex=tt(),Fn=Ex._,Gn=tN.exports={};Gn.toImage={name:"toImage",title:function(e){var r=e._context.toImageButtonOptions||{},t=r.format||"png";return t==="png"?Fn(e,"Download plot as a PNG"):Fn(e,"Download plot")},icon:Un.camera,click:function(e){var r=e._context.toImageButtonOptions,t={format:r.format||"png"};Ex.notifier(Fn(e,"Taking snapshot - this may take a few seconds"),"long"),["filename","width","height","scale"].forEach(function(n){n in r&&(t[n]=r[n])}),gs.call("downloadImage",e,t).then(function(n){Ex.notifier(Fn(e,"Snapshot succeeded")+" - "+n,"long")}).catch(function(){Ex.notifier(Fn(e,"Sorry, there was a problem downloading your snapshot!"),"long")})}};Gn.sendDataToCloud={name:"sendDataToCloud",title:function(e){return Fn(e,"Edit in Chart Studio")},icon:Un.disk,click:function(e){jO.sendDataToCloud(e)}};Gn.editInChartStudio={name:"editInChartStudio",title:function(e){return Fn(e,"Edit in Chart Studio")},icon:Un.pencil,click:function(e){jO.sendDataToCloud(e)}};Gn.zoom2d={name:"zoom2d",_cat:"zoom",title:function(e){return Fn(e,"Zoom")},attr:"dragmode",val:"zoom",icon:Un.zoombox,click:Io};Gn.pan2d={name:"pan2d",_cat:"pan",title:function(e){return Fn(e,"Pan")},attr:"dragmode",val:"pan",icon:Un.pan,click:Io};Gn.select2d={name:"select2d",_cat:"select",title:function(e){return Fn(e,"Box Select")},attr:"dragmode",val:"select",icon:Un.selectbox,click:Io};Gn.lasso2d={name:"lasso2d",_cat:"lasso",title:function(e){return Fn(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:Un.lasso,click:Io};Gn.drawclosedpath={name:"drawclosedpath",title:function(e){return Fn(e,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:Un.drawclosedpath,click:Io};Gn.drawopenpath={name:"drawopenpath",title:function(e){return Fn(e,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:Un.drawopenpath,click:Io};Gn.drawline={name:"drawline",title:function(e){return Fn(e,"Draw line")},attr:"dragmode",val:"drawline",icon:Un.drawline,click:Io};Gn.drawrect={name:"drawrect",title:function(e){return Fn(e,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:Un.drawrect,click:Io};Gn.drawcircle={name:"drawcircle",title:function(e){return Fn(e,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:Un.drawcircle,click:Io};Gn.eraseshape={name:"eraseshape",title:function(e){return Fn(e,"Erase active shape")},icon:Un.eraseshape,click:nge};Gn.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(e){return Fn(e,"Zoom in")},attr:"zoom",val:"in",icon:Un.zoom_plus,click:Io};Gn.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(e){return Fn(e,"Zoom out")},attr:"zoom",val:"out",icon:Un.zoom_minus,click:Io};Gn.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(e){return Fn(e,"Autoscale")},attr:"zoom",val:"auto",icon:Un.autoscale,click:Io};Gn.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(e){return Fn(e,"Reset axes")},attr:"zoom",val:"reset",icon:Un.home,click:Io};Gn.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(e){return Fn(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:Un.tooltip_basic,gravity:"ne",click:Io};Gn.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(e){return Fn(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:Un.tooltip_compare,gravity:"ne",click:Io};function Io(e,r){var t=r.currentTarget,n=t.getAttribute("data-attr"),a=t.getAttribute("data-val")||!0,o=e._fullLayout,i={},l=ZO.list(e,null,!0),f=o._cartesianSpikesEnabled,s,u;if(n==="zoom"){var c=a==="in"?.5:2,v=(1+c)/2,x=(1-c)/2,m,w;for(u=0;u<l.length;u++)if(s=l[u],w=s.modebardisable==="none"||s.modebardisable.indexOf(a==="auto"||a==="reset"?"autoscale":"zoominout")===-1,w&&!s.fixedrange)if(m=s._name,a==="auto")i[m+".autorange"]=!0;else if(a==="reset")s._rangeInitial0===void 0&&s._rangeInitial1===void 0?i[m+".autorange"]=!0:s._rangeInitial0===void 0?(i[m+".autorange"]=s._autorangeInitial,i[m+".range"]=[null,s._rangeInitial1]):s._rangeInitial1===void 0?(i[m+".range"]=[s._rangeInitial0,null],i[m+".autorange"]=s._autorangeInitial):i[m+".range"]=[s._rangeInitial0,s._rangeInitial1],s._showSpikeInitial!==void 0&&(i[m+".showspikes"]=s._showSpikeInitial,f==="on"&&!s._showSpikeInitial&&(f="off"));else{var A=[s.r2l(s.range[0]),s.r2l(s.range[1])],y=[v*A[0]+x*A[1],v*A[1]+x*A[0]];i[m+".range[0]"]=s.l2r(y[0]),i[m+".range[1]"]=s.l2r(y[1])}}else n==="hovermode"&&(a==="x"||a==="y")&&(a=o._isHoriz?"y":"x",t.setAttribute("data-val",a)),i[n]=a;o._cartesianSpikesEnabled=f,gs.call("_guiRelayout",e,i)}Gn.zoom3d={name:"zoom3d",_cat:"zoom",title:function(e){return Fn(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:Un.zoombox,click:Sx};Gn.pan3d={name:"pan3d",_cat:"pan",title:function(e){return Fn(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:Un.pan,click:Sx};Gn.orbitRotation={name:"orbitRotation",title:function(e){return Fn(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:Un["3d_rotate"],click:Sx};Gn.tableRotation={name:"tableRotation",title:function(e){return Fn(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:Un["z-axis"],click:Sx};function Sx(e,r){for(var t=r.currentTarget,n=t.getAttribute("data-attr"),a=t.getAttribute("data-val")||!0,o=e._fullLayout._subplots.gl3d||[],i={},l=n.split("."),f=0;f<o.length;f++)i[o[f]+"."+l[1]]=a;var s=a==="pan"?a:"zoom";i.dragmode=s,gs.call("_guiRelayout",e,i)}Gn.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(e){return Fn(e,"Reset camera to default")},attr:"resetDefault",icon:Un.home,click:M6};Gn.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(e){return Fn(e,"Reset camera to last save")},attr:"resetLastSave",icon:Un.movie,click:M6};function M6(e,r){for(var t=r.currentTarget,n=t.getAttribute("data-attr"),a=n==="resetLastSave",o=n==="resetDefault",i=e._fullLayout,l=i._subplots.gl3d||[],f={},s=0;s<l.length;s++){var u=l[s],c=u+".camera",v=u+".aspectratio",x=u+".aspectmode",m=i[u]._scene,w;a?(f[c+".up"]=m.viewInitial.up,f[c+".eye"]=m.viewInitial.eye,f[c+".center"]=m.viewInitial.center,w=!0):o&&(f[c+".up"]=null,f[c+".eye"]=null,f[c+".center"]=null,w=!0),w&&(f[v+".x"]=m.viewInitial.aspectratio.x,f[v+".y"]=m.viewInitial.aspectratio.y,f[v+".z"]=m.viewInitial.aspectratio.z,f[x]=m.viewInitial.aspectmode)}gs.call("_guiRelayout",e,f)}Gn.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(e){return Fn(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:Un.tooltip_basic,gravity:"ne",click:age};function $O(e,r){var t=r.currentTarget,n=t._previousVal,a=e._fullLayout,o=a._subplots.gl3d||[],i=["xaxis","yaxis","zaxis"],l={},f={};if(n)f=n,t._previousVal=null;else{for(var s=0;s<o.length;s++){var u=o[s],c=a[u],v=u+".hovermode";l[v]=c.hovermode,f[v]=!1;for(var x=0;x<3;x++){var m=i[x],w=u+"."+m+".showspikes";f[w]=!1,l[w]=c[m].showspikes}}t._previousVal=l}return f}function age(e,r){var t=$O(e,r);gs.call("_guiRelayout",e,t)}Gn.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(e){return Fn(e,"Zoom in")},attr:"zoom",val:"in",icon:Un.zoom_plus,click:E6};Gn.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(e){return Fn(e,"Zoom out")},attr:"zoom",val:"out",icon:Un.zoom_minus,click:E6};Gn.resetGeo={name:"resetGeo",_cat:"reset",title:function(e){return Fn(e,"Reset")},attr:"reset",val:null,icon:Un.autoscale,click:E6};Gn.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(e){return Fn(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:Un.tooltip_basic,gravity:"ne",click:KO};function E6(e,r){for(var t=r.currentTarget,n=t.getAttribute("data-attr"),a=t.getAttribute("data-val")||!0,o=e._fullLayout,i=o._subplots.geo||[],l=0;l<i.length;l++){var f=i[l],s=o[f];if(n==="zoom"){var u=s.projection.scale,c=a==="in"?2*u:.5*u;gs.call("_guiRelayout",e,f+".projection.scale",c)}}n==="reset"&&b1(e,"geo")}Gn.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(e){return Fn(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:Un.tooltip_basic,gravity:"ne",click:KO};function JO(e){var r=e._fullLayout;return r.hovermode?!1:r._has("cartesian")?r._isHoriz?"y":"x":"closest"}function KO(e){var r=JO(e);gs.call("_guiRelayout",e,"hovermode",r)}Gn.resetViewSankey={name:"resetSankeyGroup",title:function(e){return Fn(e,"Reset view")},icon:Un.home,click:function(e){for(var r={"node.groups":[],"node.x":[],"node.y":[]},t=0;t<e._fullData.length;t++){var n=e._fullData[t]._viewInitial;r["node.groups"].push(n.node.groups.slice()),r["node.x"].push(n.node.x.slice()),r["node.y"].push(n.node.y.slice())}gs.call("restyle",e,r)}};Gn.toggleHover={name:"toggleHover",title:function(e){return Fn(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:Un.tooltip_basic,gravity:"ne",click:function(e,r){var t=$O(e,r);t.hovermode=JO(e),gs.call("_guiRelayout",e,t)}};Gn.resetViews={name:"resetViews",title:function(e){return Fn(e,"Reset views")},icon:Un.home,click:function(e,r){var t=r.currentTarget;t.setAttribute("data-attr","zoom"),t.setAttribute("data-val","reset"),Io(e,r),t.setAttribute("data-attr","resetLastSave"),M6(e,r),b1(e,"geo"),b1(e,"mapbox"),b1(e,"map")}};Gn.toggleSpikelines={name:"toggleSpikelines",title:function(e){return Fn(e,"Toggle Spike Lines")},icon:Un.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var r=e._fullLayout,t=r._cartesianSpikesEnabled;r._cartesianSpikesEnabled=t==="on"?"off":"on",gs.call("_guiRelayout",e,ige(e))}};function ige(e){for(var r=e._fullLayout,t=r._cartesianSpikesEnabled==="on",n=ZO.list(e,null,!0),a={},o=0;o<n.length;o++){var i=n[o];a[i._name+".showspikes"]=t?!0:i._showSpikeInitial}return a}Gn.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(e){return Fn(e,"Reset view")},attr:"reset",icon:Un.home,click:function(e){b1(e,"mapbox")}};Gn.resetViewMap={name:"resetViewMap",_cat:"resetView",title:function(e){return Fn(e,"Reset view")},attr:"reset",icon:Un.home,click:function(e){b1(e,"map")}};Gn.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(e){return Fn(e,"Zoom in")},attr:"zoom",val:"in",icon:Un.zoom_plus,click:QO};Gn.zoomInMap={name:"zoomInMap",_cat:"zoomin",title:function(e){return Fn(e,"Zoom in")},attr:"zoom",val:"in",icon:Un.zoom_plus,click:eN};Gn.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(e){return Fn(e,"Zoom out")},attr:"zoom",val:"out",icon:Un.zoom_minus,click:QO};Gn.zoomOutMap={name:"zoomOutMap",_cat:"zoomout",title:function(e){return Fn(e,"Zoom out")},attr:"zoom",val:"out",icon:Un.zoom_minus,click:eN};function QO(e,r){rN(e,r,"mapbox")}function eN(e,r){rN(e,r,"map")}function rN(e,r,t){for(var n=r.currentTarget,a=n.getAttribute("data-val"),o=e._fullLayout,i=o._subplots[t]||[],l=1.05,f={},s=0;s<i.length;s++){var u=i[s],c=o[u].zoom,v=a==="in"?l*c:c/l;f[u+".zoom"]=v}gs.call("_guiRelayout",e,f)}function b1(e,r){for(var t=e._fullLayout,n=t._subplots[r]||[],a={},o=0;o<n.length;o++)for(var i=n[o],l=t[i]._subplot,f=l.viewInitial,s=Object.keys(f),u=0;u<s.length;u++){var c=s[u];a[i+"."+c]=f[c]}gs.call("_guiRelayout",e,a)}});var C6=fe((POe,oN)=>{"use strict";var nN=S6(),oge=Object.keys(nN),aN=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],iN=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(aN),_1=[],lge=function(e){if(iN.indexOf(e._cat||e.name)===-1){var r=e.name,t=(e._cat||e.name).toLowerCase();_1.indexOf(r)===-1&&_1.push(r),_1.indexOf(t)===-1&&_1.push(t)}};oge.forEach(function(e){lge(nN[e])});_1.sort();oN.exports={DRAW_MODES:aN,backButtons:iN,foreButtons:_1}});var k6=fe((NOe,lN)=>{"use strict";var OOe=C6();lN.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}});var fN=fe((BOe,sN)=>{"use strict";var sge=tt(),ly=xn(),fge=da(),uge=k6();sN.exports=function(r,t){var n=r.modebar||{},a=fge.newContainer(t,"modebar");function o(l,f){return sge.coerce(n,a,uge,l,f)}o("orientation"),o("bgcolor",ly.addOpacity(t.paper_bgcolor,.5));var i=ly.contrast(ly.rgb(t.modebar.bgcolor));o("color",ly.addOpacity(i,.3)),o("activecolor",ly.addOpacity(i,.7)),o("uirevision",t.uirevision),o("add"),o("remove")}});var vN=fe((zOe,hN)=>{"use strict";var L6=Ln(),cge=kn(),Cx=tt(),uN=ux(),hge=_2().version,vge=new DOMParser;function cN(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var tu=cN.prototype;tu.update=function(e,r){this.graphInfo=e;var t=this.graphInfo._context,n=this.graphInfo._fullLayout,a="modebar-"+n._uid;this.element.setAttribute("id",a),this.element.setAttribute("role","toolbar"),this._uid=a,this.element.className="modebar modebar--custom",t.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),n.modebar.orientation==="v"&&(this.element.className+=" vertical",r=r.reverse());var o=n.modebar,i="#"+a+" .modebar-group";document.querySelectorAll(i).forEach(function(c){c.style.backgroundColor=o.bgcolor});var l=!this.hasButtons(r),f=this.hasLogo!==t.displaylogo,s=this.locale!==t.locale;if(this.locale=t.locale,(l||f||s)&&(this.removeAllButtons(),this.updateButtons(r),t.watermark||t.displaylogo)){var u=this.getLogo();t.watermark&&(u.className=u.className+" watermark"),n.modebar.orientation==="v"?this.element.insertBefore(u,this.element.childNodes[0]):this.element.appendChild(u),this.hasLogo=!0}this.updateActiveButton(),Cx.setStyleOnHover("#"+a+" .modebar-btn",".active",".icon path","fill: "+o.activecolor,"fill: "+o.color,this.element)};tu.updateButtons=function(e){var r=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(t){var n=r.createGroup();t.forEach(function(a){var o=a.name;if(!o)throw new Error("must provide button 'name' in button config");if(r.buttonsNames.indexOf(o)!==-1)throw new Error("button name '"+o+"' is taken");r.buttonsNames.push(o);var i=r.createButton(a);r.buttonElements.push(i),n.appendChild(i)}),r.element.appendChild(n)})};tu.createGroup=function(){var e=document.createElement("div");e.className="modebar-group";var r=this.graphInfo._fullLayout.modebar;return e.style.backgroundColor=r.bgcolor,e};tu.createButton=function(e){var r=this,t=document.createElement("button");t.setAttribute("type","button"),t.setAttribute("rel","tooltip"),t.className="modebar-btn";var n=e.title;n===void 0?n=e.name:typeof n=="function"&&(n=n(this.graphInfo)),(n||n===0)&&(t.setAttribute("data-title",n),t.setAttribute("aria-label",n)),e.attr!==void 0&&t.setAttribute("data-attr",e.attr);var a=e.val;a!==void 0&&(typeof a=="function"&&(a=a(this.graphInfo)),t.setAttribute("data-val",a));var o=e.click;if(typeof o!="function")throw new Error("must provide button 'click' function in button config");t.addEventListener("click",function(l){e.click(r.graphInfo,l),r.updateActiveButton(l.currentTarget)}),t.setAttribute("data-toggle",e.toggle||!1),e.toggle&&L6.select(t).classed("active",!0);var i=e.icon;return typeof i=="function"?t.appendChild(i()):t.appendChild(this.createIcon(i||uN.question)),t.setAttribute("data-gravity",e.gravity||"n"),t};tu.createIcon=function(e){var r=cge(e.height)?Number(e.height):e.ascent-e.descent,t="http://www.w3.org/2000/svg",n;if(e.path){n=document.createElementNS(t,"svg"),n.setAttribute("viewBox",[0,0,e.width,r].join(" ")),n.setAttribute("class","icon");var a=document.createElementNS(t,"path");a.setAttribute("d",e.path),e.transform?a.setAttribute("transform",e.transform):e.ascent!==void 0&&a.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),n.appendChild(a)}if(e.svg){var o=vge.parseFromString(e.svg,"application/xml");n=o.childNodes[0]}return n.setAttribute("height","1em"),n.setAttribute("width","1em"),n};tu.updateActiveButton=function(e){var r=this.graphInfo._fullLayout,t=e!==void 0?e.getAttribute("data-attr"):null;this.buttonElements.forEach(function(n){var a=n.getAttribute("data-val")||!0,o=n.getAttribute("data-attr"),i=n.getAttribute("data-toggle")==="true",l=L6.select(n),f=function(c,v){var x=r.modebar,m=c.querySelector(".icon path");m&&(v||c.matches(":hover")?m.style.fill=x.activecolor:m.style.fill=x.color)};if(i){if(o===t){var s=!l.classed("active");l.classed("active",s),f(n,s)}}else{var u=o===null?o:Cx.nestedProperty(r,o).get();l.classed("active",u===a),f(n,u===a)}})};tu.hasButtons=function(e){var r=this.buttons;if(!r||e.length!==r.length)return!1;for(var t=0;t<e.length;++t){if(e[t].length!==r[t].length)return!1;for(var n=0;n<e[t].length;n++)if(e[t][n].name!==r[t][n].name)return!1}return!0};function dge(e){return e+" (v"+hge+")"}tu.getLogo=function(){var e=this.createGroup(),r=document.createElement("a");return r.href="https://plotly.com/",r.target="_blank",r.setAttribute("data-title",dge(Cx._(this.graphInfo,"Produced with Plotly.js"))),r.className="modebar-btn plotlyjsicon modebar-btn--logo",r.appendChild(this.createIcon(uN.newplotlylogo)),e.appendChild(r),e};tu.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1};tu.destroy=function(){Cx.removeElement(this.container.querySelector(".modebar"))};function pge(e,r){var t=e._fullLayout,n=new cN({graphInfo:e,container:t._modebardiv.node(),buttons:r});return t._privateplot&&L6.select(n.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),n}hN.exports=pge});var gN=fe((qOe,pN)=>{"use strict";var gge=ti(),dN=Ki(),R6=Qt(),yge=hs().isUnifiedHover,mge=vN(),kx=S6(),xge=C6().DRAW_MODES,bge=tt().extendDeep;pN.exports=function(r){var t=r._fullLayout,n=r._context,a=t._modeBar;if(!n.displayModeBar&&!n.watermark){a&&(a.destroy(),delete t._modeBar);return}if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var o=n.modeBarButtons,i;Array.isArray(o)&&o.length?i=Ege(o):!n.displayModeBar&&n.watermark?i=[]:i=_ge(r),a?a.update(r,i):t._modeBar=mge(r,i)};function _ge(e){var r=e._fullLayout,t=e._fullData,n=e._context;function a(k,D){if(typeof D=="string"){if(D.toLowerCase()===k.toLowerCase())return!0}else{var z=D.name,q=D._cat||D.name;if(z===k||q===k.toLowerCase())return!0}return!1}var o=r.modebar.add;typeof o=="string"&&(o=[o]);var i=r.modebar.remove;typeof i=="string"&&(i=[i]);var l=n.modeBarButtonsToAdd.concat(o.filter(function(k){for(var D=0;D<n.modeBarButtonsToRemove.length;D++)if(a(k,n.modeBarButtonsToRemove[D]))return!1;return!0})),f=n.modeBarButtonsToRemove.concat(i.filter(function(k){for(var D=0;D<n.modeBarButtonsToAdd.length;D++)if(a(k,n.modeBarButtonsToAdd[D]))return!1;return!0})),s=r._has("cartesian"),u=r._has("gl3d"),c=r._has("geo"),v=r._has("pie"),x=r._has("funnelarea"),m=r._has("ternary"),w=r._has("mapbox"),A=r._has("map"),y=r._has("polar"),M=r._has("smith"),E=r._has("sankey"),b=wge(r),T=yge(r.hovermode),p=[];function _(k){if(k.length){for(var D=[],z=0;z<k.length;z++){for(var q=k[z],j=kx[q],Q=j.name.toLowerCase(),K=(j._cat||j.name).toLowerCase(),G=!1,B=0;B<f.length;B++){var Z=f[B].toLowerCase();if(Z===Q||Z===K){G=!0;break}}G||D.push(kx[q])}p.push(D)}}var g=["toImage"];n.showEditInChartStudio?g.push("editInChartStudio"):n.showSendToCloud&&g.push("sendDataToCloud"),_(g);var h=[],S=[],d=[],R=[];(s||v||x||m)+c+u+w+A+y+M>1?(S=["toggleHover"],d=["resetViews"]):c?(h=["zoomInGeo","zoomOutGeo"],S=["hoverClosestGeo"],d=["resetGeo"]):u?(S=["hoverClosest3d"],d=["resetCameraDefault3d","resetCameraLastSave3d"]):w?(h=["zoomInMapbox","zoomOutMapbox"],S=["toggleHover"],d=["resetViewMapbox"]):A?(h=["zoomInMap","zoomOutMap"],S=["toggleHover"],d=["resetViewMap"]):v?S=["hoverClosestPie"]:E?(S=["hoverClosestCartesian","hoverCompareCartesian"],d=["resetViewSankey"]):S=["toggleHover"],s&&S.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(Tge(t)||T)&&(S=[]),s&&!b&&(h=["zoomIn2d","zoomOut2d","autoScale2d"],d[0]!=="resetViews"&&(d=["resetScale2d"])),u?R=["zoom3d","pan3d","orbitRotation","tableRotation"]:s&&!b||m?R=["zoom2d","pan2d"]:w||A||c?R=["pan2d"]:y&&(R=["zoom2d"]),Age(t)&&R.push("select2d","lasso2d");var L=[],F=function(k){L.indexOf(k)===-1&&S.indexOf(k)!==-1&&L.push(k)};if(Array.isArray(l)){for(var O=[],P=0;P<l.length;P++){var I=l[P];typeof I=="string"?(I=I.toLowerCase(),xge.indexOf(I)!==-1?(r._has("mapbox")||r._has("map")||r._has("cartesian"))&&R.push(I):I==="togglespikelines"?F("toggleSpikelines"):I==="togglehover"?F("toggleHover"):I==="hovercompare"?F("hoverCompareCartesian"):I==="hoverclosest"?(F("hoverClosestCartesian"),F("hoverClosestGeo"),F("hoverClosest3d"),F("hoverClosestPie")):I==="v1hovermode"&&(F("hoverClosestCartesian"),F("hoverCompareCartesian"),F("hoverClosestGeo"),F("hoverClosest3d"),F("hoverClosestPie"))):O.push(I)}l=O}return _(R),_(h.concat(d)),_(L),Mge(p,l)}function wge(e){for(var r=gge.list({_fullLayout:e},null,!0),t=0;t<r.length;t++){var n=r[t].modebardisable;if(!r[t].fixedrange&&n!=="autoscale+zoominout"&&n!=="zoominout+autoscale")return!1}return!0}function Age(e){for(var r=!1,t=0;t<e.length&&!r;t++){var n=e[t];!n._module||!n._module.selectPoints||(R6.traceIs(n,"scatter-like")?(dN.hasMarkers(n)||dN.hasText(n))&&(r=!0):R6.traceIs(n,"box-violin")?(n.boxpoints==="all"||n.points==="all")&&(r=!0):r=!0)}return r}function Tge(e){for(var r=0;r<e.length;r++)if(!R6.traceIs(e[r],"noHover"))return!1;return!0}function Mge(e,r){if(r.length)if(Array.isArray(r[0]))for(var t=0;t<r.length;t++)e.push(r[t]);else e.push(r);return e}function Ege(e){for(var r=bge([],e),t=0;t<r.length;t++)for(var n=r[t],a=0;a<n.length;a++){var o=n[a];if(typeof o=="string")if(kx[o]!==void 0)r[t][a]=kx[o];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return r}});var F6=fe((UOe,yN)=>{"use strict";yN.exports={moduleType:"component",name:"modebar",layoutAttributes:k6(),supplyLayoutDefaults:fN(),manage:gN()}});var D6=fe((GOe,mN)=>{"use strict";var Sge=Ro().FROM_BL;mN.exports=function(r,t,n){n===void 0&&(n=Sge[r.constraintoward||"center"]);var a=[r.r2l(r.range[0]),r.r2l(r.range[1])],o=a[0]+(a[1]-a[0])*n;r.range=r._input.range=[r.l2r(o+(a[0]-o)*t),r.l2r(o+(a[1]-o)*t)],r.setScale()}});var fy=fe(sy=>{"use strict";var mv=tt(),I6=av(),lf=ti().id2name,Cge=cs(),xN=D6(),kge=D3(),Lge=ui().ALMOST_EQUAL,Rge=Ro().FROM_BL;sy.handleDefaults=function(e,r,t){var n=t.axIds,a=t.axHasImage,o=r._axisConstraintGroups=[],i=r._axisMatchGroups=[],l,f,s,u,c,v,x,m;for(l=0;l<n.length;l++)u=lf(n[l]),c=e[u],v=r[u],Fge(c,v,{axIds:n,layoutOut:r,hasImage:a[u]});function w(g,h){for(l=0;l<g.length;l++){f=g[l];for(s in f)r[lf(s)][h]=f}}for(w(i,"_matchGroup"),l=0;l<o.length;l++){f=o[l];for(s in f)if(v=r[lf(s)],v.fixedrange){for(var A in f){var y=lf(A);(e[y]||{}).fixedrange===!1&&mv.warn("fixedrange was specified as false for axis "+y+" but was overridden because another axis in its constraint group has fixedrange true"),r[y].fixedrange=!0}break}}for(l=0;l<o.length;){f=o[l];for(s in f){v=r[lf(s)],v._matchGroup&&Object.keys(v._matchGroup).length===Object.keys(f).length&&(o.splice(l,1),l--);break}l++}w(o,"_constraintGroup");var M=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],E=!1,b=!1;function T(){m=v[x],x==="rangebreaks"&&(b=v._hasDayOfWeekBreaks)}for(l=0;l<i.length;l++){f=i[l];for(var p=0;p<M.length;p++){x=M[p],m=null;var _;for(s in f)if(u=lf(s),c=e[u],v=r[u],x in v){if(!v.matches&&(_=v,x in c)){T();break}m===null&&x in c&&T()}if(x==="range"&&m&&c.range&&c.range.length===2&&c.range[0]!==null&&c.range[1]!==null&&(E=!0),x==="autorange"&&m===null&&E&&(m=!1),m===null&&x in _&&(m=_[x]),m!==null)for(s in f)v=r[lf(s)],v[x]=x==="range"?m.slice():m,x==="rangebreaks"&&(v._hasDayOfWeekBreaks=b,kge(v,r))}}};function Fge(e,r,t){var n=t.axIds,a=t.layoutOut,o=t.hasImage,i=a._axisConstraintGroups,l=a._axisMatchGroups,f=r._id,s=f.charAt(0),u=((a._splomAxes||{})[s]||{})[f]||{},c=r._id,v=c.charAt(0)==="x";r._matchGroup=null,r._constraintGroup=null;function x(R,L){return mv.coerce(e,r,Cge,R,L)}x("constrain",o?"domain":"range"),mv.coerce(e,r,{constraintoward:{valType:"enumerated",values:v?["left","center","right"]:["bottom","middle","top"],dflt:v?"center":"middle"}},"constraintoward");var m=r.type,w,A,y=[];for(w=0;w<n.length;w++)if(A=n[w],A!==c){var M=a[lf(A)];M.type===m&&y.push(A)}var E=wN(i,c);if(E){var b=[];for(w=0;w<y.length;w++)A=y[w],E[A]||b.push(A);y=b}var T=y.length,p,_;T&&(e.matches||u.matches)&&(p=mv.coerce(e,r,{matches:{valType:"enumerated",values:y,dflt:y.indexOf(u.matches)!==-1?u.matches:void 0}},"matches"));var g=o&&!v?r.anchor:void 0;if(T&&!p&&(e.scaleanchor||g)&&(_=mv.coerce(e,r,{scaleanchor:{valType:"enumerated",values:y.concat([!1])}},"scaleanchor",g)),p){r._matchGroup=P6(l,c,p,1);var h=a[lf(p)],S=bN(a,r)/bN(a,h);v!==(p.charAt(0)==="x")&&(S=(v?"x":"y")+S),P6(i,c,p,S)}else e.matches&&n.indexOf(e.matches)!==-1&&mv.warn("ignored "+r._name+'.matches: "'+e.matches+'" to avoid an infinite loop');if(_){var d=x("scaleratio");d||(d=r.scaleratio=1),P6(i,c,_,d)}else e.scaleanchor&&n.indexOf(e.scaleanchor)!==-1&&mv.warn("ignored "+r._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function bN(e,r){var t=r.domain;return t||(t=e[lf(r.overlaying)].domain),t[1]-t[0]}function wN(e,r){for(var t=0;t<e.length;t++)if(e[t][r])return e[t];return null}function P6(e,r,t,n){var a,o,i,l,f,s=wN(e,r);s===null?(s={},s[r]=1,f=e.length,e.push(s)):f=e.indexOf(s);var u=Object.keys(s);for(a=0;a<e.length;a++)if(i=e[a],a!==f&&i[t]){var c=i[t];for(o=0;o<u.length;o++)l=u[o],i[l]=O6(c,O6(n,s[l]));e.splice(f,1);return}if(n!==1)for(o=0;o<u.length;o++){var v=u[o];s[v]=O6(n,s[v])}s[t]=1}function O6(e,r){var t="",n="",a,o;typeof e=="string"&&(t=e.match(/^[xy]*/)[0],a=t.length,e=+e.substr(a)),typeof r=="string"&&(n=r.match(/^[xy]*/)[0],o=n.length,r=+r.substr(o));var i=e*r;return!a&&!o?i:!a||!o||t.charAt(0)===n.charAt(0)?t+n+e*r:a===o?i:(a>o?t.substr(o):n.substr(a))+i}function Dge(e,r){for(var t=r._size,n=t.h/t.w,a={},o=Object.keys(e),i=0;i<o.length;i++){var l=o[i],f=e[l];if(typeof f=="string"){var s=f.match(/^[xy]*/)[0],u=s.length;f=+f.substr(u);for(var c=s.charAt(0)==="y"?n:1/n,v=0;v<u;v++)f*=c}a[l]=f}return a}sy.enforce=function(r){var t=r._fullLayout,n=t._axisConstraintGroups||[],a,o,i,l,f,s,u,c;for(a=0;a<n.length;a++){i=Dge(n[a],t);var v=Object.keys(i),x=1/0,m=0,w=1/0,A={},y={},M=!1;for(o=0;o<v.length;o++)l=v[o],y[l]=f=t[lf(l)],f._inputDomain?f.domain=f._inputDomain.slice():f._inputDomain=f.domain.slice(),f._inputRange||(f._inputRange=f.range.slice()),f.setScale(),A[l]=s=Math.abs(f._m)/i[l],x=Math.min(x,s),(f.constrain==="domain"||!f._constraintShrinkable)&&(w=Math.min(w,s)),delete f._constraintShrinkable,m=Math.max(m,s),f.constrain==="domain"&&(M=!0);if(!(x>Lge*m&&!M)){for(o=0;o<v.length;o++)if(l=v[o],s=A[l],f=y[l],u=f.constrain,s!==w||u==="domain")if(c=s/w,u==="range")xN(f,c);else{var E=f._inputDomain,b=(f.domain[1]-f.domain[0])/(E[1]-E[0]),T=(f.r2l(f.range[1])-f.r2l(f.range[0]))/(f.r2l(f._inputRange[1])-f.r2l(f._inputRange[0]));if(c/=b,c*T<1){f.domain=f._input.domain=E.slice(),xN(f,c);continue}if(T<1&&(f.range=f._input.range=f._inputRange.slice(),c*=T),f.autorange){var p=f.r2l(f.range[0]),_=f.r2l(f.range[1]),g=(p+_)/2,h=g,S=g,d=Math.abs(_-g),R=g-d*c*1.0001,L=g+d*c*1.0001,F=I6.makePadFn(t,f,0),O=I6.makePadFn(t,f,1);_N(f,c);var P=Math.abs(f._m),I=I6.concatExtremes(r,f),k=I.min,D=I.max,z,q;for(q=0;q<k.length;q++)z=k[q].val-F(k[q])/P,z>R&&z<h&&(h=z);for(q=0;q<D.length;q++)z=D[q].val+O(D[q])/P,z<L&&z>S&&(S=z);var j=(S-h)/(2*d);c/=j,h=f.l2r(h),S=f.l2r(S),f.range=f._input.range=p<_?[h,S]:[S,h]}_N(f,c)}}}};sy.getAxisGroup=function(r,t){for(var n=r._axisMatchGroups,a=0;a<n.length;a++){var o=n[a];if(o[t])return"g"+a}return t};sy.clean=function(r,t){if(t._inputDomain){for(var n=!1,a=t._id,o=r._fullLayout._axisConstraintGroups,i=0;i<o.length;i++)if(o[i][a]){n=!0;break}(!n||t.constrain!=="domain")&&(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}};function _N(e,r){var t=e._inputDomain,n=Rge[e.constraintoward],a=t[0]+(t[1]-t[0])*n;e.domain=e._input.domain=[a+(t[0]-a)/r,a+(t[1]-a)/r],e.setScale()}});var Fx=fe(Oi=>{"use strict";var Rx=Ln(),Po=Qt(),jl=ci(),ys=tt(),N6=po(),B6=fx(),uy=xn(),w1=ta(),AN=Xg(),CN=F6(),cy=Fa(),tc=Ro(),kN=fy(),Ige=kN.enforce,Pge=kN.clean,TN=av().doAutoRange,LN="start",Oge="middle",RN="end",Nge=Ji().zindexSeparator;Oi.layoutStyles=function(e){return ys.syncOrAsync([jl.doAutoMargin,zge],e)};function Bge(e,r,t){for(var n=0;n<t.length;n++){var a=t[n][0],o=t[n][1];if(!(a[0]>=e[1]||a[1]<=e[0])&&o[0]<r[1]&&o[1]>r[0])return!0}return!1}function zge(e){var r=e._fullLayout,t=r._size,n=t.p,a=cy.list(e,"",!0),o,i,l,f,s,u;if(r._paperdiv.style({width:e._context.responsive&&r.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":r.width+"px",height:e._context.responsive&&r.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":r.height+"px"}).selectAll(".main-svg").call(w1.setSize,r.width,r.height),e._context.setBackground(e,r.paper_bgcolor),Oi.drawMainTitle(e),CN.manage(e),!r._has("cartesian"))return jl.previousPromises(e);function c(te,V,ne){var Y=te._lw/2;if(te._id.charAt(0)==="x"){if(V){if(ne==="top")return V._offset-n-Y}else return t.t+t.h*(1-(te.position||0))+Y%1;return V._offset+V._length+n+Y}if(V){if(ne==="right")return V._offset+V._length+n+Y}else return t.l+t.w*(te.position||0)+Y%1;return V._offset-n-Y}for(o=0;o<a.length;o++){f=a[o];var v=f._anchorAxis;f._linepositions={},f._lw=w1.crispRound(e,f.linewidth,1),f._mainLinePosition=c(f,v,f.side),f._mainMirrorPosition=f.mirror&&v?c(f,v,tc.OPPOSITE_SIDE[f.side]):null}var x=[],m=[],w=[],A=uy.opacity(r.paper_bgcolor)===1&&uy.opacity(r.plot_bgcolor)===1&&r.paper_bgcolor===r.plot_bgcolor;for(i in r._plots)if(l=r._plots[i],l.mainplot)l.bg&&l.bg.remove(),l.bg=void 0;else{var y=l.xaxis.domain,M=l.yaxis.domain,E=l.plotgroup;if(Bge(y,M,w)&&i.indexOf(Nge)===-1){var b=E.node(),T=l.bg=ys.ensureSingle(E,"rect","bg");b.insertBefore(T.node(),b.childNodes[0]),m.push(i)}else E.select("rect.bg").remove(),w.push([y,M]),A||(x.push(i),m.push(i))}var p=r._bgLayer.selectAll(".bg").data(x);for(p.enter().append("rect").classed("bg",!0),p.exit().remove(),p.each(function(te){r._plots[te].bg=Rx.select(this)}),o=0;o<m.length;o++)l=r._plots[m[o]],s=l.xaxis,u=l.yaxis,l.bg&&s._offset!==void 0&&u._offset!==void 0&&l.bg.call(w1.setRect,s._offset-n,u._offset-n,s._length+2*n,u._length+2*n).call(uy.fill,r.plot_bgcolor).style("stroke-width",0);if(!r._hasOnlyLargeSploms)for(i in r._plots){l=r._plots[i],s=l.xaxis,u=l.yaxis;var _=l.clipId="clip"+r._uid+i+"plot",g=ys.ensureSingleById(r._clips,"clipPath",_,function(te){te.classed("plotclip",!0).append("rect")});l.clipRect=g.select("rect").attr({width:s._length,height:u._length}),w1.setTranslate(l.plot,s._offset,u._offset);var h,S;l._hasClipOnAxisFalse?(h=null,S=_):(h=_,S=null),w1.setClipUrl(l.plot,h,e),l.layerClipId=S}var d,R,L,F,O,P,I,k,D,z,q,j,Q;function K(te){return"M"+d+","+te+"H"+R}function G(te){return"M"+s._offset+","+te+"h"+s._length}function B(te){return"M"+te+","+k+"V"+I}function Z(te){return u._shift!==void 0&&(te+=u._shift),"M"+te+","+u._offset+"v"+u._length}function ie(te,V,ne){if(!te.showline||i!==te._mainSubplot)return"";if(!te._anchorAxis)return ne(te._mainLinePosition);var Y=V(te._mainLinePosition);return te.mirror&&(Y+=V(te._mainMirrorPosition)),Y}for(i in r._plots){l=r._plots[i],s=l.xaxis,u=l.yaxis;var J="M0,0";MN(s,i)&&(O=Lx(s,"left",u,a),d=s._offset-(O?n+O:0),P=Lx(s,"right",u,a),R=s._offset+s._length+(P?n+P:0),L=c(s,u,"bottom"),F=c(s,u,"top"),Q=!s._anchorAxis||i!==s._mainSubplot,Q&&(s.mirror==="allticks"||s.mirror==="all")&&(s._linepositions[i]=[L,F]),J=ie(s,K,G),Q&&s.showline&&(s.mirror==="all"||s.mirror==="allticks")&&(J+=K(L)+K(F)),l.xlines.style("stroke-width",s._lw+"px").call(uy.stroke,s.showline?s.linecolor:"rgba(0,0,0,0)")),l.xlines.attr("d",J);var le="M0,0";MN(u,i)&&(q=Lx(u,"bottom",s,a),I=u._offset+u._length+(q?n:0),j=Lx(u,"top",s,a),k=u._offset-(j?n:0),D=c(u,s,"left"),z=c(u,s,"right"),Q=!u._anchorAxis||i!==u._mainSubplot,Q&&(u.mirror==="allticks"||u.mirror==="all")&&(u._linepositions[i]=[D,z]),le=ie(u,B,Z),Q&&u.showline&&(u.mirror==="all"||u.mirror==="allticks")&&(le+=B(D)+B(z)),l.ylines.style("stroke-width",u._lw+"px").call(uy.stroke,u.showline?u.linecolor:"rgba(0,0,0,0)")),l.ylines.attr("d",le)}return cy.makeClipPaths(e),jl.previousPromises(e)}function MN(e,r){return(e.ticks||e.showline)&&(r===e._mainSubplot||e.mirror==="all"||e.mirror==="allticks")}function EN(e,r,t){if(!t.showline||!t._lw)return!1;if(t.mirror==="all"||t.mirror==="allticks")return!0;var n=t._anchorAxis;if(!n)return!1;var a=tc.FROM_BL[r];return t.side===r?n.domain[a]===e.domain[a]:t.mirror&&n.domain[1-a]===e.domain[1-a]}function Lx(e,r,t,n){if(EN(e,r,t))return t._lw;for(var a=0;a<n.length;a++){var o=n[a];if(o._mainAxis===t._mainAxis&&EN(e,r,o))return o._lw}return 0}Oi.drawMainTitle=function(e){var r=e._fullLayout.title,t=e._fullLayout,n=Wge(t),a=Xge(t),o=Yge(t,a),i=Vge(t,n);if(AN.draw(e,"gtitle",{propContainer:t,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:t._dfltTitle.plot,subtitlePlaceholder:t._dfltTitle.subtitle,attributes:{x:i,y:o,"text-anchor":n,dy:a}}),r.text&&r.automargin){var l=Rx.select(e).selectAll(".gtitle"),f=w1.bBox(Rx.select(e).selectAll(".g-gtitle").node()).height,s=Gge(e,r,f);if(s>0){Hge(e,o,s,f),l.attr({x:i,y:o,"text-anchor":n,dy:SN(r.yanchor)}).call(N6.positionText,i,o);var u=(r.text.match(N6.BR_TAG_ALL)||[]).length;if(u){var c=tc.LINE_SPACING*u+tc.MID_SHIFT;r.y===0&&(c=-c),l.selectAll(".line").each(function(){var A=+this.getAttribute("dy").slice(0,-2)-c+"em";this.setAttribute("dy",A)})}var v=Rx.select(e).selectAll(".gtitle-subtitle");if(v.node()){var x=l.node().getBBox(),m=x.y+x.height,w=m+AN.SUBTITLE_PADDING_EM*r.subtitle.font.size;v.attr({x:i,y:w,"text-anchor":n,dy:SN(r.yanchor)}).call(N6.positionText,i,w)}}}};function qge(e,r,t,n,a){var o=r.yref==="paper"?e._fullLayout._size.h:e._fullLayout.height,i=ys.isTopAnchor(r)?n:n-a,l=t==="b"?o-i:i;return ys.isTopAnchor(r)&&t==="t"||ys.isBottomAnchor(r)&&t==="b"?!1:l<a}function Uge(e,r,t,n,a){var o=0;return t==="middle"&&(o+=a/2),e==="t"?(t==="top"&&(o+=a),o+=n-r*n):(t==="bottom"&&(o+=a),o+=r*n),o}function Gge(e,r,t){var n=r.y,a=r.yanchor,o=n>.5?"t":"b",i=e._fullLayout.margin[o],l=0;return r.yref==="paper"?l=t+r.pad.t+r.pad.b:r.yref==="container"&&(l=Uge(o,n,a,e._fullLayout.height,t)+r.pad.t+r.pad.b),l>i?l:0}function Hge(e,r,t,n){var a="title.automargin",o=e._fullLayout.title,i=o.y>.5?"t":"b",l={x:o.x,y:o.y,t:0,b:0},f={};o.yref==="paper"&&qge(e,o,i,r,n)?l[i]=t:o.yref==="container"&&(f[i]=t,e._fullLayout._reservedMargin[a]=f),jl.allowAutoMargin(e,a),jl.autoMargin(e,a,l)}function Vge(e,r){var t=e.title,n=e._size,a=0;switch(r===LN?a=t.pad.l:r===RN&&(a=-t.pad.r),t.xref){case"paper":return n.l+n.w*t.x+a;case"container":default:return e.width*t.x+a}}function Yge(e,r){var t=e.title,n=e._size,a=0;if(r==="0em"||!r?a=-t.pad.b:r===tc.CAP_SHIFT+"em"&&(a=t.pad.t),t.y==="auto")return n.t/2;switch(t.yref){case"paper":return n.t+n.h-n.h*t.y+a;case"container":default:return e.height-e.height*t.y+a}}function SN(e){return e==="top"?tc.CAP_SHIFT+.3+"em":e==="bottom"?"-0.3em":tc.MID_SHIFT+"em"}function Wge(e){var r=e.title,t=Oge;return ys.isRightAnchor(r)?t=RN:ys.isLeftAnchor(r)&&(t=LN),t}function Xge(e){var r=e.title,t="0em";return ys.isTopAnchor(r)?t=tc.CAP_SHIFT+"em":ys.isMiddleAnchor(r)&&(t=tc.MID_SHIFT+"em"),t}Oi.doTraceStyle=function(e){var r=e.calcdata,t=[],n;for(n=0;n<r.length;n++){var a=r[n],o=a[0]||{},i=o.trace||{},l=i._module||{},f=l.arraysToCalcdata;f&&f(a,i);var s=l.editStyle;s&&t.push({fn:s,cd0:o})}if(t.length){for(n=0;n<t.length;n++){var u=t[n];u.fn(e,u.cd0)}B6(e),Oi.redrawReglTraces(e)}return jl.style(e),Po.getComponentMethod("legend","draw")(e),jl.previousPromises(e)};Oi.doColorBars=function(e){return Po.getComponentMethod("colorbar","draw")(e),jl.previousPromises(e)};Oi.layoutReplot=function(e){var r=e.layout;return e.layout=void 0,Po.call("_doPlot",e,"",r)};Oi.doLegend=function(e){return Po.getComponentMethod("legend","draw")(e),jl.previousPromises(e)};Oi.doTicksRelayout=function(e){return cy.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(Po.subplotsRegistry.splom.updateGrid(e),B6(e),Oi.redrawReglTraces(e)),Oi.drawMainTitle(e),jl.previousPromises(e)};Oi.doModeBar=function(e){var r=e._fullLayout;CN.manage(e);for(var t=0;t<r._basePlotModules.length;t++){var n=r._basePlotModules[t].updateFx;n&&n(e)}return jl.previousPromises(e)};Oi.doCamera=function(e){for(var r=e._fullLayout,t=r._subplots.gl3d,n=0;n<t.length;n++){var a=r[t[n]],o=a._scene;o.setViewport(a)}};Oi.drawData=function(e){var r=e._fullLayout;B6(e);for(var t=r._basePlotModules,n=0;n<t.length;n++)t[n].plot(e);return Oi.redrawReglTraces(e),jl.style(e),Po.getComponentMethod("selections","draw")(e),Po.getComponentMethod("shapes","draw")(e),Po.getComponentMethod("annotations","draw")(e),Po.getComponentMethod("images","draw")(e),r._replotting=!1,jl.previousPromises(e)};Oi.redrawReglTraces=function(e){var r=e._fullLayout;if(r._has("regl")){var t=e._fullData,n=[],a=[],o,i;for(r._hasOnlyLargeSploms&&r._splomGrid.draw(),o=0;o<t.length;o++){var l=t[o];l.visible===!0&&l._length!==0&&(l.type==="splom"?r._splomScenes[l.uid].draw():l.type==="scattergl"?ys.pushUnique(n,l.xaxis+l.yaxis):l.type==="scatterpolargl"&&ys.pushUnique(a,l.subplot))}for(o=0;o<n.length;o++)i=r._plots[n[o]],i._scene&&i._scene.draw();for(o=0;o<a.length;o++)i=r[a[o]]._subplot,i._scene&&i._scene.draw()}};Oi.doAutoRangeAndConstraints=function(e){for(var r=cy.list(e,"",!0),t,n={},a=0;a<r.length;a++)if(t=r[a],!n[t._id]){n[t._id]=1,Pge(e,t),TN(e,t);var o=t._matchGroup;if(o)for(var i in o){var l=cy.getFromId(e,i);TN(e,l,t.range),n[i]=1}}Ige(e)};Oi.finalDraw=function(e){Po.getComponentMethod("rangeslider","draw")(e),Po.getComponentMethod("rangeselector","draw")(e)};Oi.drawMarginPushers=function(e){Po.getComponentMethod("legend","draw")(e),Po.getComponentMethod("rangeselector","draw")(e),Po.getComponentMethod("sliders","draw")(e),Po.getComponentMethod("updatemenus","draw")(e),Po.getComponentMethod("colorbar","draw")(e)}});var U6=fe((YOe,ON)=>{"use strict";var jge=y0().readPaths,Zge=_x(),FN=s0().clearOutlineControllers,z6=xn(),DN=ta(),$ge=da().arrayEditor,IN=x0(),Jge=IN.getPathString;ON.exports={draw:Dx,drawOne:PN,activateLastSelection:eye};function Dx(e){var r=e._fullLayout;FN(e),r._selectionLayer.selectAll("path").remove();for(var t in r._plots){var n=r._plots[t].selectionLayer;n&&n.selectAll("path").remove()}for(var a=0;a<r.selections.length;a++)PN(e,a)}function Ix(e){return e._context.editSelection}function PN(e,r){e._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+r+'"]').remove();var t=IN.makeSelectionsOptionsAndPlotinfo(e,r),n=t.options,a=t.plotinfo;if(!n._input)return;o(e._fullLayout._selectionLayer);function o(i){var l=Jge(e,n),f={"data-index":r,"fill-rule":"evenodd",d:l},s=n.opacity,u="rgba(0,0,0,0)",c=n.line.color||z6.contrast(e._fullLayout.plot_bgcolor),v=n.line.width,x=n.line.dash;v||(v=5,x="solid");var m=Ix(e)&&e._fullLayout._activeSelectionIndex===r;m&&(u=e._fullLayout.activeselection.fillcolor,s=e._fullLayout.activeselection.opacity);for(var w=[],A=1;A>=0;A--){var y=i.append("path").attr(f).style("opacity",A?.1:s).call(z6.stroke,c).call(z6.fill,u).call(DN.dashLine,A?"solid":x,A?4+v:v);if(Kge(y,e,n),m){var M=$ge(e.layout,"selections",n);y.style({cursor:"move"});var E={element:y.node(),plotinfo:a,gd:e,editHelpers:M,isActiveSelection:!0},b=jge(l,e);Zge(b,y,E)}else y.style("pointer-events",A?"all":"none");w[A]=y}var T=w[0],p=w[1];p.node().addEventListener("click",function(){return Qge(e,T)})}}function Kge(e,r,t){var n=t.xref+t.yref;DN.setClipUrl(e,"clip"+r._fullLayout._uid+n,r)}function Qge(e,r){if(Ix(e)){var t=r.node(),n=+t.getAttribute("data-index");if(n>=0){if(n===e._fullLayout._activeSelectionIndex){q6(e);return}e._fullLayout._activeSelectionIndex=n,e._fullLayout._deactivateSelection=q6,Dx(e)}}}function eye(e){if(Ix(e)){var r=e._fullLayout.selections.length-1;e._fullLayout._activeSelectionIndex=r,e._fullLayout._deactivateSelection=q6,Dx(e)}}function q6(e){if(Ix(e)){var r=e._fullLayout._activeSelectionIndex;r>=0&&(FN(e),delete e._fullLayout._activeSelectionIndex,Dx(e))}}});var BN=fe((WOe,NN)=>{function rye(){var e,r=0,t=!1;function n(a,o){return e.list.push({type:a,data:o?JSON.parse(JSON.stringify(o)):void 0}),e}return e={list:[],segmentId:function(){return r++},checkIntersection:function(a,o){return n("check",{seg1:a,seg2:o})},segmentChop:function(a,o){return n("div_seg",{seg:a,pt:o}),n("chop",{seg:a,pt:o})},statusRemove:function(a){return n("pop_seg",{seg:a})},segmentUpdate:function(a){return n("seg_update",{seg:a})},segmentNew:function(a,o){return n("new_seg",{seg:a,primary:o})},segmentRemove:function(a){return n("rem_seg",{seg:a})},tempStatus:function(a,o,i){return n("temp_status",{seg:a,above:o,below:i})},rewind:function(a){return n("rewind",{seg:a})},status:function(a,o,i){return n("status",{seg:a,above:o,below:i})},vert:function(a){return a===t?e:(t=a,n("vert",{x:a}))},log:function(a){return typeof a!="string"&&(a=JSON.stringify(a,!1,"  ")),n("log",{txt:a})},reset:function(){return n("reset")},selected:function(a){return n("selected",{segs:a})},chainStart:function(a){return n("chain_start",{seg:a})},chainRemoveHead:function(a,o){return n("chain_rem_head",{index:a,pt:o})},chainRemoveTail:function(a,o){return n("chain_rem_tail",{index:a,pt:o})},chainNew:function(a,o){return n("chain_new",{pt1:a,pt2:o})},chainMatch:function(a){return n("chain_match",{index:a})},chainClose:function(a){return n("chain_close",{index:a})},chainAddHead:function(a,o){return n("chain_add_head",{index:a,pt:o})},chainAddTail:function(a,o){return n("chain_add_tail",{index:a,pt:o})},chainConnect:function(a,o){return n("chain_con",{index1:a,index2:o})},chainReverse:function(a){return n("chain_rev",{index:a})},chainJoin:function(a,o){return n("chain_join",{index1:a,index2:o})},done:function(){return n("done")}},e}NN.exports=rye});var qN=fe((XOe,zN)=>{function tye(e){typeof e!="number"&&(e=1e-10);var r={epsilon:function(t){return typeof t=="number"&&(e=t),e},pointAboveOrOnLine:function(t,n,a){var o=n[0],i=n[1],l=a[0],f=a[1],s=t[0],u=t[1];return(l-o)*(u-i)-(f-i)*(s-o)>=-e},pointBetween:function(t,n,a){var o=t[1]-n[1],i=a[0]-n[0],l=t[0]-n[0],f=a[1]-n[1],s=l*i+o*f;if(s<e)return!1;var u=i*i+f*f;return!(s-u>-e)},pointsSameX:function(t,n){return Math.abs(t[0]-n[0])<e},pointsSameY:function(t,n){return Math.abs(t[1]-n[1])<e},pointsSame:function(t,n){return r.pointsSameX(t,n)&&r.pointsSameY(t,n)},pointsCompare:function(t,n){return r.pointsSameX(t,n)?r.pointsSameY(t,n)?0:t[1]<n[1]?-1:1:t[0]<n[0]?-1:1},pointsCollinear:function(t,n,a){var o=t[0]-n[0],i=t[1]-n[1],l=n[0]-a[0],f=n[1]-a[1];return Math.abs(o*f-l*i)<e},linesIntersect:function(t,n,a,o){var i=n[0]-t[0],l=n[1]-t[1],f=o[0]-a[0],s=o[1]-a[1],u=i*s-l*f;if(Math.abs(u)<e)return!1;var c=t[0]-a[0],v=t[1]-a[1],x=(f*v-s*c)/u,m=(i*v-l*c)/u,w={alongA:0,alongB:0,pt:[t[0]+x*i,t[1]+x*l]};return x<=-e?w.alongA=-2:x<e?w.alongA=-1:x-1<=-e?w.alongA=0:x-1<e?w.alongA=1:w.alongA=2,m<=-e?w.alongB=-2:m<e?w.alongB=-1:m-1<=-e?w.alongB=0:m-1<e?w.alongB=1:w.alongB=2,w},pointInsideRegion:function(t,n){for(var a=t[0],o=t[1],i=n[n.length-1][0],l=n[n.length-1][1],f=!1,s=0;s<n.length;s++){var u=n[s][0],c=n[s][1];c-o>e!=l-o>e&&(i-u)*(o-c)/(l-c)+u-a>e&&(f=!f),i=u,l=c}return f}};return r}zN.exports=tye});var GN=fe((jOe,UN)=>{var nye={create:function(){var e={root:{root:!0,next:null},exists:function(r){return!(r===null||r===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(r,t){for(var n=e.root,a=e.root.next;a!==null;){if(t(a)){r.prev=a.prev,r.next=a,a.prev.next=r,a.prev=r;return}n=a,a=a.next}n.next=r,r.prev=n,r.next=null},findTransition:function(r){for(var t=e.root,n=e.root.next;n!==null&&!r(n);)t=n,n=n.next;return{before:t===e.root?null:t,after:n,insert:function(a){return a.prev=t,a.next=n,t.next=a,n!==null&&(n.prev=a),a}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};UN.exports=nye});var VN=fe((ZOe,HN)=>{var hy=GN();function aye(e,r,t){function n(m,w){return{id:t?t.segmentId():-1,start:m,end:w,myFill:{above:null,below:null},otherFill:null}}function a(m,w,A){return{id:t?t.segmentId():-1,start:m,end:w,myFill:{above:A.myFill.above,below:A.myFill.below},otherFill:null}}var o=hy.create();function i(m,w,A,y,M,E){var b=r.pointsCompare(w,M);return b!==0?b:r.pointsSame(A,E)?0:m!==y?m?1:-1:r.pointAboveOrOnLine(A,y?M:E,y?E:M)?1:-1}function l(m,w){o.insertBefore(m,function(A){var y=i(m.isStart,m.pt,w,A.isStart,A.pt,A.other.pt);return y<0})}function f(m,w){var A=hy.node({isStart:!0,pt:m.start,seg:m,primary:w,other:null,status:null});return l(A,m.end),A}function s(m,w,A){var y=hy.node({isStart:!1,pt:w.end,seg:w,primary:A,other:m,status:null});m.other=y,l(y,m.pt)}function u(m,w){var A=f(m,w);return s(A,m,w),A}function c(m,w){t&&t.segmentChop(m.seg,w),m.other.remove(),m.seg.end=w,m.other.pt=w,l(m.other,m.pt)}function v(m,w){var A=a(w,m.seg.end,m.seg);return c(m,w),u(A,m.primary)}function x(m,w){var A=hy.create();function y(O,P){var I=O.seg.start,k=O.seg.end,D=P.seg.start,z=P.seg.end;return r.pointsCollinear(I,D,z)?r.pointsCollinear(k,D,z)||r.pointAboveOrOnLine(k,D,z)?1:-1:r.pointAboveOrOnLine(I,D,z)?1:-1}function M(O){return A.findTransition(function(P){var I=y(O,P.ev);return I>0})}function E(O,P){var I=O.seg,k=P.seg,D=I.start,z=I.end,q=k.start,j=k.end;t&&t.checkIntersection(I,k);var Q=r.linesIntersect(D,z,q,j);if(Q===!1){if(!r.pointsCollinear(D,z,q)||r.pointsSame(D,j)||r.pointsSame(z,q))return!1;var K=r.pointsSame(D,q),G=r.pointsSame(z,j);if(K&&G)return P;var B=!K&&r.pointBetween(D,q,j),Z=!G&&r.pointBetween(z,q,j);if(K)return Z?v(P,z):v(O,j),P;B&&(G||(Z?v(P,z):v(O,j)),v(P,D))}else Q.alongA===0&&(Q.alongB===-1?v(O,q):Q.alongB===0?v(O,Q.pt):Q.alongB===1&&v(O,j)),Q.alongB===0&&(Q.alongA===-1?v(P,D):Q.alongA===0?v(P,Q.pt):Q.alongA===1&&v(P,z));return!1}for(var b=[];!o.isEmpty();){var T=o.getHead();if(t&&t.vert(T.pt[0]),T.isStart){let O=function(){if(_){var P=E(T,_);if(P)return P}return g?E(T,g):!1};var F=O;t&&t.segmentNew(T.seg,T.primary);var p=M(T),_=p.before?p.before.ev:null,g=p.after?p.after.ev:null;t&&t.tempStatus(T.seg,_?_.seg:!1,g?g.seg:!1);var h=O();if(h){if(e){var S;T.seg.myFill.below===null?S=!0:S=T.seg.myFill.above!==T.seg.myFill.below,S&&(h.seg.myFill.above=!h.seg.myFill.above)}else h.seg.otherFill=T.seg.myFill;t&&t.segmentUpdate(h.seg),T.other.remove(),T.remove()}if(o.getHead()!==T){t&&t.rewind(T.seg);continue}if(e){var S;T.seg.myFill.below===null?S=!0:S=T.seg.myFill.above!==T.seg.myFill.below,g?T.seg.myFill.below=g.seg.myFill.above:T.seg.myFill.below=m,S?T.seg.myFill.above=!T.seg.myFill.below:T.seg.myFill.above=T.seg.myFill.below}else if(T.seg.otherFill===null){var d;g?T.primary===g.primary?d=g.seg.otherFill.above:d=g.seg.myFill.above:d=T.primary?w:m,T.seg.otherFill={above:d,below:d}}t&&t.status(T.seg,_?_.seg:!1,g?g.seg:!1),T.other.status=p.insert(hy.node({ev:T}))}else{var R=T.status;if(R===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(A.exists(R.prev)&&A.exists(R.next)&&E(R.prev.ev,R.next.ev),t&&t.statusRemove(R.ev.seg),R.remove(),!T.primary){var L=T.seg.myFill;T.seg.myFill=T.seg.otherFill,T.seg.otherFill=L}b.push(T.seg)}o.getHead().remove()}return t&&t.done(),b}return e?{addRegion:function(m){for(var w,A=m[m.length-1],y=0;y<m.length;y++){w=A,A=m[y];var M=r.pointsCompare(w,A);M!==0&&u(n(M<0?w:A,M<0?A:w),!0)}},calculate:function(m){return x(m,!1)}}:{calculate:function(m,w,A,y){return m.forEach(function(M){u(a(M.start,M.end,M),!0)}),A.forEach(function(M){u(a(M.start,M.end,M),!1)}),x(w,y)}}}HN.exports=aye});var WN=fe(($Oe,YN)=>{function iye(e,r,t){var n=[],a=[];return e.forEach(function(o){var i=o.start,l=o.end;if(r.pointsSame(i,l)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}t&&t.chainStart(o);var f={index:0,matches_head:!1,matches_pt1:!1},s={index:0,matches_head:!1,matches_pt1:!1},u=f;function c(F,O,P){return u.index=F,u.matches_head=O,u.matches_pt1=P,u===f?(u=s,!1):(u=null,!0)}for(var v=0;v<n.length;v++){var x=n[v],m=x[0],w=x[1],A=x[x.length-1],y=x[x.length-2];if(r.pointsSame(m,i)){if(c(v,!0,!0))break}else if(r.pointsSame(m,l)){if(c(v,!0,!1))break}else if(r.pointsSame(A,i)){if(c(v,!1,!0))break}else if(r.pointsSame(A,l)&&c(v,!1,!1))break}if(u===f){n.push([i,l]),t&&t.chainNew(i,l);return}if(u===s){t&&t.chainMatch(f.index);var M=f.index,E=f.matches_pt1?l:i,b=f.matches_head,x=n[M],T=b?x[0]:x[x.length-1],p=b?x[1]:x[x.length-2],_=b?x[x.length-1]:x[0],g=b?x[x.length-2]:x[1];if(r.pointsCollinear(p,T,E)&&(b?(t&&t.chainRemoveHead(f.index,E),x.shift()):(t&&t.chainRemoveTail(f.index,E),x.pop()),T=p),r.pointsSame(_,E)){n.splice(M,1),r.pointsCollinear(g,_,T)&&(b?(t&&t.chainRemoveTail(f.index,T),x.pop()):(t&&t.chainRemoveHead(f.index,T),x.shift())),t&&t.chainClose(f.index),a.push(x);return}b?(t&&t.chainAddHead(f.index,E),x.unshift(E)):(t&&t.chainAddTail(f.index,E),x.push(E));return}function h(F){t&&t.chainReverse(F),n[F].reverse()}function S(F,O){var P=n[F],I=n[O],k=P[P.length-1],D=P[P.length-2],z=I[0],q=I[1];r.pointsCollinear(D,k,z)&&(t&&t.chainRemoveTail(F,k),P.pop(),k=D),r.pointsCollinear(k,z,q)&&(t&&t.chainRemoveHead(O,z),I.shift()),t&&t.chainJoin(F,O),n[F]=P.concat(I),n.splice(O,1)}var d=f.index,R=s.index;t&&t.chainConnect(d,R);var L=n[d].length<n[R].length;f.matches_head?s.matches_head?L?(h(d),S(d,R)):(h(R),S(R,d)):S(R,d):s.matches_head?S(d,R):L?(h(d),S(R,d)):(h(R),S(d,R))}),a}YN.exports=iye});var jN=fe((JOe,XN)=>{function vy(e,r,t){var n=[];return e.forEach(function(a){var o=(a.myFill.above?8:0)+(a.myFill.below?4:0)+(a.otherFill&&a.otherFill.above?2:0)+(a.otherFill&&a.otherFill.below?1:0);r[o]!==0&&n.push({id:t?t.segmentId():-1,start:a.start,end:a.end,myFill:{above:r[o]===1,below:r[o]===2},otherFill:null})}),t&&t.selected(n),n}var oye={union:function(e,r){return vy(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],r)},intersect:function(e,r){return vy(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],r)},difference:function(e,r){return vy(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],r)},differenceRev:function(e,r){return vy(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],r)},xor:function(e,r){return vy(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],r)}};XN.exports=oye});var $N=fe((KOe,ZN)=>{var lye={toPolygon:function(e,r){function t(o){if(o.length<=0)return e.segments({inverted:!1,regions:[]});function i(s){var u=s.slice(0,s.length-1);return e.segments({inverted:!1,regions:[u]})}for(var l=i(o[0]),f=1;f<o.length;f++)l=e.selectDifference(e.combine(l,i(o[f])));return l}if(r.type==="Polygon")return e.polygon(t(r.coordinates));if(r.type==="MultiPolygon"){for(var n=e.segments({inverted:!1,regions:[]}),a=0;a<r.coordinates.length;a++)n=e.selectUnion(e.combine(n,t(r.coordinates[a])));return e.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,r,t){t=e.polygon(e.segments(t));function n(x,m){return r.pointInsideRegion([(x[0][0]+x[1][0])*.5,(x[0][1]+x[1][1])*.5],m)}function a(x){return{region:x,children:[]}}var o=a(null);function i(x,m){for(var w=0;w<x.children.length;w++){var A=x.children[w];if(n(m,A.region)){i(A,m);return}}for(var y=a(m),w=0;w<x.children.length;w++){var A=x.children[w];n(A.region,m)&&(y.children.push(A),x.children.splice(w,1),w--)}x.children.push(y)}for(var l=0;l<t.regions.length;l++){var f=t.regions[l];f.length<3||i(o,f)}function s(x,m){for(var w=0,A=x[x.length-1][0],y=x[x.length-1][1],M=[],E=0;E<x.length;E++){var b=x[E][0],T=x[E][1];M.push([b,T]),w+=T*A-b*y,A=b,y=T}var p=w<0;return p!==m&&M.reverse(),M.push([M[0][0],M[0][1]]),M}var u=[];function c(x){var m=[s(x.region,!1)];u.push(m);for(var w=0;w<x.children.length;w++)m.push(v(x.children[w]))}function v(x){for(var m=0;m<x.children.length;m++)c(x.children[m]);return s(x.region,!0)}for(var l=0;l<o.children.length;l++)c(o.children[l]);return u.length<=0?{type:"Polygon",coordinates:[]}:u.length==1?{type:"Polygon",coordinates:u[0]}:{type:"MultiPolygon",coordinates:u}}};ZN.exports=lye});var eB=fe((QOe,QN)=>{var sye=BN(),fye=qN(),JN=VN(),uye=WN(),dy=jN(),KN=$N(),ms=!1,py=fye(),_l;_l={buildLog:function(e){return e===!0?ms=sye():e===!1&&(ms=!1),ms===!1?!1:ms.list},epsilon:function(e){return py.epsilon(e)},segments:function(e){var r=JN(!0,py,ms);return e.regions.forEach(r.addRegion),{segments:r.calculate(e.inverted),inverted:e.inverted}},combine:function(e,r){var t=JN(!1,py,ms);return{combined:t.calculate(e.segments,e.inverted,r.segments,r.inverted),inverted1:e.inverted,inverted2:r.inverted}},selectUnion:function(e){return{segments:dy.union(e.combined,ms),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:dy.intersect(e.combined,ms),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:dy.difference(e.combined,ms),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:dy.differenceRev(e.combined,ms),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:dy.xor(e.combined,ms),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:uye(e.segments,py,ms),inverted:e.inverted}},polygonFromGeoJSON:function(e){return KN.toPolygon(_l,e)},polygonToGeoJSON:function(e){return KN.fromPolygon(_l,py,e)},union:function(e,r){return gy(e,r,_l.selectUnion)},intersect:function(e,r){return gy(e,r,_l.selectIntersect)},difference:function(e,r){return gy(e,r,_l.selectDifference)},differenceRev:function(e,r){return gy(e,r,_l.selectDifferenceRev)},xor:function(e,r){return gy(e,r,_l.selectXor)}};function gy(e,r,t){var n=_l.segments(e),a=_l.segments(r),o=_l.combine(n,a),i=t(o);return _l.polygon(i)}typeof window=="object"&&(window.PolyBool=_l);QN.exports=_l});var tB=fe((eNe,rB)=>{rB.exports=function(r,t,n,a){var o=r[0],i=r[1],l=!1;n===void 0&&(n=0),a===void 0&&(a=t.length);for(var f=a-n,s=0,u=f-1;s<f;u=s++){var c=t[s+n][0],v=t[s+n][1],x=t[u+n][0],m=t[u+n][1],w=v>i!=m>i&&o<(x-c)*(i-v)/(m-v)+c;w&&(l=!l)}return l}});var H6=fe((rNe,nB)=>{"use strict";var G6=B2().dot,Px=ui().BADNUM,Ox=nB.exports={};Ox.tester=function(r){var t=r.slice(),n=t[0][0],a=n,o=t[0][1],i=o,l;for((t[t.length-1][0]!==t[0][0]||t[t.length-1][1]!==t[0][1])&&t.push(t[0]),l=1;l<t.length;l++)n=Math.min(n,t[l][0]),a=Math.max(a,t[l][0]),o=Math.min(o,t[l][1]),i=Math.max(i,t[l][1]);var f=!1,s;t.length===5&&(t[0][0]===t[1][0]?t[2][0]===t[3][0]&&t[0][1]===t[3][1]&&t[1][1]===t[2][1]&&(f=!0,s=function(m){return m[0]===t[0][0]}):t[0][1]===t[1][1]&&t[2][1]===t[3][1]&&t[0][0]===t[3][0]&&t[1][0]===t[2][0]&&(f=!0,s=function(m){return m[1]===t[0][1]}));function u(m,w){var A=m[0],y=m[1];return!(A===Px||A<n||A>a||y===Px||y<o||y>i||w&&s(m))}function c(m,w){var A=m[0],y=m[1];if(A===Px||A<n||A>a||y===Px||y<o||y>i)return!1;var M=t.length,E=t[0][0],b=t[0][1],T=0,p,_,g,h,S;for(p=1;p<M;p++)if(_=E,g=b,E=t[p][0],b=t[p][1],h=Math.min(_,E),!(A<h||A>Math.max(_,E)||y>Math.max(g,b)))if(y<Math.min(g,b))A!==h&&T++;else{if(E===_?S=y:S=g+(A-_)*(b-g)/(E-_),y===S)return!(p===1&&w);y<=S&&A!==h&&T++}return T%2===1}var v=!0,x=t[0];for(l=1;l<t.length;l++)if(x[0]!==t[l][0]||x[1]!==t[l][1]){v=!1;break}return{xmin:n,xmax:a,ymin:o,ymax:i,pts:t,contains:f?u:c,isRect:f,degenerate:v}};Ox.isSegmentBent=function(r,t,n,a){var o=r[t],i=[r[n][0]-o[0],r[n][1]-o[1]],l=G6(i,i),f=Math.sqrt(l),s=[-i[1]/f,i[0]/f],u,c,v;for(u=t+1;u<n;u++)if(c=[r[u][0]-o[0],r[u][1]-o[1]],v=G6(c,i),v<0||v>l||Math.abs(G6(c,s))>a)return!0;return!1};Ox.filter=function(r,t){var n=[r[0]],a=0,o=0;function i(f){r.push(f);var s=n.length,u=a;n.splice(o+1);for(var c=u+1;c<r.length;c++)(c===r.length-1||Ox.isSegmentBent(r,u,c+1,t))&&(n.push(r[c]),n.length<s-2&&(a=c,o=n.length-1),u=c)}if(r.length>1){var l=r.pop();i(l)}return{addPt:i,raw:r,filtered:n}}});var iB=fe((tNe,aB)=>{"use strict";aB.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}});var SB=fe((nNe,EB)=>{"use strict";var oB=eB(),cye=tB(),xy=Qt(),hye=ta().dashStyle,yy=xn(),vye=of(),dye=hs().makeEventData,Ty=pv(),pye=Ty.freeMode,gye=Ty.rectMode,by=Ty.drawMode,X6=Ty.openMode,j6=Ty.selectMode,lB=x0(),sB=iy(),vB=_x(),dB=s0().clearOutline,pB=y0(),V6=pB.handleEllipse,yye=pB.readPaths,mye=yx().newShapes,xye=g6(),bye=U6().activateLastSelection,Bx=tt(),_ye=Bx.sorterAsc,gB=H6(),my=$2(),xs=ti().getFromId,wye=fx(),Aye=Fx().redrawReglTraces,zx=iB(),nu=zx.MINSELECT,Tye=gB.filter,Z6=gB.tester,$6=vx(),fB=$6.p2r,Mye=$6.axValue,Eye=$6.getTransform;function J6(e){return e.subplot!==void 0}function Sye(e,r,t,n,a){var o=!J6(n),i=pye(a),l=gye(a),f=X6(a),s=by(a),u=j6(a),c=a==="drawline",v=a==="drawcircle",x=c||v,m=n.gd,w=m._fullLayout,A=u&&w.newselection.mode==="immediate"&&o,y=w._zoomlayer,M=n.element.getBoundingClientRect(),E=n.plotinfo,b=Eye(E),T=r-M.left,p=t-M.top;w._calcInverseTransform(m);var _=Bx.apply3DTransform(w._invTransform)(T,p);T=_[0],p=_[1];var g=w._invScaleX,h=w._invScaleY,S=T,d=p,R="M"+T+","+p,L=n.xaxes[0],F=n.yaxes[0],O=L._length,P=F._length,I=e.altKey&&!(by(a)&&f),k,D,z,q,j,Q,K;mB(e,m,n),i&&(k=Tye([[T,p]],zx.BENDPX));var G=y.selectAll("path.select-outline-"+E.id).data([1]),B=s?w.newshape:w.newselection;s&&(n.hasText=B.label.text||B.label.texttemplate);var Z=s&&!f?B.fillcolor:"rgba(0,0,0,0)",ie=B.line.color||(o?yy.contrast(m._fullLayout.plot_bgcolor):"#7f7f7f");G.enter().append("path").attr("class","select-outline select-outline-"+E.id).style({opacity:s?B.opacity/2:1,"stroke-dasharray":hye(B.line.dash,B.line.width),"stroke-width":B.line.width+"px","shape-rendering":"crispEdges"}).call(yy.stroke,ie).call(yy.fill,Z).attr("fill-rule","evenodd").classed("cursor-move",!!s).attr("transform",b).attr("d",R+"Z");var J=y.append("path").attr("class","zoombox-corners").style({fill:yy.background,stroke:yy.defaultLine,"stroke-width":1}).attr("transform",b).attr("d","M0,0Z");if(s&&n.hasText){var le=y.select(".label-temp");le.empty()&&(le=y.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var te=w._uid+zx.SELECTID,V=[],ne=qx(m,n.xaxes,n.yaxes,n.subplot);A&&!e.shiftKey&&(n._clearSubplotSelections=function(){if(o){var oe=L._id,pe=F._id;AB(m,oe,pe,ne);for(var we=(m.layout||{}).selections||[],De=[],Re=!1,Ae=0;Ae<we.length;Ae++){var Ie=w.selections[Ae];!Ie||Ie.xref!==oe||Ie.yref!==pe?De.push(we[Ae]):Re=!0}Re&&(m._fullLayout._noEmitSelectedAtStart=!0,xy.call("_guiRelayout",m,{selections:De}))}});var Y=Uye(n);n.moveFn=function(oe,pe){n._clearSubplotSelections&&(n._clearSubplotSelections(),n._clearSubplotSelections=void 0),S=Math.max(0,Math.min(O,g*oe+T)),d=Math.max(0,Math.min(P,h*pe+p));var we=Math.abs(S-T),De=Math.abs(d-p);if(l){var Re,Ae,Ie;if(u){var Be=w.selectdirection;switch(Be==="any"?De<Math.min(we*.6,nu)?Re="h":we<Math.min(De*.6,nu)?Re="v":Re="d":Re=Be,Re){case"h":Ae=v?P/2:0,Ie=P;break;case"v":Ae=v?O/2:0,Ie=O;break}}if(s)switch(w.newshape.drawdirection){case"vertical":Re="h",Ae=v?P/2:0,Ie=P;break;case"horizontal":Re="v",Ae=v?O/2:0,Ie=O;break;case"ortho":we<De?(Re="h",Ae=p,Ie=d):(Re="v",Ae=T,Ie=S);break;default:Re="d"}Re==="h"?(q=x?V6(v,[S,Ae],[S,Ie]):[[T,Ae],[T,Ie],[S,Ie],[S,Ae]],q.xmin=x?S:Math.min(T,S),q.xmax=x?S:Math.max(T,S),q.ymin=Math.min(Ae,Ie),q.ymax=Math.max(Ae,Ie),J.attr("d","M"+q.xmin+","+(p-nu)+"h-4v"+2*nu+"h4ZM"+(q.xmax-1)+","+(p-nu)+"h4v"+2*nu+"h-4Z")):Re==="v"?(q=x?V6(v,[Ae,d],[Ie,d]):[[Ae,p],[Ae,d],[Ie,d],[Ie,p]],q.xmin=Math.min(Ae,Ie),q.xmax=Math.max(Ae,Ie),q.ymin=x?d:Math.min(p,d),q.ymax=x?d:Math.max(p,d),J.attr("d","M"+(T-nu)+","+q.ymin+"v-4h"+2*nu+"v4ZM"+(T-nu)+","+(q.ymax-1)+"v4h"+2*nu+"v-4Z")):Re==="d"&&(q=x?V6(v,[T,p],[S,d]):[[T,p],[T,d],[S,d],[S,p]],q.xmin=Math.min(T,S),q.xmax=Math.max(T,S),q.ymin=Math.min(p,d),q.ymax=Math.max(p,d),J.attr("d","M0,0Z"))}else i&&(k.addPt([S,d]),q=k.filtered);if(n.selectionDefs&&n.selectionDefs.length?(z=xB(n.mergedPolygons,q,I),q.subtract=I,D=K6(n.selectionDefs.concat([q]))):(z=[q],D=Z6(q)),vB(_B(z,f),G,n),u){var je=W6(m,!1),Ne=je.eventData?je.eventData.points.slice():[];je=W6(m,!1,D,ne,n),D=je.selectionTesters,K=je.eventData;var Qe;k?Qe=k.filtered:Qe=TB(z),my.throttle(te,zx.SELECTDELAY,function(){V=wB(D,ne);for(var pr=V.slice(),Se=0;Se<Ne.length;Se++){for(var Fe=Ne[Se],hr=!1,dr=0;dr<pr.length;dr++)if(pr[dr].curveNumber===Fe.curveNumber&&pr[dr].pointNumber===Fe.pointNumber){hr=!0;break}hr||pr.push(Fe)}pr.length&&(K||(K={}),K.points=pr),Y(K,Qe),Gye(m,K)})}},n.clickFn=function(oe,pe){if(J.remove(),m._fullLayout._activeShapeIndex>=0){m._fullLayout._deactivateShape(m);return}if(!s){var we=w.clickmode;my.done(te).then(function(){if(my.clear(te),oe===2){for(G.remove(),j=0;j<ne.length;j++)Q=ne[j],Q._module.selectPoints(Q,!1);if(wy(m,ne),_y(n),eT(m),ne.length){var De=ne[0].xaxis,Re=ne[0].yaxis;if(De&&Re){for(var Ae=[],Ie=m._fullLayout.selections,Be=0;Be<Ie.length;Be++){var je=Ie[Be];je&&(je.xref!==De._id||je.yref!==Re._id)&&Ae.push(je)}Ae.length<Ie.length&&(m._fullLayout._noEmitSelectedAtStart=!0,xy.call("_guiRelayout",m,{selections:Ae}))}}}else we.indexOf("select")>-1&&yB(pe,m,n.xaxes,n.yaxes,n.subplot,n,G),we==="event"&&Ay(m,void 0);vye.click(m,pe,E.id)}).catch(Bx.error)}},n.doneFn=function(){J.remove(),my.done(te).then(function(){my.clear(te),!A&&q&&n.selectionDefs&&(q.subtract=I,n.selectionDefs.push(q),n.mergedPolygons.length=0,[].push.apply(n.mergedPolygons,z)),(A||s)&&_y(n,A),n.doneFnCompleted&&n.doneFnCompleted(V),u&&Ay(m,K)}).catch(Bx.error)}}function yB(e,r,t,n,a,o,i){var l=r._hoverdata,f=r._fullLayout,s=f.clickmode,u=s.indexOf("event")>-1,c=[],v,x,m,w,A,y,M,E,b,T;if(Fye(l)){mB(e,r,o),v=qx(r,t,n,a);var p=Dye(l,v),_=p.pointNumbers.length>0;if(_?Iye(v,p):Pye(v)&&(M=cB(p))){for(i&&i.remove(),T=0;T<v.length;T++)x=v[T],x._module.selectPoints(x,!1);wy(r,v),_y(o),u&&eT(r)}else{E=e.shiftKey&&(M!==void 0?M:cB(p)),m=Cye(p.pointNumber,p.searchInfo,E);var g=o.selectionDefs.concat([m]);for(w=K6(g,w),T=0;T<v.length;T++)if(A=v[T]._module.selectPoints(v[T],w),y=bB(A,v[T]),c.length)for(var h=0;h<y.length;h++)c.push(y[h]);else c=y;if(b={points:c},wy(r,v,b),m&&o&&o.selectionDefs.push(m),i){var S=o.mergedPolygons,d=X6(o.dragmode);vB(_B(S,d),i,o)}u&&Ay(r,b)}}}function Cye(e,r,t){return{pointNumber:e,searchInfo:r,subtract:!!t}}function Y6(e){return"pointNumber"in e&&"searchInfo"in e}function kye(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(r,t,n,a){var o=e.searchInfo.cd[0].trace.index,i=a.cd[0].trace.index;return i===o&&n===e.pointNumber},isRect:!1,degenerate:!1,subtract:!!e.subtract}}function K6(e){if(!e.length)return;for(var r=[],t=Y6(e[0])?0:e[0][0][0],n=t,a=Y6(e[0])?0:e[0][0][1],o=a,i=0;i<e.length;i++)if(Y6(e[i]))r.push(kye(e[i]));else{var l=Z6(e[i]);l.subtract=!!e[i].subtract,r.push(l),t=Math.min(t,l.xmin),n=Math.max(n,l.xmax),a=Math.min(a,l.ymin),o=Math.max(o,l.ymax)}function f(s,u,c,v){for(var x=!1,m=0;m<r.length;m++)r[m].contains(s,u,c,v)&&(x=!r[m].subtract);return x}return{xmin:t,xmax:n,ymin:a,ymax:o,pts:[],contains:f,isRect:!1,degenerate:!1}}function mB(e,r,t){var n=r._fullLayout,a=t.plotinfo,o=t.dragmode,i=n._lastSelectedSubplot&&n._lastSelectedSubplot===a.id,l=(e.shiftKey||e.altKey)&&!(by(o)&&X6(o));i&&l&&a.selection&&a.selection.selectionDefs&&!t.selectionDefs?(t.selectionDefs=a.selection.selectionDefs,t.mergedPolygons=a.selection.mergedPolygons):(!l||!a.selection)&&_y(t),i||(dB(r),n._lastSelectedSubplot=a.id)}function Lye(e){return e._fullLayout._activeShapeIndex>=0}function Rye(e){return e._fullLayout._activeSelectionIndex>=0}function _y(e,r){var t=e.dragmode,n=e.plotinfo,a=e.gd;Lye(a)&&a._fullLayout._deactivateShape(a),Rye(a)&&a._fullLayout._deactivateSelection(a);var o=a._fullLayout,i=o._zoomlayer,l=by(t),f=j6(t);if(l||f){var s=i.selectAll(".select-outline-"+n.id);if(s&&a._fullLayout._outlining){var u;l&&(u=mye(s,e)),u&&xy.call("_guiRelayout",a,{shapes:u});var c;f&&!J6(e)&&(c=xye(s,e)),c&&(a._fullLayout._noEmitSelectedAtStart=!0,xy.call("_guiRelayout",a,{selections:c}).then(function(){r&&bye(a)})),a._fullLayout._outlining=!1}}n.selection={},n.selection.selectionDefs=e.selectionDefs=[],n.selection.mergedPolygons=e.mergedPolygons=[]}function uB(e){return e._id}function qx(e,r,t,n){if(!e.calcdata)return[];var a=[],o=r.map(uB),i=t.map(uB),l,f,s;for(s=0;s<e.calcdata.length;s++)if(l=e.calcdata[s],f=l[0].trace,!(f.visible!==!0||!f._module||!f._module.selectPoints))if(J6({subplot:n})&&(f.subplot===n||f.geo===n))a.push(Nx(f._module,l,r[0],t[0]));else if(f.type==="splom"){if(f._xaxes[o[0]]&&f._yaxes[i[0]]){var u=Nx(f._module,l,r[0],t[0]);u.scene=e._fullLayout._splomScenes[f.uid],a.push(u)}}else if(f.type==="sankey"){var c=Nx(f._module,l,r[0],t[0]);a.push(c)}else{if(o.indexOf(f.xaxis)===-1&&(!f._xA||!f._xA.overlaying)||i.indexOf(f.yaxis)===-1&&(!f._yA||!f._yA.overlaying))continue;a.push(Nx(f._module,l,xs(e,f.xaxis),xs(e,f.yaxis)))}return a}function Nx(e,r,t,n){return{_module:e,cd:r,xaxis:t,yaxis:n}}function Fye(e){return e&&Array.isArray(e)&&e[0].hoverOnBox!==!0}function Dye(e,r){var t=e[0],n=-1,a=[],o,i;for(i=0;i<r.length;i++)if(o=r[i],t.fullData.index===o.cd[0].trace.index){if(t.hoverOnBox===!0)break;t.pointNumber!==void 0?n=t.pointNumber:t.binNumber!==void 0&&(n=t.binNumber,a=t.pointNumbers);break}return{pointNumber:n,pointNumbers:a,searchInfo:o}}function cB(e){var r=e.searchInfo.cd[0].trace,t=e.pointNumber,n=e.pointNumbers,a=n.length>0,o=a?n[0]:t;return r.selectedpoints?r.selectedpoints.indexOf(o)>-1:!1}function Iye(e,r){var t=[],n,a,o,i;for(i=0;i<e.length;i++)n=e[i],n.cd[0].trace.selectedpoints&&n.cd[0].trace.selectedpoints.length>0&&t.push(n);if(t.length===1&&(o=t[0]===r.searchInfo,o&&(a=r.searchInfo.cd[0].trace,a.selectedpoints.length===r.pointNumbers.length))){for(i=0;i<r.pointNumbers.length;i++)if(a.selectedpoints.indexOf(r.pointNumbers[i])<0)return!1;return!0}return!1}function Pye(e){var r=0,t,n,a;for(a=0;a<e.length;a++)if(t=e[a],n=t.cd[0].trace,n.selectedpoints&&(n.selectedpoints.length>1||(r+=n.selectedpoints.length,r>1)))return!1;return r===1}function wy(e,r,t){var n;for(n=0;n<r.length;n++){var a=r[n].cd[0].trace._fullInput,o=e._fullLayout._tracePreGUI[a.uid]||{};o.selectedpoints===void 0&&(o.selectedpoints=a._input.selectedpoints||null)}var i;if(t){var l=t.points||[];for(n=0;n<r.length;n++)i=r[n].cd[0].trace,i._input.selectedpoints=i._fullInput.selectedpoints=[],i._fullInput!==i&&(i.selectedpoints=[]);for(var f=0;f<l.length;f++){var s=l[f],u=s.data,c=s.fullData,v=s.pointIndex,x=s.pointIndices;x?([].push.apply(u.selectedpoints,x),i._fullInput!==i&&[].push.apply(c.selectedpoints,x)):(u.selectedpoints.push(v),i._fullInput!==i&&c.selectedpoints.push(v))}}else for(n=0;n<r.length;n++)i=r[n].cd[0].trace,delete i.selectedpoints,delete i._input.selectedpoints,i._fullInput!==i&&delete i._fullInput.selectedpoints;Oye(e,r)}function Oye(e,r){for(var t=!1,n=0;n<r.length;n++){var a=r[n],o=a.cd;xy.traceIs(o[0].trace,"regl")&&(t=!0);var i=a._module,l=i.styleOnSelect||i.style;l&&(l(e,o,o[0].node3),o[0].nodeRangePlot3&&l(e,o,o[0].nodeRangePlot3))}t&&(wye(e),Aye(e))}function xB(e,r,t){for(var n=t?oB.difference:oB.union,a=n({regions:e},{regions:[r]}),o=a.regions.reverse(),i=0;i<o.length;i++){var l=o[i];l.subtract=Q6(l,o.slice(0,i))}return o}function bB(e,r){if(Array.isArray(e))for(var t=r.cd,n=r.cd[0].trace,a=0;a<e.length;a++)e[a]=dye(e[a],n,t);return e}function _B(e,r){for(var t=[],n=0;n<e.length;n++){t[n]=[];for(var a=0;a<e[n].length;a++){t[n][a]=[],t[n][a][0]=a?"L":"M";for(var o=0;o<e[n][a].length;o++)t[n][a].push(e[n][a][o])}r||t[n].push(["Z",t[n][0][1],t[n][0][2]])}return t}function wB(e,r){for(var t=[],n,a=[],o,i=0;i<r.length;i++){var l=r[i];o=l._module.selectPoints(l,e),a.push(o),n=bB(o,l),t=t.concat(n)}return t}function W6(e,r,t,n,a){var o=!!n,i,l,f;a&&(i=a.plotinfo,l=a.xaxes[0]._id,f=a.yaxes[0]._id);var s=[],u=[],c=hB(e),v=e._fullLayout;if(i){var x=v._zoomlayer,m=v.dragmode,w=by(m),A=j6(m);if(w||A){var y=xs(e,l,"x"),M=xs(e,f,"y");if(y&&M){var E=x.selectAll(".select-outline-"+i.id);if(E&&e._fullLayout._outlining&&E.length){for(var b=E[0][0],T=b.getAttribute("d"),p=yye(T,e,i),_=[],g=0;g<p.length;g++){for(var h=p[g],S=[],d=0;d<h.length;d++)S.push([b0(y,h[d][1]),b0(M,h[d][2])]);S.xref=l,S.yref=f,S.subtract=Q6(S,_),_.push(S)}c=c.concat(_)}}}}var R=l&&f?[l+f]:v._subplots.cartesian;Nye(e);for(var L={},F=0;F<R.length;F++){var O=R[F],P=O.indexOf("y"),I=O.slice(0,P),k=O.slice(P),D=l&&f?t:void 0;if(D=zye(c,I,k,D),D){var z=n;if(!o){var q=xs(e,I,"x"),j=xs(e,k,"y");z=qx(e,[q],[j],O);for(var Q=0;Q<z.length;Q++){var K=z[Q],G=K.cd[0],B=G.trace;if(K._module.name==="scattergl"&&!G.t.xpx){var Z=B.x,ie=B.y,J=B._length;G.t.xpx=[],G.t.ypx=[];for(var le=0;le<J;le++)G.t.xpx[le]=q.c2p(Z[le]),G.t.ypx[le]=j.c2p(ie[le])}K._module.name==="splom"&&(L[B.uid]||(L[B.uid]=!0))}}var te=wB(D,z);s=s.concat(te),u=u.concat(z)}}var V={points:s};wy(e,u,V);var ne=v.clickmode,Y=ne.indexOf("event")>-1&&r;if(!i&&r){var oe=hB(e,!0);if(oe.length){var pe=oe[0].xref,we=oe[0].yref;if(pe&&we){var De=TB(oe),Re=MB([xs(e,pe,"x"),xs(e,we,"y")]);Re(V,De)}}e._fullLayout._noEmitSelectedAtStart?e._fullLayout._noEmitSelectedAtStart=!1:Y&&Ay(e,V),v._reselect=!1}if(!i&&v._deselect){var Ae=v._deselect;l=Ae.xref,f=Ae.yref,Bye(l,f,u)||AB(e,l,f,n),Y&&(V.points.length?Ay(e,V):eT(e)),v._deselect=!1}return{eventData:V,selectionTesters:t}}function Nye(e){var r=e.calcdata;if(r)for(var t=0;t<r.length;t++){var n=r[t][0],a=n.trace,o=e._fullLayout._splomScenes;if(o){var i=o[a.uid];i&&(i.selectBatch=[])}}}function Bye(e,r,t){for(var n=0;n<t.length;n++){var a=t[n];if(a.xaxis&&a.xaxis._id===e&&a.yaxis&&a.yaxis._id===r)return!0}return!1}function AB(e,r,t,n){n=qx(e,[xs(e,r,"x")],[xs(e,t,"y")],r+t);for(var a=0;a<n.length;a++){var o=n[a];o._module.selectPoints(o,!1)}wy(e,n)}function zye(e,r,t,n){for(var a,o=0;o<e.length;o++){var i=e[o];if(!(r!==i.xref||t!==i.yref))if(a){var l=!!i.subtract;a=xB(a,i,l),n=K6(a)}else a=[i],n=Z6(i)}return n}function hB(e,r){for(var t=[],n=e._fullLayout,a=n.selections,o=a.length,i=0;i<o;i++)if(!(r&&i!==n._activeSelectionIndex)){var l=a[i];if(l){var f=l.xref,s=l.yref,u=xs(e,f,"x"),c=xs(e,s,"y"),v,x,m,w,A;if(l.type==="rect"){A=[];var y=b0(u,l.x0),M=b0(u,l.x1),E=b0(c,l.y0),b=b0(c,l.y1);A=[[y,E],[y,b],[M,b],[M,E]],v=Math.min(y,M),x=Math.max(y,M),m=Math.min(E,b),w=Math.max(E,b),A.xmin=v,A.xmax=x,A.ymin=m,A.ymax=w,A.xref=f,A.yref=s,A.subtract=!1,A.isRect=!0,t.push(A)}else if(l.type==="path")for(var T=l.path.split("Z"),p=[],_=0;_<T.length;_++){var g=T[_];if(g){g+="Z";var h=lB.extractPathCoords(g,sB.paramIsX,"raw"),S=lB.extractPathCoords(g,sB.paramIsY,"raw");v=1/0,x=-1/0,m=1/0,w=-1/0,A=[];for(var d=0;d<h.length;d++){var R=b0(u,h[d]),L=b0(c,S[d]);A.push([R,L]),v=Math.min(R,v),x=Math.max(R,x),m=Math.min(L,m),w=Math.max(L,w)}A.xmin=v,A.xmax=x,A.ymin=m,A.ymax=w,A.xref=f,A.yref=s,A.subtract=Q6(A,p),p.push(A),t.push(A)}}}}return t}function Q6(e,r){for(var t=!1,n=0;n<r.length;n++)for(var a=r[n],o=0;o<e.length;o++)if(cye(e[o],a)){t=!t;break}return t}function b0(e,r){return e.type==="date"&&(r=r.replace("_"," ")),e.type==="log"?e.c2p(r):e.r2p(r,null,e.calendar)}function TB(e){for(var r=e.length,t=[],n=0;n<r;n++){var a=e[n];t=t.concat(a),t=t.concat([a[0]])}return qye(t)}function qye(e){return e.isRect=e.length===5&&e[0][0]===e[4][0]&&e[0][1]===e[4][1]&&e[0][0]===e[1][0]&&e[2][0]===e[3][0]&&e[0][1]===e[3][1]&&e[1][1]===e[2][1]||e[0][1]===e[1][1]&&e[2][1]===e[3][1]&&e[0][0]===e[3][0]&&e[1][0]===e[2][0],e.isRect&&(e.xmin=Math.min(e[0][0],e[2][0]),e.xmax=Math.max(e[0][0],e[2][0]),e.ymin=Math.min(e[0][1],e[2][1]),e.ymax=Math.max(e[0][1],e[2][1])),e}function MB(e){return function(r,t){for(var n,a,o=0;o<e.length;o++){var i=e[o],l=i._id,f=l.charAt(0);if(t.isRect){n||(n={});var s=t[f+"min"],u=t[f+"max"];s!==void 0&&u!==void 0&&(n[l]=[fB(i,s),fB(i,u)].sort(_ye))}else a||(a={}),a[l]=t.map(Mye(i))}n&&(r.range=n),a&&(r.lassoPoints=a)}}function Uye(e){var r=e.plotinfo;return r.fillRangeItems||MB(e.xaxes.concat(e.yaxes))}function Gye(e,r){e.emit("plotly_selecting",r)}function Ay(e,r){r&&(r.selections=(e.layout||{}).selections||[]),e.emit("plotly_selected",r)}function eT(e){e.emit("plotly_deselect",null)}EB.exports={reselect:W6,prepSelect:Sye,clearOutline:dB,clearSelectionsCache:_y,selectOnClick:yB}});var rT=fe((aNe,CB)=>{"use strict";CB.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]});var My=fe((iNe,kB)=>{"use strict";kB.exports={axisRefDescription:function(e,r,t){return["If set to a",e,"axis id (e.g. *"+e+"* or","*"+e+"2*), the `"+e+"` position refers to a",e,"coordinate. If set to *paper*, the `"+e+"`","position refers to the distance from the",r,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",r,"("+t+"). If set to a",e,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",r,"of the domain of that axis: e.g.,","*"+e+"2 domain* refers to the domain of the second",e," axis and a",e,"position of 0.5 refers to the","point between the",r,"and the",t,"of the domain of the","second",e,"axis."].join(" ")}}});var A1=fe((lNe,FB)=>{"use strict";var LB=rT(),RB=Fi(),Ux=Ji(),Hye=da().templatedArray,oNe=My();FB.exports=Hye("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:RB({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:LB.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:LB.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",Ux.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",Ux.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",Ux.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",Ux.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:RB({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc"})});var Ey=fe((sNe,DB)=>{"use strict";DB.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}});var tT=fe((fNe,IB)=>{"use strict";IB.exports=function(r){return{valType:"color",editType:"style",anim:!0}}});var nc=fe((uNe,qB)=>{"use strict";var PB=Jd().axisHoverFormat,Vye=dl().texttemplateAttrs,Yye=dl().hovertemplateAttrs,OB=u0(),Wye=Fi(),Xye=$s().dash,jye=$s().pattern,Zye=ta(),$ye=Ey(),Gx=Na().extendFlat,Jye=tT();function NB(e){return{valType:"any",dflt:0,editType:"calc"}}function BB(e){return{valType:"any",editType:"calc"}}function zB(e){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}qB.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:NB("x"),yperiod:NB("y"),xperiod0:BB("x0"),yperiod0:BB("y0"),xperiodalignment:zB("x"),yperiodalignment:zB("y"),xhoverformat:PB("x"),yhoverformat:PB("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:Vye({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:Yye({},{keys:$ye.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:Gx({},Xye,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:Jye(!0),fillgradient:Gx({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:jye,marker:Gx({symbol:{valType:"enumerated",values:Zye.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:Gx({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},OB("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},OB("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:Wye({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}});var nT=fe((hNe,HB)=>{"use strict";var UB=A1(),GB=nc().line,Kye=$s().dash,Hx=Na().extendFlat,Qye=vl().overrideAll,eme=da().templatedArray,cNe=My();HB.exports=Qye(eme("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:Hx({},UB.xref,{}),yref:Hx({},UB.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:GB.color,width:Hx({},GB.width,{min:1,dflt:1}),dash:Hx({},Kye,{dflt:"dot"})}}),"arraydraw","from-root")});var XB=fe((vNe,WB)=>{"use strict";var VB=tt(),Vx=Fa(),rme=rf(),tme=nT(),YB=x0();WB.exports=function(r,t){rme(r,t,{name:"selections",handleItemDefaults:nme});for(var n=t.selections,a=0;a<n.length;a++){var o=n[a];o&&o.path===void 0&&(o.x0===void 0||o.x1===void 0||o.y0===void 0||o.y1===void 0)&&(t.selections[a]=null)}};function nme(e,r,t){function n(p,_){return VB.coerce(e,r,tme,p,_)}var a=n("path"),o=a?"path":"rect",i=n("type",o),l=i!=="path";l&&delete r.path,n("opacity"),n("line.color"),n("line.width"),n("line.dash");for(var f=["x","y"],s=0;s<2;s++){var u=f[s],c={_fullLayout:t},v,x,m,w=Vx.coerceRef(e,r,c,u);if(v=Vx.getFromId(c,w),v._selectionIndices.push(r._index),m=YB.rangeToShapePosition(v),x=YB.shapePositionToRange(v),l){var A=u+"0",y=u+"1",M=e[A],E=e[y];e[A]=x(e[A],!0),e[y]=x(e[y],!0),Vx.coercePosition(r,c,n,w,A),Vx.coercePosition(r,c,n,w,y);var b=r[A],T=r[y];b!==void 0&&T!==void 0&&(r[A]=m(b),r[y]=m(T),e[A]=M,e[y]=E)}}l&&VB.noneOrAll(e,r,["x0","x1","y0","y1"])}});var ZB=fe((dNe,jB)=>{"use strict";jB.exports=function(r,t,n){n("newselection.mode");var a=n("newselection.line.width");a&&(n("newselection.line.color"),n("newselection.line.dash")),n("activeselection.fillcolor"),n("activeselection.opacity")}});var Sy=fe((pNe,KB)=>{"use strict";var ame=Qt(),$B=tt(),JB=ti();KB.exports=function(r){return function(n,a){var o=n[r];if(Array.isArray(o))for(var i=ame.subplotsRegistry.cartesian,l=i.idRegex,f=a._subplots,s=f.xaxis,u=f.yaxis,c=f.cartesian,v=a._has("cartesian"),x=0;x<o.length;x++){var m=o[x];if($B.isPlainObject(m)){var w=JB.cleanId(m.xref,"x",!1),A=JB.cleanId(m.yref,"y",!1),y=l.x.test(w),M=l.y.test(A);if(y||M){v||$B.pushUnique(a._basePlotModules,i);var E=!1;y&&s.indexOf(w)===-1&&(s.push(w),E=!0),M&&u.indexOf(A)===-1&&(u.push(A),E=!0),E&&y&&M&&c.push(w+A)}}}}}});var T1=fe((gNe,ez)=>{"use strict";var QB=U6(),Cy=SB();ez.exports={moduleType:"component",name:"selections",layoutAttributes:nT(),supplyLayoutDefaults:XB(),supplyDrawNewSelectionDefaults:ZB(),includeBasePlot:Sy()("selections"),draw:QB.draw,drawOne:QB.drawOne,reselect:Cy.reselect,prepSelect:Cy.prepSelect,clearOutline:Cy.clearOutline,clearSelectionsCache:Cy.clearSelectionsCache,selectOnClick:Cy.selectOnClick}});var _z=fe((yNe,bz)=>{"use strict";var sT=Ln(),bs=tt(),rz=bs.numberFormat,ime=fl(),ome=Z3(),Yx=Qt(),uz=bs.strTranslate,lme=po(),tz=xn(),_0=ta(),sme=of(),nz=Fa(),fme=Ku(),ume=nf(),cz=pv(),Wx=cz.selectingOrDrawing,cme=cz.freeMode,hme=Ro().FROM_TL,vme=fx(),dme=Fx().redrawReglTraces,pme=ci(),iT=ti().getFromId,gme=T1().prepSelect,yme=T1().clearOutline,mme=T1().selectOnClick,aT=D6(),fT=Ji(),az=fT.MINDRAG,$o=fT.MINZOOM,iz=!0;function xme(e,r,t,n,a,o,i,l){var f=e._fullLayout._zoomlayer,s=i+l==="nsew",u=(i+l).length===1,c,v,x,m,w,A,y,M,E,b,T,p,_,g,h,S,d,R,L,F,O,P,I;t+=r.yaxis._shift;function k(){if(c=r.xaxis,v=r.yaxis,E=c._length,b=v._length,y=c._offset,M=v._offset,x={},x[c._id]=c,m={},m[v._id]=v,i&&l)for(var Ue=r.overlays,He=0;He<Ue.length;He++){var Xe=Ue[He].xaxis;x[Xe._id]=Xe;var fr=Ue[He].yaxis;m[fr._id]=fr}w=fz(x),A=fz(m),_=oz(w,l),g=oz(A,i),h=!g&&!_,p=sz(e,e._fullLayout._axisMatchGroups,x,m),T=sz(e,e._fullLayout._axisConstraintGroups,x,m,p);var Mr=T.isSubplotConstrained||p.isSubplotConstrained;S=l||Mr,d=i||Mr;var qr=e._fullLayout;R=qr._has("scattergl"),L=qr._has("splom"),F=qr._has("svg")}k();var D=wme(g+_,e._fullLayout.dragmode,s),z=vz(r,i+l+"drag",D,t,n,a,o);if(h&&!s)return z.onmousedown=null,z.style.pointerEvents="none",z;var q={element:z,gd:e,plotinfo:r};q.prepFn=function(Ue,He,Xe){var fr=q.dragmode,Mr=e._fullLayout.dragmode;Mr!==fr&&(q.dragmode=Mr),k(),P=e._fullLayout._invScaleX,I=e._fullLayout._invScaleY,h||(s?Ue.shiftKey?Mr==="pan"?Mr="zoom":Wx(Mr)||(Mr="pan"):Ue.ctrlKey&&(Mr="pan"):Mr="pan"),cme(Mr)?q.minDrag=1:q.minDrag=void 0,Wx(Mr)?(q.xaxes=w,q.yaxes=A,gme(Ue,He,Xe,q,Mr)):(q.clickFn=Q,Wx(fr)&&j(),h||(Mr==="zoom"?(q.moveFn=oe,q.doneFn=we,q.minDrag=1,Y(Ue,He,Xe)):Mr==="pan"&&(q.moveFn=je,q.doneFn=Se))),e._fullLayout._redrag=function(){var qr=e._dragdata;if(qr&&qr.element===z){var et=e._fullLayout.dragmode;Wx(et)||(k(),Fe([0,0,E,b]),q.moveFn(qr.dx,qr.dy))}}};function j(){q.plotinfo.selection=!1,yme(e)}function Q(Ue,He){var Xe=q.gd;if(Xe._fullLayout._activeShapeIndex>=0){Xe._fullLayout._deactivateShape(Xe);return}var fr=Xe._fullLayout.clickmode;if(lT(Xe),Ue===2&&!u&&pr(),s)fr.indexOf("select")>-1&&mme(He,Xe,w,A,r.id,q),fr.indexOf("event")>-1&&sme.click(Xe,He,r.id);else if(Ue===1&&u){var Mr=i?v:c,qr=i==="s"||l==="w"?0:1,et=Mr._name+".range["+qr+"]",jr=bme(Mr,qr),Or="left",_r="middle";if(Mr.fixedrange)return;i?(_r=i==="n"?"top":"bottom",Mr.side==="right"&&(Or="right")):l==="e"&&(Or="right"),Xe._context.showAxisRangeEntryBoxes&&sT.select(z).call(lme.makeEditable,{gd:Xe,immediate:!0,background:Xe._fullLayout.paper_bgcolor,text:String(jr),fill:Mr.tickfont?Mr.tickfont.color:"#444",horizontalAlign:Or,verticalAlign:_r}).on("edit",function(qe){var nr=Mr.d2r(qe);nr!==void 0&&Yx.call("_guiRelayout",Xe,et,nr)})}}ume.init(q);var K,G,B,Z,ie,J,le,te,V,ne;function Y(Ue,He,Xe){var fr=z.getBoundingClientRect();K=He-fr.left,G=Xe-fr.top,e._fullLayout._calcInverseTransform(e);var Mr=bs.apply3DTransform(e._fullLayout._invTransform)(K,G);K=Mr[0],G=Mr[1],B={l:K,r:K,w:0,t:G,b:G,h:0},Z=e._hmpixcount?e._hmlumcount/e._hmpixcount:ime(e._fullLayout.plot_bgcolor).getLuminance(),ie="M0,0H"+E+"V"+b+"H0V0",J=!1,le="xy",ne=!1,te=dz(f,Z,y,M,ie),V=pz(f,y,M)}function oe(Ue,He){if(e._transitioningWithDuration)return!1;var Xe=Math.max(0,Math.min(E,P*Ue+K)),fr=Math.max(0,Math.min(b,I*He+G)),Mr=Math.abs(Xe-K),qr=Math.abs(fr-G);B.l=Math.min(K,Xe),B.r=Math.max(K,Xe),B.t=Math.min(G,fr),B.b=Math.max(G,fr);function et(){le="",B.r=B.l,B.t=B.b,V.attr("d","M0,0Z")}if(T.isSubplotConstrained)Mr>$o||qr>$o?(le="xy",Mr/E>qr/b?(qr=Mr*b/E,G>fr?B.t=G-qr:B.b=G+qr):(Mr=qr*E/b,K>Xe?B.l=K-Mr:B.r=K+Mr),V.attr("d",Xx(B))):et();else if(p.isSubplotConstrained)if(Mr>$o||qr>$o){le="xy";var jr=Math.min(B.l/E,(b-B.b)/b),Or=Math.max(B.r/E,(b-B.t)/b);B.l=jr*E,B.r=Or*E,B.b=(1-jr)*b,B.t=(1-Or)*b,V.attr("d",Xx(B))}else et();else!g||qr<Math.min(Math.max(Mr*.6,az),$o)?Mr<az||!_?et():(B.t=0,B.b=b,le="x",V.attr("d",Ame(B,G))):!_||Mr<Math.min(qr*.6,$o)?(B.l=0,B.r=E,le="y",V.attr("d",Tme(B,K))):(le="xy",V.attr("d",Xx(B)));B.w=B.r-B.l,B.h=B.b-B.t,le&&(ne=!0),e._dragged=ne,gz(te,V,B,ie,J,Z),pe(),e.emit("plotly_relayouting",O),J=!0}function pe(){O={},(le==="xy"||le==="x")&&(oT(w,B.l/E,B.r/E,O,T.xaxes),Ne("x",O)),(le==="xy"||le==="y")&&(oT(A,(b-B.b)/b,(b-B.t)/b,O,T.yaxes),Ne("y",O))}function we(){pe(),lT(e),Se(),mz(e)}var De=[0,0,E,b],Re=null,Ae=fT.REDRAWDELAY,Ie=r.mainplot?e._fullLayout._plots[r.mainplot]:r;function Be(Ue){if(!e._context._scrollZoom.cartesian&&!e._fullLayout._enablescrollzoom)return;if(j(),e._transitioningWithDuration){Ue.preventDefault(),Ue.stopPropagation();return}k(),clearTimeout(Re);var He=-Ue.deltaY;if(isFinite(He)||(He=Ue.wheelDelta/10),!isFinite(He)){bs.log("Did not find wheel motion attributes: ",Ue);return}var Xe=Math.exp(-Math.min(Math.max(He,-20),20)/200),fr=Ie.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Mr=(Ue.clientX-fr.left)/fr.width,qr=(fr.bottom-Ue.clientY)/fr.height,et;function jr(Or,_r,qe){if(Or.fixedrange)return;var nr=bs.simpleMap(Or.range,Or.r2l),Te=nr[0]+(nr[1]-nr[0])*_r;function be(Ge){return Or.l2r(Te+(Ge-Te)*qe)}Or.range=nr.map(be)}if(S){for(l||(Mr=.5),et=0;et<w.length;et++)jr(w[et],Mr,Xe);Ne("x"),De[2]*=Xe,De[0]+=De[2]*Mr*(1/Xe-1)}if(d){for(i||(qr=.5),et=0;et<A.length;et++)jr(A[et],qr,Xe);Ne("y"),De[3]*=Xe,De[1]+=De[3]*(1-qr)*(1/Xe-1)}Fe(De),Qe(),e.emit("plotly_relayouting",O),Re=setTimeout(function(){e._fullLayout&&(De=[0,0,E,b],Se())},Ae),Ue.preventDefault()}i.length*l.length!==1&&xz(z,Be);function je(Ue,He){if(Ue=Ue*P,He=He*I,e._transitioningWithDuration)return;if(e._fullLayout._replotting=!0,_==="ew"||g==="ns"){var Xe=_?-Ue:0,fr=g?-He:0;if(p.isSubplotConstrained){if(_&&g){var Mr=(Ue/E-He/b)/2;Ue=Mr*E,He=-Mr*b,Xe=-Ue,fr=-He}g?Xe=-fr*E/b:fr=-Xe*b/E}_&&(lz(w,Ue),Ne("x")),g&&(lz(A,He),Ne("y")),Fe([Xe,fr,E,b]),Qe(),e.emit("plotly_relayouting",O);return}function qr(be,Ge,ae){for(var W=1-Ge,re,Ee,We=0;We<be.length;We++){var lr=be[We];if(!lr.fixedrange){re=lr,Ee=lr._rl[W]+(lr._rl[Ge]-lr._rl[W])/_me(ae/lr._length);var sr=lr.l2r(Ee);sr!==!1&&sr!==void 0&&(lr.range[Ge]=sr)}}return re._length*(re._rl[Ge]-Ee)/(re._rl[Ge]-re._rl[W])}var et=_==="w"==(g==="n")?1:-1;if(_&&g&&(T.isSubplotConstrained||p.isSubplotConstrained)){var jr=(Ue/E+et*He/b)/2;Ue=jr*E,He=et*jr*b}var Or,_r;if(_==="w"?Ue=qr(w,0,Ue):_==="e"?Ue=qr(w,1,-Ue):_||(Ue=0),g==="n"?He=qr(A,1,He):g==="s"?He=qr(A,0,-He):g||(He=0),Or=_==="w"?Ue:0,_r=g==="n"?He:0,T.isSubplotConstrained&&!p.isSubplotConstrained||p.isSubplotConstrained&&_&&g&&et>0){var qe;if(p.isSubplotConstrained||!_&&g.length===1){for(qe=0;qe<w.length;qe++)w[qe].range=w[qe]._r.slice(),aT(w[qe],1-He/b);Ue=He*E/b,Or=Ue/2}if(p.isSubplotConstrained||!g&&_.length===1){for(qe=0;qe<A.length;qe++)A[qe].range=A[qe]._r.slice(),aT(A[qe],1-Ue/E);He=Ue*b/E,_r=He/2}}(!p.isSubplotConstrained||!g)&&Ne("x"),(!p.isSubplotConstrained||!_)&&Ne("y");var nr=E-Ue,Te=b-He;p.isSubplotConstrained&&!(_&&g)&&(_?(_r=Or?0:Ue*b/E,Te=nr*b/E):(Or=_r?0:He*E/b,nr=Te*E/b)),Fe([Or,_r,nr,Te]),Qe(),e.emit("plotly_relayouting",O)}function Ne(Ue,He){for(var Xe=p.isSubplotConstrained?{x:A,y:w}[Ue]:p[Ue+"axes"],fr=p.isSubplotConstrained?{x:w,y:A}[Ue]:[],Mr=0;Mr<Xe.length;Mr++){var qr=Xe[Mr],et=qr._id,jr=p.xLinks[et]||p.yLinks[et],Or=fr[0]||x[jr]||m[jr];Or&&(He?(He[qr._name+".range[0]"]=He[Or._name+".range[0]"],He[qr._name+".range[1]"]=He[Or._name+".range[1]"]):qr.range=Or.range.slice())}}function Qe(){var Ue=[],He;function Xe(et){for(He=0;He<et.length;He++)et[He].fixedrange||Ue.push(et[He]._id)}function fr(et,jr){for(He=0;He<et.length;He++){var Or=et[He],_r=Or[jr];!Or.fixedrange&&_r.tickmode==="sync"&&Ue.push(_r._id)}}for(S&&(Xe(w),Xe(T.xaxes),Xe(p.xaxes),fr(r.overlays,"xaxis")),d&&(Xe(A),Xe(T.yaxes),Xe(p.yaxes),fr(r.overlays,"yaxis")),O={},He=0;He<Ue.length;He++){var Mr=Ue[He],qr=iT(e,Mr);nz.drawOne(e,qr,{skipTitle:!0}),O[qr._name+".range[0]"]=qr.range[0],O[qr._name+".range[1]"]=qr.range[1]}nz.redrawComponents(e,Ue)}function pr(){if(!e._transitioningWithDuration){var Ue=e._context.doubleClick,He=[];_&&(He=He.concat(w)),g&&(He=He.concat(A)),p.xaxes&&(He=He.concat(p.xaxes)),p.yaxes&&(He=He.concat(p.yaxes));var Xe={},fr,Mr;if(Ue==="reset+autosize")for(Ue="autosize",Mr=0;Mr<He.length;Mr++){fr=He[Mr];var qr=fr._rangeInitial0,et=fr._rangeInitial1,jr=qr!==void 0||et!==void 0;if(jr&&(qr!==void 0&&qr!==fr.range[0]||et!==void 0&&et!==fr.range[1])||!jr&&fr.autorange!==!0){Ue="reset";break}}if(Ue==="autosize")for(Mr=0;Mr<He.length;Mr++)fr=He[Mr],fr.fixedrange||(Xe[fr._name+".autorange"]=!0);else if(Ue==="reset"){for((_||T.isSubplotConstrained)&&(He=He.concat(T.xaxes)),g&&!T.isSubplotConstrained&&(He=He.concat(T.yaxes)),T.isSubplotConstrained&&(_?g||(He=He.concat(A)):He=He.concat(w)),Mr=0;Mr<He.length;Mr++)if(fr=He[Mr],!fr.fixedrange){var Or=fr._name,_r=fr._autorangeInitial;fr._rangeInitial0===void 0&&fr._rangeInitial1===void 0?Xe[Or+".autorange"]=!0:fr._rangeInitial0===void 0?(Xe[Or+".autorange"]=_r,Xe[Or+".range"]=[null,fr._rangeInitial1]):fr._rangeInitial1===void 0?(Xe[Or+".range"]=[fr._rangeInitial0,null],Xe[Or+".autorange"]=_r):Xe[Or+".range"]=[fr._rangeInitial0,fr._rangeInitial1]}}e.emit("plotly_doubleclick",null),Yx.call("_guiRelayout",e,Xe)}}function Se(){Fe([0,0,E,b]),bs.syncOrAsync([pme.previousPromises,function(){e._fullLayout._replotting=!1,Yx.call("_guiRelayout",e,O)}],e)}function Fe(Ue){var He=e._fullLayout,Xe=He._plots,fr=He._subplots.cartesian,Mr,qr,et,jr;if(L&&Yx.subplotsRegistry.splom.drag(e),R){for(Mr=0;Mr<fr.length;Mr++)if(qr=Xe[fr[Mr]],et=qr.xaxis,jr=qr.yaxis,qr._scene){et.limitRange&&et.limitRange(),jr.limitRange&&jr.limitRange();var Or=bs.simpleMap(et.range,et.r2l),_r=bs.simpleMap(jr.range,jr.r2l);qr._scene.update({range:[Or[0],_r[0],Or[1],_r[1]]})}}if((L||R)&&(vme(e),dme(e)),F){var qe=Ue[2]/c._length,nr=Ue[3]/v._length;for(Mr=0;Mr<fr.length;Mr++){qr=Xe[fr[Mr]],et=qr.xaxis,jr=qr.yaxis;var Te=(S||p.isSubplotConstrained)&&!et.fixedrange&&x[et._id],be=(d||p.isSubplotConstrained)&&!jr.fixedrange&&m[jr._id],Ge,ae,W,re;if(Te?(Ge=qe,W=l||p.isSubplotConstrained?Ue[0]:kr(et,Ge)):p.xaHash[et._id]?(Ge=qe,W=Ue[0]*et._length/c._length):p.yaHash[et._id]?(Ge=nr,W=g==="ns"?-Ue[1]*et._length/v._length:kr(et,Ge,{n:"top",s:"bottom"}[g])):(Ge=hr(et,qe,nr),W=dr(et,Ge)),Ge>1&&(et.maxallowed!==void 0&&S===(et.range[0]<et.range[1]?"e":"w")||et.minallowed!==void 0&&S===(et.range[0]<et.range[1]?"w":"e"))&&(Ge=1,W=0),be?(ae=nr,re=i||p.isSubplotConstrained?Ue[1]:kr(jr,ae)):p.yaHash[jr._id]?(ae=nr,re=Ue[1]*jr._length/v._length):p.xaHash[jr._id]?(ae=qe,re=_==="ew"?-Ue[0]*jr._length/c._length:kr(jr,ae,{e:"right",w:"left"}[_])):(ae=hr(jr,qe,nr),re=dr(jr,ae)),ae>1&&(jr.maxallowed!==void 0&&d===(jr.range[0]<jr.range[1]?"n":"s")||jr.minallowed!==void 0&&d===(jr.range[0]<jr.range[1]?"s":"n"))&&(ae=1,re=0),!(!Ge&&!ae)){Ge||(Ge=1),ae||(ae=1);var Ee=et._offset-W/Ge,We=jr._offset-re/ae;qr.clipRect.call(_0.setTranslate,W,re).call(_0.setScale,Ge,ae),qr.plot.call(_0.setTranslate,Ee,We).call(_0.setScale,1/Ge,1/ae),(Ge!==qr.xScaleFactor||ae!==qr.yScaleFactor)&&(_0.setPointGroupScale(qr.zoomScalePts,Ge,ae),_0.setTextPointsScale(qr.zoomScaleTxt,Ge,ae)),_0.hideOutsideRangePoints(qr.clipOnAxisFalseTraces,qr),qr.xScaleFactor=Ge,qr.yScaleFactor=ae}}}}function hr(Ue,He,Xe){return Ue.fixedrange?0:S&&T.xaHash[Ue._id]?He:d&&(T.isSubplotConstrained?T.xaHash:T.yaHash)[Ue._id]?Xe:0}function dr(Ue,He){return He?(Ue.range=Ue._r.slice(),aT(Ue,He),kr(Ue,He)):0}function kr(Ue,He,Xe){return Ue._length*(1-He)*hme[Xe||Ue.constraintoward||"middle"]}return z}function hz(e,r,t,n){var a=bs.ensureSingle(e.draglayer,r,t,function(o){o.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)});return a.call(fme,n),a.node()}function vz(e,r,t,n,a,o,i){var l=hz(e,"rect",r,t);return sT.select(l).call(_0.setRect,n,a,o,i),l}function oz(e,r){for(var t=0;t<e.length;t++)if(!e[t].fixedrange)return r;return""}function bme(e,r){var t=e.range[r],n=Math.abs(t-e.range[1-r]),a;return e.type==="date"?t:e.type==="log"?(a=Math.ceil(Math.max(0,-Math.log(n)/Math.LN10))+3,rz("."+a+"g")(Math.pow(10,t))):(a=Math.floor(Math.log(Math.abs(t))/Math.LN10)-Math.floor(Math.log(n)/Math.LN10)+4,rz("."+String(a)+"g")(t))}function oT(e,r,t,n,a){for(var o=0;o<e.length;o++){var i=e[o];if(!i.fixedrange)if(i.rangebreaks){var l=i._id.charAt(0)==="y",f=l?1-r:r,s=l?1-t:t;n[i._name+".range[0]"]=i.l2r(i.p2l(f*i._length)),n[i._name+".range[1]"]=i.l2r(i.p2l(s*i._length))}else{var u=i._rl[0],c=i._rl[1]-u;n[i._name+".range[0]"]=i.l2r(u+c*r),n[i._name+".range[1]"]=i.l2r(u+c*t)}}if(a&&a.length){var v=(r+(1-t))/2;oT(a,v,1-v,n,[])}}function lz(e,r){for(var t=0;t<e.length;t++){var n=e[t];if(!n.fixedrange){if(n.rangebreaks){var a=0,o=n._length,i=n.p2l(a+r)-n.p2l(a),l=n.p2l(o+r)-n.p2l(o),f=(i+l)/2;n.range=[n.l2r(n._rl[0]-f),n.l2r(n._rl[1]-f)]}else n.range=[n.l2r(n._rl[0]-r/n._m),n.l2r(n._rl[1]-r/n._m)];n.limitRange&&n.limitRange()}}}function _me(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function wme(e,r,t){return e?e==="nsew"?t?"":r==="pan"?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}function dz(e,r,t,n,a){return e.append("path").attr("class","zoombox").style({fill:r>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",uz(t,n)).attr("d",a+"Z")}function pz(e,r,t){return e.append("path").attr("class","zoombox-corners").style({fill:tz.background,stroke:tz.defaultLine,"stroke-width":1,opacity:0}).attr("transform",uz(r,t)).attr("d","M0,0Z")}function gz(e,r,t,n,a,o){e.attr("d",n+"M"+t.l+","+t.t+"v"+t.h+"h"+t.w+"v-"+t.h+"h-"+t.w+"Z"),yz(e,r,a,o)}function yz(e,r,t,n){t||(e.transition().style("fill",n>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),r.transition().style("opacity",1).duration(200))}function lT(e){sT.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function mz(e){iz&&e.data&&e._context.showTips&&(bs.notifier(bs._(e,"Double-click to zoom back out"),"long"),iz=!1)}function Ame(e,r){return"M"+(e.l-.5)+","+(r-$o-.5)+"h-3v"+(2*$o+1)+"h3ZM"+(e.r+.5)+","+(r-$o-.5)+"h3v"+(2*$o+1)+"h-3Z"}function Tme(e,r){return"M"+(r-$o-.5)+","+(e.t-.5)+"v-3h"+(2*$o+1)+"v3ZM"+(r-$o-.5)+","+(e.b+.5)+"v3h"+(2*$o+1)+"v-3Z"}function Xx(e){var r=Math.floor(Math.min(e.b-e.t,e.r-e.l,$o)/2);return"M"+(e.l-3.5)+","+(e.t-.5+r)+"h3v"+-r+"h"+r+"v-3h-"+(r+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+r)+"h-3v"+-r+"h"+-r+"v-3h"+(r+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-r)+"h-3v"+r+"h"+-r+"v3h"+(r+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-r)+"h3v"+r+"h"+r+"v3h-"+(r+3)+"Z"}function sz(e,r,t,n,a){for(var o=!1,i={},l={},f,s,u,c,v=(a||{}).xaHash,x=(a||{}).yaHash,m=0;m<r.length;m++){var w=r[m];for(f in t)if(w[f]){for(u in w)!(a&&(v[u]||x[u]))&&!(u.charAt(0)==="x"?t:n)[u]&&(i[u]=f);for(s in n)!(a&&(v[s]||x[s]))&&w[s]&&(o=!0)}for(s in n)if(w[s])for(c in w)!(a&&(v[c]||x[c]))&&!(c.charAt(0)==="x"?t:n)[c]&&(l[c]=s)}o&&(bs.extendFlat(i,l),l={});var A={},y=[];for(u in i){var M=iT(e,u);y.push(M),A[M._id]=M}var E={},b=[];for(c in l){var T=iT(e,c);b.push(T),E[T._id]=T}return{xaHash:A,yaHash:E,xaxes:y,yaxes:b,xLinks:i,yLinks:l,isSubplotConstrained:o}}function xz(e,r){if(!ome)e.onwheel!==void 0?e.onwheel=r:e.onmousewheel!==void 0?e.onmousewheel=r:e.isAddedWheelEvent||(e.isAddedWheelEvent=!0,e.addEventListener("wheel",r,{passive:!1}));else{var t=e.onwheel!==void 0?"wheel":"mousewheel";e._onwheel&&e.removeEventListener(t,e._onwheel),e._onwheel=r,e.addEventListener(t,r,{passive:!1})}}function fz(e){var r=[];for(var t in e)r.push(e[t]);return r}bz.exports={makeDragBox:xme,makeDragger:hz,makeRectDragger:vz,makeZoombox:dz,makeCorners:pz,updateZoombox:gz,xyCorners:Xx,transitionZoombox:yz,removeZoombox:lT,showDoubleClickNotifier:mz,attachWheelEventHandler:xz}});var uT=fe(Zx=>{"use strict";var Mme=Ln(),jx=of(),Eme=nf(),Sme=Ku(),sf=_z().makeDragBox,Ni=Ji().DRAGGERSIZE;Zx.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){Mme.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var n=Object.keys(t._plots||{}).sort(function(o,i){if((t._plots[o].mainplot&&!0)===(t._plots[i].mainplot&&!0)){var l=o.split("y"),f=i.split("y");return l[0]===f[0]?Number(l[1]||1)-Number(f[1]||1):Number(l[0]||1)-Number(f[0]||1)}return t._plots[o].mainplot?1:-1});n.forEach(function(o){var i=t._plots[o],l=i.xaxis,f=i.yaxis;if(!i.mainplot){var s=sf(r,i,l._offset,f._offset,l._length,f._length,"ns","ew");s.onmousemove=function(v){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===o&&r._fullLayout._plots[o]&&jx.hover(r,v,o)},jx.hover(r,v,o),r._fullLayout._lasthover=s,r._fullLayout._hoversubplot=o},s.onmouseout=function(v){r._dragging||(r._fullLayout._hoversubplot=null,Eme.unhover(r,v))},r._context.showAxisDragHandles&&(sf(r,i,l._offset-Ni,f._offset-Ni,Ni,Ni,"n","w"),sf(r,i,l._offset+l._length,f._offset-Ni,Ni,Ni,"n","e"),sf(r,i,l._offset-Ni,f._offset+f._length,Ni,Ni,"s","w"),sf(r,i,l._offset+l._length,f._offset+f._length,Ni,Ni,"s","e"))}if(r._context.showAxisDragHandles){if(o===l._mainSubplot){var u=l._mainLinePosition;l.side==="top"&&(u-=Ni),sf(r,i,l._offset+l._length*.1,u,l._length*.8,Ni,"","ew"),sf(r,i,l._offset,u,l._length*.1,Ni,"","w"),sf(r,i,l._offset+l._length*.9,u,l._length*.1,Ni,"","e")}if(o===f._mainSubplot){var c=f._mainLinePosition;f.side!=="right"&&(c-=Ni),sf(r,i,c,f._offset+f._length*.1,Ni,f._length*.8,"ns",""),sf(r,i,c,f._offset+f._length*.9,Ni,f._length*.1,"s",""),sf(r,i,c,f._offset,Ni,f._length*.1,"n","")}}});var a=t._hoverlayer.node();a.onmousemove=function(o){o.target=r._fullLayout._lasthover,jx.hover(r,o,t._hoversubplot)},a.onclick=function(o){o.target=r._fullLayout._lasthover,jx.click(r,o)},a.onmousedown=function(o){r._fullLayout._lasthover.onmousedown(o)},Zx.updateFx(r)}};Zx.updateFx=function(e){var r=e._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";Sme(r._draggers,t)}});var Tz=fe((xNe,Az)=>{"use strict";var wz=Qt();Az.exports=function(r){for(var t=wz.layoutArrayContainers,n=wz.layoutArrayRegexes,a=r.split("[")[0],o,i,l=0;l<n.length;l++)if(i=r.match(n[l]),i&&i.index===0){o=i[0];break}if(o||(o=t[t.indexOf(a)]),!o)return!1;var f=r.substr(o.length);return f?(i=f.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),i?{array:o,index:Number(i[1]),property:i[3]||""}:!1):{array:o,index:"",property:""}}});var Ez=fe(Ly=>{"use strict";var Cme=Jc(),cT=N2(),ky=Gh(),kme=l4().sorterAsc,hT=Qt();Ly.containerArrayMatch=Tz();var Lme=Ly.isAddVal=function(r){return r==="add"||Cme(r)},Mz=Ly.isRemoveVal=function(r){return r===null||r==="remove"};Ly.applyContainerArrayChanges=function(r,t,n,a,o){var i=t.astr,l=hT.getComponentMethod(i,"supplyLayoutDefaults"),f=hT.getComponentMethod(i,"draw"),s=hT.getComponentMethod(i,"drawOne"),u=a.replot||a.recalc||l===cT||f===cT,c=r.layout,v=r._fullLayout;if(n[""]){Object.keys(n).length>1&&ky.warn("Full array edits are incompatible with other edits",i);var x=n[""][""];if(Mz(x))t.set(null);else if(Array.isArray(x))t.set(x);else return ky.warn("Unrecognized full array edit value",i,x),!0;return u?!1:(l(c,v),f(r),!0)}var m=Object.keys(n).map(Number).sort(kme),w=t.get(),A=w||[],y=o(v,i).get(),M=[],E=-1,b=A.length,T,p,_,g,h,S,d,R;for(T=0;T<m.length;T++){if(_=m[T],g=n[_],h=Object.keys(g),S=g[""],d=Lme(S),_<0||_>A.length-(d?0:1)){ky.warn("index out of range",i,_);continue}if(S!==void 0)h.length>1&&ky.warn("Insertion & removal are incompatible with edits to the same index.",i,_),Mz(S)?M.push(_):d?(S==="add"&&(S={}),A.splice(_,0,S),y&&y.splice(_,0,{})):ky.warn("Unrecognized full object edit value",i,_,S),E===-1&&(E=_);else for(p=0;p<h.length;p++)R=i+"["+_+"].",o(A[_],h[p],R).set(g[h[p]])}for(T=M.length-1;T>=0;T--)A.splice(M[T],1),y&&y.splice(M[T],1);if(A.length?w||t.set(A):t.set(null),u)return!1;if(l(c,v),s!==cT){var L;if(E===-1)L=m;else{for(b=Math.max(A.length,b),L=[],T=0;T<m.length&&(_=m[T],!(_>=E));T++)L.push(_);for(T=E;T<b;T++)L.push(T)}for(T=0;T<L.length;T++)s(r,L[T])}else f(r);return!0}});var Iz=fe(_s=>{"use strict";var Lz=kn(),Rz=Qt(),Oo=tt(),Ry=ci(),Fz=ti(),Dz=xn(),Fy=Fz.cleanId,Rme=Fz.getFromTrace,vT=Rz.traceIs,Fme=["x","y","z"];_s.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&Oo.log("Clearing previous rejected promises from queue."),e._promises=[]};_s.cleanLayout=function(e){var r,t;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var n=(Ry.subplotsRegistry.cartesian||{}).attrRegex,a=(Ry.subplotsRegistry.polar||{}).attrRegex,o=(Ry.subplotsRegistry.ternary||{}).attrRegex,i=(Ry.subplotsRegistry.gl3d||{}).attrRegex,l=Object.keys(e);for(r=0;r<l.length;r++){var f=l[r];if(n&&n.test(f)){var s=e[f];s.anchor&&s.anchor!=="free"&&(s.anchor=Fy(s.anchor)),s.overlaying&&(s.overlaying=Fy(s.overlaying)),s.type||(s.isdate?s.type="date":s.islog?s.type="log":s.isdate===!1&&s.islog===!1&&(s.type="linear")),(s.autorange==="withzero"||s.autorange==="tozero")&&(s.autorange=!0,s.rangemode="tozero"),s.insiderange&&delete s.range,delete s.islog,delete s.isdate,delete s.categories,$x(s,"domain")&&delete s.domain}}var u=Array.isArray(e.annotations)?e.annotations.length:0;for(r=0;r<u;r++){var c=e.annotations[r];Oo.isPlainObject(c)&&(M1(c,"xref"),M1(c,"yref"))}var v=Array.isArray(e.shapes)?e.shapes.length:0;for(r=0;r<v;r++){var x=e.shapes[r];Oo.isPlainObject(x)&&(M1(x,"xref"),M1(x,"yref"))}var m=Array.isArray(e.images)?e.images.length:0;for(r=0;r<m;r++){var w=e.images[r];Oo.isPlainObject(w)&&(M1(w,"xref"),M1(w,"yref"))}var A=e.legend;return A&&(A.x>3?(A.x=1.02,A.xanchor="left"):A.x<-2&&(A.x=-.02,A.xanchor="right"),A.y>3?(A.y=1.02,A.yanchor="bottom"):A.y<-2&&(A.y=-.02,A.yanchor="top")),e.dragmode==="rotate"&&(e.dragmode="orbit"),Dz.clean(e),e.template&&e.template.layout&&_s.cleanLayout(e.template.layout),e};function M1(e,r){var t=e[r],n=r.charAt(0);t&&t!=="paper"&&(e[r]=Fy(t,n,!0))}_s.cleanData=function(e){for(var r=0;r<e.length;r++){var t=e[r],n;if(t.type==="histogramy"&&"xbins"in t&&!("ybins"in t)&&(t.ybins=t.xbins,delete t.xbins),t.type==="histogramy"&&_s.swapXYData(t),(t.type==="histogramx"||t.type==="histogramy")&&(t.type="histogram"),"scl"in t&&!("colorscale"in t)&&(t.colorscale=t.scl,delete t.scl),"reversescl"in t&&!("reversescale"in t)&&(t.reversescale=t.reversescl,delete t.reversescl),t.xaxis&&(t.xaxis=Fy(t.xaxis,"x")),t.yaxis&&(t.yaxis=Fy(t.yaxis,"y")),vT(t,"gl3d")&&t.scene&&(t.scene=Ry.subplotsRegistry.gl3d.cleanId(t.scene)),!vT(t,"pie-like")&&!vT(t,"bar-like"))if(Array.isArray(t.textposition))for(n=0;n<t.textposition.length;n++)t.textposition[n]=Cz(t.textposition[n]);else t.textposition&&(t.textposition=Cz(t.textposition));var a=Rz.getModule(t);if(a&&a.colorbar){var o=a.colorbar.container,i=o?t[o]:t;i&&i.colorscale&&(i.colorscale==="YIGnBu"&&(i.colorscale="YlGnBu"),i.colorscale==="YIOrRd"&&(i.colorscale="YlOrRd"))}if(t.type==="surface"&&Oo.isPlainObject(t.contours)){var l=["x","y","z"];for(n=0;n<l.length;n++){var f=t.contours[l[n]];Oo.isPlainObject(f)&&(f.highlightColor&&(f.highlightcolor=f.highlightColor,delete f.highlightColor),f.highlightWidth&&(f.highlightwidth=f.highlightWidth,delete f.highlightWidth))}}if(t.type==="candlestick"||t.type==="ohlc"){var s=(t.increasing||{}).showlegend!==!1,u=(t.decreasing||{}).showlegend!==!1,c=Sz(t.increasing),v=Sz(t.decreasing);if(c!==!1&&v!==!1){var x=Dme(c,v,s,u);x&&(t.name=x)}else(c||v)&&!t.name&&(t.name=c||v)}$x(t,"line")&&delete t.line,"marker"in t&&($x(t.marker,"line")&&delete t.marker.line,$x(t,"marker")&&delete t.marker),Dz.clean(t),t.autobinx&&(delete t.autobinx,delete t.xbins),t.autobiny&&(delete t.autobiny,delete t.ybins)}};function Sz(e){if(!Oo.isPlainObject(e))return!1;var r=e.name;return delete e.name,delete e.showlegend,(typeof r=="string"||typeof r=="number")&&String(r)}function Dme(e,r,t,n){if(t&&!n)return e;if(n&&!t||!e.trim())return r;if(!r.trim())return e;var a=Math.min(e.length,r.length),o;for(o=0;o<a&&e.charAt(o)===r.charAt(o);o++);var i=e.substr(0,o);return i.trim()}function Cz(e){var r="middle",t="center";return typeof e=="string"&&(e.indexOf("top")!==-1?r="top":e.indexOf("bottom")!==-1&&(r="bottom"),e.indexOf("left")!==-1?t="left":e.indexOf("right")!==-1&&(t="right")),r+" "+t}function $x(e,r){return r in e&&typeof e[r]=="object"&&Object.keys(e[r]).length===0}_s.swapXYData=function(e){var r;if(Oo.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var t=e.error_y,n="copy_ystyle"in t?t.copy_ystyle:!(t.color||t.thickness||t.width);Oo.swapAttrs(e,["error_?.copy_ystyle"]),n&&Oo.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if(typeof e.hoverinfo=="string"){var a=e.hoverinfo.split("+");for(r=0;r<a.length;r++)a[r]==="x"?a[r]="y":a[r]==="y"&&(a[r]="x");e.hoverinfo=a.join("+")}};_s.coerceTraceIndices=function(e,r){if(Lz(r))return[r];if(!Array.isArray(r)||!r.length)return e.data.map(function(a,o){return o});if(Array.isArray(r)){for(var t=[],n=0;n<r.length;n++)Oo.isIndex(r[n],e.data.length)?t.push(r[n]):Oo.warn("trace index (",r[n],") is not a number or is out of bounds");return t}return r};_s.manageArrayContainers=function(e,r,t){var n=e.obj,a=e.parts,o=a.length,i=a[o-1],l=Lz(i);if(l&&r===null){var f=a.slice(0,o-1).join("."),s=Oo.nestedProperty(n,f).get();s.splice(i,1)}else l&&e.get()===void 0&&e.get()===void 0&&(t[e.astr]=null),e.set(r)};var Ime=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function kz(e){var r=e.search(Ime);if(r>0)return e.substr(0,r)}_s.hasParent=function(e,r){for(var t=kz(r);t;){if(t in e)return!0;t=kz(t)}return!1};_s.clearAxisTypes=function(e,r,t){for(var n=0;n<r.length;n++)for(var a=e._fullData[n],o=0;o<3;o++){var i=Rme(e,a,Fme[o]);if(i&&i.type!=="log"){var l=i._name,f=i._id.substr(1);if(f.substr(0,5)==="scene"){if(t[f]!==void 0)continue;l=f+"."+l}var s=l+".type";t[l]===void 0&&t[s]===void 0&&Oo.nestedProperty(e.layout,s).set(null)}}};var dT=(e,r)=>{let t=(...n)=>n.every(a=>Oo.isPlainObject(a))||n.every(a=>Array.isArray(a));if([e,r].every(n=>Array.isArray(n))){if(e.length!==r.length)return!1;for(let n=0;n<e.length;n++){let a=e[n],o=r[n];if(a!==o&&!(t(a,o)?dT(a,o):!1))return!1}return!0}else if([e,r].every(n=>Oo.isPlainObject(n))){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(let n in e){if(n.startsWith("_"))continue;let a=e[n],o=r[n];if(a!==o&&!(t(a,o)?dT(a,o):!1))return!1}return!0}return!1};_s.collectionsAreEqual=dT});var bT=fe(Nn=>{"use strict";var Qx=Ln(),Pme=kn(),Ome=b4(),It=tt(),ya=It.nestedProperty,yT=Yd(),Jo=hR(),ws=Qt(),ob=jd(),tn=ci(),No=Fa(),Nme=UA(),Bme=cs(),pT=ta(),zme=xn(),qme=uT().initInteractions,Ume=f0(),Gme=T1().clearOutline,zz=Uh().dfltConfig,Jx=Ez(),ni=Iz(),aa=Fx(),w0=vl(),Hme=Ji().AX_NAME_PATTERN,gT=0,Pz=5;function Vme(e,r,t,n){var a;if(e=It.getGraphDiv(e),yT.init(e),It.isPlainObject(r)){var o=r;r=o.data,t=o.layout,n=o.config,a=o.frames}var i=yT.triggerHandler(e,"plotly_beforeplot",[r,t,n]);if(i===!1)return Promise.reject();!r&&!t&&!It.isPlotDiv(e)&&It.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",e);function l(){if(a)return Nn.addFrames(e,a)}Uz(e,n),t||(t={}),Qx.select(e).classed("js-plotly-plot",!0),pT.makeTester(),Array.isArray(e._promises)||(e._promises=[]);var f=(e.data||[]).length===0&&Array.isArray(r);Array.isArray(r)&&(ni.cleanData(r),f?e.data=r:e.data.push.apply(e.data,r),e.empty=!1),(!e.layout||f)&&(e.layout=ni.cleanLayout(t)),tn.supplyDefaults(e);var s=e._fullLayout,u=s._has("cartesian");s._replotting=!0,(f||s._shouldCreateBgLayer)&&(v2e(e),s._shouldCreateBgLayer&&delete s._shouldCreateBgLayer),pT.initGradients(e),pT.initPatterns(e),f&&No.saveShowSpikeInitial(e);var c=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;c&&tn.doCalcdata(e);for(var v=0;v<e.calcdata.length;v++)e.calcdata[v][0].trace=e._fullData[v];e._context.responsive?e._responsiveChartHandler||(e._responsiveChartHandler=function(){It.isHidden(e)||tn.resize(e)},window.addEventListener("resize",e._responsiveChartHandler)):It.clearResponsive(e);var x=It.extendFlat({},s._size),m=0;function w(){for(var _=s._basePlotModules,g=0;g<_.length;g++)_[g].drawFramework&&_[g].drawFramework(e);!s._glcanvas&&s._has("gl")&&(s._glcanvas=s._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(R){return R.key}),s._glcanvas.enter().append("canvas").attr("class",function(R){return"gl-canvas gl-canvas-"+R.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var h=e._context.plotGlPixelRatio;if(s._glcanvas){s._glcanvas.attr("width",s.width*h).attr("height",s.height*h).style("width",s.width+"px").style("height",s.height+"px");var S=s._glcanvas.data()[0].regl;if(S&&(Math.floor(s.width*h)!==S._gl.drawingBufferWidth||Math.floor(s.height*h)!==S._gl.drawingBufferHeight)){var d="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(m)It.error(d);else return It.log(d+" Clearing graph and plotting again."),tn.cleanPlot([],{},e._fullData,s),tn.supplyDefaults(e),s=e._fullLayout,tn.doCalcdata(e),m++,w()}}return s.modebar.orientation==="h"?s._modebardiv.style("height",null).style("width","100%"):s._modebardiv.style("width",null).style("height",s.height+"px"),tn.previousPromises(e)}function A(){if(tn.clearAutoMarginIds(e),aa.drawMarginPushers(e),No.allowAutoMargin(e),e._fullLayout.title.text&&e._fullLayout.title.automargin&&tn.allowAutoMargin(e,"title.automargin"),s._has("pie"))for(var _=e._fullData,g=0;g<_.length;g++){var h=_[g];h.type==="pie"&&h.automargin&&tn.allowAutoMargin(e,"pie."+h.uid+".automargin")}return tn.doAutoMargin(e),tn.previousPromises(e)}function y(){if(tn.didMarginChange(x,s._size))return It.syncOrAsync([A,aa.layoutStyles],e)}function M(){if(!c){E();return}return It.syncOrAsync([ws.getComponentMethod("shapes","calcAutorange"),ws.getComponentMethod("annotations","calcAutorange"),E],e)}function E(){e._transitioning||(aa.doAutoRangeAndConstraints(e),f&&No.saveRangeInitial(e),ws.getComponentMethod("rangeslider","calcAutorange")(e))}function b(){return No.draw(e,f?"":"redraw")}var T=[tn.previousPromises,l,w,A,y];u&&T.push(M),T.push(aa.layoutStyles),u&&T.push(b,function(g){var h=g._fullLayout._insideTickLabelsUpdaterange;if(h)return g._fullLayout._insideTickLabelsUpdaterange=void 0,Dy(g,h).then(function(){No.saveRangeInitial(g,!0)})}),T.push(aa.drawData,aa.finalDraw,qme,tn.addLinks,tn.rehover,tn.redrag,tn.reselect,tn.doAutoMargin,tn.previousPromises);var p=It.syncOrAsync(T,e);return(!p||!p.then)&&(p=Promise.resolve()),p.then(function(){return Iy(e),e})}function Iy(e){var r=e._fullLayout;r._redrawFromAutoMarginCount?r._redrawFromAutoMarginCount--:e.emit("plotly_afterplot")}function Yme(e){return It.extendFlat(zz,e)}function qz(e,r){try{e._fullLayout._paper.style("background",r)}catch(t){It.error(t)}}function Wme(e,r){var t=zme.combine(r,"white");qz(e,t)}function Uz(e,r){if(!e._context){e._context=It.extendDeep({},zz);var t=Qx.select("base");e._context._baseUrl=t.size()&&t.attr("href")?window.location.href.split("#")[0]:""}var n=e._context,a,o,i;if(r){for(o=Object.keys(r),a=0;a<o.length;a++)i=o[a],!(i==="editable"||i==="edits")&&i in n&&(i==="setBackground"&&r[i]==="opaque"?n[i]=Wme:n[i]=r[i]);var l=r.editable;if(l!==void 0)for(n.editable=l,o=Object.keys(n.edits),a=0;a<o.length;a++)n.edits[o[a]]=l;if(r.edits)for(o=Object.keys(r.edits),a=0;a<o.length;a++)i=o[a],i in n.edits&&(n.edits[i]=r.edits[i]);n._exportedPlot=r._exportedPlot}n.staticPlot&&(n.editable=!1,n.edits={},n.autosizable=!1,n.scrollZoom=!1,n.doubleClick=!1,n.showTips=!1,n.showLink=!1,n.displayModeBar=!1),n.displayModeBar==="hover"&&!Ome&&(n.displayModeBar=!0),(n.setBackground==="transparent"||typeof n.setBackground!="function")&&(n.setBackground=qz),n._hasZeroHeight=n._hasZeroHeight||e.clientHeight===0,n._hasZeroWidth=n._hasZeroWidth||e.clientWidth===0;var f=n.scrollZoom,s=n._scrollZoom={};if(f===!0)s.cartesian=1,s.gl3d=1,s.geo=1,s.mapbox=1,s.map=1;else if(typeof f=="string"){var u=f.split("+");for(a=0;a<u.length;a++)s[u[a]]=1}else f!==!1&&(s.gl3d=1,s.geo=1,s.mapbox=1,s.map=1)}function Xme(e){if(e=It.getGraphDiv(e),!It.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return ni.cleanData(e.data),ni.cleanLayout(e.layout),e.calcdata=void 0,Nn._doPlot(e).then(function(){return e.emit("plotly_redraw"),e})}function jme(e,r,t,n){return e=It.getGraphDiv(e),tn.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),tn.purge(e),Nn._doPlot(e,r,t,n)}function eb(e,r){var t=r+1,n=[],a,o;for(a=0;a<e.length;a++)o=e[a],o<0?n.push(t+o):n.push(o);return n}function rb(e,r,t){var n,a;for(n=0;n<r.length;n++){if(a=r[n],a!==parseInt(a,10))throw new Error("all values in "+t+" must be integers");if(a>=e.data.length||a<-e.data.length)throw new Error(t+" must be valid indices for gd.data.");if(r.indexOf(a,n+1)>-1||a>=0&&r.indexOf(-e.data.length+a)>-1||a<0&&r.indexOf(e.data.length+a)>-1)throw new Error("each index in "+t+" must be unique.")}}function Gz(e,r,t){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(typeof r=="undefined")throw new Error("currentIndices is a required argument.");if(Array.isArray(r)||(r=[r]),rb(e,r,"currentIndices"),typeof t!="undefined"&&!Array.isArray(t)&&(t=[t]),typeof t!="undefined"&&rb(e,t,"newIndices"),typeof t!="undefined"&&r.length!==t.length)throw new Error("current and new indices must be of equal length.")}function Zme(e,r,t){var n,a;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(typeof r=="undefined")throw new Error("traces must be defined.");for(Array.isArray(r)||(r=[r]),n=0;n<r.length;n++)if(a=r[n],typeof a!="object"||Array.isArray(a)||a===null)throw new Error("all values in traces array must be non-array objects");if(typeof t!="undefined"&&!Array.isArray(t)&&(t=[t]),typeof t!="undefined"&&t.length!==r.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function $me(e,r,t,n){var a=It.isPlainObject(n);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!It.isPlainObject(r))throw new Error("update must be a key:value object");if(typeof t=="undefined")throw new Error("indices must be an integer or array of integers");rb(e,t,"indices");for(var o in r){if(!Array.isArray(r[o])||r[o].length!==t.length)throw new Error("attribute "+o+" must be an array of length equal to indices array length");if(a&&(!(o in n)||!Array.isArray(n[o])||n[o].length!==r[o].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 correspondence with the keys and number of traces in the update object")}}function Jme(e,r,t,n){var a=It.isPlainObject(n),o=[],i,l,f,s,u;Array.isArray(t)||(t=[t]),t=eb(t,e.data.length-1);for(var c in r)for(var v=0;v<t.length;v++){if(i=e.data[t[v]],f=ya(i,c),l=f.get(),s=r[c][v],!It.isArrayOrTypedArray(s))throw new Error("attribute: "+c+" index: "+v+" must be an array");if(!It.isArrayOrTypedArray(l))throw new Error("cannot extend missing or non-array attribute: "+c);if(l.constructor!==s.constructor)throw new Error("cannot extend array with an array of a different type: "+c);u=a?n[c][v]:n,Pme(u)||(u=-1),o.push({prop:f,target:l,insert:s,maxp:Math.floor(u)})}return o}function Hz(e,r,t,n,a){$me(e,r,t,n);for(var o=Jme(e,r,t,n),i={},l={},f=0;f<o.length;f++){var s=o[f].prop,u=o[f].maxp,c=a(o[f].target,o[f].insert,u);s.set(c[0]),Array.isArray(i[s.astr])||(i[s.astr]=[]),i[s.astr].push(c[1]),Array.isArray(l[s.astr])||(l[s.astr]=[]),l[s.astr].push(o[f].target.length)}return{update:i,maxPoints:l}}function Vz(e,r){var t=new e.constructor(e.length+r.length);return t.set(e),t.set(r,e.length),t}function Yz(e,r,t,n){e=It.getGraphDiv(e);function a(f,s,u){var c,v;if(It.isTypedArray(f))if(u<0){var x=new f.constructor(0),m=Vz(f,s);u<0?(c=m,v=x):(c=x,v=m)}else if(c=new f.constructor(u),v=new f.constructor(f.length+s.length-u),u===s.length)c.set(s),v.set(f);else if(u<s.length){var w=s.length-u;c.set(s.subarray(w)),v.set(f),v.set(s.subarray(0,w),f.length)}else{var A=u-s.length,y=f.length-A;c.set(f.subarray(y)),c.set(s,A),v.set(f.subarray(0,y))}else c=f.concat(s),v=u>=0&&u<c.length?c.splice(0,c.length-u):[];return[c,v]}var o=Hz(e,r,t,n,a),i=Nn.redraw(e),l=[e,o.update,t,o.maxPoints];return Jo.add(e,Nn.prependTraces,l,Yz,arguments),i}function Wz(e,r,t,n){e=It.getGraphDiv(e);function a(f,s,u){var c,v;if(It.isTypedArray(f))if(u<=0){var x=new f.constructor(0),m=Vz(s,f);u<0?(c=m,v=x):(c=x,v=m)}else if(c=new f.constructor(u),v=new f.constructor(f.length+s.length-u),u===s.length)c.set(s),v.set(f);else if(u<s.length){var w=s.length-u;c.set(s.subarray(0,w)),v.set(s.subarray(w)),v.set(f,w)}else{var A=u-s.length;c.set(s),c.set(f.subarray(0,A),s.length),v.set(f.subarray(A))}else c=s.concat(f),v=u>=0&&u<c.length?c.splice(u,c.length):[];return[c,v]}var o=Hz(e,r,t,n,a),i=Nn.redraw(e),l=[e,o.update,t,o.maxPoints];return Jo.add(e,Nn.extendTraces,l,Wz,arguments),i}function Xz(e,r,t){e=It.getGraphDiv(e);var n=[],a=Nn.deleteTraces,o=Xz,i=[e,n],l=[e,r],f,s;for(Zme(e,r,t),Array.isArray(r)||(r=[r]),r=r.map(function(u){return It.extendFlat({},u)}),ni.cleanData(r),f=0;f<r.length;f++)e.data.push(r[f]);for(f=0;f<r.length;f++)n.push(-r.length+f);if(typeof t=="undefined")return s=Nn.redraw(e),Jo.add(e,a,i,o,l),s;Array.isArray(t)||(t=[t]);try{Gz(e,n,t)}catch(u){throw e.data.splice(e.data.length-r.length,r.length),u}return Jo.startSequence(e),Jo.add(e,a,i,o,l),s=Nn.moveTraces(e,n,t),Jo.stopSequence(e),s}function jz(e,r){e=It.getGraphDiv(e);var t=[],n=Nn.addTraces,a=jz,o=[e,t,r],i=[e,r],l,f;if(typeof r=="undefined")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(r)||(r=[r]),rb(e,r,"indices"),r=eb(r,e.data.length-1),r.sort(It.sorterDes),l=0;l<r.length;l+=1)f=e.data.splice(r[l],1)[0],t.push(f);var s=Nn.redraw(e);return Jo.add(e,n,o,a,i),s}function mT(e,r,t){e=It.getGraphDiv(e);var n=[],a=[],o=mT,i=mT,l=[e,t,r],f=[e,r,t],s;if(Gz(e,r,t),r=Array.isArray(r)?r:[r],typeof t=="undefined")for(t=[],s=0;s<r.length;s++)t.push(-r.length+s);for(t=Array.isArray(t)?t:[t],r=eb(r,e.data.length-1),t=eb(t,e.data.length-1),s=0;s<e.data.length;s++)r.indexOf(s)===-1&&n.push(e.data[s]);for(s=0;s<r.length;s++)a.push({newIndex:t[s],trace:e.data[r[s]]});for(a.sort(function(c,v){return c.newIndex-v.newIndex}),s=0;s<a.length;s+=1)n.splice(a[s].newIndex,0,a[s].trace);e.data=n;var u=Nn.redraw(e);return Jo.add(e,o,l,i,f),u}function tb(e,r,t,n){e=It.getGraphDiv(e),ni.clearPromiseQueue(e);var a={};if(typeof r=="string")a[r]=t;else if(It.isPlainObject(r))a=It.extendFlat({},r),n===void 0&&(n=t);else return It.warn("Restyle fail.",r,t,n),Promise.reject();Object.keys(a).length&&(e.changed=!0);var o=ni.coerceTraceIndices(e,n),i=Zz(e,a,o),l=i.flags;l.calc&&(e.calcdata=void 0),l.clearAxisTypes&&ni.clearAxisTypes(e,o,{});var f=[];l.fullReplot?f.push(Nn._doPlot):(f.push(tn.previousPromises),tn.supplyDefaults(e),l.markerSize&&(tn.doCalcdata(e),lb(f)),l.style&&f.push(aa.doTraceStyle),l.colorbars&&f.push(aa.doColorBars),f.push(Iy)),f.push(tn.rehover,tn.redrag,tn.reselect),Jo.add(e,tb,[e,i.undoit,i.traces],tb,[e,i.redoit,i.traces]);var s=It.syncOrAsync(f,e);return(!s||!s.then)&&(s=Promise.resolve()),s.then(function(){return e.emit("plotly_restyle",i.eventData),e})}function ac(e){return e===void 0?null:e}function Kx(e,r){return r?function(t,n,a){var o=ya(t,n),i=o.set;return o.set=function(l){var f=(a||"")+n;nb(f,o.get(),l,e),i(l)},o}:ya}function nb(e,r,t,n){if(Array.isArray(r)||Array.isArray(t))for(var a=Array.isArray(r)?r:[],o=Array.isArray(t)?t:[],i=Math.max(a.length,o.length),l=0;l<i;l++)nb(e+"["+l+"]",a[l],o[l],n);else if(It.isPlainObject(r)||It.isPlainObject(t)){var f=It.isPlainObject(r)?r:{},s=It.isPlainObject(t)?t:{},u=It.extendFlat({},f,s);for(var c in u)nb(e+"."+c,f[c],s[c],n)}else n[e]===void 0&&(n[e]=ac(r))}function Kme(e,r,t){for(var n in t){var a=ya(e,n);nb(n,a.get(),t[n],r)}}function Zz(e,r,t){var n=e._fullLayout,a=e._fullData,o=e.data,i=n._guiEditing,l=Kx(n._preGUI,i),f=It.extendDeepAll({},r),s,u=w0.traceFlags(),c={},v={},x;function m(){return t.map(function(){})}function w(V){var ne=No.id2name(V);x.indexOf(ne)===-1&&x.push(ne)}function A(V){return"LAYOUT"+V+".autorange"}function y(V){return"LAYOUT"+V+".range"}function M(V){for(var ne=V;ne<a.length;ne++)if(a[ne]._input===o[V])return a[ne]}function E(V,ne,Y){if(Array.isArray(V)){V.forEach(function(De){E(De,ne,Y)});return}if(!(V in r||ni.hasParent(r,V))){var oe;if(V.substr(0,6)==="LAYOUT")oe=l(e.layout,V.replace("LAYOUT",""));else{var pe=t[Y],we=n._tracePreGUI[M(pe)._fullInput.uid];oe=Kx(we,i)(o[pe],V)}V in v||(v[V]=m()),v[V][Y]===void 0&&(v[V][Y]=ac(oe.get())),ne!==void 0&&oe.set(ne)}}function b(V){return function(ne){return a[ne][V]}}function T(V){return function(ne,Y){return ne===!1?a[t[Y]][V]:null}}for(var p in r){if(ni.hasParent(r,p))throw new Error("cannot set "+p+" and a parent attribute simultaneously");var _=r[p],g,h,S,d,R,L;if((p==="autobinx"||p==="autobiny")&&(p=p.charAt(p.length-1)+"bins",Array.isArray(_)?_=_.map(T(p)):_===!1?_=t.map(b(p)):_=null),c[p]=_,p.substr(0,6)==="LAYOUT"){S=l(e.layout,p.replace("LAYOUT","")),v[p]=[ac(S.get())],S.set(Array.isArray(_)?_[0]:_),u.calc=!0;continue}for(v[p]=m(),s=0;s<t.length;s++){g=o[t[s]],h=M(t[s]);var F=n._tracePreGUI[h._fullInput.uid];if(S=Kx(F,i)(g,p),d=S.get(),R=Array.isArray(_)?_[s%_.length]:_,R!==void 0){var O=S.parts[S.parts.length-1],P=p.substr(0,p.length-O.length-1),I=P?P+".":"",k=P?ya(h,P).get():h;if(L=ob.getTraceValObject(h,S.parts),L&&L.impliedEdits&&R!==null)for(var D in L.impliedEdits)E(It.relativeAttr(p,D),L.impliedEdits[D],s);else if((O==="thicknessmode"||O==="lenmode")&&d!==R&&(R==="fraction"||R==="pixels")&&k){var z=n._size,q=k.orient,j=q==="top"||q==="bottom";if(O==="thicknessmode"){var Q=j?z.h:z.w;E(I+"thickness",k.thickness*(R==="fraction"?1/Q:Q),s)}else{var K=j?z.w:z.h;E(I+"len",k.len*(R==="fraction"?1/K:K),s)}}else if(p==="type"&&(R==="pie"!=(d==="pie")||R==="funnelarea"!=(d==="funnelarea"))){var G="x",B="y";(R==="bar"||d==="bar")&&g.orientation==="h"&&(G="y",B="x"),It.swapAttrs(g,["?","?src"],"labels",G),It.swapAttrs(g,["d?","?0"],"label",G),It.swapAttrs(g,["?","?src"],"values",B),d==="pie"||d==="funnelarea"?(ya(g,"marker.color").set(ya(g,"marker.colors").get()),n._pielayer.selectAll("g.trace").remove()):ws.traceIs(g,"cartesian")&&ya(g,"marker.colors").set(ya(g,"marker.color").get())}v[p][s]=ac(d);var Z=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Z.indexOf(p)!==-1){if(p==="orientation"){S.set(R);var ie=g.x&&!g.y?"h":"v";if((S.get()||ie)===h.orientation)continue}else p==="orientationaxes"&&(g.orientation={v:"h",h:"v"}[h.orientation]);ni.swapXYData(g),u.calc=u.clearAxisTypes=!0}else tn.dataArrayContainers.indexOf(S.parts[0])!==-1?(ni.manageArrayContainers(S,R,v),u.calc=!0):(L?L.arrayOk&&!ws.traceIs(h,"regl")&&(It.isArrayOrTypedArray(R)||It.isArrayOrTypedArray(d))?u.calc=!0:w0.update(u,L):u.calc=!0,S.set(R))}}if(["swapxyaxes","orientationaxes"].indexOf(p)!==-1&&No.swap(e,t),p==="orientationaxes"){var J=ya(e.layout,"hovermode"),le=J.get();le==="x"?J.set("y"):le==="y"?J.set("x"):le==="x unified"?J.set("y unified"):le==="y unified"&&J.set("x unified")}if(["orientation","type"].indexOf(p)!==-1){for(x=[],s=0;s<t.length;s++){var te=o[t[s]];ws.traceIs(te,"cartesian")&&(w(te.xaxis||"x"),w(te.yaxis||"y"))}E(x.map(A),!0,0),E(x.map(y),[0,1],0)}}return(u.calc||u.plot)&&(u.fullReplot=!0),{flags:u,undoit:v,redoit:c,traces:t,eventData:It.extendDeepNoArrays([],[f,t])}}function Dy(e,r,t){e=It.getGraphDiv(e),ni.clearPromiseQueue(e);var n={};if(typeof r=="string")n[r]=t;else if(It.isPlainObject(r))n=It.extendFlat({},r);else return It.warn("Relayout fail.",r,t),Promise.reject();Object.keys(n).length&&(e.changed=!0);var a=Qz(e,n),o=a.flags;o.calc&&(e.calcdata=void 0);var i=[tn.previousPromises];o.layoutReplot?i.push(aa.layoutReplot):Object.keys(n).length&&($z(e,o,a)||tn.supplyDefaults(e),o.legend&&i.push(aa.doLegend),o.layoutstyle&&i.push(aa.layoutStyles),o.axrange&&lb(i,a.rangesAltered),o.ticks&&i.push(aa.doTicksRelayout),o.modebar&&i.push(aa.doModeBar),o.camera&&i.push(aa.doCamera),o.colorbars&&i.push(aa.doColorBars),i.push(Iy)),i.push(tn.rehover,tn.redrag,tn.reselect),Jo.add(e,Dy,[e,a.undoit],Dy,[e,a.redoit]);var l=It.syncOrAsync(i,e);return(!l||!l.then)&&(l=Promise.resolve(e)),l.then(function(){return e.emit("plotly_relayout",a.eventData),e})}function $z(e,r,t){var n=e._fullLayout;if(!r.axrange)return!1;for(var a in r)if(a!=="axrange"&&r[a])return!1;var o,i,l=function(x,m){return It.coerce(o,i,Bme,x,m)},f={};for(var s in t.rangesAltered){var u=No.id2name(s);if(o=e.layout[u],i=n[u],Nme(o,i,l,f),i._matchGroup){for(var c in i._matchGroup)if(c!==s){var v=n[No.id2name(c)];v.autorange=i.autorange,v.range=i.range.slice(),v._input.range=i.range.slice()}}}return!0}function lb(e,r){var t=r?function(n){var a=[],o=!0;for(var i in r){var l=No.getFromId(n,i);if(a.push(i),(l.ticklabelposition||"").indexOf("inside")!==-1&&l._anchorAxis&&a.push(l._anchorAxis._id),l._matchGroup)for(var f in l._matchGroup)r[f]||a.push(f)}return No.draw(n,a,{skipTitle:o})}:function(n){return No.draw(n,"redraw")};e.push(Gme,aa.doAutoRangeAndConstraints,t,aa.drawData,aa.finalDraw)}var Jz=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Kz=/^[xyz]axis[0-9]*\.autorange$/,Qme=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Qz(e,r){var t=e.layout,n=e._fullLayout,a=n._guiEditing,o=Kx(n._preGUI,a),i=Object.keys(r),l=No.list(e),f=It.extendDeepAll({},r),s={},u,c,v;for(i=Object.keys(r),c=0;c<i.length;c++)if(i[c].indexOf("allaxes")===0){for(v=0;v<l.length;v++){var x=l[v]._id.substr(1),m=x.indexOf("scene")!==-1?x+".":"",w=i[c].replace("allaxes",m+l[v]._name);r[w]||(r[w]=r[i[c]])}delete r[i[c]]}var A=w0.layoutFlags(),y={},M={};function E(we,De){if(Array.isArray(we)){we.forEach(function(Ae){E(Ae,De)});return}if(!(we in r||ni.hasParent(r,we))){var Re=o(t,we);we in M||(M[we]=ac(Re.get())),De!==void 0&&Re.set(De)}}var b={},T;function p(we){var De=No.name2id(we.split(".")[0]);return b[De]=1,De}for(var _ in r){if(ni.hasParent(r,_))throw new Error("cannot set "+_+" and a parent attribute simultaneously");for(var g=o(t,_),h=r[_],S=g.parts.length,d=S-1;d>0&&typeof g.parts[d]!="string";)d--;var R=g.parts[d],L=g.parts[d-1]+"."+R,F=g.parts.slice(0,d).join("."),O=ya(e.layout,F).get(),P=ya(n,F).get(),I=g.get();if(h!==void 0){y[_]=h,M[_]=R==="reverse"?h:ac(I);var k=ob.getLayoutValObject(n,g.parts);if(k&&k.impliedEdits&&h!==null)for(var D in k.impliedEdits)E(It.relativeAttr(_,D),k.impliedEdits[D]);if(["width","height"].indexOf(_)!==-1)if(h){E("autosize",null);var z=_==="height"?"width":"height";E(z,n[z])}else n[_]=e._initialAutoSize[_];else if(_==="autosize")E("width",h?null:n.width),E("height",h?null:n.height);else if(L.match(Jz))p(L),ya(n,F+"._inputRange").set(null);else if(L.match(Kz)){p(L),ya(n,F+"._inputRange").set(null);var q=ya(n,F).get();q._inputDomain&&(q._input.domain=q._inputDomain.slice())}else L.match(Qme)&&ya(n,F+"._inputDomain").set(null);if(R==="type"){T=O;var j=P.type==="linear"&&h==="log",Q=P.type==="log"&&h==="linear";if(j||Q){if(!T||!T.range)E(F+".autorange",!0);else if(P.autorange)j&&(T.range=T.range[1]>T.range[0]?[1,2]:[2,1]);else{var K=T.range[0],G=T.range[1];j?(K<=0&&G<=0&&E(F+".autorange",!0),K<=0?K=G/1e6:G<=0&&(G=K/1e6),E(F+".range[0]",Math.log(K)/Math.LN10),E(F+".range[1]",Math.log(G)/Math.LN10)):(E(F+".range[0]",Math.pow(10,K)),E(F+".range[1]",Math.pow(10,G)))}Array.isArray(n._subplots.polar)&&n._subplots.polar.length&&n[g.parts[0]]&&g.parts[1]==="radialaxis"&&delete n[g.parts[0]]._subplot.viewInitial["radialaxis.range"],ws.getComponentMethod("annotations","convertCoords")(e,P,h,E),ws.getComponentMethod("images","convertCoords")(e,P,h,E)}else E(F+".autorange",!0),E(F+".range",null);ya(n,F+"._inputRange").set(null)}else if(R.match(Hme)){var B=ya(n,_).get(),Z=(h||{}).type;(!Z||Z==="-")&&(Z="linear"),ws.getComponentMethod("annotations","convertCoords")(e,B,Z,E),ws.getComponentMethod("images","convertCoords")(e,B,Z,E)}var ie=Jx.containerArrayMatch(_);if(ie){u=ie.array,c=ie.index;var J=ie.property,le=k||{editType:"calc"};c!==""&&J===""&&(Jx.isAddVal(h)?M[_]=null:Jx.isRemoveVal(h)?M[_]=(ya(t,u).get()||[])[c]:It.warn("unrecognized full object value",r)),w0.update(A,le),s[u]||(s[u]={});var te=s[u][c];te||(te=s[u][c]={}),te[J]=h,delete r[_]}else R==="reverse"?(O.range?O.range.reverse():(E(F+".autorange",!0),O.range=[1,0]),P.autorange?A.calc=!0:A.plot=!0):(_==="dragmode"&&(h===!1&&I!==!1||h!==!1&&I===!1)||n._has("scatter-like")&&n._has("regl")&&_==="dragmode"&&(h==="lasso"||h==="select")&&!(I==="lasso"||I==="select")?A.plot=!0:k?w0.update(A,k):A.calc=!0,g.set(h))}}for(u in s){var V=Jx.applyContainerArrayChanges(e,o(t,u),s[u],A,o);V||(A.plot=!0)}for(var ne in b){T=No.getFromId(e,ne);var Y=T&&T._constraintGroup;if(Y){A.calc=!0;for(var oe in Y)b[oe]||(No.getFromId(e,oe)._constraintShrinkable=!0)}}(eq(e)||r.height||r.width)&&(A.plot=!0);var pe=n.shapes;for(c=0;c<pe.length;c++)if(pe[c].showlegend){A.calc=!0;break}return(A.plot||A.calc)&&(A.layoutReplot=!0),{flags:A,rangesAltered:b,undoit:M,redoit:y,eventData:f}}function eq(e){var r=e._fullLayout,t=r.width,n=r.height;return e.layout.autosize&&tn.plotAutoSize(e,e.layout,r),r.width!==t||r.height!==n}function ab(e,r,t,n){e=It.getGraphDiv(e),ni.clearPromiseQueue(e),It.isPlainObject(r)||(r={}),It.isPlainObject(t)||(t={}),Object.keys(r).length&&(e.changed=!0),Object.keys(t).length&&(e.changed=!0);var a=ni.coerceTraceIndices(e,n),o=Zz(e,It.extendFlat({},r),a),i=o.flags,l=Qz(e,It.extendFlat({},t)),f=l.flags;(i.calc||f.calc)&&(e.calcdata=void 0),i.clearAxisTypes&&ni.clearAxisTypes(e,a,t);var s=[];f.layoutReplot?s.push(aa.layoutReplot):i.fullReplot?s.push(Nn._doPlot):(s.push(tn.previousPromises),$z(e,f,l)||tn.supplyDefaults(e),i.style&&s.push(aa.doTraceStyle),(i.colorbars||f.colorbars)&&s.push(aa.doColorBars),f.legend&&s.push(aa.doLegend),f.layoutstyle&&s.push(aa.layoutStyles),f.axrange&&lb(s,l.rangesAltered),f.ticks&&s.push(aa.doTicksRelayout),f.modebar&&s.push(aa.doModeBar),f.camera&&s.push(aa.doCamera),s.push(Iy)),s.push(tn.rehover,tn.redrag,tn.reselect),Jo.add(e,ab,[e,o.undoit,l.undoit,o.traces],ab,[e,o.redoit,l.redoit,o.traces]);var u=It.syncOrAsync(s,e);return(!u||!u.then)&&(u=Promise.resolve(e)),u.then(function(){return e.emit("plotly_update",{data:o.eventData,layout:l.eventData}),e})}function xT(e){return function(t){t._fullLayout._guiEditing=!0;var n=e.apply(null,arguments);return t._fullLayout._guiEditing=!1,n}}var e2e=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^(map\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],r2e=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Oz(e,r){for(var t=0;t<r.length;t++){var n=r[t],a=e.match(n.pattern);if(a){var o=a[1]||"";return{head:o,tail:e.substr(o.length+1),attr:n.attr}}}}function Nz(e,r){var t=ya(r,e).get();if(t!==void 0)return t;var n=e.split(".");for(n.pop();n.length>1;)if(n.pop(),t=ya(r,n.join(".")+".uirevision").get(),t!==void 0)return t;return r.uirevision}function t2e(e,r){for(var t=0;t<r.length;t++)if(r[t]._fullInput.uid===e)return t;return-1}function n2e(e,r,t){for(var n=0;n<r.length;n++)if(r[n].uid===e)return n;return!r[t]||r[t].uid?-1:t}function Bz(e,r){var t=It.isPlainObject(e),n=Array.isArray(e);return t||n?(t&&It.isPlainObject(r)||n&&Array.isArray(r))&&JSON.stringify(e)===JSON.stringify(r):e===r}function a2e(e,r,t,n){var a=n._preGUI,o,i,l,f,s,u,c,v,x,m,w=[],A={},y={};for(o in a){if(s=Oz(o,e2e),s){if(x=s.head,m=s.tail,i=s.attr||x+".uirevision",l=ya(n,i).get(),f=l&&Nz(i,r),f&&f===l){if(u=a[o],u===null&&(u=void 0),c=ya(r,o),v=c.get(),Bz(v,u)){v===void 0&&m==="autorange"&&w.push(x),c.set(ac(ya(n,o).get()));continue}else if(m==="autorange"||m.substr(0,6)==="range["){var M=a[x+".range[0]"],E=a[x+".range[1]"],b=a[x+".autorange"];if(b||b===null&&M===null&&E===null){if(!(x in A)){var T=ya(r,x).get();A[x]=T&&(T.autorange||T.autorange!==!1&&(!T.range||T.range.length!==2))}if(A[x]){c.set(ac(ya(n,o).get()));continue}}}}}else It.warn("unrecognized GUI edit: "+o);delete a[o],s&&s.tail.substr(0,6)==="range["&&(y[s.head]=1)}for(var p=0;p<w.length;p++){var _=w[p];if(y[_]){var g=ya(r,_).get();g&&delete g.autorange}}var h=n._tracePreGUI;for(var S in h){var d=h[S],R=null,L;for(o in d){if(!R){var F=t2e(S,t);if(F<0){delete h[S];break}var O=t[F];L=O._fullInput;var P=n2e(S,e,L.index);if(P<0){delete h[S];break}R=e[P]}if(s=Oz(o,r2e),s){if(s.attr?(l=ya(n,s.attr).get(),f=l&&Nz(s.attr,r)):(l=L.uirevision,f=R.uirevision,f===void 0&&(f=r.uirevision)),f&&f===l&&(u=d[o],u===null&&(u=void 0),c=ya(R,o),v=c.get(),Bz(v,u))){c.set(ac(ya(L,o).get()));continue}}else It.warn("unrecognized GUI edit: "+o+" in trace uid "+S);delete d[o]}}}function i2e(e,r,t,n){var a,o;function i(){return Nn.addFrames(e,a)}e=It.getGraphDiv(e),ni.clearPromiseQueue(e);var l=e._fullData,f=e._fullLayout;if(!It.isPlotDiv(e)||!l||!f)o=Nn.newPlot(e,r,t,n);else{if(It.isPlainObject(r)){var s=r;r=s.data,t=s.layout,n=s.config,a=s.frames}var u=!1;if(n){let L=It.extendDeepAll({},e._context);e._context=void 0,Uz(e,n),u=!ni.collectionsAreEqual(L,e._context)}if(u){let L=e._ev.eventNames().map(F=>[F,e._ev.listeners(F)]);o=Nn.newPlot(e,r,t,n).then(()=>{for(let[F,O]of L)O.forEach(P=>e.on(F,P));return Nn.react(e,r,t,n)})}else{e.data=r||[],ni.cleanData(e.data),e.layout=t||{},ni.cleanLayout(e.layout),a2e(e.data,e.layout,l,f),tn.supplyDefaults(e,{skipUpdateCalc:!0});var c=e._fullData,v=e._fullLayout,x=v.datarevision===void 0,m=v.transition,w=l2e(e,f,v,x,m),A=w.newDataRevision,y=o2e(e,l,c,x,m,A);if(eq(e)&&(w.layoutReplot=!0),y.calc||w.calc){e.calcdata=void 0;for(var M=Object.getOwnPropertyNames(v),E=0;E<M.length;E++){var b=M[E],T=b.substring(0,5);if(T==="xaxis"||T==="yaxis"){var p=v[b]._emptyCategories;p&&p()}}}else tn.supplyDefaultsUpdateCalc(e.calcdata,c);var _=[];if(a&&(e._transitionData={},tn.createTransitionData(e),_.push(i)),v.transition&&(y.anim||w.anim))w.ticks&&_.push(aa.doTicksRelayout),tn.doCalcdata(e),aa.doAutoRangeAndConstraints(e),_.push(function(){return tn.transitionFromReact(e,y,w,f)});else if(y.fullReplot||w.layoutReplot)e._fullLayout._skipDefaults=!0,_.push(Nn._doPlot);else{for(var g in w.arrays){var h=w.arrays[g];if(h.length){var S=ws.getComponentMethod(g,"drawOne");if(S!==It.noop)for(var d=0;d<h.length;d++)S(e,h[d]);else{var R=ws.getComponentMethod(g,"draw");if(R===It.noop)throw new Error("cannot draw components: "+g);R(e)}}}_.push(tn.previousPromises),y.style&&_.push(aa.doTraceStyle),(y.colorbars||w.colorbars)&&_.push(aa.doColorBars),w.legend&&_.push(aa.doLegend),w.layoutstyle&&_.push(aa.layoutStyles),w.axrange&&lb(_),w.ticks&&_.push(aa.doTicksRelayout),w.modebar&&_.push(aa.doModeBar),w.camera&&_.push(aa.doCamera),_.push(Iy)}_.push(tn.rehover,tn.redrag,tn.reselect),o=It.syncOrAsync(_,e),(!o||!o.then)&&(o=Promise.resolve(e))}}return o.then(()=>(u||e.emit("plotly_react",{config:n,data:r,layout:t}),e))}function o2e(e,r,t,n,a,o){var i=r.length===t.length;if(!a&&!i)return{fullReplot:!0,calc:!0};var l=w0.traceFlags();l.arrays={},l.nChanges=0,l.nChangesAnim=0;var f,s;function u(x){var m=ob.getTraceValObject(s,x);return!s._module.animatable&&m.anim&&(m.anim=!1),m}var c={getValObject:u,flags:l,immutable:n,transition:a,newDataRevision:o,gd:e},v={};for(f=0;f<r.length;f++)if(t[f]){if(s=t[f]._fullInput,v[s.uid])continue;v[s.uid]=1,ib(r[f]._fullInput,s,[],c)}return(l.calc||l.plot)&&(l.fullReplot=!0),a&&l.nChanges&&l.nChangesAnim&&(l.anim=l.nChanges===l.nChangesAnim&&i?"all":"some"),l}function l2e(e,r,t,n,a){var o=w0.layoutFlags();o.arrays={},o.rangesAltered={},o.nChanges=0,o.nChangesAnim=0;function i(v){return ob.getLayoutValObject(t,v)}for(var l in t)if(!(!l.startsWith("xaxis")&&!l.startsWith("yaxis"))&&r[l]){var f=t[l].domain,s=r[l].domain,u=r[l]._inputDomain;r[l]._inputDomain&&(f[0]===u[0]&&f[1]===u[1]?t[l].domain=r[l].domain:(f[0]!==s[0]||f[1]!==s[1])&&(t[l]._inputDomain=null))}var c={getValObject:i,flags:o,immutable:n,transition:a,gd:e};return ib(r,t,[],c),(o.plot||o.calc)&&(o.layoutReplot=!0),a&&o.nChanges&&o.nChangesAnim&&(o.anim=o.nChanges===o.nChangesAnim?"all":"some"),o}function ib(e,r,t,n){var a,o,i,l=n.getValObject,f=n.flags,s=n.immutable,u=n.inArray,c=n.arrayIndex;function v(){var F=a.editType;if(u&&F.indexOf("arraydraw")!==-1){It.pushUnique(f.arrays[u],c);return}w0.update(f,a),F!=="none"&&f.nChanges++,n.transition&&a.anim&&f.nChangesAnim++,(Jz.test(i)||Kz.test(i))&&(f.rangesAltered[t[0]]=1),o==="datarevision"&&(f.newDataRevision=1)}function x(F){return F.valType==="data_array"||F.arrayOk}for(o in e){if(f.calc&&!n.transition)return;var m=e[o],w=r[o],A=t.concat(o);if(i=A.join("."),!(o.charAt(0)==="_"||typeof m=="function"||m===w)){if((o==="tick0"||o==="dtick")&&t[0]!=="geo"){var y=r.tickmode;if(y==="auto"||y==="array"||!y)continue}if(!(o==="range"&&r.autorange)&&!((o==="zmin"||o==="zmax")&&r.type==="contourcarpet")&&(a=l(A),!!a&&!(a._compareAsJSON&&JSON.stringify(m)===JSON.stringify(w)))){var M=a.valType,E,b=x(a),T=Array.isArray(m),p=Array.isArray(w);if(T&&p){var _="_input_"+o,g=e[_],h=r[_];if(Array.isArray(g)&&g===h)continue}if(w===void 0)b&&T?f.calc=!0:v();else if(a._isLinkedToArray){var S=[],d=!1;u||(f.arrays[o]=S);var R=Math.min(m.length,w.length),L=Math.max(m.length,w.length);if(R!==L)if(a.editType==="arraydraw")d=!0;else{v();continue}for(E=0;E<R;E++)ib(m[E],w[E],A.concat(E),It.extendFlat({inArray:o,arrayIndex:E},n));if(d)for(E=R;E<L;E++)S.push(E)}else!M&&It.isPlainObject(m)?ib(m,w,A,n):b?T&&p?(s&&(f.calc=!0),(s||n.newDataRevision)&&v()):T!==p?f.calc=!0:v():T&&p?(m.length!==w.length||String(m)!==String(w))&&v():v()}}}for(o in r)if(!(o in e||o.charAt(0)==="_"||typeof r[o]=="function"))if(a=l(t.concat(o)),x(a)&&Array.isArray(r[o])){f.calc=!0;return}else v()}function s2e(e,r,t){if(e=It.getGraphDiv(e),!It.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var n=e._transitionData;n._frameQueue||(n._frameQueue=[]),t=tn.supplyAnimationDefaults(t);var a=t.transition,o=t.frame;n._frameWaitingCnt===void 0&&(n._frameWaitingCnt=0);function i(s){return Array.isArray(a)?s>=a.length?a[0]:a[s]:a}function l(s){return Array.isArray(o)?s>=o.length?o[0]:o[s]:o}function f(s,u){var c=0;return function(){if(s&&++c===u)return s()}}return new Promise(function(s,u){function c(){if(n._frameQueue.length!==0){for(;n._frameQueue.length;){var R=n._frameQueue.pop();R.onInterrupt&&R.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}function v(R){if(R.length!==0){for(var L=0;L<R.length;L++){var F;R[L].type==="byname"?F=tn.computeFrame(e,R[L].name):F=R[L].data;var O=l(L),P=i(L);P.duration=Math.min(P.duration,O.duration);var I={frame:F,name:R[L].name,frameOpts:O,transitionOpts:P};L===R.length-1&&(I.onComplete=f(s,2),I.onInterrupt=u),n._frameQueue.push(I)}t.mode==="immediate"&&(n._lastFrameAt=-1/0),n._animationRaf||w()}}function x(){e.emit("plotly_animated"),window.cancelAnimationFrame(n._animationRaf),n._animationRaf=null}function m(){n._currentFrame&&n._currentFrame.onComplete&&n._currentFrame.onComplete();var R=n._currentFrame=n._frameQueue.shift();if(R){var L=R.name?R.name.toString():null;e._fullLayout._currentFrame=L,n._lastFrameAt=Date.now(),n._timeToNext=R.frameOpts.duration,tn.transition(e,R.frame.data,R.frame.layout,ni.coerceTraceIndices(e,R.frame.traces),R.frameOpts,R.transitionOpts).then(function(){R.onComplete&&R.onComplete()}),e.emit("plotly_animatingframe",{name:L,frame:R.frame,animation:{frame:R.frameOpts,transition:R.transitionOpts}})}else x()}function w(){e.emit("plotly_animating"),n._lastFrameAt=-1/0,n._timeToNext=0,n._runningTransitions=0,n._currentFrame=null;var R=function(){n._animationRaf=window.requestAnimationFrame(R),Date.now()-n._lastFrameAt>n._timeToNext&&m()};R()}var A=0;function y(R){return Array.isArray(a)?A>=a.length?R.transitionOpts=a[A]:R.transitionOpts=a[0]:R.transitionOpts=a,A++,R}var M,E,b=[],T=r==null,p=Array.isArray(r),_=!T&&!p&&It.isPlainObject(r);if(_)b.push({type:"object",data:y(It.extendFlat({},r))});else if(T||["string","number"].indexOf(typeof r)!==-1)for(M=0;M<n._frames.length;M++)E=n._frames[M],E&&(T||String(E.group)===String(r))&&b.push({type:"byname",name:String(E.name),data:y({name:E.name})});else if(p)for(M=0;M<r.length;M++){var g=r[M];["number","string"].indexOf(typeof g)!==-1?(g=String(g),b.push({type:"byname",name:g,data:y({name:g})})):It.isPlainObject(g)&&b.push({type:"object",data:y(It.extendFlat({},g))})}for(M=0;M<b.length;M++)if(E=b[M],E.type==="byname"&&!n._frameHash[E.data.name]){It.warn('animate failure: frame not found: "'+E.data.name+'"'),u();return}["next","immediate"].indexOf(t.mode)!==-1&&c(),t.direction==="reverse"&&b.reverse();var h=e._fullLayout._currentFrame;if(h&&t.fromcurrent){var S=-1;for(M=0;M<b.length;M++)if(E=b[M],E.type==="byname"&&E.name===h){S=M;break}if(S>0&&S<b.length-1){var d=[];for(M=0;M<b.length;M++)E=b[M],(b[M].type!=="byname"||M>S)&&d.push(E);b=d}}b.length>0?v(b):(e.emit("plotly_animated"),s())})}function f2e(e,r,t){if(e=It.getGraphDiv(e),r==null)return Promise.resolve();if(!It.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var n,a,o,i,l=e._transitionData._frames,f=e._transitionData._frameHash;if(!Array.isArray(r))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+r);var s=l.length+r.length*2,u=[],c={};for(n=r.length-1;n>=0;n--)if(It.isPlainObject(r[n])){var v=r[n].name,x=(f[v]||c[v]||{}).name,m=r[n].name,w=f[x]||c[x];x&&m&&typeof m=="number"&&w&&gT<Pz&&(gT++,It.warn('addFrames: overwriting frame "'+(f[x]||c[x]).name+'" with a frame whose name of type "number" also equates to "'+x+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),gT===Pz&&It.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),c[v]={name:v},u.push({frame:tn.supplyFrameDefaults(r[n]),index:t&&t[n]!==void 0&&t[n]!==null?t[n]:s+n})}u.sort(function(_,g){return _.index>g.index?-1:_.index<g.index?1:0});var A=[],y=[],M=l.length;for(n=u.length-1;n>=0;n--){if(a=u[n].frame,typeof a.name=="number"&&It.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!a.name)for(;f[a.name="frame "+e._transitionData._counter++];);if(f[a.name]){for(o=0;o<l.length&&(l[o]||{}).name!==a.name;o++);A.push({type:"replace",index:o,value:a}),y.unshift({type:"replace",index:o,value:l[o]})}else i=Math.max(0,Math.min(u[n].index,M)),A.push({type:"insert",index:i,value:a}),y.unshift({type:"delete",index:i}),M++}var E=tn.modifyFrames,b=tn.modifyFrames,T=[e,y],p=[e,A];return Jo&&Jo.add(e,E,T,b,p),tn.modifyFrames(e,A)}function u2e(e,r){if(e=It.getGraphDiv(e),!It.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var t,n,a=e._transitionData._frames,o=[],i=[];if(!r)for(r=[],t=0;t<a.length;t++)r.push(t);for(r=r.slice(),r.sort(),t=r.length-1;t>=0;t--)n=r[t],o.push({type:"delete",index:n}),i.unshift({type:"insert",index:n,value:a[n]});var l=tn.modifyFrames,f=tn.modifyFrames,s=[e,i],u=[e,o];return Jo&&Jo.add(e,l,s,f,u),tn.modifyFrames(e,o)}function c2e(e){e=It.getGraphDiv(e);var r=e._fullLayout||{},t=e._fullData||[];return tn.cleanPlot([],{},t,r),tn.purge(e),yT.purge(e),r._container&&r._container.remove(),delete e._context,e}function h2e(e){var r=e._fullLayout,t=e.getBoundingClientRect();if(!It.equalDomRects(t,r._lastBBox)){var n=r._invTransform=It.inverseTransformMatrix(It.getFullTransformMatrix(e));r._invScaleX=Math.sqrt(n[0][0]*n[0][0]+n[0][1]*n[0][1]+n[0][2]*n[0][2]),r._invScaleY=Math.sqrt(n[1][0]*n[1][0]+n[1][1]*n[1][1]+n[1][2]*n[1][2]),r._lastBBox=t}}function v2e(e){var r=Qx.select(e),t=e._fullLayout;if(t._calcInverseTransform=h2e,t._calcInverseTransform(e),t._container=r.selectAll(".plot-container").data([0]),t._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0).style({width:"100%",height:"100%"}),t._paperdiv=t._container.selectAll(".svg-container").data([0]),t._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),t._glcontainer=t._paperdiv.selectAll(".gl-container").data([{}]),t._glcontainer.enter().append("div").classed("gl-container",!0),t._paperdiv.selectAll(".main-svg").remove(),t._paperdiv.select(".modebar-container").remove(),t._paper=t._paperdiv.insert("svg",":first-child").classed("main-svg",!0),t._toppaper=t._paperdiv.append("svg").classed("main-svg",!0),t._modebardiv=t._paperdiv.append("div"),delete t._modeBar,t._hoverpaper=t._paperdiv.append("svg").classed("main-svg",!0),!t._uid){var n={};Qx.selectAll("defs").each(function(){this.id&&(n[this.id.split("-")[1]]=1)}),t._uid=It.randstr(n)}t._paperdiv.selectAll(".main-svg").attr(Ume.svgAttrs),t._defs=t._paper.append("defs").attr("id","defs-"+t._uid),t._clips=t._defs.append("g").classed("clips",!0),t._topdefs=t._toppaper.append("defs").attr("id","topdefs-"+t._uid),t._topclips=t._topdefs.append("g").classed("clips",!0),t._bgLayer=t._paper.append("g").classed("bglayer",!0),t._draggers=t._paper.append("g").classed("draglayer",!0);var a=t._paper.append("g").classed("layer-below",!0);t._imageLowerLayer=a.append("g").classed("imagelayer",!0),t._shapeLowerLayer=a.append("g").classed("shapelayer",!0),t._cartesianlayer=t._paper.append("g").classed("cartesianlayer",!0),t._polarlayer=t._paper.append("g").classed("polarlayer",!0),t._smithlayer=t._paper.append("g").classed("smithlayer",!0),t._ternarylayer=t._paper.append("g").classed("ternarylayer",!0),t._geolayer=t._paper.append("g").classed("geolayer",!0),t._funnelarealayer=t._paper.append("g").classed("funnelarealayer",!0),t._pielayer=t._paper.append("g").classed("pielayer",!0),t._iciclelayer=t._paper.append("g").classed("iciclelayer",!0),t._treemaplayer=t._paper.append("g").classed("treemaplayer",!0),t._sunburstlayer=t._paper.append("g").classed("sunburstlayer",!0),t._indicatorlayer=t._toppaper.append("g").classed("indicatorlayer",!0),t._glimages=t._paper.append("g").classed("glimages",!0);var o=t._toppaper.append("g").classed("layer-above",!0);t._imageUpperLayer=o.append("g").classed("imagelayer",!0),t._shapeUpperLayer=o.append("g").classed("shapelayer",!0),t._selectionLayer=t._toppaper.append("g").classed("selectionlayer",!0),t._infolayer=t._toppaper.append("g").classed("infolayer",!0),t._menulayer=t._toppaper.append("g").classed("menulayer",!0),t._zoomlayer=t._toppaper.append("g").classed("zoomlayer",!0),t._hoverlayer=t._hoverpaper.append("g").classed("hoverlayer",!0),t._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),e.emit("plotly_framework")}Nn.animate=s2e;Nn.addFrames=f2e;Nn.deleteFrames=u2e;Nn.addTraces=Xz;Nn.deleteTraces=jz;Nn.extendTraces=Yz;Nn.moveTraces=mT;Nn.prependTraces=Wz;Nn.newPlot=jme;Nn._doPlot=Vme;Nn.purge=c2e;Nn.react=i2e;Nn.redraw=Xme;Nn.relayout=Dy;Nn.restyle=tb;Nn.setPlotConfig=Yme;Nn.update=ab;Nn._guiRelayout=xT(Dy);Nn._guiRestyle=xT(tb);Nn._guiUpdate=xT(ab);Nn._storeDirectGUIEdit=Kme});var xv=fe(au=>{"use strict";var d2e=Qt();au.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("mapbox")||e._has("map"))?500:0};au.getRedrawFunc=function(e){return function(){d2e.getComponentMethod("colorbar","draw")(e)}};au.encodeSVG=function(e){return"data:image/svg+xml,"+encodeURIComponent(e)};au.encodeJSON=function(e){return"data:application/json,"+encodeURIComponent(e)};var rq=window.URL||window.webkitURL;au.createObjectURL=function(e){return rq.createObjectURL(e)};au.revokeObjectURL=function(e){return rq.revokeObjectURL(e)};au.createBlob=function(e,r){if(r==="svg")return new window.Blob([e],{type:"image/svg+xml;charset=utf-8"});if(r==="full-json")return new window.Blob([e],{type:"application/json;charset=utf-8"});var t=p2e(window.atob(e));return new window.Blob([t],{type:"image/"+r})};au.octetStream=function(e){document.location.href="data:application/octet-stream"+e};function p2e(e){for(var r=e.length,t=new ArrayBuffer(r),n=new Uint8Array(t),a=0;a<r;a++)n[a]=e.charCodeAt(a);return t}au.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/});var sb=fe((ENe,tq)=>{"use strict";var wT=Ln(),TNe=tt(),g2e=ta(),y2e=xn(),MNe=f0(),_T=/"/g,Py="TOBESTRIPPED",m2e=new RegExp('("'+Py+")|("+Py+'")',"g");function x2e(e){var r=wT.select("body").append("div").style({display:"none"}).html(""),t=e.replace(/(&[^;]*;)/gi,function(n){return n==="&lt;"?"&#60;":n==="&rt;"?"&#62;":n.indexOf("<")!==-1||n.indexOf(">")!==-1?"":r.html(n).text()});return r.remove(),t}function b2e(e){return e.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}tq.exports=function(r,t,n){var a=r._fullLayout,o=a._paper,i=a._toppaper,l=a.width,f=a.height,s;o.insert("rect",":first-child").call(g2e.setRect,0,0,l,f).call(y2e.fill,a.paper_bgcolor);var u=a._basePlotModules||[];for(s=0;s<u.length;s++){var c=u[s];c.toSVG&&c.toSVG(r)}if(i){var v=i.node().childNodes,x=Array.prototype.slice.call(v);for(s=0;s<x.length;s++){var m=x[s];m.childNodes.length&&o.node().appendChild(m)}}a._draggers&&a._draggers.remove(),o.node().style.background="",o.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var A=wT.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){A.remove();return}else A.style({visibility:null,display:null});var y=this.style.fontFamily;y&&y.indexOf('"')!==-1&&A.style("font-family",y.replace(_T,Py));var M=this.style.fontWeight;M&&(M==="normal"||M==="400")&&A.style("font-weight",void 0);var E=this.style.fontStyle;E&&E==="normal"&&A.style("font-style",void 0);var b=this.style.fontVariant;b&&b==="normal"&&A.style("font-variant",void 0)}),o.selectAll(".gradient_filled,.pattern_filled").each(function(){var A=wT.select(this),y=this.style.fill;y&&y.indexOf("url(")!==-1&&A.style("fill",y.replace(_T,Py));var M=this.style.stroke;M&&M.indexOf("url(")!==-1&&A.style("stroke",M.replace(_T,Py))}),(t==="pdf"||t==="eps")&&o.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),t==="svg"&&n&&(o.attr("width",n*l),o.attr("height",n*f),o.attr("viewBox","0 0 "+l+" "+f));var w=new window.XMLSerializer().serializeToString(o.node());return w=x2e(w),w=b2e(w),w=w.replace(m2e,"'"),w}});var fb=fe((SNe,nq)=>{"use strict";var _2e=tt(),w2e=n3().EventEmitter,Oy=xv();function A2e(e){var r=e.emitter||new w2e,t=new Promise(function(n,a){var o=window.Image,i=e.svg,l=e.format||"png",f=e.canvas,s=e.scale||1,u=e.width||300,c=e.height||150,v=s*u,x=s*c,m=f.getContext("2d",{willReadFrequently:!0}),w=new o,A,y;l==="svg"||_2e.isSafari()?y=Oy.encodeSVG(i):(A=Oy.createBlob(i,"svg"),y=Oy.createObjectURL(A)),f.width=v,f.height=x,w.onload=function(){var M;switch(A=null,Oy.revokeObjectURL(y),l!=="svg"&&m.drawImage(w,0,0,v,x),l){case"jpeg":M=f.toDataURL("image/jpeg");break;case"png":M=f.toDataURL("image/png");break;case"webp":M=f.toDataURL("image/webp");break;case"svg":M=y;break;default:var E="Image format is not jpeg, png, svg or webp.";if(a(new Error(E)),!e.promise)return r.emit("error",E)}n(M),e.promise||r.emit("success",M)},w.onerror=function(M){if(A=null,Oy.revokeObjectURL(y),a(M),!e.promise)return r.emit("error",M)},w.src=y});return e.promise?t:r}nq.exports=A2e});var TT=fe((CNe,oq)=>{"use strict";var aq=kn(),iq=bT(),T2e=ci(),iu=tt(),Ny=xv(),M2e=sb(),E2e=fb(),S2e=_2().version,AT={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function C2e(e,r){r=r||{};var t,n,a,o;iu.isPlainObject(e)?(t=e.data||[],n=e.layout||{},a=e.config||{},o={}):(e=iu.getGraphDiv(e),t=iu.extendDeep([],e.data),n=iu.extendDeep({},e.layout),a=e._context,o=e._fullLayout||{});function i(p){return!(p in r)||iu.validate(r[p],AT[p])}if(!i("width")&&r.width!==null||!i("height")&&r.height!==null)throw new Error("Height and width should be pixel values.");if(!i("format"))throw new Error("Export format is not "+iu.join2(AT.format.values,", "," or ")+".");var l={};function f(p,_){return iu.coerce(r,l,AT,p,_)}var s=f("format"),u=f("width"),c=f("height"),v=f("scale"),x=f("setBackground"),m=f("imageDataOnly"),w=document.createElement("div");w.style.position="absolute",w.style.left="-5000px",document.body.appendChild(w);var A=iu.extendFlat({},n);u?A.width=u:r.width===null&&aq(o.width)&&(A.width=o.width),c?A.height=c:r.height===null&&aq(o.height)&&(A.height=o.height);var y=iu.extendFlat({},a,{_exportedPlot:!0,staticPlot:!0,setBackground:x}),M=Ny.getRedrawFunc(w);function E(){return new Promise(function(p){setTimeout(p,Ny.getDelay(w._fullLayout))})}function b(){return new Promise(function(p,_){var g=M2e(w,s,v),h=w._fullLayout.width,S=w._fullLayout.height;function d(){iq.purge(w),document.body.removeChild(w)}if(s==="full-json"){var R=T2e.graphJson(w,!1,"keepdata","object",!0,!0);return R.version=S2e,R=JSON.stringify(R),d(),p(m?R:Ny.encodeJSON(R))}if(d(),s==="svg")return p(m?g:Ny.encodeSVG(g));var L=document.createElement("canvas");L.id=iu.randstr(),E2e({format:s,width:h,height:S,scale:v,canvas:L,svg:g,promise:!0}).then(p).catch(_)})}function T(p){return m?p.replace(Ny.IMAGE_URL_PREFIX,""):p}return new Promise(function(p,_){iq.newPlot(w,t,A,y).then(M).then(E).then(b).then(function(g){p(T(g))}).catch(function(g){_(g)})})}oq.exports=C2e});var fq=fe((kNe,sq)=>{"use strict";var As=tt(),k2e=ci(),L2e=jd(),R2e=Uh().dfltConfig,ff=As.isPlainObject,_v=Array.isArray,MT=As.isArrayOrTypedArray;sq.exports=function(r,t){r===void 0&&(r=[]),t===void 0&&(t={});var n=L2e.get(),a=[],o={_context:As.extendFlat({},R2e)},i,l;_v(r)?(o.data=As.extendDeep([],r),i=r):(o.data=[],i=[],a.push(Bi("array","data"))),ff(t)?(o.layout=As.extendDeep({},t),l=t):(o.layout={},l={},arguments.length>1&&a.push(Bi("object","layout"))),k2e.supplyDefaults(o);for(var f=o._fullData,s=i.length,u=0;u<s;u++){var c=i[u],v=["data",u];if(!ff(c)){a.push(Bi("object",v));continue}var x=f[u],m=x.type,w=n.traces[m].attributes;w.type={valType:"enumerated",values:[m]},x.visible===!1&&c.visible!==!1&&a.push(Bi("invisible",v)),ub(c,x,w,a,v)}var A=o._fullLayout,y=F2e(n,f);return ub(l,A,y,a,"layout"),a.length===0?void 0:a};function ub(e,r,t,n,a,o){o=o||[];for(var i=Object.keys(e),l=0;l<i.length;l++){var f=i[l],s=o.slice();s.push(f);var u=e[f],c=r[f],v=P2e(t,f),x=(v||{}).valType,m=x==="info_array",w=x==="colorscale",A=(v||{}).items;if(!I2e(t,f))n.push(Bi("schema",a,s));else if(ff(u)&&ff(c)&&x!=="any")ub(u,c,v,n,a,s);else if(m&&_v(u)){u.length>c.length&&n.push(Bi("unused",a,s.concat(c.length)));var y=c.length,M=Array.isArray(A);M&&(y=Math.min(y,A.length));var E,b,T,p,_;if(v.dimensions===2)for(b=0;b<y;b++)if(_v(u[b])){u[b].length>c[b].length&&n.push(Bi("unused",a,s.concat(b,c[b].length)));var g=c[b].length;for(E=0;E<(M?Math.min(g,A[b].length):g);E++)T=M?A[b][E]:A,p=u[b][E],_=c[b][E],As.validate(p,T)?_!==p&&_!==+p&&n.push(Bi("dynamic",a,s.concat(b,E),p,_)):n.push(Bi("value",a,s.concat(b,E),p))}else n.push(Bi("array",a,s.concat(b),u[b]));else for(b=0;b<y;b++)T=M?A[b]:A,p=u[b],_=c[b],As.validate(p,T)?_!==p&&_!==+p&&n.push(Bi("dynamic",a,s.concat(b),p,_)):n.push(Bi("value",a,s.concat(b),p))}else if(v.items&&!m&&_v(u)){var h=A[Object.keys(A)[0]],S=[],d,R;for(d=0;d<c.length;d++){var L=c[d]._index||d;if(R=s.slice(),R.push(L),ff(u[L])&&ff(c[d])){S.push(L);var F=u[L],O=c[d];ff(F)&&F.visible!==!1&&O.visible===!1?n.push(Bi("invisible",a,R)):ub(F,O,h,n,a,R)}}for(d=0;d<u.length;d++)R=s.slice(),R.push(d),ff(u[d])?S.indexOf(d)===-1&&n.push(Bi("unused",a,R)):n.push(Bi("object",a,R,u[d]))}else!ff(u)&&ff(c)?n.push(Bi("object",a,s,u)):!MT(u)&&MT(c)&&!m&&!w?n.push(Bi("array",a,s,u)):f in r?As.validate(u,v)?v.valType==="enumerated"&&(v.coerceNumber&&u!==+c||!MT(u)&&u!==c||String(u)!==String(c))&&n.push(Bi("dynamic",a,s,u,c)):n.push(Bi("value",a,s,u)):n.push(Bi("unused",a,s,u))}return n}function F2e(e,r){for(var t=e.layout.layoutAttributes,n=0;n<r.length;n++){var a=r[n],o=e.traces[a.type],i=o.layoutAttributes;i&&(a.subplot?As.extendFlat(t[o.attributes.subplot.dflt],i):As.extendFlat(t,i))}return t}var D2e={object:function(e,r){var t;return e==="layout"&&r===""?t="The layout argument":e[0]==="data"&&r===""?t="Trace "+e[1]+" in the data argument":t=bv(e)+"key "+r,t+" must be linked to an object container"},array:function(e,r){var t;return e==="data"?t="The data argument":t=bv(e)+"key "+r,t+" must be linked to an array container"},schema:function(e,r){return bv(e)+"key "+r+" is not part of the schema"},unused:function(e,r,t){var n=ff(t)?"container":"key";return bv(e)+n+" "+r+" did not get coerced"},dynamic:function(e,r,t,n){return[bv(e)+"key",r,"(set to '"+t+"')","got reset to","'"+n+"'","during defaults."].join(" ")},invisible:function(e,r){return(r?bv(e)+"item "+r:"Trace "+e[1])+" got defaulted to be not visible"},value:function(e,r,t){return[bv(e)+"key "+r,"is set to an invalid value ("+t+")"].join(" ")}};function bv(e){return _v(e)?"In data trace "+e[1]+", ":"In "+e+", "}function Bi(e,r,t,n,a){t=t||"";var o,i;_v(r)?(o=r[0],i=r[1]):(o=r,i=null);var l=N2e(t),f=D2e[e](r,l,n,a);return As.log(f),{code:e,container:o,trace:i,path:t,astr:l,msg:f}}function I2e(e,r){var t=lq(r),n=t.keyMinusId,a=t.id;return n in e&&e[n]._isSubplotObj&&a?!0:r in e}function P2e(e,r){if(r in e)return e[r];var t=lq(r);return e[t.keyMinusId]}var O2e=As.counterRegex("([a-z]+)");function lq(e){var r=e.match(O2e);return{keyMinusId:r&&r[1],id:r&&r[2]}}function N2e(e){if(!_v(e))return String(e);for(var r="",t=0;t<e.length;t++){var n=e[t];typeof n=="number"?r=r.substr(0,r.length-1)+"["+n+"]":r+=n,t<e.length-1&&(r+=".")}return r}});var cq=fe((LNe,uq)=>{"use strict";var B2e=tt(),cb=xv();function z2e(e,r,t){var n=document.createElement("a"),a="download"in n,o=new Promise(function(i,l){var f,s;if(a)return f=cb.createBlob(e,t),s=cb.createObjectURL(f),n.href=s,n.download=r,document.body.appendChild(n),n.click(),document.body.removeChild(n),cb.revokeObjectURL(s),f=null,i(r);if(B2e.isSafari()){var u=t==="svg"?",":";base64,";return cb.octetStream(u+encodeURIComponent(e)),i(r)}l(new Error("download error"))});return o}uq.exports=z2e});var ET=fe((FNe,vq)=>{"use strict";var hq=tt(),q2e=TT(),U2e=cq(),RNe=xv();function G2e(e,r){var t;return hq.isPlainObject(e)||(t=hq.getGraphDiv(e)),r=r||{},r.format=r.format||"png",r.width=r.width||null,r.height=r.height||null,r.imageDataOnly=!0,new Promise(function(n,a){t&&t._snapshotInProgress&&a(new Error("Snapshotting already in progress.")),t&&(t._snapshotInProgress=!0);var o=q2e(e,r),i=r.filename||e.fn||"newplot";i+="."+r.format.replace("-","."),o.then(function(l){return t&&(t._snapshotInProgress=!1),U2e(l,i,r.format)}).then(function(l){n(l)}).catch(function(l){t&&(t._snapshotInProgress=!1),a(l)})})}vq.exports=G2e});var mq=fe(ST=>{"use strict";var wl=tt(),Al=wl.isPlainObject,dq=jd(),pq=ci(),H2e=ul(),gq=da(),yq=Uh().dfltConfig;ST.makeTemplate=function(e){e=wl.isPlainObject(e)?e:wl.getGraphDiv(e),e=wl.extendDeep({_context:yq},{data:e.data,layout:e.layout}),pq.supplyDefaults(e);var r=e.data||[],t=e.layout||{};t._basePlotModules=e._fullLayout._basePlotModules,t._modules=e._fullLayout._modules;var n={data:{},layout:{}};r.forEach(function(x){var m={};By(x,m,Y2e.bind(null,x));var w=wl.coerce(x,{},H2e,"type"),A=n.data[w];A||(A=n.data[w]=[]),A.push(m)}),By(t,n.layout,V2e.bind(null,t)),delete n.layout.template;var a=t.template;if(Al(a)){var o=a.layout,i,l,f,s,u,c;Al(o)&&hb(o,n.layout);var v=a.data;if(Al(v)){for(l in n.data)if(f=v[l],Array.isArray(f)){for(u=n.data[l],c=u.length,s=f.length,i=0;i<c;i++)hb(f[i%s],u[i]);for(i=c;i<s;i++)u.push(wl.extendDeep({},f[i]))}for(l in v)l in n.data||(n.data[l]=wl.extendDeep([],v[l]))}}return n};function hb(e,r){e=wl.extendDeep({},e);var t=Object.keys(e).sort(),n,a;function o(u,c,v){if(Al(c)&&Al(u))hb(u,c);else if(Array.isArray(c)&&Array.isArray(u)){var x=gq.arrayTemplater({_template:e},v);for(a=0;a<c.length;a++){var m=c[a],w=x.newItem(m)._template;w&&hb(w,m)}var A=x.defaultItems();for(a=0;a<A.length;a++)c.push(A[a]._template);for(a=0;a<c.length;a++)delete c[a].templateitemname}}for(n=0;n<t.length;n++){var i=t[n],l=e[i];if(i in r?o(l,r[i],i):r[i]=l,vb(i)===i)for(var f in r){var s=vb(f);f!==s&&s===i&&!(f in e)&&o(l,r[f],i)}}}function vb(e){return e.replace(/[0-9]+$/,"")}function By(e,r,t,n,a){var o=a&&t(a);for(var i in e){var l=e[i],f=Ts(e,i,n),s=Ts(e,i,a),u=t(s);if(!u){var c=vb(i);c!==i&&(s=Ts(e,c,a),u=t(s))}if(!(o&&o===u)&&!(!u||u._noTemplating||u.valType==="data_array"||u.arrayOk&&Array.isArray(l)))if(!u.valType&&Al(l))By(l,r,t,f,s);else if(u._isLinkedToArray&&Array.isArray(l))for(var v=!1,x=0,m={},w=0;w<l.length;w++){var A=l[w];if(Al(A)){var y=A.name;if(y)m[y]||(By(A,r,t,Ts(l,x,f),Ts(l,x,s)),x++,m[y]=1);else if(!v){var M=gq.arrayDefaultKey(i),E=Ts(e,M,n),b=Ts(l,x,f);By(A,r,t,b,Ts(l,x,s));var T=wl.nestedProperty(r,b),p=wl.nestedProperty(r,E);p.set(T.get()),T.set(null),v=!0}}}else{var _=wl.nestedProperty(r,f);_.set(l)}}}function V2e(e,r){return dq.getLayoutValObject(e,wl.nestedProperty({},r).parts)}function Y2e(e,r){return dq.getTraceValObject(e,wl.nestedProperty({},r).parts)}function Ts(e,r,t){var n;return t?Array.isArray(e)?n=t+"["+r+"]":n=t+"."+r:n=r,n}ST.validateTemplate=function(e,r){var t=wl.extendDeep({},{_context:yq,data:e.data,layout:e.layout}),n=t.layout||{};Al(r)||(r=n.template||{});var a=r.layout,o=r.data,i=[];t.layout=n,t.layout.template=r,pq.supplyDefaults(t);var l=t._fullLayout,f=t._fullData,s={};function u(E,b){for(var T in E)if(T.charAt(0)!=="_"&&Al(E[T])){var p=vb(T),_=[],g;for(g=0;g<b.length;g++)_.push(Ts(E,T,b[g])),p!==T&&_.push(Ts(E,p,b[g]));for(g=0;g<_.length;g++)s[_[g]]=1;u(E[T],_)}}function c(E,b){for(var T in E)if(T.indexOf("defaults")===-1&&Al(E[T])){var p=Ts(E,T,b);s[p]?c(E[T],p):i.push({code:"unused",path:p})}}if(Al(a)?(u(l,["layout"]),c(a,"layout")):i.push({code:"layout"}),!Al(o))i.push({code:"data"});else{for(var v={},x,m=0;m<f.length;m++){var w=f[m];x=w.type,v[x]=(v[x]||0)+1,w._fullInput._template||i.push({code:"missing",index:w.index,traceType:x})}for(x in o){var A=o[x].length,y=v[x]||0;A>y?i.push({code:"unused",traceType:x,templateCount:A,dataCount:y}):y>A&&i.push({code:"reused",traceType:x,templateCount:A,dataCount:y})}}function M(E,b){for(var T in E)if(T.charAt(0)!=="_"){var p=E[T],_=Ts(E,T,b);Al(p)?(Array.isArray(E)&&p._template===!1&&p.templateitemname&&i.push({code:"missing",path:_,templateitemname:p.templateitemname}),M(p,_)):Array.isArray(p)&&W2e(p)&&M(p,_)}}if(M({data:f,layout:l},""),i.length)return i.map(X2e)};function W2e(e){for(var r=0;r<e.length;r++)if(Al(e[r]))return!0}function X2e(e){var r;switch(e.code){case"data":r="The template has no key data.";break;case"layout":r="The template has no key layout.";break;case"missing":e.path?r="There are no templates for item "+e.path+" with name "+e.templateitemname:r="There are no templates for trace "+e.index+", of type "+e.traceType+".";break;case"unused":e.path?r="The template item at "+e.path+" was not used in constructing the plot.":e.dataCount?r="Some of the templates of type "+e.traceType+" were not used. The template has "+e.templateCount+" traces, the data only has "+e.dataCount+" of this type.":r="The template has "+e.templateCount+" traces of type "+e.traceType+" but there are none in the data.";break;case"reused":r="Some of the templates of type "+e.traceType+" were used more than once. The template has "+e.templateCount+" traces, the data has "+e.dataCount+" of this type.";break}return e.msg=r,e}});var bq=fe(La=>{"use strict";var Ti=bT();La._doPlot=Ti._doPlot;La.newPlot=Ti.newPlot;La.restyle=Ti.restyle;La.relayout=Ti.relayout;La.redraw=Ti.redraw;La.update=Ti.update;La._guiRestyle=Ti._guiRestyle;La._guiRelayout=Ti._guiRelayout;La._guiUpdate=Ti._guiUpdate;La._storeDirectGUIEdit=Ti._storeDirectGUIEdit;La.react=Ti.react;La.extendTraces=Ti.extendTraces;La.prependTraces=Ti.prependTraces;La.addTraces=Ti.addTraces;La.deleteTraces=Ti.deleteTraces;La.moveTraces=Ti.moveTraces;La.purge=Ti.purge;La.addFrames=Ti.addFrames;La.deleteFrames=Ti.deleteFrames;La.animate=Ti.animate;La.setPlotConfig=Ti.setPlotConfig;var j2e=Cg().getGraphDiv,Z2e=Mx().eraseActiveShape;La.deleteActiveShape=function(e){return Z2e(j2e(e))};La.toImage=TT();La.validate=fq();La.downloadImage=ET();var xq=mq();La.makeTemplate=xq.makeTemplate;La.validateTemplate=xq.validateTemplate});var db=fe((PNe,_q)=>{"use strict";var CT=tt(),$2e=Qt();_q.exports=function(r,t,n,a){var o=a("x"),i=a("y"),l,f=$2e.getComponentMethod("calendars","handleTraceDefaults");if(f(r,t,["x","y"],n),o){var s=CT.minRowLength(o);i?l=Math.min(s,CT.minRowLength(i)):(l=s,a("y0"),a("dy"))}else{if(!i)return 0;l=CT.minRowLength(i),a("x0"),a("dx")}return t._length=l,l}});var pb=fe((ONe,Tq)=>{"use strict";var wq=tt().dateTick0,J2e=ui(),K2e=J2e.ONEWEEK;function Aq(e,r){return e%K2e===0?wq(r,1):wq(r,0)}Tq.exports=function(r,t,n,a,o){if(o||(o={x:!0,y:!0}),o.x){var i=a("xperiod");i&&(a("xperiod0",Aq(i,t.xcalendar)),a("xperiodalignment"))}if(o.y){var l=a("yperiod");l&&(a("yperiod0",Aq(l,t.ycalendar)),a("yperiodalignment"))}}});var Sq=fe((NNe,Eq)=>{"use strict";var Mq=["orientation","groupnorm","stackgaps"];Eq.exports=function(r,t,n,a){var o=n._scatterStackOpts,i=a("stackgroup");if(i){var l=t.xaxis+t.yaxis,f=o[l];f||(f=o[l]={});var s=f[i],u=!1;s?s.traces.push(t):(s=f[i]={traceIndices:[],traces:[t]},u=!0);for(var c={orientation:t.x&&!t.y?"h":"v"},v=0;v<Mq.length;v++){var x=Mq[v],m=x+"Found";if(!s[m]){var w=r[x]!==void 0,A=x==="orientation";if((w||u)&&(s[x]=a(x,c[x]),A&&(s.fillDflt=s[x]==="h"?"tonextx":"tonexty"),w&&(s[m]=!0,!u&&(delete s.traces[0][x],A))))for(var y=0;y<s.traces.length-1;y++){var M=s.traces[y];M._input.fill!==M.fill&&(M.fill=s.fillDflt)}}}return s}}});var gb=fe((BNe,Rq)=>{"use strict";var Cq=xn(),kq=ef().hasColorscale,Lq=Qd(),Q2e=Ki();Rq.exports=function(r,t,n,a,o,i){var l=Q2e.isBubble(r),f=(r.line||{}).color,s;if(i=i||{},f&&(n=f),o("marker.symbol"),o("marker.opacity",l?.7:1),o("marker.size"),i.noAngle||(o("marker.angle"),i.noAngleRef||o("marker.angleref"),i.noStandOff||o("marker.standoff")),o("marker.color",n),kq(r,"marker")&&Lq(r,t,a,o,{prefix:"marker.",cLetter:"c"}),i.noSelect||(o("selected.marker.color"),o("unselected.marker.color"),o("selected.marker.size"),o("unselected.marker.size")),i.noLine||(f&&!Array.isArray(f)&&t.marker.color!==f?s=f:l?s=Cq.background:s=Cq.defaultLine,o("marker.line.color",s),kq(r,"marker.line")&&Lq(r,t,a,o,{prefix:"marker.line.",cLetter:"c"}),o("marker.line.width",l?1:0)),l&&(o("marker.sizeref"),o("marker.sizemin"),o("marker.sizemode")),i.gradient){var u=o("marker.gradient.type");u!=="none"&&o("marker.gradient.color")}}});var yb=fe((zNe,Fq)=>{"use strict";var e3e=tt().isArrayOrTypedArray,r3e=ef().hasColorscale,t3e=Qd();Fq.exports=function(r,t,n,a,o,i){i||(i={});var l=(r.marker||{}).color;if(l&&l._inputArray&&(l=l._inputArray),o("line.color",n),r3e(r,"line"))t3e(r,t,a,o,{prefix:"line.",cLetter:"c"});else{var f=(e3e(l)?!1:l)||n;o("line.color",f)}o("line.width"),i.noDash||o("line.dash"),i.backoff&&o("line.backoff")}});var Iq=fe((qNe,Dq)=>{"use strict";Dq.exports=function(r,t,n){var a=n("line.shape");a==="spline"&&n("line.smoothing")}});var mb=fe((UNe,Pq)=>{"use strict";var n3e=tt();Pq.exports=function(e,r,t,n,a){a=a||{},n("textposition"),n3e.coerceFont(n,"textfont",a.font||t.font,a),a.noSelect||(n("selected.textfont.color"),n("unselected.textfont.color"))}});var kT=fe((GNe,Nq)=>{"use strict";var xb=xn(),Oq=tt().isArrayOrTypedArray;function a3e(e){for(var r=xb.interpolate(e[0][1],e[1][1],.5),t=2;t<e.length;t++){var n=xb.interpolate(e[t-1][1],e[t][1],.5);r=xb.interpolate(r,n,e[t-1][0]/e[t][0])}return r}Nq.exports=function(r,t,n,a,o){o||(o={});var i=!1;if(t.marker){var l=t.marker.color,f=(t.marker.line||{}).color;l&&!Oq(l)?i=l:f&&!Oq(f)&&(i=f)}var s;if(o.moduleHasFillgradient){var u=a("fillgradient.type");if(u!=="none"){a("fillgradient.start"),a("fillgradient.stop");var c=a("fillgradient.colorscale");c&&(s=a3e(c))}}a("fillcolor",xb.addOpacity((t.line||{}).color||i||s||n,.5))}});var Uq=fe((HNe,qq)=>{"use strict";var Bq=tt(),i3e=Qt(),o3e=nc(),l3e=Ey(),E1=Ki(),s3e=db(),f3e=pb(),u3e=Sq(),c3e=gb(),h3e=yb(),zq=Iq(),v3e=mb(),d3e=kT(),p3e=tt().coercePattern;qq.exports=function(r,t,n,a){function o(x,m){return Bq.coerce(r,t,o3e,x,m)}var i=s3e(r,t,a,o);if(i||(t.visible=!1),!!t.visible){f3e(r,t,a,o),o("xhoverformat"),o("yhoverformat"),o("zorder");var l=u3e(r,t,a,o);a.scattermode==="group"&&t.orientation===void 0&&o("orientation","v");var f=!l&&i<l3e.PTS_LINESONLY?"lines+markers":"lines";o("text"),o("hovertext"),o("mode",f),E1.hasMarkers(t)&&c3e(r,t,n,a,o,{gradient:!0}),E1.hasLines(t)&&(h3e(r,t,n,a,o,{backoff:!0}),zq(r,t,o),o("connectgaps"),o("line.simplify")),E1.hasText(t)&&(o("texttemplate"),v3e(r,t,a,o));var s=[];(E1.hasMarkers(t)||E1.hasText(t))&&(o("cliponaxis"),o("marker.maxdisplayed"),s.push("points")),o("fill",l?l.fillDflt:"none"),t.fill!=="none"&&(d3e(r,t,n,o,{moduleHasFillgradient:!0}),E1.hasLines(t)||zq(r,t,o),p3e(o,"fillpattern",t.fillcolor,!1));var u=(t.line||{}).color,c=(t.marker||{}).color;(t.fill==="tonext"||t.fill==="toself")&&s.push("fills"),o("hoveron",s.join("+")||"points"),(t.hoveron!=="fills"||t.mode==="lines")&&o("hovertemplate");var v=i3e.getComponentMethod("errorbars","supplyDefaults");v(r,t,u||c||n,{axis:"y"}),v(r,t,u||c||n,{axis:"x",inherit:"y"}),Bq.coerceSelectionMarkerOpacity(t,o)}}});var LT=fe((VNe,Gq)=>{"use strict";var g3e=fy().getAxisGroup;Gq.exports=function(r,t,n,a,o){var i=t.orientation,l=t[{v:"x",h:"y"}[i]+"axis"],f=g3e(n,l)+i,s=n._alignmentOpts||{},u=a("alignmentgroup"),c=s[f];c||(c=s[f]={});var v=c[u];v?v.traces.push(t):v=c[u]={traces:[t],alignmentIndex:Object.keys(c).length,offsetGroups:{}};var x=a("offsetgroup")||"",m=v.offsetGroups,w=m[x];t._offsetIndex=0,(o!=="group"||x)&&(w||(w=m[x]={offsetIndex:Object.keys(m).length}),t._offsetIndex=w.offsetIndex)}});var RT=fe((YNe,Hq)=>{"use strict";var y3e=tt(),m3e=LT(),x3e=nc();Hq.exports=function(r,t){var n,a,o,i=t.scattermode;function l(v){return y3e.coerce(a._input,a,x3e,v)}if(t.scattermode==="group")for(o=0;o<r.length;o++)a=r[o],a.type==="scatter"&&(n=a._input,m3e(n,a,t,l,i));for(o=0;o<r.length;o++){var f=r[o];if(f.type==="scatter"){var s=f.fill;if(!(s==="none"||s==="toself")&&(f.opacity=void 0,s==="tonexty"||s==="tonextx"))for(var u=o-1;u>=0;u--){var c=r[u];if(c.type==="scatter"&&c.xaxis===f.xaxis&&c.yaxis===f.yaxis){c.opacity=void 0;break}}}}}});var Yq=fe((WNe,Vq)=>{"use strict";var b3e=tt(),_3e=s3();Vq.exports=function(e,r){function t(a,o){return b3e.coerce(e,r,_3e,a,o)}var n=r.barmode==="group";r.scattermode==="group"&&t("scattergap",n?r.bargap:.2)}});var FT=fe((XNe,Xq)=>{"use strict";var w3e=kn(),Wq=tt(),A3e=Wq.dateTime2ms,bb=Wq.incrementMonth,T3e=ui(),M3e=T3e.ONEAVGMONTH;Xq.exports=function(r,t,n,a){if(t.type!=="date")return{vals:a};var o=r[n+"periodalignment"];if(!o)return{vals:a};var i=r[n+"period"],l;if(w3e(i)){if(i=+i,i<=0)return{vals:a}}else if(typeof i=="string"&&i.charAt(0)==="M"){var f=+i.substring(1);if(f>0&&Math.round(f)===f)l=f;else return{vals:a}}for(var s=t.calendar,u=o==="start",c=o==="end",v=r[n+"period0"],x=A3e(v,s)||0,m=[],w=[],A=[],y=a.length,M=0;M<y;M++){var E=a[M],b,T,p;if(l){for(b=Math.round((E-x)/(l*M3e)),p=bb(x,l*b,s);p>E;)p=bb(p,-l,s);for(;p<=E;)p=bb(p,l,s);T=bb(p,-l,s)}else{for(b=Math.round((E-x)/i),p=x+b*i;p>E;)p-=i;for(;p<=E;)p+=i;T=p-i}m[M]=u?T:c?p:(T+p)/2,w[M]=T,A[M]=p}return{vals:m,starts:w,ends:A}}});var _b=fe((jNe,Zq)=>{"use strict";var DT=ef().hasColorscale,IT=rA(),jq=Ki();Zq.exports=function(r,t){jq.hasLines(t)&&DT(t,"line")&&IT(r,t,{vals:t.line.color,containerStr:"line",cLetter:"c"}),jq.hasMarkers(t)&&(DT(t,"marker")&&IT(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),DT(t,"marker.line")&&IT(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}});var wb=fe((ZNe,$q)=>{"use strict";var ja=tt();$q.exports=function(r,t){for(var n=0;n<r.length;n++)r[n].i=n;ja.mergeArray(t.text,r,"tx"),ja.mergeArray(t.texttemplate,r,"txt"),ja.mergeArray(t.hovertext,r,"htx"),ja.mergeArray(t.customdata,r,"data"),ja.mergeArray(t.textposition,r,"tp"),t.textfont&&(ja.mergeArrayCastPositive(t.textfont.size,r,"ts"),ja.mergeArray(t.textfont.color,r,"tc"),ja.mergeArray(t.textfont.family,r,"tf"),ja.mergeArray(t.textfont.weight,r,"tw"),ja.mergeArray(t.textfont.style,r,"ty"),ja.mergeArray(t.textfont.variant,r,"tv"),ja.mergeArray(t.textfont.textcase,r,"tC"),ja.mergeArray(t.textfont.lineposition,r,"tE"),ja.mergeArray(t.textfont.shadow,r,"tS"));var a=t.marker;if(a){ja.mergeArrayCastPositive(a.size,r,"ms"),ja.mergeArrayCastPositive(a.opacity,r,"mo"),ja.mergeArray(a.symbol,r,"mx"),ja.mergeArray(a.angle,r,"ma"),ja.mergeArray(a.standoff,r,"mf"),ja.mergeArray(a.color,r,"mc");var o=a.line;a.line&&(ja.mergeArray(o.color,r,"mlc"),ja.mergeArrayCastPositive(o.width,r,"mlw"));var i=a.gradient;i&&i.type!=="none"&&(ja.mergeArray(i.type,r,"mgt"),ja.mergeArray(i.color,r,"mgc"))}}});var Qq=fe(($Ne,Kq)=>{"use strict";var Jq=tt();Kq.exports=function(r,t){Jq.isArrayOrTypedArray(t.selectedpoints)&&Jq.tagSelected(r,t)}});var Ab=fe((JNe,oU)=>{"use strict";var eU=kn(),OT=tt(),zy=Fa(),rU=FT(),PT=ui().BADNUM,NT=Ki(),E3e=_b(),S3e=wb(),C3e=Qq();function k3e(e,r){var t=e._fullLayout,n=r._xA=zy.getFromId(e,r.xaxis||"x","x"),a=r._yA=zy.getFromId(e,r.yaxis||"y","y"),o=n.makeCalcdata(r,"x"),i=a.makeCalcdata(r,"y"),l=rU(r,n,"x",o),f=rU(r,a,"y",i),s=l.vals,u=f.vals,c=r._length,v=new Array(c),x=r.ids,m=BT(r,t,n,a),w=!1,A,y,M,E,b,T;aU(t,r);var p="x",_="y",g;if(m)OT.pushUnique(m.traceIndices,r.index),A=m.orientation==="v",A?(_="s",g="x"):(p="s",g="y"),b=m.stackgaps==="interpolate";else{var h=nU(r,c);tU(e,r,n,a,s,u,h)}var S=!!r.xperiodalignment,d=!!r.yperiodalignment;for(y=0;y<c;y++){var R=v[y]={},L=eU(s[y]),F=eU(u[y]);L&&F?(R[p]=s[y],R[_]=u[y],S&&(R.orig_x=o[y],R.xEnd=l.ends[y],R.xStart=l.starts[y]),d&&(R.orig_y=i[y],R.yEnd=f.ends[y],R.yStart=f.starts[y])):m&&(A?L:F)?(R[g]=A?s[y]:u[y],R.gap=!0,b?(R.s=PT,w=!0):R.s=0):R[p]=R[_]=PT,x&&(R.id=String(x[y]))}if(S3e(v,r),E3e(e,r),C3e(v,r),m){for(y=0;y<v.length;)v[y][g]===PT?v.splice(y,1):y++;if(OT.sort(v,function(k,D){return k[g]-D[g]||k.i-D.i}),w){for(y=0;y<v.length-1&&v[y].gap;)y++;for(T=v[y].s,T||(T=v[y].s=0),M=0;M<y;M++)v[M].s=T;for(E=v.length-1;E>y&&v[E].gap;)E--;for(T=v[E].s,M=v.length-1;M>E;M--)v[M].s=T;for(;y<E;)if(y++,v[y].gap){for(M=y+1;v[M].gap;)M++;for(var O=v[y-1][g],P=v[y-1].s,I=(v[M].s-P)/(v[M][g]-O);y<M;)v[y].s=P+(v[y][g]-O)*I,y++}}}return v}function tU(e,r,t,n,a,o,i){var l=r._length,f=e._fullLayout,s=t._id,u=n._id,c=f._firstScatter[iU(r)]===r.uid,v=(BT(r,f,t,n)||{}).orientation,x=r.fill;t._minDtick=0,n._minDtick=0;var m={padded:!0},w={padded:!0};i&&(m.ppad=w.ppad=i);var A=l<2||a[0]!==a[l-1]||o[0]!==o[l-1];A&&(x==="tozerox"||x==="tonextx"&&(c||v==="h"))?m.tozero=!0:!(r.error_y||{}).visible&&(x==="tonexty"||x==="tozeroy"||!NT.hasMarkers(r)&&!NT.hasText(r))&&(m.padded=!1,m.ppad=0),A&&(x==="tozeroy"||x==="tonexty"&&(c||v==="v"))?w.tozero=!0:(x==="tonextx"||x==="tozerox")&&(w.padded=!1),s&&(r._extremes[s]=zy.findExtremes(t,a,m)),u&&(r._extremes[u]=zy.findExtremes(n,o,w))}function nU(e,r){if(NT.hasMarkers(e)){var t=e.marker,n=1.6*(e.marker.sizeref||1),a;if(e.marker.sizemode==="area"?a=function(s){return Math.max(Math.sqrt((s||0)/n),3)}:a=function(s){return Math.max((s||0)/n,3)},OT.isArrayOrTypedArray(t.size)){var o={type:"linear"};zy.setConvert(o);for(var i=o.makeCalcdata(e.marker,"size"),l=new Array(r),f=0;f<r;f++)l[f]=a(i[f]);return l}else return a(t.size)}}function aU(e,r){var t=iU(r),n=e._firstScatter;n[t]||(n[t]=r.uid)}function iU(e){var r=e.stackgroup;return e.xaxis+e.yaxis+e.type+(r?"-"+r:"")}function BT(e,r,t,n){var a=e.stackgroup;if(a){var o=r._scatterStackOpts[t._id+n._id][a],i=o.orientation==="v"?n:t;if(i.type==="linear"||i.type==="log")return o}}oU.exports={calc:k3e,calcMarkerSize:nU,calcAxisExpansion:tU,setFirstScatter:aU,getStackOpts:BT}});var sU=fe((KNe,lU)=>{"use strict";lU.exports=Tb;var L3e=tt().distinctVals;function Tb(e,r){this.traces=e,this.sepNegVal=r.sepNegVal,this.overlapNoMerge=r.overlapNoMerge;for(var t=1/0,n=r.posAxis._id.charAt(0),a=[],o=0;o<e.length;o++){for(var i=e[o],l=0;l<i.length;l++){var f=i[l],s=f.p;s===void 0&&(s=f[n]),s!==void 0&&a.push(s)}i[0]&&i[0].width1&&(t=Math.min(i[0].width1,t))}this.positions=a;var u=L3e(a);this.distinctPositions=u.vals,u.vals.length===1&&t!==1/0?this.minDiff=t:this.minDiff=Math.min(u.minDiff,t);var c=(r.posAxis||{}).type;(c==="category"||c==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}Tb.prototype.put=function(r,t,n){var a=this.getLabel(r,t,n),o=this.bins[a]||0;return this.bins[a]=o+n,o};Tb.prototype.get=function(r,t,n){var a=this.getLabel(r,t,n);return this.bins[a]||0};Tb.prototype.getLabel=function(r,t,n){var a=n<0&&this.sepNegVal?"v":"^",o=this.overlapNoMerge?r:Math.round(r/this.binWidth);return a+o+"g"+t}});var vU=fe((QNe,hU)=>{"use strict";var Ms=kn(),A0=tt().isArrayOrTypedArray,S1=ui().BADNUM,R3e=Qt(),qy=Fa(),F3e=fy().getAxisGroup,Mb=sU();function D3e(e,r){for(var t=r.xaxis,n=r.yaxis,a=e._fullLayout,o=e._fullData,i=e.calcdata,l=[],f=[],s=0;s<o.length;s++){var u=o[s];if(u.visible===!0&&R3e.traceIs(u,"bar")&&u.xaxis===t._id&&u.yaxis===n._id&&(u.orientation==="h"?l.push(i[s]):f.push(i[s]),u._computePh))for(var c=e.calcdata[s],v=0;v<c.length;v++)typeof c[v].ph0=="function"&&(c[v].ph0=c[v].ph0()),typeof c[v].ph1=="function"&&(c[v].ph1=c[v].ph1())}var x={xCat:t.type==="category"||t.type==="multicategory",yCat:n.type==="category"||n.type==="multicategory",mode:a.barmode,norm:a.barnorm,gap:a.bargap,groupgap:a.bargroupgap};qT(e,t,n,f,x),qT(e,n,t,l,x)}function qT(e,r,t,n,a){if(n.length){var o,i,l,f,s;switch(O3e(t,n),a.mode){case"overlay":zT(e,r,t,n,a);break;case"group":for(o=[],i=[],l=0;l<n.length;l++)f=n[l],s=f[0].trace,s.offset===void 0?i.push(f):o.push(f);i.length&&N3e(e,r,t,i,a),o.length&&zT(e,r,t,o,a);break;case"stack":case"relative":for(o=[],i=[],l=0;l<n.length;l++)f=n[l],s=f[0].trace,s.base===void 0?i.push(f):o.push(f);P3e(i),i.length&&B3e(e,r,t,i,a),o.length&&zT(e,r,t,o,a);break}I3e(n),V3e(n,r)}}function I3e(e){var r,t,n,a,o,i,l;for(r=0;r<e.length;r++)t=e[r],n=t[0].trace,a=t[0].t,a.cornerradiusvalue===void 0&&(o=n.marker?n.marker.cornerradius:void 0,o!==void 0&&(i=Ms(o)?+o:+o.slice(0,-1),l=Ms(o)?"px":"%",a.cornerradiusvalue=i,a.cornerradiusform=l))}function P3e(e){if(!(e.length<2)){var r,t,n,a,o,i,l;for(r=0;r<e.length&&(t=e[r],n=t[0].trace,o=n.marker?n.marker.cornerradius:void 0,o===void 0);r++);if(o!==void 0)for(i=Ms(o)?+o:+o.slice(0,-1),l=Ms(o)?"px":"%",r=0;r<e.length;r++)t=e[r],a=t[0].t,a.cornerradiusvalue=i,a.cornerradiusform=l}}function O3e(e,r){var t,n;for(t=0;t<r.length;t++){var a=r[t],o=a[0].trace,i=o.type==="funnel"?o._base:o.base,l,f=o.orientation==="h"?o.xcalendar:o.ycalendar,s=e.type==="category"||e.type==="multicategory"?function(){return null}:e.d2c;if(A0(i)){for(n=0;n<Math.min(i.length,a.length);n++)l=s(i[n],0,f),Ms(l)?(a[n].b=+l,a[n].hasB=1):a[n].b=0;for(;n<a.length;n++)a[n].b=0}else{l=s(i,0,f);var u=Ms(l);for(l=u?l:0,n=0;n<a.length;n++)a[n].b=l,u&&(a[n].hasB=1)}}}function zT(e,r,t,n,a){for(var o=0;o<n.length;o++){var i=n[o],l=new Mb([i],{posAxis:r,sepNegVal:!1,overlapNoMerge:!a.norm});UT(e,r,l,a),a.norm?(cU(l),GT(t,l,a)):uU(t,l)}}function N3e(e,r,t,n,a){var o=new Mb(n,{posAxis:r,sepNegVal:!1,overlapNoMerge:!a.norm});UT(e,r,o,a),G3e(o,r),a.norm?(cU(o),GT(t,o,a)):uU(t,o)}function B3e(e,r,t,n,a){var o=new Mb(n,{posAxis:r,sepNegVal:a.mode==="relative",overlapNoMerge:!(a.norm||a.mode==="stack"||a.mode==="relative")});UT(e,r,o,a),U3e(t,o,a);for(var i=0;i<n.length;i++)for(var l=n[i],f=l[0].t.offsetindex,s=0;s<l.length;s++){var u=l[s];if(u.s!==S1){var c=u.b+u.s===o.get(u.p,f,u.s);c&&(u._outmost=!0)}}a.norm&&GT(t,o,a)}function UT(e,r,t,n){var a=e._fullLayout,o=t.positions,i=t.distinctPositions,l=t.minDiff,f=t.traces,s=f.length,u=o.length!==i.length,c=l*(1-n.gap),v,x,m,w;if(r._id==="angularaxis")v=c,x=v*(1-(n.groupgap||0)),m=-x/2;else{var A=F3e(a,r._id)+f[0][0].trace.orientation;w=a._alignmentOpts[A]||{}}for(var y=0;y<s;y++){var M=f[y],E=M[0].trace;if(r._id!=="angularaxis"){var b=w[E.alignmentgroup]||{},T=Object.keys(b.offsetGroups||{}).length;T?v=c/T:v=u?c/s:c,x=v*(1-(n.groupgap||0)),T?m=((2*E._offsetIndex+1-T)*v-x)/2:m=u?((2*y+1-s)*v-x)/2:-x/2}var p=M[0].t;p.barwidth=x,p.offsetindex=E._offsetIndex||0,p.poffset=m,p.bargroupwidth=c,p.bardelta=l}t.binWidth=f[0][0].t.barwidth/100,z3e(t),q3e(r,t),r._id==="angularaxis"?fU(r,t):fU(r,t,u)}function z3e(e){var r=e.traces,t,n;for(t=0;t<r.length;t++){var a=r[t],o=a[0],i=o.trace,l=o.t,f=i._offset||i.offset,s=l.poffset,u;if(A0(f)){for(u=Array.prototype.slice.call(f,0,a.length),n=0;n<u.length;n++)Ms(u[n])||(u[n]=s);for(n=u.length;n<a.length;n++)u.push(s);l.poffset=u}else f!==void 0&&(l.poffset=f);var c=i._width||i.width,v=l.barwidth;if(A0(c)){var x=Array.prototype.slice.call(c,0,a.length);for(n=0;n<x.length;n++)Ms(x[n])||(x[n]=v);for(n=x.length;n<a.length;n++)x.push(v);if(l.barwidth=x,f===void 0){for(u=[],n=0;n<a.length;n++)u.push(s+(v-x[n])/2);l.poffset=u}}else c!==void 0&&(l.barwidth=c,f===void 0&&(l.poffset=s+(v-c)/2))}}function q3e(e,r){for(var t=r.traces,n=C1(e),a=0;a<t.length;a++)for(var o=t[a],i=o[0].t,l=i.poffset,f=A0(l),s=i.barwidth,u=A0(s),c=0;c<o.length;c++){var v=o[c],x=v.w=u?s[c]:s;v.p===void 0&&(v.p=v[n],v["orig_"+n]=v[n]);var m=(f?l[c]:l)+x/2;v[n]=v.p+m}}function fU(e,r,t){var n=r.traces,a=r.minDiff,o=a/2;qy.minDtick(e,r.minDiff,r.distinctPositions[0],t);for(var i=0;i<n.length;i++){var l=n[i],f=l[0],s=f.trace,u=[],c,v,x,m;for(m=0;m<l.length;m++)c=l[m],v=c.p-o,x=c.p+o,u.push(v,x);if(s.width||s.offset){var w=f.t,A=w.poffset,y=w.barwidth,M=A0(A),E=A0(y);for(m=0;m<l.length;m++){c=l[m];var b=M?A[m]:A,T=E?y[m]:y;v=c.p+b,x=v+T,u.push(v,x)}}s._extremes[e._id]=qy.findExtremes(e,u,{padded:!1})}}function uU(e,r){for(var t=r.traces,n=C1(e),a=0;a<t.length;a++){for(var o=t[a],i=o[0].trace,l=i.type==="scatter",f=i.orientation==="v",s=[],u=!1,c=0;c<o.length;c++){var v=o[c],x=l?0:v.b,m=l?f?v.y:v.x:x+v.s;v[n]=m,s.push(m),v.hasB&&s.push(x),(!v.hasB||!v.b)&&(u=!0)}i._extremes[e._id]=qy.findExtremes(e,s,{tozero:u,padded:!0})}}function U3e(e,r,t){var n=C1(e),a=r.traces,o,i,l,f,s,u,c;for(f=0;f<a.length;f++)if(o=a[f],i=o[0].trace,i.type==="funnel")for(c=o[0].t.offsetindex,s=0;s<o.length;s++)u=o[s],u.s!==S1&&r.put(u.p,c,-.5*u.s);for(f=0;f<a.length;f++){o=a[f],i=o[0].trace,l=i.type==="funnel",c=i.type==="barpolar"?0:o[0].t.offsetindex;var v=[];for(s=0;s<o.length;s++)if(u=o[s],u.s!==S1){var x;l?x=u.s:x=u.s+u.b;var m=r.put(u.p,c,x),w=m+x;u.b=m,u[n]=w,t.norm||(v.push(w),u.hasB&&v.push(m))}t.norm||(i._extremes[e._id]=qy.findExtremes(e,v,{tozero:!0,padded:!0}))}}function cU(e){for(var r=e.traces,t=0;t<r.length;t++)for(var n=r[t],a=n[0].t.offsetindex,o=0;o<n.length;o++){var i=n[o];i.s!==S1&&e.put(i.p,a,i.b+i.s)}}function G3e(e,r){for(var t=e.traces,n=0;n<t.length;n++){var a=t[n],o=a[0].trace,i=a[0].t.offsetindex;if(o.base===void 0)for(var l=new Mb([a],{posAxis:r,sepNegVal:!0,overlapNoMerge:!0}),f=0;f<a.length;f++){var s=a[f];if(s.p!==S1){var u=l.put(s.p,i,s.b+s.s);u&&(s.b=u)}}}}function GT(e,r,t){var n=r.traces,a=C1(e),o=t.norm==="fraction"?1:100,i=o/1e9,l=e.l2c(e.c2l(0)),f=t.mode==="stack"?o:l;function s(p){return Ms(e.c2l(p))&&(p<l-i||p>f+i||!Ms(l))}for(var u=0;u<n.length;u++){for(var c=n[u],v=c[0].t.offsetindex,x=c[0].trace,m=[],w=!1,A=!1,y=0;y<c.length;y++){var M=c[y];if(M.s!==S1){var E=Math.abs(o/r.get(M.p,v,M.s));M.b*=E,M.s*=E;var b=M.b,T=b+M.s;M[a]=T,m.push(T),A=A||s(T),M.hasB&&(m.push(b),A=A||s(b)),(!M.hasB||!M.b)&&(w=!0)}}x._extremes[e._id]=qy.findExtremes(e,m,{tozero:w,padded:A})}}function H3e(e,r,t,n){for(var a=C1(n),o=0;o<e.length;o++)for(var i=e[o],l=0;l<i.length;l++){var f=i[l],s=f[a];f._sMin=r[s],f._sMax=t[s]}}function V3e(e,r){var t=C1(r),n={},a,o,i,l=1/0,f=-1/0;for(a=0;a<e.length;a++)for(i=e[a],o=0;o<i.length;o++){var s=i[o].p;Ms(s)&&(l=Math.min(l,s),f=Math.max(f,s))}var u=1e4/(f-l),c=n.round=function(g){return String(Math.round(u*(g-l)))},v={},x={},m=e.some(function(g){var h=g[0].trace;return"marker"in h&&h.marker.cornerradius});for(a=0;a<e.length;a++){i=e[a],i[0].t.extents=n;var w=i[0].t.poffset,A=A0(w);for(o=0;o<i.length;o++){var y=i[o],M=y[t]-y.w/2;if(Ms(M)){var E=y[t]+y.w/2,b=c(y.p);n[b]?n[b]=[Math.min(M,n[b][0]),Math.max(E,n[b][1])]:n[b]=[M,E]}if(y.p0=y.p+(A?w[o]:w),y.p1=y.p0+y.w,y.s0=y.b,y.s1=y.s0+y.s,m){var T=Math.min(y.s0,y.s1)||0,p=Math.max(y.s0,y.s1)||0,_=y[t];v[_]=_ in v?Math.min(v[_],T):T,x[_]=_ in x?Math.max(x[_],p):p}}}m&&H3e(e,v,x,r)}function C1(e){return e._id.charAt(0)}hU.exports={crossTraceCalc:D3e,setGroupPositions:qT}});var yU=fe((eBe,gU)=>{"use strict";var dU=Ab(),pU=vU().setGroupPositions;function Y3e(e,r){for(var t=r.xaxis,n=r.yaxis,a=e._fullLayout,o=e._fullData,i=e.calcdata,l=[],f=[],s=0;s<o.length;s++){var u=o[s];u.visible===!0&&u.type==="scatter"&&u.xaxis===t._id&&u.yaxis===n._id&&(u.orientation==="h"?l.push(i[s]):u.orientation==="v"&&f.push(i[s]))}var c={mode:a.scattermode,gap:a.scattergap};pU(e,t,n,f,c),pU(e,n,t,l,c)}gU.exports=function(r,t){r._fullLayout.scattermode==="group"&&Y3e(r,t);var n=t.xaxis,a=t.yaxis,o=n._id+a._id,i=r._fullLayout._scatterStackOpts[o];if(i){var l=r.calcdata,f,s,u,c,v,x,m,w,A,y,M,E,b,T,p;for(var _ in i){y=i[_];var g=y.traceIndices;if(g.length){for(M=y.stackgaps==="interpolate",E=y.groupnorm,y.orientation==="v"?(b="x",T="y"):(b="y",T="x"),p=new Array(g.length),f=0;f<p.length;f++)p[f]=!1;x=l[g[0]];var h=new Array(x.length);for(f=0;f<x.length;f++)h[f]=x[f][b];for(f=1;f<g.length;f++){for(v=l[g[f]],s=u=0;s<v.length;s++){for(m=v[s][b];m>h[u]&&u<h.length;u++)HT(v,s,h[u],f,p,M,b),s++;if(m!==h[u]){for(c=0;c<f;c++)HT(l[g[c]],u,m,c,p,M,b);h.splice(u,0,m)}u++}for(;u<h.length;u++)HT(v,s,h[u],f,p,M,b),s++}var S=h.length;for(s=0;s<x.length;s++){for(w=x[s][T]=x[s].s,f=1;f<g.length;f++)v=l[g[f]],v[0].trace._rawLength=v[0].trace._length,v[0].trace._length=S,w+=v[s].s,v[s][T]=w;if(E)for(A=(E==="fraction"?w:w/100)||1,f=0;f<g.length;f++){var d=l[g[f]][s];d[T]/=A,d.sNorm=d.s/A}}for(f=0;f<g.length;f++){v=l[g[f]];var R=v[0].trace,L=dU.calcMarkerSize(R,R._rawLength),F=Array.isArray(L);if(L&&p[f]||F){var O=L;for(L=new Array(S),s=0;s<S;s++)L[s]=v[s].gap?0:F?O[v[s].i]:O}var P=new Array(S),I=new Array(S);for(s=0;s<S;s++)P[s]=v[s].x,I[s]=v[s].y;dU.calcAxisExpansion(r,R,n,a,P,I,L),v[0].t.orientation=y.orientation}}}}};function HT(e,r,t,n,a,o,i){a[n]=!0;var l={i:null,gap:!0,s:0};if(l[i]=t,e.splice(r,0,l),r&&t===e[r-1][i]){var f=e[r-1];l.s=f.s,l.i=f.i,l.gap=f.gap}else o&&(l.s=W3e(e,r,t,i));r||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}function W3e(e,r,t,n){var a=e[r-1],o=e[r+1];return o?a?a.s+(o.s-a.s)*(t-a[n])/(o[n]-a[n]):o.s:a.s}});var TU=fe((rBe,AU)=>{"use strict";var X3e=ta(),_U=ui(),Uy=_U.BADNUM,wU=_U.LOG_CLIP,mU=wU+.5,xU=wU-.5,Eb=tt(),j3e=Eb.segmentsIntersect,bU=Eb.constrain,VT=Ey();AU.exports=function(r,t){var n=t.trace||{},a=t.xaxis,o=t.yaxis,i=a.type==="log",l=o.type==="log",f=a._length,s=o._length,u=t.backoff,c=n.marker,v=t.connectGaps,x=t.baseTolerance,m=t.shape,w=m==="linear",A=n.fill&&n.fill!=="none",y=[],M=VT.minTolerance,E=r.length,b=new Array(E),T=0,p,_,g,h,S,d,R,L,F,O,P,I,k,D,z,q;function j(_r){var qe=r[_r];if(!qe)return!1;var nr=t.linearized?a.l2p(qe.x):a.c2p(qe.x),Te=t.linearized?o.l2p(qe.y):o.c2p(qe.y);if(nr===Uy){if(i&&(nr=a.c2p(qe.x,!0)),nr===Uy)return!1;l&&Te===Uy&&(nr*=Math.abs(a._m*s*(a._m>0?mU:xU)/(o._m*f*(o._m>0?mU:xU)))),nr*=1e3}if(Te===Uy){if(l&&(Te=o.c2p(qe.y,!0)),Te===Uy)return!1;Te*=1e3}return[nr,Te]}function Q(_r,qe,nr,Te){var be=nr-_r,Ge=Te-qe,ae=.5-_r,W=.5-qe,re=be*be+Ge*Ge,Ee=be*ae+Ge*W;if(Ee>0&&Ee<re){var We=ae*Ge-W*be;if(We*We<re)return!0}}var K,G;function B(_r,qe){var nr=_r[0]/f,Te=_r[1]/s,be=Math.max(0,-nr,nr-1,-Te,Te-1);return be&&K!==void 0&&Q(nr,Te,K,G)&&(be=0),be&&qe&&Q(nr,Te,qe[0]/f,qe[1]/s)&&(be=0),(1+VT.toleranceGrowth*be)*x}function Z(_r,qe){var nr=_r[0]-qe[0],Te=_r[1]-qe[1];return Math.sqrt(nr*nr+Te*Te)}var ie=VT.maxScreensAway,J=-f*ie,le=f*(1+ie),te=-s*ie,V=s*(1+ie),ne=[[J,te,le,te],[le,te,le,V],[le,V,J,V],[J,V,J,te]],Y,oe,pe,we,De,Re;function Ae(_r,qe){for(var nr=[],Te=0,be=0;be<4;be++){var Ge=ne[be],ae=j3e(_r[0],_r[1],qe[0],qe[1],Ge[0],Ge[1],Ge[2],Ge[3]);ae&&(!Te||Math.abs(ae.x-nr[0][0])>1||Math.abs(ae.y-nr[0][1])>1)&&(ae=[ae.x,ae.y],Te&&Z(ae,_r)<Z(nr[0],_r)?nr.unshift(ae):nr.push(ae),Te++)}return nr}function Ie(_r){if(_r[0]<J||_r[0]>le||_r[1]<te||_r[1]>V)return[bU(_r[0],J,le),bU(_r[1],te,V)]}function Be(_r,qe){if(_r[0]===qe[0]&&(_r[0]===J||_r[0]===le)||_r[1]===qe[1]&&(_r[1]===te||_r[1]===V))return!0}function je(_r,qe){var nr=[],Te=Ie(_r),be=Ie(qe);return Te&&be&&Be(Te,be)||(Te&&nr.push(Te),be&&nr.push(be)),nr}function Ne(_r,qe,nr){return function(Te,be){var Ge=Ie(Te),ae=Ie(be),W=[];if(Ge&&ae&&Be(Ge,ae))return W;Ge&&W.push(Ge),ae&&W.push(ae);var re=2*Eb.constrain((Te[_r]+be[_r])/2,qe,nr)-((Ge||Te)[_r]+(ae||be)[_r]);if(re){var Ee;Ge&&ae?Ee=re>0==Ge[_r]>ae[_r]?Ge:ae:Ee=Ge||ae,Ee[_r]+=re}return W}}var Qe;m==="linear"||m==="spline"?Qe=Ae:m==="hv"||m==="vh"?Qe=je:m==="hvh"?Qe=Ne(0,J,le):m==="vhv"&&(Qe=Ne(1,te,V));function pr(_r,qe){var nr=qe[0]-_r[0],Te=(qe[1]-_r[1])/nr,be=(_r[1]*qe[0]-qe[1]*_r[0])/nr;return be>0?[Te>0?J:le,V]:[Te>0?le:J,te]}function Se(_r){var qe=_r[0],nr=_r[1],Te=qe===b[T-1][0],be=nr===b[T-1][1];if(!(Te&&be))if(T>1){var Ge=qe===b[T-2][0],ae=nr===b[T-2][1];Te&&(qe===J||qe===le)&&Ge?ae?T--:b[T-1]=_r:be&&(nr===te||nr===V)&&ae?Ge?T--:b[T-1]=_r:b[T++]=_r}else b[T++]=_r}function Fe(_r){b[T-1][0]!==_r[0]&&b[T-1][1]!==_r[1]&&Se([pe,we]),Se(_r),De=null,pe=we=0}var hr=Eb.isArrayOrTypedArray(c);function dr(_r){if(_r&&u&&(_r.i=p,_r.d=r,_r.trace=n,_r.marker=hr?c[_r.i]:c,_r.backoff=u),K=_r[0]/f,G=_r[1]/s,Y=_r[0]<J?J:_r[0]>le?le:0,oe=_r[1]<te?te:_r[1]>V?V:0,Y||oe){if(!T)b[T++]=[Y||_r[0],oe||_r[1]];else if(De){var qe=Qe(De,_r);qe.length>1&&(Fe(qe[0]),b[T++]=qe[1])}else Re=Qe(b[T-1],_r)[0],b[T++]=Re;var nr=b[T-1];Y&&oe&&(nr[0]!==Y||nr[1]!==oe)?(De&&(pe!==Y&&we!==oe?Se(pe&&we?pr(De,_r):[pe||Y,we||oe]):pe&&we&&Se([pe,we])),Se([Y,oe])):pe-Y&&we-oe&&Se([Y||pe,oe||we]),De=_r,pe=Y,we=oe}else De&&Fe(Qe(De,_r)[0]),b[T++]=_r}for(p=0;p<E;p++)if(_=j(p),!!_){for(T=0,De=null,dr(_),p++;p<E;p++){if(h=j(p),!h){if(v)continue;break}if(!w||!t.simplify){dr(h);continue}var kr=j(p+1);if(O=Z(h,_),!(!(A&&(T===0||T===E-1))&&O<B(h,kr)*M)){for(L=[(h[0]-_[0])/O,(h[1]-_[1])/O],S=_,P=O,I=D=z=0,R=!1,g=h,p++;p<r.length;p++){if(d=kr,kr=j(p+1),!d){if(v)continue;break}if(F=[d[0]-_[0],d[1]-_[1]],q=F[0]*L[1]-F[1]*L[0],D=Math.min(D,q),z=Math.max(z,q),z-D>B(d,kr))break;g=d,k=F[0]*L[0]+F[1]*L[1],k>P?(P=k,h=d,R=!1):k<I&&(I=k,S=d,R=!0)}if(R?(dr(h),g!==S&&dr(S)):(S!==_&&dr(S),g!==h&&dr(h)),dr(g),p>=r.length||!d)break;dr(d),_=d}}De&&Se([pe||De[0],we||De[1]]),y.push(b.slice(0,T))}var Ue=m.slice(m.length-1);if(u&&Ue!=="h"&&Ue!=="v"){for(var He=!1,Xe=-1,fr=[],Mr=0;Mr<y.length;Mr++)for(var qr=0;qr<y[Mr].length-1;qr++){var et=y[Mr][qr],jr=y[Mr][qr+1],Or=X3e.applyBackoff(jr,et);(Or[0]!==jr[0]||Or[1]!==jr[1])&&(He=!0),fr[Xe+1]||(Xe++,fr[Xe]=[et,[Or[0],Or[1]]])}return He?fr:y}return y}});var YT=fe((tBe,EU)=>{"use strict";var MU={tonextx:1,tonexty:1,tonext:1};EU.exports=function(r,t,n){var a,o,i,l,f,s={},u=!1,c=-1,v=0,x=-1;for(o=0;o<n.length;o++)a=n[o][0].trace,i=a.stackgroup||"",i?i in s?f=s[i]:(f=s[i]=v,v++):a.fill in MU&&x>=0?f=x:(f=x=v,v++),f<c&&(u=!0),a._groupIndex=c=f;var m=n.slice();u&&m.sort(function(A,y){var M=A[0].trace,E=y[0].trace;return M._groupIndex-E._groupIndex||M.index-E.index});var w={};for(o=0;o<m.length;o++)a=m[o][0].trace,i=a.stackgroup||"",a.visible===!0?(a._nexttrace=null,a.fill in MU&&(l=w[i],a._prevtrace=l||null,l&&(l._nexttrace=a)),a._ownfill=a.fill&&(a.fill.substr(0,6)==="tozero"||a.fill==="toself"||a.fill.substr(0,2)==="to"&&!a._prevtrace),w[i]=a):a._prevtrace=a._nexttrace=a._ownfill=null;return m}});var LU=fe((nBe,kU)=>{"use strict";var uf=Ln(),Z3e=Qt(),Gy=tt(),k1=Gy.ensureSingle,CU=Gy.identity,Za=ta(),L1=Ki(),$3e=TU(),J3e=YT(),Sb=H6().tester;kU.exports=function(r,t,n,a,o,i){var l,f,s=!o,u=!!o&&o.duration>0,c=J3e(r,t,n);if(l=a.selectAll("g.trace").data(c,function(x){return x[0].trace.uid}),l.enter().append("g").attr("class",function(x){return"trace scatter trace"+x[0].trace.uid}).style("stroke-miterlimit",2),l.order(),K3e(r,l,t),u){i&&(f=i());var v=uf.transition().duration(o.duration).ease(o.easing).each("end",function(){f&&f()}).each("interrupt",function(){f&&f()});v.each(function(){a.selectAll("g.trace").each(function(x,m){SU(r,m,t,x,c,this,o)})})}else l.each(function(x,m){SU(r,m,t,x,c,this,o)});s&&l.exit().remove(),a.selectAll("path:not([d])").remove()};function K3e(e,r,t){r.each(function(n){var a=k1(uf.select(this),"g","fills");Za.setClipUrl(a,t.layerClipId,e);var o=n[0].trace,i=[];o._ownfill&&i.push("_ownFill"),o._nexttrace&&i.push("_nextFill");var l=a.selectAll("g").data(i,CU);l.enter().append("g"),l.exit().each(function(f){o[f]=null}).remove(),l.order().each(function(f){o[f]=k1(uf.select(this),"path","js-fill")})})}function SU(e,r,t,n,a,o,i){var l=e._context.staticPlot,f;Q3e(e,r,t,n,a);var s=!!i&&i.duration>0;function u(Ne){return s?Ne.transition():Ne}var c=t.xaxis,v=t.yaxis,x=n[0].trace,m=x.line,w=uf.select(o),A=k1(w,"g","errorbars"),y=k1(w,"g","lines"),M=k1(w,"g","points"),E=k1(w,"g","text");if(Z3e.getComponentMethod("errorbars","plot")(e,A,t,i),x.visible!==!0)return;u(w).style("opacity",x.opacity);var b,T,p=x.fill.charAt(x.fill.length-1);p!=="x"&&p!=="y"&&(p="");var _,g;p==="y"?(_=1,g=v.c2p(0,!0)):p==="x"&&(_=0,g=c.c2p(0,!0)),n[0][t.isRangePlot?"nodeRangePlot3":"node3"]=w;var h="",S=[],d=x._prevtrace,R=null,L=null;d&&(h=d._prevRevpath||"",T=d._nextFill,S=d._ownPolygons,R=d._fillsegments,L=d._fillElement);var F,O,P="",I="",k,D,z,q,j,Q,K=[];x._polygons=[];var G=[],B=[],Z=Gy.noop;if(b=x._ownFill,L1.hasLines(x)||x.fill!=="none"){T&&T.datum(n),["hv","vh","hvh","vhv"].indexOf(m.shape)!==-1?(k=Za.steps(m.shape),D=Za.steps(m.shape.split("").reverse().join(""))):m.shape==="spline"?k=D=function(Ne){var Qe=Ne[Ne.length-1];return Ne.length>1&&Ne[0][0]===Qe[0]&&Ne[0][1]===Qe[1]?Za.smoothclosed(Ne.slice(1),m.smoothing):Za.smoothopen(Ne,m.smoothing)}:k=D=function(Ne){return"M"+Ne.join("L")},z=function(Ne){return D(Ne.reverse())},B=$3e(n,{xaxis:c,yaxis:v,trace:x,connectGaps:x.connectgaps,baseTolerance:Math.max(m.width||1,3)/4,shape:m.shape,backoff:m.backoff,simplify:m.simplify,fill:x.fill}),G=new Array(B.length);var ie=0;for(f=0;f<B.length;f++){var J,le=B[f];!J||!p?(J=le.slice(),G[ie]=J,ie++):J.push.apply(J,le)}x._fillElement=null,x._fillExclusionElement=L,x._fillsegments=G.slice(0,ie),G=x._fillsegments,B.length&&(q=B[0][0].slice(),j=B[B.length-1],Q=j[j.length-1].slice()),Z=function(Ne){return function(Qe){if(F=k(Qe),O=z(Qe),P?p?(P+="L"+F.substr(1),I=O+("L"+I.substr(1))):(P+="Z"+F,I=O+"Z"+I):(P=F,I=O),L1.hasLines(x)){var pr=uf.select(this);if(pr.datum(n),Ne)u(pr.style("opacity",0).attr("d",F).call(Za.lineGroupStyle)).style("opacity",1);else{var Se=u(pr);Se.attr("d",F),Za.singleLineStyle(n,Se)}}}}}var te=y.selectAll(".js-line").data(B);u(te.exit()).style("opacity",0).remove(),te.each(Z(!1)),te.enter().append("path").classed("js-line",!0).style("vector-effect",l?"none":"non-scaling-stroke").call(Za.lineGroupStyle).each(Z(!0)),Za.setClipUrl(te,t.layerClipId,e);function V(Ne){u(Ne).attr("d","M0,0Z")}var ne=function(){var Ne=new Array(G.length);for(f=0;f<G.length;f++)Ne[f]=Sb(G[f]);return Ne},Y=function(Ne){var Qe,pr;if(!Ne||Ne.length===0)for(Qe=new Array(G.length),pr=0;pr<G.length;pr++){var Se=G[pr][0].slice(),Fe=G[pr][G[pr].length-1].slice();Se[_]=Fe[_]=g;var hr=[Fe,Se],dr=hr.concat(G[pr]);Qe[pr]=Sb(dr)}else{for(Qe=new Array(Ne.length-1+G.length),pr=0;pr<Ne.length-1;pr++)Qe[pr]=Sb(Ne[pr]);var kr=Ne[Ne.length-1].slice();for(kr.reverse(),pr=0;pr<G.length;pr++)Qe[Ne.length-1+pr]=Sb(G[pr].concat(kr))}return Qe};B.length?(b?(b.datum(n),q&&Q&&(p?(q[_]=Q[_]=g,u(b).attr("d","M"+Q+"L"+q+"L"+P.substr(1)).call(Za.singleFillStyle,e),K=Y(null)):(u(b).attr("d",P+"Z").call(Za.singleFillStyle,e),K=ne())),x._polygons=K,x._fillElement=b):T&&(x.fill.substr(0,6)==="tonext"&&P&&h?(x.fill==="tonext"?(u(T).attr("d",P+"Z"+h+"Z").call(Za.singleFillStyle,e),K=ne(),x._polygons=K.concat(S)):(u(T).attr("d",P+"L"+h.substr(1)+"Z").call(Za.singleFillStyle,e),K=Y(R),x._polygons=K),x._fillElement=T):V(T)),x._prevRevpath=I):(b?V(b):T&&V(T),x._prevRevpath=null),x._ownPolygons=K;function oe(Ne){return Ne.filter(function(Qe){return!Qe.gap&&Qe.vis})}function pe(Ne){return Ne.filter(function(Qe){return Qe.vis})}function we(Ne){return Ne.filter(function(Qe){return!Qe.gap})}function De(Ne){return Ne.id}function Re(Ne){if(Ne.ids)return De}function Ae(){return!1}function Ie(Ne,Qe,pr){var Se,Fe,hr,dr=pr[0].trace,kr=L1.hasMarkers(dr),Ue=L1.hasText(dr),He=Re(dr),Xe=Ae,fr=Ae;if(kr||Ue){var Mr=CU,qr=dr.stackgroup,et=qr&&e._fullLayout._scatterStackOpts[c._id+v._id][qr].stackgaps==="infer zero";dr.marker.maxdisplayed||dr._needsCull?Mr=et?pe:oe:qr&&!et&&(Mr=we),kr&&(Xe=Mr),Ue&&(fr=Mr)}Fe=Ne.selectAll("path.point"),Se=Fe.data(Xe,He);var jr=Se.enter().append("path").classed("point",!0);s&&jr.call(Za.pointStyle,dr,e).call(Za.translatePoints,c,v).style("opacity",0).transition().style("opacity",1),Se.order();var Or;kr&&(Or=Za.makePointStyleFns(dr)),Se.each(function(_r){var qe=uf.select(this),nr=u(qe);hr=Za.translatePoint(_r,nr,c,v),hr?(Za.singlePointStyle(_r,nr,dr,Or,e),t.layerClipId&&Za.hideOutsideRangePoint(_r,nr,c,v,dr.xcalendar,dr.ycalendar),dr.customdata&&qe.classed("plotly-customdata",_r.data!==null&&_r.data!==void 0)):nr.remove()}),s?Se.exit().transition().style("opacity",0).remove():Se.exit().remove(),Fe=Qe.selectAll("g"),Se=Fe.data(fr,He),Se.enter().append("g").classed("textpoint",!0).append("text"),Se.order(),Se.each(function(_r){var qe=uf.select(this),nr=u(qe.select("text"));hr=Za.translatePoint(_r,nr,c,v),hr?t.layerClipId&&Za.hideOutsideRangePoint(_r,qe,c,v,dr.xcalendar,dr.ycalendar):qe.remove()}),Se.selectAll("text").call(Za.textPointStyle,dr,e).each(function(_r){var qe=c.c2p(_r.x),nr=v.c2p(_r.y);uf.select(this).selectAll("tspan.line").each(function(){u(uf.select(this)).attr({x:qe,y:nr})})}),Se.exit().remove()}M.datum(n),E.datum(n),Ie(M,E,n);var Be=x.cliponaxis===!1,je=Be?null:t.layerClipId;Za.setClipUrl(M,je,e),Za.setClipUrl(E,je,e)}function Q3e(e,r,t,n,a){var o=t.xaxis,i=t.yaxis,l=uf.extent(Gy.simpleMap(o.range,o.r2c)),f=uf.extent(Gy.simpleMap(i.range,i.r2c)),s=n[0].trace;if(L1.hasMarkers(s)){var u=s.marker.maxdisplayed;if(u!==0){var c=n.filter(function(w){return w.x>=l[0]&&w.x<=l[1]&&w.y>=f[0]&&w.y<=f[1]}),v=Math.ceil(c.length/u),x=0;a.forEach(function(w,A){var y=w[0].trace;L1.hasMarkers(y)&&y.marker.maxdisplayed>0&&A<r&&x++});var m=Math.round(x*v/3+Math.floor(x/3)*v/7.1);n.forEach(function(w){delete w.vis}),c.forEach(function(w,A){Math.round((A+m)%v)===0&&(w.vis=!0)})}}}});var Cb=fe((aBe,RU)=>{"use strict";RU.exports={container:"marker",min:"cmin",max:"cmax"}});var WT=fe((iBe,FU)=>{"use strict";var kb=Fa();FU.exports=function(r,t,n){var a={},o={_fullLayout:n},i=kb.getFromTrace(o,t,"x"),l=kb.getFromTrace(o,t,"y"),f=r.orig_x;f===void 0&&(f=r.x);var s=r.orig_y;return s===void 0&&(s=r.y),a.xLabel=kb.tickText(i,i.c2l(f),!0).text,a.yLabel=kb.tickText(l,l.c2l(s),!0).text,a}});var $T=fe((oBe,DU)=>{"use strict";var XT=Ln(),R1=ta(),exe=Qt();function rxe(e){var r=XT.select(e).selectAll("g.trace.scatter");r.style("opacity",function(t){return t[0].trace.opacity}),r.selectAll("g.points").each(function(t){var n=XT.select(this),a=t.trace||t[0].trace;jT(n,a,e)}),r.selectAll("g.text").each(function(t){var n=XT.select(this),a=t.trace||t[0].trace;ZT(n,a,e)}),r.selectAll("g.trace path.js-line").call(R1.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(R1.fillGroupStyle,e,!1),exe.getComponentMethod("errorbars","style")(r)}function jT(e,r,t){R1.pointStyle(e.selectAll("path.point"),r,t)}function ZT(e,r,t){R1.textPointStyle(e.selectAll("text"),r,t)}function txe(e,r,t){var n=r[0].trace;n.selectedpoints?(R1.selectedPointStyle(t.selectAll("path.point"),n),R1.selectedTextStyle(t.selectAll("text"),n)):(jT(t,n,e),ZT(t,n,e))}DU.exports={style:rxe,stylePoints:jT,styleText:ZT,styleOnSelect:txe}});var JT=fe((lBe,IU)=>{"use strict";var F1=xn(),nxe=Ki();IU.exports=function(r,t){var n,a;if(r.mode==="lines")return n=r.line.color,n&&F1.opacity(n)?n:r.fillcolor;if(r.mode==="none")return r.fill?r.fillcolor:"";var o=t.mcc||(r.marker||{}).color,i=t.mlcc||((r.marker||{}).line||{}).color;return a=o&&F1.opacity(o)?o:i&&F1.opacity(i)&&(t.mlw||((r.marker||{}).line||{}).width)?i:"",a?F1.opacity(a)<.3?F1.addOpacity(a,.3):a:(n=(r.line||{}).color,n&&F1.opacity(n)&&nxe.hasLines(r)&&r.line.width?n:r.fillcolor)}});var NU=fe((sBe,OU)=>{"use strict";var Lb=tt(),PU=of(),axe=Qt(),ixe=JT(),KT=xn(),oxe=Lb.fillText;OU.exports=function(r,t,n,a){var o=r.cd,i=o[0].trace,l=r.xa,f=r.ya,s=l.c2p(t),u=f.c2p(n),c=[s,u],v=i.hoveron||"",x=i.mode.indexOf("markers")!==-1?3:.5,m=!!i.xperiodalignment,w=!!i.yperiodalignment;if(v.indexOf("points")!==-1){var A=function(k){if(m){var D=l.c2p(k.xStart),z=l.c2p(k.xEnd);return s>=Math.min(D,z)&&s<=Math.max(D,z)?0:1/0}var q=Math.max(3,k.mrc||0),j=1-1/q,Q=Math.abs(l.c2p(k.x)-s);return Q<q?j*Q/q:Q-q+j},y=function(k){if(w){var D=f.c2p(k.yStart),z=f.c2p(k.yEnd);return u>=Math.min(D,z)&&u<=Math.max(D,z)?0:1/0}var q=Math.max(3,k.mrc||0),j=1-1/q,Q=Math.abs(f.c2p(k.y)-u);return Q<q?j*Q/q:Q-q+j},M=function(k){var D=Math.max(x,k.mrc||0),z=l.c2p(k.x)-s,q=f.c2p(k.y)-u;return Math.max(Math.sqrt(z*z+q*q)-D,1-x/D)},E=PU.getDistanceFunction(a,A,y,M);if(PU.getClosest(o,E,r),r.index!==!1){var b=o[r.index],T=l.c2p(b.x,!0),p=f.c2p(b.y,!0),_=b.mrc||1;r.index=b.i;var g=o[0].t.orientation,h=g&&(b.sNorm||b.s),S=g==="h"?h:b.orig_x!==void 0?b.orig_x:b.x,d=g==="v"?h:b.orig_y!==void 0?b.orig_y:b.y;return Lb.extendFlat(r,{color:ixe(i,b),x0:T-_,x1:T+_,xLabelVal:S,y0:p-_,y1:p+_,yLabelVal:d,spikeDistance:M(b),hovertemplate:i.hovertemplate}),oxe(b,i,r),axe.getComponentMethod("errorbars","hoverInfo")(b,i,r),[r]}}function R(k){if(!k)return!1;var D=k.node();try{var z=new DOMPoint(c[0],c[1]);return D.isPointInFill(z)}catch(j){var q=D.ownerSVGElement.createSVGPoint();return q.x=c[0],q.y=c[1],D.isPointInFill(q)}}function L(k){var D,z=[],q=1/0,j=-1/0,Q=1/0,K=-1/0,G;for(D=0;D<k.length;D++){var B=k[D];B.contains(c)&&(z.push(B),Q=Math.min(Q,B.ymin),K=Math.max(K,B.ymax))}if(z.length===0)return null;Q=Math.max(Q,0),K=Math.min(K,f._length),G=(Q+K)/2;var Z,ie,J,le,te,V,ne;for(D=0;D<z.length;D++)for(ie=z[D].pts,Z=1;Z<ie.length;Z++)V=ie[Z-1][1],ne=ie[Z][1],V>G!=ne>=G&&(le=ie[Z-1][0],te=ie[Z][0],ne-V&&(J=le+(te-le)*(G-V)/(ne-V),q=Math.min(q,J),j=Math.max(j,J)));return q=Math.max(q,0),j=Math.min(j,l._length),{x0:q,x1:j,y0:G,y1:G}}if(v.indexOf("fills")!==-1&&i._fillElement){var F=R(i._fillElement)&&!R(i._fillExclusionElement);if(F){var O=L(i._polygons);O===null&&(O={x0:c[0],x1:c[0],y0:c[1],y1:c[1]});var P=KT.defaultLine;KT.opacity(i.fillcolor)?P=i.fillcolor:KT.opacity((i.line||{}).color)&&(P=i.line.color);var I=!1;return i.mode==="lines"&&(I=i.hovertemplate),Lb.extendFlat(r,{distance:r.maxHoverDistance,x0:O.x0,x1:O.x1,y0:O.y0,y1:O.y1,color:P,hovertemplate:I}),delete r.index,i.text&&!Lb.isArrayOrTypedArray(i.text)?r.text=String(i.text):r.text=i.name,[r]}}}});var qU=fe((fBe,zU)=>{"use strict";var BU=Ki();zU.exports=function(r,t){var n=r.cd,a=r.xaxis,o=r.yaxis,i=[],l=n[0].trace,f,s,u,c,v=!BU.hasMarkers(l)&&!BU.hasText(l);if(v)return[];if(t===!1)for(f=0;f<n.length;f++)n[f].selected=0;else for(f=0;f<n.length;f++)s=n[f],u=a.c2p(s.x),c=o.c2p(s.y),s.i!==null&&t.contains([u,c],!1,f,r)?(i.push({pointNumber:s.i,x:a.c2d(s.x),y:o.c2d(s.y)}),s.selected=1):s.selected=0;return i}});var GU=fe((uBe,UU)=>{"use strict";UU.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}});var e8=fe((cBe,YU)=>{"use strict";var Hy=Qt().traceIs,QT=bA();YU.exports=function(r,t,n,a){n("autotypenumbers",a.autotypenumbersDflt);var o=n("type",(a.splomStash||{}).type);o==="-"&&(lxe(t,a.data),t.type==="-"?t.type="linear":r.type=t.type)};function lxe(e,r){if(e.type==="-"){var t=e._id,n=t.charAt(0),a;t.indexOf("scene")!==-1&&(t=n);var o=sxe(r,t,n);if(o){if(o.type==="histogram"&&n==={v:"y",h:"x"}[o.orientation||"v"]){e.type="linear";return}var i=n+"calendar",l=o[i],f={noMultiCategory:!Hy(o,"cartesian")||Hy(o,"noMultiCategory")};if(o.type==="box"&&o._hasPreCompStats&&n==={h:"x",v:"y"}[o.orientation||"v"]&&(f.noMultiCategory=!0),f.autotypenumbers=e.autotypenumbers,VU(o,n)){var s=HU(o),u=[];for(a=0;a<r.length;a++){var c=r[a];!Hy(c,"box-violin")||(c[n+"axis"]||n)!==t||(c[s]!==void 0?u.push(c[s][0]):c.name!==void 0?u.push(c.name):u.push("text"),c[i]!==l&&(l=void 0))}e.type=QT(u,l,f)}else if(o.type==="splom"){var v=o.dimensions,x=v[o._axesDim[t]];x.visible&&(e.type=QT(x.values,l,f))}else e.type=QT(o[n]||[o[n+"0"]],l,f)}}}function sxe(e,r,t){for(var n=0;n<e.length;n++){var a=e[n];if(a.type==="splom"&&a._length>0&&(a["_"+t+"axes"]||{})[r])return a;if((a[t+"axis"]||t)===r){if(VU(a,t))return a;if((a[t]||[]).length||a[t+"0"])return a}}}function HU(e){return{v:"x",h:"y"}[e.orientation||"v"]}function VU(e,r){var t=HU(e),n=Hy(e,"box-violin"),a=Hy(e._fullInput||{},"candlestick");return n&&!a&&r===t&&e[t]===void 0&&e[t+"0"]===void 0}});var XU=fe((hBe,WU)=>{"use strict";var fxe=sl().isTypedArraySpec;function uxe(e,r){var t=r.dataAttr||e._id.charAt(0),n={},a,o,i;if(r.axData)a=r.axData;else for(a=[],o=0;o<r.data.length;o++){var l=r.data[o];l[t+"axis"]===e._id&&a.push(l)}for(o=0;o<a.length;o++){var f=a[o][t];for(i=0;i<f.length;i++){var s=f[i];s!=null&&(n[s]=1)}}return Object.keys(n)}WU.exports=function(r,t,n,a){if(t.type==="category"){var o=r.categoryarray,i=Array.isArray(o)&&o.length>0||fxe(o),l;i&&(l="array");var f=n("categoryorder",l),s;f==="array"&&(s=n("categoryarray")),!i&&f==="array"&&(f=t.categoryorder="trace"),f==="trace"?t._initialCategories=[]:f==="array"?t._initialCategories=s.slice():(s=uxe(t,a).sort(),f==="category ascending"?t._initialCategories=s:f==="category descending"&&(t._initialCategories=s.reverse()))}}});var $U=fe((vBe,ZU)=>{"use strict";var jU=fl().mix,cxe=Zs(),hxe=tt();ZU.exports=function(r,t,n,a){a=a||{};var o=a.dfltColor;function i(g,h){return hxe.coerce2(r,t,a.attributes,g,h)}var l=i("linecolor",o),f=i("linewidth"),s=n("showline",a.showLine||!!l||!!f);s||(delete t.linecolor,delete t.linewidth);var u=jU(o,a.bgColor,a.blend||cxe.lightFraction).toRgbString(),c=i("gridcolor",u),v=i("gridwidth"),x=i("griddash"),m=n("showgrid",a.showGrid||!!c||!!v||!!x);if(m||(delete t.gridcolor,delete t.gridwidth,delete t.griddash),a.hasMinor){var w=jU(t.gridcolor,a.bgColor,67).toRgbString(),A=i("minor.gridcolor",w),y=i("minor.gridwidth",t.gridwidth||1),M=i("minor.griddash",t.griddash||"solid"),E=n("minor.showgrid",!!A||!!y||!!M);E||(delete t.minor.gridcolor,delete t.minor.gridwidth,delete t.minor.griddash)}if(!a.noZeroLine){var b=i("zerolinelayer"),T=i("zerolinecolor",o),p=i("zerolinewidth"),_=n("zeroline",a.showGrid||!!T||!!p);_||(delete t.zerolinelayer,delete t.zerolinecolor,delete t.zerolinewidth)}}});var Fb=fe((dBe,tG)=>{"use strict";var JU=kn(),vxe=Qt(),Vy=tt(),dxe=da(),pxe=rf(),r8=cs(),KU=V4(),QU=W4(),gxe=Z4(),yxe=$4(),mxe=XU(),xxe=$U(),bxe=UA(),eG=D3(),Rb=Ji().WEEKDAY_PATTERN,_xe=Ji().HOUR_PATTERN;tG.exports=function(r,t,n,a,o){var i=a.letter,l=a.font||{},f=a.splomStash||{},s=n("visible",!a.visibleDflt),u=t._template||{},c=t.type||u.type||"-",v;if(c==="date"){var x=vxe.getComponentMethod("calendars","handleDefaults");x(r,t,"calendar",a.calendar),a.noTicklabelmode||(v=n("ticklabelmode"))}!a.noTicklabelindex&&(c==="date"||c==="linear")&&n("ticklabelindex");var m="";(!a.noTicklabelposition||c==="multicategory")&&(m=Vy.coerce(r,t,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:v==="period"?["outside","inside"]:i==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),a.noTicklabeloverflow||n("ticklabeloverflow",m.indexOf("inside")!==-1?"hide past domain":c==="category"||c==="multicategory"?"allow":"hide past div"),eG(t,o),bxe(r,t,n,a),mxe(r,t,n,a),a.noHover||(c!=="category"&&n("hoverformat"),a.noUnifiedhovertitle||n("unifiedhovertitle.text"));var w=n("color"),A=w!==r8.color.dflt?w:l.color,y=f.label||o._dfltTitle[i];if(yxe(r,t,n,c,a),!s)return t;n("title.text",y),Vy.coerceFont(n,"title.font",l,{overrideDflt:{size:Vy.bigFont(l.size),color:A}}),KU(r,t,n,c);var M=a.hasMinor;if(M&&(dxe.newContainer(t,"minor"),KU(r,t,n,c,{isMinor:!0})),gxe(r,t,n,c,a),QU(r,t,n,a),M){var E=a.isMinor;a.isMinor=!0,QU(r,t,n,a),a.isMinor=E}xxe(r,t,n,{dfltColor:w,bgColor:a.bgColor,showGrid:a.showGrid,hasMinor:M,attributes:r8}),M&&!t.minor.ticks&&!t.minor.showgrid&&delete t.minor,(t.showline||t.ticks)&&n("mirror");var b=c==="multicategory";if(!a.noTickson&&(c==="category"||b)&&(t.ticks||t.showgrid)&&(b?(n("tickson","boundaries"),delete t.ticklabelposition):n("tickson")),b){var T=n("showdividers");T&&(n("dividercolor"),n("dividerwidth"))}if(c==="date")if(pxe(r,t,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:wxe}),!t.rangebreaks.length)delete t.rangebreaks;else{for(var p=0;p<t.rangebreaks.length;p++)if(t.rangebreaks[p].pattern===Rb){t._hasDayOfWeekBreaks=!0;break}if(eG(t,o),o._has("scattergl")||o._has("splom"))for(var _=0;_<a.data.length;_++){var g=a.data[_];(g.type==="scattergl"||g.type==="splom")&&(g.visible=!1,Vy.warn(g.type+" traces do not work on axes with rangebreaks. Setting trace "+g.index+" to `visible: false`."))}}return t};function wxe(e,r,t){function n(v,x){return Vy.coerce(e,r,r8.rangebreaks,v,x)}var a=n("enabled");if(a){var o=n("bounds");if(o&&o.length>=2){var i="",l,f;if(o.length===2){for(l=0;l<2;l++)if(f=rG(o[l]),f){i=Rb;break}}var s=n("pattern",i);if(s===Rb)for(l=0;l<2;l++)f=rG(o[l]),f&&(r.bounds[l]=o[l]=f-1);if(s)for(l=0;l<2;l++)switch(f=o[l],s){case Rb:if(!JU(f)){r.enabled=!1;return}if(f=+f,f!==Math.floor(f)||f<0||f>=7){r.enabled=!1;return}r.bounds[l]=o[l]=f;break;case _xe:if(!JU(f)){r.enabled=!1;return}if(f=+f,f<0||f>24){r.enabled=!1;return}r.bounds[l]=o[l]=f;break}if(t.autorange===!1){var u=t.range;if(u[0]<u[1]){if(o[0]<u[0]&&o[1]>u[1]){r.enabled=!1;return}}else if(o[0]>u[0]&&o[1]<u[1]){r.enabled=!1;return}}}else{var c=n("values");if(c&&c.length)n("dvalue");else{r.enabled=!1;return}}}}var Axe={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function rG(e){if(typeof e=="string")return Axe[e.substr(0,3).toLowerCase()]}});var t8=fe((pBe,nG)=>{"use strict";var Txe=kn(),Db=tt();nG.exports=function(r,t,n,a){var o=a.counterAxes||[],i=a.overlayableAxes||[],l=a.letter,f=a.grid,s=a.overlayingDomain,u,c,v,x,m,w;f&&(c=f._domains[l][f._axisMap[t._id]],u=f._anchors[t._id],c&&(v=f[l+"side"].split(" ")[0],x=f.domain[l][v==="right"||v==="top"?1:0])),c=c||[0,1],u=u||(Txe(r.position)?"free":o[0]||"free"),v=v||(l==="x"?"bottom":"left"),x=x||0,m=0,w=!1;var A=Db.coerce(r,t,{anchor:{valType:"enumerated",values:["free"].concat(o),dflt:u}},"anchor"),y=Db.coerce(r,t,{side:{valType:"enumerated",values:l==="x"?["bottom","top"]:["left","right"],dflt:v}},"side");if(A==="free"){if(l==="y"){var M=n("autoshift");M&&(x=y==="left"?s[0]:s[1],w=t.automargin?t.automargin:!0,m=y==="left"?-3:3),n("shift",m)}n("position",x)}n("automargin",w);var E=!1;if(i.length&&(E=Db.coerce(r,t,{overlaying:{valType:"enumerated",values:[!1].concat(i),dflt:!1}},"overlaying")),!E){var b=n("domain",c);b[0]>b[1]-1/4096&&(t.domain=c),Db.noneOrAll(r.domain,t.domain,c),t.tickmode==="sync"&&(t.tickmode="auto")}return n("layer"),t}});var hG=fe((gBe,cG)=>{"use strict";var wv=tt(),aG=xn(),Mxe=hs().isUnifiedHover,Exe=h6(),iG=da(),Sxe=Od(),oG=cs(),Cxe=e8(),lG=Fb(),kxe=fy(),sG=t8(),a8=ti(),ou=a8.id2name,fG=a8.name2id,Lxe=Ji().AX_ID_PATTERN,uG=Qt(),Ib=uG.traceIs,n8=uG.getComponentMethod;function Pb(e,r,t){Array.isArray(e[r])?e[r].push(t):e[r]=[t]}cG.exports=function(r,t,n){var a=t.autotypenumbers,o={},i={},l={},f={},s={},u={},c={},v={},x={},m={},w,A;for(w=0;w<n.length;w++){var y=n[w];if(Ib(y,"cartesian")){var M;if(y.xaxis)M=ou(y.xaxis),Pb(o,M,y);else if(y.xaxes)for(A=0;A<y.xaxes.length;A++)Pb(o,ou(y.xaxes[A]),y);var E;if(y.yaxis)E=ou(y.yaxis),Pb(o,E,y);else if(y.yaxes)for(A=0;A<y.yaxes.length;A++)Pb(o,ou(y.yaxes[A]),y);if(y.type==="funnel"?y.orientation==="h"?(M&&(i[M]=!0),E&&(c[E]=!0)):E&&(l[E]=!0):y.type==="image"?(E&&(v[E]=!0),M&&(v[M]=!0)):(E&&(s[E]=!0,u[E]=!0),(!Ib(y,"carpet")||y.type==="carpet"&&!y._cheater)&&M&&(f[M]=!0)),y.type==="carpet"&&y._cheater&&M&&(i[M]=!0),Ib(y,"2dMap")&&(x[M]=!0,x[E]=!0),Ib(y,"oriented")){var b=y.orientation==="h"?E:M;m[b]=!0}}}var T=t._subplots,p=T.xaxis,_=T.yaxis,g=wv.simpleMap(p,ou),h=wv.simpleMap(_,ou),S=g.concat(h),d=aG.background;p.length&&_.length&&(d=wv.coerce(r,t,Sxe,"plot_bgcolor"));var R=aG.combine(d,t.paper_bgcolor),L,F,O,P,I;function k(){var Fe=o[L]||[];I._traceIndices=Fe.map(function(hr){return hr.index}),I._annIndices=[],I._shapeIndices=[],I._selectionIndices=[],I._imgIndices=[],I._subplotsWith=[],I._counterAxes=[],I._name=I._attr=L,I._id=F}function D(Fe,hr){return wv.coerce(P,I,oG,Fe,hr)}function z(Fe,hr){return wv.coerce2(P,I,oG,Fe,hr)}function q(Fe){return Fe==="x"?_:p}function j(Fe,hr){for(var dr=Fe==="x"?g:h,kr=[],Ue=0;Ue<dr.length;Ue++){var He=dr[Ue];He!==hr&&!(r[He]||{}).overlaying&&kr.push(fG(He))}return kr}var Q={x:q("x"),y:q("y")},K=Q.x.concat(Q.y),G={},B=[];function Z(){var Fe=P.matches;Lxe.test(Fe)&&K.indexOf(Fe)===-1&&(G[Fe]=P.type,B=Object.keys(G))}var ie=Exe(r,t),J=Mxe(ie);for(w=0;w<S.length;w++){L=S[w],F=fG(L),O=L.charAt(0),wv.isPlainObject(r[L])||(r[L]={}),P=r[L],I=iG.newContainer(t,L,O+"axis"),k();var le=O==="x"&&!f[L]&&i[L]||O==="y"&&!s[L]&&l[L],te=O==="y"&&(!u[L]&&c[L]||v[L]),V={hasMinor:!0,letter:O,font:t.font,outerTicks:x[L],showGrid:!m[L],data:o[L]||[],bgColor:R,calendar:t.calendar,automargin:!0,visibleDflt:le,reverseDflt:te,autotypenumbersDflt:a,splomStash:((t._splomAxes||{})[O]||{})[F],noAutotickangles:O==="y"};D("uirevision",t.uirevision),Cxe(P,I,D,V),lG(P,I,D,V,t);var ne=J&&O===ie.charAt(0),Y=z("spikecolor",J?I.color:void 0),oe=z("spikethickness",J?1.5:void 0),pe=z("spikedash",J?"dot":void 0),we=z("spikemode",J?"across":void 0),De=z("spikesnap"),Re=D("showspikes",!!ne||!!Y||!!oe||!!pe||!!we||!!De);Re||(delete I.spikecolor,delete I.spikethickness,delete I.spikedash,delete I.spikemode,delete I.spikesnap);var Ae=ou(P.overlaying),Ie=[0,1];if(t[Ae]!==void 0){var Be=ou(t[Ae].anchor);t[Be]!==void 0&&(Ie=t[Be].domain)}sG(P,I,D,{letter:O,counterAxes:Q[O],overlayableAxes:j(O,L),grid:t.grid,overlayingDomain:Ie}),D("title.standoff"),Z(),I._input=P}for(w=0;w<B.length;){F=B[w++],L=ou(F),O=L.charAt(0),wv.isPlainObject(r[L])||(r[L]={}),P=r[L],I=iG.newContainer(t,L,O+"axis"),k();var je={letter:O,font:t.font,outerTicks:x[L],showGrid:!m[L],data:[],bgColor:R,calendar:t.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:a,splomStash:((t._splomAxes||{})[O]||{})[F]};D("uirevision",t.uirevision),I.type=G[F]||"linear",lG(P,I,D,je,t),sG(P,I,D,{letter:O,counterAxes:Q[O],overlayableAxes:j(O,L),grid:t.grid}),D("fixedrange"),D("modebardisable"),Z(),I._input=P}var Ne=n8("rangeslider","handleDefaults"),Qe=n8("rangeselector","handleDefaults");for(w=0;w<g.length;w++)L=g[w],P=r[L],I=t[L],Ne(r,t,L),I.type==="date"&&Qe(P,I,t,h,I.calendar),D("fixedrange"),D("modebardisable");for(w=0;w<h.length;w++){L=h[w],P=r[L],I=t[L];var pr=t[ou(I.anchor)],Se=n8("rangeslider","isVisible")(pr);D("fixedrange",Se),D("modebardisable")}kxe.handleDefaults(r,t,{axIds:K.concat(B).sort(a8.idSort),axHasImage:v})}});var pG=fe((yBe,dG)=>{"use strict";var Rxe=Ln(),vG=Qt(),Ob=tt(),Zl=ta(),Nb=Fa();dG.exports=function(r,t,n,a){var o=r._fullLayout;if(t.length===0){Nb.redrawComponents(r);return}function i(A){var y=A.xaxis,M=A.yaxis;o._defs.select("#"+A.clipId+"> rect").call(Zl.setTranslate,0,0).call(Zl.setScale,1,1),A.plot.call(Zl.setTranslate,y._offset,M._offset).call(Zl.setScale,1,1);var E=A.plot.selectAll(".scatterlayer .trace");E.selectAll(".point").call(Zl.setPointGroupScale,1,1),E.selectAll(".textpoint").call(Zl.setTextPointsScale,1,1),E.call(Zl.hideOutsideRangePoints,A)}function l(A,y){var M=A.plotinfo,E=M.xaxis,b=M.yaxis,T=E._length,p=b._length,_=!!A.xr1,g=!!A.yr1,h=[];if(_){var S=Ob.simpleMap(A.xr0,E.r2l),d=Ob.simpleMap(A.xr1,E.r2l),R=S[1]-S[0],L=d[1]-d[0];h[0]=(S[0]*(1-y)+y*d[0]-S[0])/(S[1]-S[0])*T,h[2]=T*(1-y+y*L/R),E.range[0]=E.l2r(S[0]*(1-y)+y*d[0]),E.range[1]=E.l2r(S[1]*(1-y)+y*d[1])}else h[0]=0,h[2]=T;if(g){var F=Ob.simpleMap(A.yr0,b.r2l),O=Ob.simpleMap(A.yr1,b.r2l),P=F[1]-F[0],I=O[1]-O[0];h[1]=(F[1]*(1-y)+y*O[1]-F[1])/(F[0]-F[1])*p,h[3]=p*(1-y+y*I/P),b.range[0]=E.l2r(F[0]*(1-y)+y*O[0]),b.range[1]=b.l2r(F[1]*(1-y)+y*O[1])}else h[1]=0,h[3]=p;Nb.drawOne(r,E,{skipTitle:!0}),Nb.drawOne(r,b,{skipTitle:!0}),Nb.redrawComponents(r,[E._id,b._id]);var k=_?T/h[2]:1,D=g?p/h[3]:1,z=_?h[0]:0,q=g?h[1]:0,j=_?h[0]/h[2]*T:0,Q=g?h[1]/h[3]*p:0,K=E._offset-j,G=b._offset-Q;M.clipRect.call(Zl.setTranslate,z,q).call(Zl.setScale,1/k,1/D),M.plot.call(Zl.setTranslate,K,G).call(Zl.setScale,k,D),Zl.setPointGroupScale(M.zoomScalePts,1/k,1/D),Zl.setTextPointsScale(M.zoomScaleTxt,1/k,1/D)}var f;a&&(f=a());function s(){for(var A={},y=0;y<t.length;y++){var M=t[y],E=M.plotinfo.xaxis,b=M.plotinfo.yaxis;M.xr1&&(A[E._name+".range"]=M.xr1.slice()),M.yr1&&(A[b._name+".range"]=M.yr1.slice())}return f&&f(),vG.call("relayout",r,A).then(function(){for(var T=0;T<t.length;T++)i(t[T].plotinfo)})}function u(){for(var A={},y=0;y<t.length;y++){var M=t[y],E=M.plotinfo.xaxis,b=M.plotinfo.yaxis;M.xr0&&(A[E._name+".range"]=M.xr0.slice()),M.yr0&&(A[b._name+".range"]=M.yr0.slice())}return vG.call("relayout",r,A).then(function(){for(var T=0;T<t.length;T++)i(t[T].plotinfo)})}var c,v,x,m=Rxe.ease(n.easing);r._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(x),x=null,u()});function w(){v=Date.now();for(var A=Math.min(1,(v-c)/n.duration),y=m(A),M=0;M<t.length;M++)l(t[M],y);v-c>n.duration?(s(),x=window.cancelAnimationFrame(w)):x=window.requestAnimationFrame(w)}return c=Date.now(),x=window.requestAnimationFrame(w),Promise.resolve()}});var qb=fe(mo=>{"use strict";var zb=Ln(),gG=Qt(),Av=tt(),Fxe=ci(),Dxe=ta(),yG=qg().getModuleCalcData,T0=ti(),cf=Ji(),Ixe=f0(),$n=Av.ensureSingle;function Bb(e,r,t){return Av.ensureSingle(e,r,t,function(n){n.datum(t)})}var Tv=cf.zindexSeparator;mo.name="cartesian";mo.attr=["xaxis","yaxis"];mo.idRoot=["x","y"];mo.idRegex=cf.idRegex;mo.attrRegex=cf.attrRegex;mo.attributes=GU();mo.layoutAttributes=cs();mo.supplyLayoutDefaults=hG();mo.transitionAxes=pG();mo.finalizeSubplots=function(e,r){var t=r._subplots,n=t.xaxis,a=t.yaxis,o=t.cartesian,i=o,l={},f={},s,u,c;for(s=0;s<i.length;s++){var v=i[s].split("y");l[v[0]]=1,f["y"+v[1]]=1}for(s=0;s<n.length;s++)u=n[s],l[u]||(c=(e[T0.id2name(u)]||{}).anchor,cf.idRegex.y.test(c)||(c="y"),o.push(u+c),i.push(u+c),f[c]||(f[c]=1,Av.pushUnique(a,c)));for(s=0;s<a.length;s++)c=a[s],f[c]||(u=(e[T0.id2name(c)]||{}).anchor,cf.idRegex.x.test(u)||(u="x"),o.push(u+c),i.push(u+c),l[u]||(l[u]=1,Av.pushUnique(n,u)));if(!i.length){u="",c="";for(var x in e)if(cf.attrRegex.test(x)){var m=x.charAt(0);m==="x"?(!u||+x.substr(5)<+u.substr(5))&&(u=x):(!c||+x.substr(5)<+c.substr(5))&&(c=x)}u=u?T0.name2id(u):"x",c=c?T0.name2id(c):"y",n.push(u),a.push(c),o.push(u+c)}};mo.plot=function(e,r,t,n){var a=e._fullLayout,o=a._subplots.cartesian,i=e.calcdata,l;if(!Array.isArray(r))for(r=[],l=0;l<i.length;l++)r.push(l);for(var f=a._zindices,s=0;s<f.length;s++){var u=f[s];for(l=0;l<o.length;l++){var c=o[l],v=a._plots[c];if(s>0){var x=v.id;if(x.indexOf(Tv)!==-1)continue;x+=Tv+(s+1),v=Av.extendFlat({},v,{id:x,plot:a._cartesianlayer.selectAll(".subplot").select("."+x)})}for(var m=[],w,A=0;A<i.length;A++){var y=i[A],M=y[0].trace;u===(M.zorder||0)&&M.xaxis+M.yaxis===c&&((r.indexOf(M.index)!==-1||M.carpet)&&(w&&w[0].trace.xaxis+w[0].trace.yaxis===c&&["tonextx","tonexty","tonext"].indexOf(M.fill)!==-1&&m.indexOf(w)===-1&&m.push(w),m.push(y)),w=y)}mG(e,v,m,t,n)}}};function mG(e,r,t,n,a){for(var o=cf.traceLayerClasses,i=e._fullLayout,l=i._zindices,f=i._modules,s,u,c,v=[],x=[],m=0;m<l.length;m++)for(var w=l[m],A=0;A<f.length;A++){s=f[A];var y=s.name,M=gG.modules[y].categories;if(M.svg){var E=s.layerName||y+"layer",b=E+(m?Number(m)+1:""),T=s.plot;u=yG(t,T,w),c=u[0],t=u[1],c.length&&v.push({i:o.indexOf(E),zindex:m,className:b,plotMethod:T,cdModule:c}),M.zoomScale&&x.push("."+b)}}v.sort(function(g,h){return(g.zindex||0)-(h.zindex||0)||g.i-h.i});var p=r.plot.selectAll("g.mlayer").data(v,function(g){return g.className});if(p.enter().append("g").attr("class",function(g){return g.className}).classed("mlayer",!0).classed("rangeplot",r.isRangePlot),p.exit().remove(),p.order(),p.each(function(g){var h=zb.select(this),S=g.className;g.plotMethod(e,r,g.cdModule,h,n,a),cf.clipOnAxisFalseQuery.indexOf("."+S)===-1&&Dxe.setClipUrl(h,r.layerClipId,e)}),i._has("scattergl")&&(s=gG.getModule("scattergl"),c=yG(t,s)[0],s.plot(e,r,c)),!e._context.staticPlot&&(r._hasClipOnAxisFalse&&(r.clipOnAxisFalseTraces=r.plot.selectAll(cf.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),x.length)){var _=r.plot.selectAll(x.join(",")).selectAll(".trace");r.zoomScalePts=_.selectAll("path.point"),r.zoomScaleTxt=_.selectAll(".textpoint")}}mo.clean=function(e,r,t,n){var a=n._plots||{},o=r._plots||{},i=n._subplots||{},l,f,s;if(n._hasOnlyLargeSploms&&!r._hasOnlyLargeSploms)for(s in a)l=a[s],l.plotgroup&&l.plotgroup.remove();var u=n._has&&n._has("gl"),c=r._has&&r._has("gl");if(u&&!c)for(s in a)l=a[s],l._scene&&l._scene.destroy();if(i.xaxis&&i.yaxis){var v=T0.listIds({_fullLayout:n});for(f=0;f<v.length;f++){var x=v[f];r[T0.id2name(x)]||n._infolayer.selectAll(".g-"+x+"title").remove()}}var m=n._has&&n._has("cartesian"),w=r._has&&r._has("cartesian");if(m&&!w)bG(n._cartesianlayer.selectAll(".subplot"),n),n._defs.selectAll(".axesclip").remove(),delete n._axisConstraintGroups,delete n._axisMatchGroups;else if(i.cartesian)for(f=0;f<i.cartesian.length;f++){var A=i.cartesian[f];if(A.indexOf(Tv)===-1&&!o[A]){var y="."+A+",."+A+"-x,."+A+"-y";n._cartesianlayer.selectAll(y).remove(),_G(A,n)}}};mo.drawFramework=function(e){var r=e._fullLayout,t=e.calcdata,n,a={};for(n=0;n<t.length;n++){var o=t[n][0],i=o.trace,l=i.zorder||0;a[l]||(a[l]=[]),a[l].push(o)}var f=Object.keys(a).map(Number).sort(Av.sorterAsc);f.length||(f=[0]),r._zindices=f;var s=Pxe(e),u=s.length,c=[];for(n=0;n<u;n++)c[n]=s[n].slice();for(var v=1;v<f.length;v++){var x=[];for(n=0;n<u;n++)x[n]=s[n].slice(),x[n][0]+=Tv+(v+1);c=c.concat(x)}var m=r._cartesianlayer.selectAll(".subplot").data(c,String);m.enter().append("g").attr("class",function(w){return"subplot "+w[0]}),m.order(),m.exit().call(bG,r),m.each(function(w){var A=w[0],y=A.indexOf(Tv),M=y!==-1,E=M?A.slice(0,y):A,b=r._plots[A];b||(b=Av.extendFlat({},r._plots[E]),b&&(b.id=A,r._plots[A]=b,r._subplots.cartesian.push(A))),b&&(b.plotgroup=zb.select(this),xG(e,b),M||(b.draglayer=$n(r._draggers,"g",A)))})};mo.rangePlot=function(e,r,t){xG(e,r),mG(e,r,t),Fxe.style(e)};function Pxe(e){var r=e._fullLayout,t=r._zindices.length,n=r._subplots.cartesian,a=n.length,o,i,l,f,s,u,c=[],v=[];for(o=0;o<a;o++){l=n[o],f=r._plots[l],s=f.xaxis,u=f.yaxis;var x=s._mainAxis,m=u._mainAxis,w=x._id+m._id,A=r._plots[w];f.overlays=[],w!==l&&A?(f.mainplot=w,f.mainplotinfo=A,v.push(l)):(f.mainplot=void 0,f.mainplotinfo=void 0,c.push(l))}for(o=0;o<v.length;o++)l=v[o],f=r._plots[l],f.mainplotinfo.overlays.push(f);var y=c.concat(v),M=[];for(o=0;o<a;o++){l=y[o],f=r._plots[l],s=f.xaxis,u=f.yaxis;for(var E=[],b=1;b<=t;b++){var T="";for(b>1&&(T+=Tv+b),E.push(l+T),i=0;i<f.overlays.length;i++)E.push(f.overlays[i].id+T)}E=E.concat([s.layer,u.layer,s.overlaying||"",u.overlaying||""]),M.push(E)}return M}function xG(e,r){var t=e._fullLayout,n=r.plotgroup,a=r.id,o=a.indexOf(Tv),i=o!==-1,l=cf.layerValue2layerClass[r.xaxis.layer],f=cf.layerValue2layerClass[r.yaxis.layer],s=t._hasOnlyLargeSploms,u=t._zindices.length>1,c=r.mainplotinfo;if(!r.mainplot||u)if(s)r.xlines=$n(n,"path","xlines-above"),r.ylines=$n(n,"path","ylines-above"),r.xaxislayer=$n(n,"g","xaxislayer-above"),r.yaxislayer=$n(n,"g","yaxislayer-above");else{if(!i){var v=$n(n,"g","layer-subplot");r.shapelayer=$n(v,"g","shapelayer"),r.imagelayer=$n(v,"g","imagelayer"),c&&u?(r.minorGridlayer=c.minorGridlayer,r.gridlayer=c.gridlayer,r.zerolinelayer=c.zerolinelayer):(r.minorGridlayer=$n(n,"g","minor-gridlayer"),r.gridlayer=$n(n,"g","gridlayer"),r.zerolinelayer=$n(n,"g","zerolinelayer"));var x=$n(n,"g","layer-between");r.shapelayerBetween=$n(x,"g","shapelayer"),r.imagelayerBetween=$n(x,"g","imagelayer"),$n(n,"path","xlines-below"),$n(n,"path","ylines-below"),r.overlinesBelow=$n(n,"g","overlines-below"),$n(n,"g","xaxislayer-below"),$n(n,"g","yaxislayer-below"),r.overaxesBelow=$n(n,"g","overaxes-below")}r.overplot=$n(n,"g","overplot"),r.plot=$n(r.overplot,"g",a),c&&u?r.zerolinelayerAbove=c.zerolinelayerAbove:r.zerolinelayerAbove=$n(n,"g","zerolinelayer-above"),i||(r.xlines=$n(n,"path","xlines-above"),r.ylines=$n(n,"path","ylines-above"),r.overlinesAbove=$n(n,"g","overlines-above"),$n(n,"g","xaxislayer-above"),$n(n,"g","yaxislayer-above"),r.overaxesAbove=$n(n,"g","overaxes-above"),r.xlines=n.select(".xlines-"+l),r.ylines=n.select(".ylines-"+f),r.xaxislayer=n.select(".xaxislayer-"+l),r.yaxislayer=n.select(".yaxislayer-"+f))}else{var m=c.plotgroup,w=a+"-x",A=a+"-y";r.minorGridlayer=c.minorGridlayer,r.gridlayer=c.gridlayer,r.zerolinelayer=c.zerolinelayer,r.zerolinelayerAbove=c.zerolinelayerAbove,$n(c.overlinesBelow,"path",w),$n(c.overlinesBelow,"path",A),$n(c.overaxesBelow,"g",w),$n(c.overaxesBelow,"g",A),r.plot=$n(c.overplot,"g",a),$n(c.overlinesAbove,"path",w),$n(c.overlinesAbove,"path",A),$n(c.overaxesAbove,"g",w),$n(c.overaxesAbove,"g",A),r.xlines=m.select(".overlines-"+l).select("."+w),r.ylines=m.select(".overlines-"+f).select("."+A),r.xaxislayer=m.select(".overaxes-"+l).select("."+w),r.yaxislayer=m.select(".overaxes-"+f).select("."+A)}i||(s||(Bb(r.minorGridlayer,"g",r.xaxis._id),Bb(r.minorGridlayer,"g",r.yaxis._id),r.minorGridlayer.selectAll("g").map(function(y){return y[0]}).sort(T0.idSort),Bb(r.gridlayer,"g",r.xaxis._id),Bb(r.gridlayer,"g",r.yaxis._id),r.gridlayer.selectAll("g").map(function(y){return y[0]}).sort(T0.idSort)),r.xlines.style("fill","none").classed("crisp",!0),r.ylines.style("fill","none").classed("crisp",!0))}function bG(e,r){if(e){var t={};e.each(function(f){var s=f[0],u=zb.select(this);u.remove(),_G(s,r),t[s]=!0});for(var n in r._plots)for(var a=r._plots[n],o=a.overlays||[],i=0;i<o.length;i++){var l=o[i];t[l.id]&&l.plot.selectAll(".trace").remove()}}}function _G(e,r){r._draggers.selectAll("g."+e).remove(),r._defs.select("#clip"+r._uid+e+"plot").remove()}mo.toSVG=function(e){var r=e._fullLayout._glimages,t=zb.select(e).selectAll(".svg-container"),n=t.filter(function(o,i){return i===t.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function a(){var o=this,i=o.toDataURL("image/png"),l=r.append("svg:image");l.attr({xmlns:Ixe.svg,"xlink:href":i,preserveAspectRatio:"none",x:0,y:0,width:o.style.width,height:o.style.height})}n.each(a)};mo.updateFx=uT().updateFx});var AG=fe((xBe,wG)=>{"use strict";var Ub=Ki();wG.exports={hasLines:Ub.hasLines,hasMarkers:Ub.hasMarkers,hasText:Ub.hasText,isBubble:Ub.isBubble,attributes:nc(),layoutAttributes:s3(),supplyDefaults:Uq(),crossTraceDefaults:RT(),supplyLayoutDefaults:Yq(),calc:Ab().calc,crossTraceCalc:yU(),arraysToCalcdata:wb(),plot:LU(),colorbar:Cb(),formatLabels:WT(),style:$T().style,styleOnSelect:$T().styleOnSelect,hoverPoints:NU(),selectPoints:qU(),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:qb(),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}});var EG=fe((bBe,MG)=>{"use strict";var Oxe=Ln(),Nxe=xn(),TG=rT(),i8=tt(),Bxe=i8.strScale,zxe=i8.strRotate,qxe=i8.strTranslate;MG.exports=function(r,t,n){var a=r.node(),o=TG[n.arrowhead||0],i=TG[n.startarrowhead||0],l=(n.arrowwidth||1)*(n.arrowsize||1),f=(n.arrowwidth||1)*(n.startarrowsize||1),s=t.indexOf("start")>=0,u=t.indexOf("end")>=0,c=o.backoff*l+n.standoff,v=i.backoff*f+n.startstandoff,x,m,w,A;if(a.nodeName==="line"){x={x:+r.attr("x1"),y:+r.attr("y1")},m={x:+r.attr("x2"),y:+r.attr("y2")};var y=x.x-m.x,M=x.y-m.y;if(w=Math.atan2(M,y),A=w+Math.PI,c&&v&&c+v>Math.sqrt(y*y+M*M)){F();return}if(c){if(c*c>y*y+M*M){F();return}var E=c*Math.cos(w),b=c*Math.sin(w);m.x+=E,m.y+=b,r.attr({x2:m.x,y2:m.y})}if(v){if(v*v>y*y+M*M){F();return}var T=v*Math.cos(w),p=v*Math.sin(w);x.x-=T,x.y-=p,r.attr({x1:x.x,y1:x.y})}}else if(a.nodeName==="path"){var _=a.getTotalLength(),g="";if(_<c+v){F();return}var h=a.getPointAtLength(0),S=a.getPointAtLength(.1);w=Math.atan2(h.y-S.y,h.x-S.x),x=a.getPointAtLength(Math.min(v,_)),g="0px,"+v+"px,";var d=a.getPointAtLength(_),R=a.getPointAtLength(_-.1);A=Math.atan2(d.y-R.y,d.x-R.x),m=a.getPointAtLength(Math.max(0,_-c));var L=g?v+c:c;g+=_-L+"px,"+_+"px",r.style("stroke-dasharray",g)}function F(){r.style("stroke-dasharray","0px,100px")}function O(P,I,k,D){P.path&&(P.noRotate&&(k=0),Oxe.select(a.parentNode).append("path").attr({class:r.attr("class"),d:P.path,transform:qxe(I.x,I.y)+zxe(k*180/Math.PI)+Bxe(D)}).style({fill:Nxe.rgb(n.arrowcolor),"stroke-width":0}))}s&&O(i,x,w,f),u&&O(o,m,A,l)}});var Gb=fe((_Be,RG)=>{"use strict";var SG=Ln(),o8=Qt(),Uxe=ci(),E0=tt(),l8=E0.strTranslate,Wy=Fa(),Mv=xn(),ic=ta(),CG=of(),s8=po(),f8=Ku(),Yy=nf(),Gxe=da().arrayEditor,Hxe=EG();RG.exports={draw:Vxe,drawOne:kG,drawRaw:LG};function Vxe(e){var r=e._fullLayout;r._infolayer.selectAll(".annotation").remove();for(var t=0;t<r.annotations.length;t++)r.annotations[t].visible&&kG(e,t);return Uxe.previousPromises(e)}function kG(e,r){var t=e._fullLayout,n=t.annotations[r]||{},a=Wy.getFromId(e,n.xref),o=Wy.getFromId(e,n.yref);a&&a.setScale(),o&&o.setScale(),LG(e,n,r,!1,a,o)}function M0(e,r,t,n,a){var o=a[t],i=a[t+"ref"],l=t.indexOf("y")!==-1,f=Wy.getRefType(i)==="domain",s=l?n.h:n.w;return e?f?o+(l?-r:r)/e._length:e.p2r(e.r2p(o)+r):o+(l?-r:r)/s}function LG(e,r,t,n,a,o){var i=e._fullLayout,l=e._fullLayout._size,f=e._context.edits,s,u;n?(s="annotation-"+n,u=n+".annotations"):(s="annotation",u="annotations");var c=Gxe(e.layout,u,r),v=c.modifyBase,x=c.modifyItem,m=c.getUpdateObj;i._infolayer.selectAll("."+s+'[data-index="'+t+'"]').remove();var w="clip"+i._uid+"_ann"+t;if(!r._input||r.visible===!1){SG.selectAll("#"+w).remove();return}var A={x:{},y:{}},y=+r.textangle||0,M=i._infolayer.append("g").classed(s,!0).attr("data-index",String(t)).style("opacity",r.opacity),E=M.append("g").classed("annotation-text-g",!0),b=f[r.showarrow?"annotationTail":"annotationPosition"],T=r.captureevents||f.annotationText||b;function p(D){var z={index:t,annotation:r._input,fullAnnotation:r,event:D};return n&&(z.subplotId=n),z}var _=E.append("g").style("pointer-events",T?"all":null).call(f8,"pointer").on("click",function(){e._dragging=!1,e.emit("plotly_clickannotation",p(SG.event))});r.hovertext&&_.on("mouseover",function(){var D=r.hoverlabel,z=D.font,q=this.getBoundingClientRect(),j=e.getBoundingClientRect();CG.loneHover({x0:q.left-j.left,x1:q.right-j.left,y:(q.top+q.bottom)/2-j.top,text:r.hovertext,color:D.bgcolor,borderColor:D.bordercolor,fontFamily:z.family,fontSize:z.size,fontColor:z.color,fontWeight:z.weight,fontStyle:z.style,fontVariant:z.variant,fontShadow:z.fontShadow,fontLineposition:z.fontLineposition,fontTextcase:z.fontTextcase},{container:i._hoverlayer.node(),outerContainer:i._paper.node(),gd:e})}).on("mouseout",function(){CG.loneUnhover(i._hoverlayer.node())});var g=r.borderwidth,h=r.borderpad,S=g+h,d=_.append("rect").attr("class","bg").style("stroke-width",g+"px").call(Mv.stroke,r.bordercolor).call(Mv.fill,r.bgcolor),R=r.width||r.height,L=i._topclips.selectAll("#"+w).data(R?[0]:[]);L.enter().append("clipPath").classed("annclip",!0).attr("id",w).append("rect"),L.exit().remove();var F=r.font,O=i._meta?E0.templateString(r.text,i._meta):r.text,P=_.append("text").classed("annotation-text",!0).text(O);function I(D){return D.call(ic.font,F).attr({"text-anchor":{left:"start",right:"end"}[r.align]||"middle"}),s8.convertToTspans(D,e,k),D}function k(){var D=P.selectAll("a");if(D.size()===1&&D.text()===P.text()){var z=_.insert("a",":first-child").attr({"xlink:xlink:href":D.attr("xlink:href"),"xlink:xlink:show":D.attr("xlink:show")}).style({cursor:"pointer"});z.node().appendChild(d.node())}var q=_.select(".annotation-text-math-group"),j=!q.empty(),Q=ic.bBox((j?q:P).node()),K=Q.width,G=Q.height,B=r.width||K,Z=r.height||G,ie=Math.round(B+2*S),J=Math.round(Z+2*S);function le(Te,be){return be==="auto"&&(Te<1/3?be="left":Te>2/3?be="right":be="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[be]}for(var te=!1,V=["x","y"],ne=0;ne<V.length;ne++){var Y=V[ne],oe=r[Y+"ref"]||Y,pe=r["a"+Y+"ref"],we={x:a,y:o}[Y],De=(y+(Y==="x"?0:-90))*Math.PI/180,Re=ie*Math.cos(De),Ae=J*Math.sin(De),Ie=Math.abs(Re)+Math.abs(Ae),Be=r[Y+"anchor"],je=r[Y+"shift"]*(Y==="x"?1:-1),Ne=A[Y],Qe,pr,Se,Fe,hr,dr=Wy.getRefType(oe);if(we&&dr!=="domain"){var kr=we.r2fraction(r[Y]);(kr<0||kr>1)&&(pe===oe?(kr=we.r2fraction(r["a"+Y]),(kr<0||kr>1)&&(te=!0)):te=!0),Qe=we._offset+we.r2p(r[Y]),Fe=.5}else{var Ue=dr==="domain";Y==="x"?(Se=r[Y],Qe=Ue?we._offset+we._length*Se:Qe=l.l+l.w*Se):(Se=1-r[Y],Qe=Ue?we._offset+we._length*Se:Qe=l.t+l.h*Se),Fe=r.showarrow?.5:Se}if(r.showarrow){Ne.head=Qe;var He=r["a"+Y];if(hr=Re*le(.5,r.xanchor)-Ae*le(.5,r.yanchor),pe===oe){var Xe=Wy.getRefType(pe);Xe==="domain"?(Y==="y"&&(He=1-He),Ne.tail=we._offset+we._length*He):Xe==="paper"?Y==="y"?(He=1-He,Ne.tail=l.t+l.h*He):Ne.tail=l.l+l.w*He:Ne.tail=we._offset+we.r2p(He),pr=hr}else Ne.tail=Qe+He,pr=hr+He;Ne.text=Ne.tail+hr;var fr=i[Y==="x"?"width":"height"];if(oe==="paper"&&(Ne.head=E0.constrain(Ne.head,1,fr-1)),pe==="pixel"){var Mr=-Math.max(Ne.tail-3,Ne.text),qr=Math.min(Ne.tail+3,Ne.text)-fr;Mr>0?(Ne.tail+=Mr,Ne.text+=Mr):qr>0&&(Ne.tail-=qr,Ne.text-=qr)}Ne.tail+=je,Ne.head+=je}else hr=Ie*le(Fe,Be),pr=hr,Ne.text=Qe+hr;Ne.text+=je,hr+=je,pr+=je,r["_"+Y+"padplus"]=Ie/2+pr,r["_"+Y+"padminus"]=Ie/2-pr,r["_"+Y+"size"]=Ie,r["_"+Y+"shift"]=hr}if(te){_.remove();return}var et=0,jr=0;if(r.align!=="left"&&(et=(B-K)*(r.align==="center"?.5:1)),r.valign!=="top"&&(jr=(Z-G)*(r.valign==="middle"?.5:1)),j)q.select("svg").attr({x:S+et-1,y:S+jr}).call(ic.setClipUrl,R?w:null,e);else{var Or=S+jr-Q.top,_r=S+et-Q.left;P.call(s8.positionText,_r,Or).call(ic.setClipUrl,R?w:null,e)}L.select("rect").call(ic.setRect,S,S,B,Z),d.call(ic.setRect,g/2,g/2,ie-g,J-g),_.call(ic.setTranslate,Math.round(A.x.text-ie/2),Math.round(A.y.text-J/2)),E.attr({transform:"rotate("+y+","+A.x.text+","+A.y.text+")"});var qe=function(Te,be){M.selectAll(".annotation-arrow-g").remove();var Ge=A.x.head,ae=A.y.head,W=A.x.tail+Te,re=A.y.tail+be,Ee=A.x.text+Te,We=A.y.text+be,lr=E0.rotationXYMatrix(y,Ee,We),sr=E0.apply2DTransform(lr),Yr=E0.apply2DTransform2(lr),rt=+d.attr("width"),zr=+d.attr("height"),vt=Ee-.5*rt,dt=vt+rt,qt=We-.5*zr,Nt=qt+zr,_t=[[vt,qt,vt,Nt],[vt,Nt,dt,Nt],[dt,Nt,dt,qt],[dt,qt,vt,qt]].map(Yr);if(!_t.reduce(function(Mn,Ea){return Mn^!!E0.segmentsIntersect(Ge,ae,Ge+1e6,ae+1e6,Ea[0],Ea[1],Ea[2],Ea[3])},!1)){_t.forEach(function(Mn){var Ea=E0.segmentsIntersect(W,re,Ge,ae,Mn[0],Mn[1],Mn[2],Mn[3]);Ea&&(W=Ea.x,re=Ea.y)});var Jt=r.arrowwidth,Ut=r.arrowcolor,$t=r.arrowside,cn=M.append("g").style({opacity:Mv.opacity(Ut)}).classed("annotation-arrow-g",!0),jt=cn.append("path").attr("d","M"+W+","+re+"L"+Ge+","+ae).style("stroke-width",Jt+"px").call(Mv.stroke,Mv.rgb(Ut));if(Hxe(jt,$t,r),f.annotationPosition&&jt.node().parentNode&&!n){var Kt=Ge,_n=ae;if(r.standoff){var Cn=Math.sqrt(Math.pow(Ge-W,2)+Math.pow(ae-re,2));Kt+=r.standoff*(W-Ge)/Cn,_n+=r.standoff*(re-ae)/Cn}var ua=cn.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(W-Kt)+","+(re-_n),transform:l8(Kt,_n)}).style("stroke-width",Jt+6+"px").call(Mv.stroke,"rgba(0,0,0,0)").call(Mv.fill,"rgba(0,0,0,0)"),ra,la;Yy.init({element:ua.node(),gd:e,prepFn:function(){var Mn=ic.getTranslate(_);ra=Mn.x,la=Mn.y,a&&a.autorange&&v(a._name+".autorange",!0),o&&o.autorange&&v(o._name+".autorange",!0)},moveFn:function(Mn,Ea){var oo=sr(ra,la),Zi=oo[0]+Mn,Si=oo[1]+Ea;_.call(ic.setTranslate,Zi,Si),x("x",M0(a,Mn,"x",l,r)),x("y",M0(o,Ea,"y",l,r)),r.axref===r.xref&&x("ax",M0(a,Mn,"ax",l,r)),r.ayref===r.yref&&x("ay",M0(o,Ea,"ay",l,r)),cn.attr("transform",l8(Mn,Ea)),E.attr({transform:"rotate("+y+","+Zi+","+Si+")"})},doneFn:function(){o8.call("_guiRelayout",e,m());var Mn=document.querySelector(".js-notes-box-panel");Mn&&Mn.redraw(Mn.selectedObj)}})}}};if(r.showarrow&&qe(0,0),b){var nr;Yy.init({element:_.node(),gd:e,prepFn:function(){nr=E.attr("transform")},moveFn:function(Te,be){var Ge="pointer";if(r.showarrow)r.axref===r.xref?x("ax",M0(a,Te,"ax",l,r)):x("ax",r.ax+Te),r.ayref===r.yref?x("ay",M0(o,be,"ay",l.w,r)):x("ay",r.ay+be),qe(Te,be);else{if(n)return;var ae,W;if(a)ae=M0(a,Te,"x",l,r);else{var re=r._xsize/l.w,Ee=r.x+(r._xshift-r.xshift)/l.w-re/2;ae=Yy.align(Ee+Te/l.w,re,0,1,r.xanchor)}if(o)W=M0(o,be,"y",l,r);else{var We=r._ysize/l.h,lr=r.y-(r._yshift+r.yshift)/l.h-We/2;W=Yy.align(lr-be/l.h,We,0,1,r.yanchor)}x("x",ae),x("y",W),(!a||!o)&&(Ge=Yy.getCursor(a?.5:ae,o?.5:W,r.xanchor,r.yanchor))}E.attr({transform:l8(Te,be)+nr}),f8(_,Ge)},clickFn:function(Te,be){r.captureevents&&e.emit("plotly_clickannotation",p(be))},doneFn:function(){f8(_),o8.call("_guiRelayout",e,m());var Te=document.querySelector(".js-notes-box-panel");Te&&Te.redraw(Te.selectedObj)}})}}f.annotationText?P.call(s8.makeEditable,{delegate:_,gd:e}).call(I).on("edit",function(D){r.text=D,this.call(I),x("text",D),a&&a.autorange&&v(a._name+".autorange",!0),o&&o.autorange&&v(o._name+".autorange",!0),o8.call("_guiRelayout",e,m())}):P.call(I)}});var NG=fe((wBe,OG)=>{"use strict";var FG=tt(),Yxe=Qt(),DG=da().arrayEditor;OG.exports={hasClickToShow:Wxe,onClick:Xxe};function Wxe(e,r){var t=PG(e,r);return t.on.length>0||t.explicitOff.length>0}function Xxe(e,r){var t=PG(e,r),n=t.on,a=t.off.concat(t.explicitOff),o={},i=e._fullLayout.annotations,l,f;if(n.length||a.length){for(l=0;l<n.length;l++)f=DG(e.layout,"annotations",i[n[l]]),f.modifyItem("visible",!0),FG.extendFlat(o,f.getUpdateObj());for(l=0;l<a.length;l++)f=DG(e.layout,"annotations",i[a[l]]),f.modifyItem("visible",!1),FG.extendFlat(o,f.getUpdateObj());return Yxe.call("update",e,{},o)}}function PG(e,r){var t=e._fullLayout.annotations,n=[],a=[],o=[],i=(r||[]).length,l,f,s,u,c,v,x,m;for(l=0;l<t.length;l++)if(s=t[l],u=s.clicktoshow,u){for(f=0;f<i;f++)if(c=r[f],v=c.xaxis,x=c.yaxis,v._id===s.xref&&x._id===s.yref&&v.d2r(c.x)===IG(s._xclick,v)&&x.d2r(c.y)===IG(s._yclick,x)){s.visible?u==="onout"?m=a:m=o:m=n,m.push(l);break}f===i&&s.visible&&u==="onout"&&a.push(l)}return{on:n,off:a,explicitOff:o}}function IG(e,r){return r.type==="log"?r.l2r(e):r.d2r(e)}});var c8=fe((ABe,BG)=>{"use strict";var u8=tt(),D1=xn();BG.exports=function(r,t,n,a){a("opacity");var o=a("bgcolor"),i=a("bordercolor"),l=D1.opacity(i);a("borderpad");var f=a("borderwidth"),s=a("showarrow");a("text",s?" ":n._dfltTitle.annotation),a("textangle"),u8.coerceFont(a,"font",n.font),a("width"),a("align");var u=a("height");if(u&&a("valign"),s){var c=a("arrowside"),v,x;c.indexOf("end")!==-1&&(v=a("arrowhead"),x=a("arrowsize")),c.indexOf("start")!==-1&&(a("startarrowhead",v),a("startarrowsize",x)),a("arrowcolor",l?t.bordercolor:D1.defaultLine),a("arrowwidth",(l&&f||1)*2),a("standoff"),a("startstandoff")}var m=a("hovertext"),w=n.hoverlabel||{};if(m){var A=a("hoverlabel.bgcolor",w.bgcolor||(D1.opacity(o)?D1.rgb(o):D1.defaultLine)),y=a("hoverlabel.bordercolor",w.bordercolor||D1.contrast(A)),M=u8.extendFlat({},w.font);M.color||(M.color=y),u8.coerceFont(a,"hoverlabel.font",M)}a("captureevents",!!m)}});var qG=fe((TBe,zG)=>{"use strict";var h8=tt(),Ev=Fa(),jxe=rf(),Zxe=c8(),$xe=A1();zG.exports=function(r,t){jxe(r,t,{name:"annotations",handleItemDefaults:Jxe})};function Jxe(e,r,t){function n(E,b){return h8.coerce(e,r,$xe,E,b)}var a=n("visible"),o=n("clicktoshow");if(a||o){Zxe(e,r,t,n);for(var i=r.showarrow,l=["x","y"],f=[-10,-30],s={_fullLayout:t},u=0;u<2;u++){var c=l[u],v=Ev.coerceRef(e,r,s,c,"","paper");if(v!=="paper"){var x=Ev.getFromId(s,v);x._annIndices.push(r._index)}if(Ev.coercePosition(r,s,n,v,c,.5),i){var m="a"+c,w=Ev.coerceRef(e,r,s,m,"pixel",["pixel","paper"]);w!=="pixel"&&w!==v&&(w=r[m]="pixel");var A=w==="pixel"?f[u]:.4;Ev.coercePosition(r,s,n,w,m,A)}n(c+"anchor"),n(c+"shift")}if(h8.noneOrAll(e,r,["x","y"]),i&&h8.noneOrAll(e,r,["ax","ay"]),o){var y=n("xclick"),M=n("yclick");r._xclick=y===void 0?r.x:Ev.cleanPosition(y,s,r.xref),r._yclick=M===void 0?r.y:Ev.cleanPosition(M,s,r.yref)}}}});var HG=fe((MBe,GG)=>{"use strict";var v8=tt(),Sv=Fa(),Kxe=Gb().draw;GG.exports=function(r){var t=r._fullLayout,n=v8.filterVisible(t.annotations);if(n.length&&r._fullData.length)return v8.syncOrAsync([Kxe,Qxe],r)};function Qxe(e){var r=e._fullLayout;v8.filterVisible(r.annotations).forEach(function(t){var n=Sv.getFromId(e,t.xref),a=Sv.getFromId(e,t.yref),o=Sv.getRefType(t.xref),i=Sv.getRefType(t.yref);t._extremes={},o==="range"&&UG(t,n),i==="range"&&UG(t,a)})}function UG(e,r){var t=r._id,n=t.charAt(0),a=e[n],o=e["a"+n],i=e[n+"ref"],l=e["a"+n+"ref"],f=e["_"+n+"padplus"],s=e["_"+n+"padminus"],u={x:1,y:-1}[n]*e[n+"shift"],c=3*e.arrowsize*e.arrowwidth||0,v=c+u,x=c-u,m=3*e.startarrowsize*e.arrowwidth||0,w=m+u,A=m-u,y;if(l===i){var M=Sv.findExtremes(r,[r.r2c(a)],{ppadplus:v,ppadminus:x}),E=Sv.findExtremes(r,[r.r2c(o)],{ppadplus:Math.max(f,w),ppadminus:Math.max(s,A)});y={min:[M.min[0],E.min[0]],max:[M.max[0],E.max[0]]}}else w=o?w+o:w,A=o?A-o:A,y=Sv.findExtremes(r,[r.r2c(a)],{ppadplus:Math.max(f,v,w),ppadminus:Math.max(s,x,A)});e._extremes[t]=y}});var YG=fe((EBe,VG)=>{"use strict";var ebe=kn(),rbe=R2();VG.exports=function(r,t,n,a){t=t||{};var o=n==="log"&&t.type==="linear",i=n==="linear"&&t.type==="log";if(!(o||i))return;var l=r._fullLayout.annotations,f=t._id.charAt(0),s,u;function c(x){var m=s[x],w=null;o?w=rbe(m,t.range):w=Math.pow(10,m),ebe(w)||(w=null),a(u+x,w)}for(var v=0;v<l.length;v++)s=l[v],u="annotations["+v+"].",s[f+"ref"]===t._id&&c(f),s["a"+f+"ref"]===t._id&&c("a"+f)}});var jG=fe((SBe,XG)=>{"use strict";var d8=Gb(),WG=NG();XG.exports={moduleType:"component",name:"annotations",layoutAttributes:A1(),supplyLayoutDefaults:qG(),includeBasePlot:Sy()("annotations"),calcAutorange:HG(),draw:d8.draw,drawOne:d8.drawOne,drawRaw:d8.drawRaw,hasClickToShow:WG.hasClickToShow,onClick:WG.onClick,convertCoords:YG()}});var Hb=fe((CBe,ZG)=>{"use strict";var ma=A1(),tbe=vl().overrideAll,nbe=da().templatedArray;ZG.exports=tbe(nbe("annotation",{visible:ma.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:ma.xanchor,xshift:ma.xshift,yanchor:ma.yanchor,yshift:ma.yshift,text:ma.text,textangle:ma.textangle,font:ma.font,width:ma.width,height:ma.height,opacity:ma.opacity,align:ma.align,valign:ma.valign,bgcolor:ma.bgcolor,bordercolor:ma.bordercolor,borderpad:ma.borderpad,borderwidth:ma.borderwidth,showarrow:ma.showarrow,arrowcolor:ma.arrowcolor,arrowhead:ma.arrowhead,startarrowhead:ma.startarrowhead,arrowside:ma.arrowside,arrowsize:ma.arrowsize,startarrowsize:ma.startarrowsize,arrowwidth:ma.arrowwidth,standoff:ma.standoff,startstandoff:ma.startstandoff,hovertext:ma.hovertext,hoverlabel:ma.hoverlabel,captureevents:ma.captureevents}),"calc","from-root")});var JG=fe((kBe,$G)=>{"use strict";var p8=tt(),abe=Fa(),ibe=rf(),obe=c8(),lbe=Hb();$G.exports=function(r,t,n){ibe(r,t,{name:"annotations",handleItemDefaults:sbe,fullLayout:n.fullLayout})};function sbe(e,r,t,n){function a(l,f){return p8.coerce(e,r,lbe,l,f)}function o(l){var f=l+"axis",s={_fullLayout:{}};return s._fullLayout[f]=t[f],abe.coercePosition(r,s,a,l,l,.5)}var i=a("visible");i&&(obe(e,r,n.fullLayout,a),o("x"),o("y"),o("z"),p8.noneOrAll(e,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",a("xanchor"),a("yanchor"),a("xshift"),a("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",a("ax",-10),a("ay",-30),p8.noneOrAll(e,r,["ax","ay"])))}});var rH=fe((LBe,eH)=>{"use strict";var KG=tt(),QG=Fa();eH.exports=function(r){for(var t=r.fullSceneLayout,n=t.annotations,a=0;a<n.length;a++)fbe(n[a],r);r.fullLayout._infolayer.selectAll(".annotation-"+r.id).remove()};function fbe(e,r){var t=r.fullSceneLayout,n=t.domain,a=r.fullLayout._size,o={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},KG.extendFlat(e._xa,o),QG.setConvert(e._xa),e._xa._offset=a.l+n.x[0]*a.w,e._xa.l2p=function(){return .5*(1+e._pdata[0]/e._pdata[3])*a.w*(n.x[1]-n.x[0])},e._ya={},KG.extendFlat(e._ya,o),QG.setConvert(e._ya),e._ya._offset=a.t+(1-n.y[1])*a.h,e._ya.l2p=function(){return .5*(1-e._pdata[1]/e._pdata[3])*a.h*(n.y[1]-n.y[0])}}});var y8=fe((RBe,tH)=>{"use strict";function g8(e,r){var t=[0,0,0,0],n,a;for(n=0;n<4;++n)for(a=0;a<4;++a)t[a]+=e[4*n+a]*r[n];return t}function ube(e,r){var t=g8(e.projection,g8(e.view,g8(e.model,[r[0],r[1],r[2],1])));return t}tH.exports=ube});var aH=fe((FBe,nH)=>{"use strict";var cbe=Gb().drawRaw,hbe=y8(),vbe=["x","y","z"];nH.exports=function(r){for(var t=r.fullSceneLayout,n=r.dataScale,a=t.annotations,o=0;o<a.length;o++){for(var i=a[o],l=!1,f=0;f<3;f++){var s=vbe[f],u=i[s],c=t[s+"axis"],v=c.r2fraction(u);if(v<0||v>1){l=!0;break}}l?r.fullLayout._infolayer.select(".annotation-"+r.id+'[data-index="'+o+'"]').remove():(i._pdata=hbe(r.glplot.cameraParams,[t.xaxis.r2l(i.x)*n[0],t.yaxis.r2l(i.y)*n[1],t.zaxis.r2l(i.z)*n[2]]),cbe(r.graphDiv,i,o,r.id,i._xa,i._ya))}}});var lH=fe((DBe,oH)=>{"use strict";var dbe=Qt(),iH=tt();oH.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:Hb()}}},layoutAttributes:Hb(),handleDefaults:JG(),includeBasePlot:pbe,convert:rH(),draw:aH()};function pbe(e,r){var t=dbe.subplotsRegistry.gl3d;if(t)for(var n=t.attrRegex,a=Object.keys(e),o=0;o<a.length;o++){var i=a[o];n.test(i)&&(e[i].annotations||[]).length&&(iH.pushUnique(r._basePlotModules,t),iH.pushUnique(r._subplots.gl3d,i))}}});var m8=fe((PBe,cH)=>{"use strict";var sH=A1(),fH=Fi(),uH=nc().line,gbe=$s().dash,hf=Na().extendFlat,ybe=da().templatedArray,IBe=My(),I1=ul(),mbe=dl().shapeTexttemplateAttrs,xbe=U2();cH.exports=ybe("shape",{visible:hf({},I1.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:hf({},I1.legend,{editType:"calc+arraydraw"}),legendgroup:hf({},I1.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:hf({},I1.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:fH({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:hf({},I1.legendrank,{editType:"calc+arraydraw"}),legendwidth:hf({},I1.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:hf({},sH.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:hf({},sH.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:hf({},uH.color,{editType:"arraydraw"}),width:hf({},uH.width,{editType:"calc+arraydraw"}),dash:hf({},gbe,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:mbe({},{keys:Object.keys(xbe)}),font:fH({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})});var dH=fe((OBe,vH)=>{"use strict";var Xy=tt(),P1=Fa(),bbe=rf(),_be=m8(),hH=x0();vH.exports=function(r,t){bbe(r,t,{name:"shapes",handleItemDefaults:Abe})};function wbe(e,r){return e?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}function Abe(e,r,t){function n(D,z){return Xy.coerce(e,r,_be,D,z)}r._isShape=!0;var a=n("visible");if(a){var o=n("showlegend");o&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),Xy.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var i=n("path"),l=i?"path":"rect",f=n("type",l),s=f!=="path";s&&delete r.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var u=n("line.width");u&&(n("line.color"),n("line.dash"));for(var c=n("xsizemode"),v=n("ysizemode"),x=["x","y"],m=0;m<2;m++){var w=x[m],A=w+"anchor",y=w==="x"?c:v,M={_fullLayout:t},E,b,T,p=P1.coerceRef(e,r,M,w,void 0,"paper"),_=P1.getRefType(p);if(_==="range"?(E=P1.getFromId(M,p),E._shapeIndices.push(r._index),T=hH.rangeToShapePosition(E),b=hH.shapePositionToRange(E),(E.type==="category"||E.type==="multicategory")&&(n(w+"0shift"),n(w+"1shift"))):b=T=Xy.identity,s){var g=.25,h=.75,S=w+"0",d=w+"1",R=e[S],L=e[d];e[S]=b(e[S],!0),e[d]=b(e[d],!0),y==="pixel"?(n(S,0),n(d,10)):(P1.coercePosition(r,M,n,p,S,g),P1.coercePosition(r,M,n,p,d,h)),r[S]=T(r[S]),r[d]=T(r[d]),e[S]=R,e[d]=L}if(y==="pixel"){var F=e[A];e[A]=b(e[A],!0),P1.coercePosition(r,M,n,p,A,.25),r[A]=T(r[A]),e[A]=F}}s&&Xy.noneOrAll(e,r,["x0","x1","y0","y1"]);var O=f==="line",P,I;if(s&&(P=n("label.texttemplate")),P||(I=n("label.text")),I||P){n("label.textangle");var k=n("label.textposition",O?"middle":"middle center");n("label.xanchor"),n("label.yanchor",wbe(O,k)),n("label.padding"),Xy.coerceFont(n,"label.font",t.font)}}}});var yH=fe((NBe,gH)=>{"use strict";var Tbe=xn(),pH=tt();function Mbe(e,r){return e?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}gH.exports=function(r,t,n){n("newshape.visible"),n("newshape.name"),n("newshape.showlegend"),n("newshape.legend"),n("newshape.legendwidth"),n("newshape.legendgroup"),n("newshape.legendgrouptitle.text"),pH.coerceFont(n,"newshape.legendgrouptitle.font"),n("newshape.legendrank"),n("newshape.drawdirection"),n("newshape.layer"),n("newshape.fillcolor"),n("newshape.fillrule"),n("newshape.opacity");var a=n("newshape.line.width");if(a){var o=(r||{}).plot_bgcolor||"#FFF";n("newshape.line.color",Tbe.contrast(o)),n("newshape.line.dash")}var i=r.dragmode==="drawline",l=n("newshape.label.text"),f=n("newshape.label.texttemplate");if(l||f){n("newshape.label.textangle");var s=n("newshape.label.textposition",i?"middle":"middle center");n("newshape.label.xanchor"),n("newshape.label.yanchor",Mbe(i,s)),n("newshape.label.padding"),pH.coerceFont(n,"newshape.label.font",t.font)}n("activeshape.fillcolor"),n("activeshape.opacity")}});var wH=fe((BBe,_H)=>{"use strict";var x8=tt(),O1=Fa(),N1=iy(),xH=x0();_H.exports=function(r){var t=r._fullLayout,n=x8.filterVisible(t.shapes);if(!(!n.length||!r._fullData.length))for(var a=0;a<n.length;a++){var o=n[a];o._extremes={};var i,l,f=O1.getRefType(o.xref),s=O1.getRefType(o.yref);o.xref!=="paper"&&f!=="domain"&&(i=O1.getFromId(r,o.xref),l=mH(i,o,N1.paramIsX),l&&(o._extremes[i._id]=O1.findExtremes(i,l,Ebe(o)))),o.yref!=="paper"&&s!=="domain"&&(i=O1.getFromId(r,o.yref),l=mH(i,o,N1.paramIsY),l&&(o._extremes[i._id]=O1.findExtremes(i,l,Sbe(o))))}};function Ebe(e){return bH(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function Sbe(e){return bH(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function bH(e,r,t,n,a,o){var i=e/2,l=o;if(r==="pixel"){var f=a?xH.extractPathCoords(a,o?N1.paramIsY:N1.paramIsX):[t,n],s=x8.aggNums(Math.max,null,f),u=x8.aggNums(Math.min,null,f),c=u<0?Math.abs(u)+i:i,v=s>0?s+i:i;return{ppad:i,ppadplus:l?c:v,ppadminus:l?v:c}}else return{ppad:i}}function mH(e,r,t){var n=e._id.charAt(0)==="x"?"x":"y",a=e.type==="category"||e.type==="multicategory",o,i,l=0,f=0,s=a?e.r2c:e.d2c,u=r[n+"sizemode"]==="scaled";if(u?(o=r[n+"0"],i=r[n+"1"],a&&(l=r[n+"0shift"],f=r[n+"1shift"])):(o=r[n+"anchor"],i=r[n+"anchor"]),o!==void 0)return[s(o)+l,s(i)+f];if(r.path){var c=1/0,v=-1/0,x=r.path.match(N1.segmentRE),m,w,A,y,M;for(e.type==="date"&&(s=xH.decodeDate(s)),m=0;m<x.length;m++)w=x[m],A=t[w.charAt(0)].drawn,A!==void 0&&(y=x[m].substr(1).match(N1.paramRE),!(!y||y.length<A)&&(M=s(y[A]),M<c&&(c=M),M>v&&(v=M)));if(v>=c)return[c,v]}}});var MH=fe((zBe,TH)=>{"use strict";var AH=Mx();TH.exports={moduleType:"component",name:"shapes",layoutAttributes:m8(),supplyLayoutDefaults:dH(),supplyDrawNewShapeDefaults:yH(),includeBasePlot:Sy()("shapes"),calcAutorange:wH(),draw:AH.draw,drawOne:AH.drawOne}});var b8=fe((UBe,SH)=>{"use strict";var EH=Ji(),Cbe=da().templatedArray,qBe=My();SH.exports=Cbe("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",EH.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",EH.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})});var kH=fe((GBe,CH)=>{"use strict";var kbe=tt(),_8=Fa(),Lbe=rf(),Rbe=b8(),Fbe="images";CH.exports=function(r,t){var n={name:Fbe,handleItemDefaults:Dbe};Lbe(r,t,n)};function Dbe(e,r,t){function n(v,x){return kbe.coerce(e,r,Rbe,v,x)}var a=n("source"),o=n("visible",!!a);if(!o)return r;n("layer"),n("xanchor"),n("yanchor"),n("sizex"),n("sizey"),n("sizing"),n("opacity");for(var i={_fullLayout:t},l=["x","y"],f=0;f<2;f++){var s=l[f],u=_8.coerceRef(e,r,i,s,"paper",void 0);if(u!=="paper"){var c=_8.getFromId(i,u);c._imgIndices.push(r._index)}_8.coercePosition(r,i,n,u,s,0)}return r}});var DH=fe((HBe,FH)=>{"use strict";var LH=Ln(),Ibe=ta(),B1=Fa(),RH=ti(),Pbe=f0();FH.exports=function(r){var t=r._fullLayout,n=[],a={},o=[],i,l;for(l=0;l<t.images.length;l++){var f=t.images[l];if(f.visible)if(f.layer==="below"&&f.xref!=="paper"&&f.yref!=="paper"){i=RH.ref2id(f.xref)+RH.ref2id(f.yref);var s=t._plots[i];if(!s){o.push(f);continue}s.mainplot&&(i=s.mainplot.id),a[i]||(a[i]=[]),a[i].push(f)}else f.layer==="above"?n.push(f):o.push(f)}var u={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function c(b){var T=LH.select(this);if(this._imgSrc!==b.source)if(T.attr("xmlns",Pbe.svg),!r._context.staticPlot||b.source&&b.source.slice(0,5)==="data:")T.attr("xlink:href",b.source),this._imgSrc=b.source;else{var p=new Promise(function(_){var g=new Image;this.img=g,g.setAttribute("crossOrigin","anonymous"),g.onerror=h,g.onload=function(){var S=document.createElement("canvas");S.width=this.width,S.height=this.height;var d=S.getContext("2d",{willReadFrequently:!0});d.drawImage(this,0,0);var R=S.toDataURL("image/png");T.attr("xlink:href",R),_()},T.on("error",h),g.src=b.source,this._imgSrc=b.source;function h(){T.remove(),_()}}.bind(this));r._promises.push(p)}}function v(b){var T=LH.select(this),p=B1.getFromId(r,b.xref),_=B1.getFromId(r,b.yref),g=B1.getRefType(b.xref)==="domain",h=B1.getRefType(b.yref)==="domain",S=t._size,d,R;p!==void 0?d=typeof b.xref=="string"&&g?p._length*b.sizex:Math.abs(p.l2p(b.sizex)-p.l2p(0)):d=b.sizex*S.w,_!==void 0?R=typeof b.yref=="string"&&h?_._length*b.sizey:Math.abs(_.l2p(b.sizey)-_.l2p(0)):R=b.sizey*S.h;var L=d*u.x[b.xanchor].offset,F=R*u.y[b.yanchor].offset,O=u.x[b.xanchor].sizing+u.y[b.yanchor].sizing,P,I;switch(p!==void 0?P=typeof b.xref=="string"&&g?p._length*b.x+p._offset:p.r2p(b.x)+p._offset:P=b.x*S.w+S.l,P+=L,_!==void 0?I=typeof b.yref=="string"&&h?_._length*(1-b.y)+_._offset:_.r2p(b.y)+_._offset:I=S.h-b.y*S.h+S.t,I+=F,b.sizing){case"fill":O+=" slice";break;case"stretch":O="none";break}T.attr({x:P,y:I,width:d,height:R,preserveAspectRatio:O,opacity:b.opacity});var k=p&&B1.getRefType(b.xref)!=="domain"?p._id:"",D=_&&B1.getRefType(b.yref)!=="domain"?_._id:"",z=k+D;Ibe.setClipUrl(T,z?"clip"+t._uid+z:null,r)}function x(b){return[b.xref,b.x,b.sizex,b.yref,b.y,b.sizey].join("_")}function m(b,T){return b._index-T._index}var w=t._imageLowerLayer.selectAll("image").data(o,x),A=t._imageUpperLayer.selectAll("image").data(n,x);w.enter().append("image"),A.enter().append("image"),w.exit().remove(),A.exit().remove(),w.each(function(b){c.bind(this)(b),v.bind(this)(b)}),A.each(function(b){c.bind(this)(b),v.bind(this)(b)}),w.sort(m),A.sort(m);var y=Object.keys(t._plots);for(l=0;l<y.length;l++){i=y[l];var M=t._plots[i];if(M.imagelayer){var E=M.imagelayer.selectAll("image").data(a[i]||[],x);E.enter().append("image"),E.exit().remove(),E.each(function(b){c.bind(this)(b),v.bind(this)(b)}),E.sort(m)}}}});var OH=fe((VBe,PH)=>{"use strict";var IH=kn(),Obe=R2();PH.exports=function(r,t,n,a){t=t||{};var o=n==="log"&&t.type==="linear",i=n==="linear"&&t.type==="log";if(o||i){for(var l=r._fullLayout.images,f=t._id.charAt(0),s,u,c=0;c<l.length;c++)if(s=l[c],u="images["+c+"].",s[f+"ref"]===t._id){var v=s[f],x=s["size"+f],m=null,w=null;if(o){m=Obe(v,t.range);var A=x/Math.pow(10,m)/2;w=2*Math.log(A+Math.sqrt(1+A*A))/Math.LN10}else m=Math.pow(10,v),w=m*(Math.pow(10,x/2)-Math.pow(10,-x/2));IH(m)?IH(w)||(w=null):(m=null,w=null),a(u+f,m),a(u+"size"+f,w)}}}});var BH=fe((YBe,NH)=>{"use strict";NH.exports={moduleType:"component",name:"images",layoutAttributes:b8(),supplyLayoutDefaults:kH(),includeBasePlot:Sy()("images"),draw:DH(),convertCoords:OH()}});var Vb=fe((WBe,zH)=>{"use strict";zH.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25C4",right:"\u25BA",up:"\u25B2",down:"\u25BC"}}});var w8=fe((XBe,UH)=>{"use strict";var Nbe=Fi(),Bbe=Zs(),zbe=Na().extendFlat,qbe=vl().overrideAll,Ube=G2(),qH=da().templatedArray,Gbe=qH("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});UH.exports=qbe(qH("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:Gbe,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:zbe(Ube({editType:"arraydraw"}),{}),font:Nbe({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:Bbe.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")});var YH=fe((jBe,VH)=>{"use strict";var Yb=tt(),GH=rf(),HH=w8(),Hbe=Vb(),Vbe=Hbe.name,Ybe=HH.buttons;VH.exports=function(r,t){var n={name:Vbe,handleItemDefaults:Wbe};GH(r,t,n)};function Wbe(e,r,t){function n(i,l){return Yb.coerce(e,r,HH,i,l)}var a=GH(e,r,{name:"buttons",handleItemDefaults:Xbe}),o=n("visible",a.length>0);o&&(n("active"),n("direction"),n("type"),n("showactive"),n("x"),n("y"),Yb.noneOrAll(e,r,["x","y"]),n("xanchor"),n("yanchor"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),Yb.coerceFont(n,"font",t.font),n("bgcolor",t.paper_bgcolor),n("bordercolor"),n("borderwidth"))}function Xbe(e,r){function t(a,o){return Yb.coerce(e,r,Ybe,a,o)}var n=t("visible",e.method==="skip"||Array.isArray(e.args));n&&(t("method"),t("args"),t("args2"),t("label"),t("execute"))}});var jH=fe((ZBe,XH)=>{"use strict";XH.exports=Ba;var vf=Ln(),WH=xn(),z1=ta(),Wb=tt();function Ba(e,r,t){this.gd=e,this.container=r,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}Ba.barWidth=2;Ba.barLength=20;Ba.barRadius=2;Ba.barPad=1;Ba.barColor="#808BA4";Ba.prototype.enable=function(r,t,n){var a=this.gd._fullLayout,o=a.width,i=a.height;this.position=r;var l=this.position.l,f=this.position.w,s=this.position.t,u=this.position.h,c=this.position.direction,v=c==="down",x=c==="left",m=c==="right",w=c==="up",A=f,y=u,M,E,b,T;!v&&!x&&!m&&!w&&(this.position.direction="down",v=!0);var p=v||w;p?(M=l,E=M+A,v?(b=s,T=Math.min(b+y,i),y=T-b):(T=s+y,b=Math.max(T-y,0),y=T-b)):(b=s,T=b+y,x?(E=l+A,M=Math.max(E-A,0),A=E-M):(M=l,E=Math.min(M+A,o),A=E-M)),this._box={l:M,t:b,w:A,h:y};var _=f>A,g=Ba.barLength+2*Ba.barPad,h=Ba.barWidth+2*Ba.barPad,S=l,d=s+u;d+h>i&&(d=i-h);var R=this.container.selectAll("rect.scrollbar-horizontal").data(_?[0]:[]);R.exit().on(".drag",null).remove(),R.enter().append("rect").classed("scrollbar-horizontal",!0).call(WH.fill,Ba.barColor),_?(this.hbar=R.attr({rx:Ba.barRadius,ry:Ba.barRadius,x:S,y:d,width:g,height:h}),this._hbarXMin=S+g/2,this._hbarTranslateMax=A-g):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var L=u>y,F=Ba.barWidth+2*Ba.barPad,O=Ba.barLength+2*Ba.barPad,P=l+f,I=s;P+F>o&&(P=o-F);var k=this.container.selectAll("rect.scrollbar-vertical").data(L?[0]:[]);k.exit().on(".drag",null).remove(),k.enter().append("rect").classed("scrollbar-vertical",!0).call(WH.fill,Ba.barColor),L?(this.vbar=k.attr({rx:Ba.barRadius,ry:Ba.barRadius,x:P,y:I,width:F,height:O}),this._vbarYMin=I+O/2,this._vbarTranslateMax=y-O):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var D=this.id,z=M-.5,q=L?E+F+.5:E+.5,j=b-.5,Q=_?T+h+.5:T+.5,K=a._topdefs.selectAll("#"+D).data(_||L?[0]:[]);if(K.exit().remove(),K.enter().append("clipPath").attr("id",D).append("rect"),_||L?(this._clipRect=K.select("rect").attr({x:Math.floor(z),y:Math.floor(j),width:Math.ceil(q)-Math.floor(z),height:Math.ceil(Q)-Math.floor(j)}),this.container.call(z1.setClipUrl,D,this.gd),this.bg.attr({x:l,y:s,width:f,height:u})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(z1.setClipUrl,null),delete this._clipRect),_||L){var G=vf.behavior.drag().on("dragstart",function(){vf.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(G);var B=vf.behavior.drag().on("dragstart",function(){vf.event.sourceEvent.preventDefault(),vf.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));_&&this.hbar.on(".drag",null).call(B),L&&this.vbar.on(".drag",null).call(B)}this.setTranslate(t,n)};Ba.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(z1.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)};Ba.prototype._onBoxDrag=function(){var r=this.translateX,t=this.translateY;this.hbar&&(r-=vf.event.dx),this.vbar&&(t-=vf.event.dy),this.setTranslate(r,t)};Ba.prototype._onBoxWheel=function(){var r=this.translateX,t=this.translateY;this.hbar&&(r+=vf.event.deltaY),this.vbar&&(t+=vf.event.deltaY),this.setTranslate(r,t)};Ba.prototype._onBarDrag=function(){var r=this.translateX,t=this.translateY;if(this.hbar){var n=r+this._hbarXMin,a=n+this._hbarTranslateMax,o=Wb.constrain(vf.event.x,n,a),i=(o-n)/(a-n),l=this.position.w-this._box.w;r=i*l}if(this.vbar){var f=t+this._vbarYMin,s=f+this._vbarTranslateMax,u=Wb.constrain(vf.event.y,f,s),c=(u-f)/(s-f),v=this.position.h-this._box.h;t=c*v}this.setTranslate(r,t)};Ba.prototype.setTranslate=function(r,t){var n=this.position.w-this._box.w,a=this.position.h-this._box.h;if(r=Wb.constrain(r||0,0,n),t=Wb.constrain(t||0,0,a),this.translateX=r,this.translateY=t,this.container.call(z1.setTranslate,this._box.l-this.position.l-r,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+r-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var o=r/n;this.hbar.call(z1.setTranslate,r+o*this._hbarTranslateMax,t)}if(this.vbar){var i=t/a;this.vbar.call(z1.setTranslate,r,t+i*this._vbarTranslateMax)}}});var aV=fe(($Be,nV)=>{"use strict";var q1=Ln(),jy=ci(),Zy=xn(),U1=ta(),$l=tt(),Xb=po(),jbe=da().arrayEditor,$H=Ro().LINE_SPACING,nn=Vb(),Zbe=jH();nV.exports=function(r){var t=r._fullLayout,n=$l.filterVisible(t[nn.name]);function a(v){jy.autoMargin(r,rV(v))}var o=t._menulayer.selectAll("g."+nn.containerClassName).data(n.length>0?[0]:[]);if(o.enter().append("g").classed(nn.containerClassName,!0).style("cursor","pointer"),o.exit().each(function(){q1.select(this).selectAll("g."+nn.headerGroupClassName).each(a)}).remove(),n.length!==0){var i=o.selectAll("g."+nn.headerGroupClassName).data(n,$be);i.enter().append("g").classed(nn.headerGroupClassName,!0);for(var l=$l.ensureSingle(o,"g",nn.dropdownButtonGroupClassName,function(v){v.style("pointer-events","all")}),f=0;f<n.length;f++){var s=n[f];t5e(r,s)}var u="updatemenus"+t._uid,c=new Zbe(r,l,u);i.enter().size()&&(l.node().parentNode.appendChild(l.node()),l.call(T8)),i.exit().each(function(v){l.call(T8),a(v)}).remove(),i.each(function(v){var x=q1.select(this),m=v.type==="dropdown"?l:null;jy.manageCommandObserver(r,v,v.buttons,function(w){A8(r,v,v.buttons[w.index],x,m,c,w.index,!0)}),v.type==="dropdown"?(KH(r,x,l,c,v),JH(l,v)&&$y(r,x,l,c,v)):$y(r,x,null,null,v)})}};function $be(e){return e._index}function Jbe(e){return+e.attr(nn.menuIndexAttrName)==-1}function JH(e,r){return+e.attr(nn.menuIndexAttrName)===r._index}function A8(e,r,t,n,a,o,i,l){r.active=i,jbe(e.layout,nn.name,r).applyUpdate("active",i),r.type==="buttons"?$y(e,n,null,null,r):r.type==="dropdown"&&(a.attr(nn.menuIndexAttrName,"-1"),KH(e,n,a,o,r),l||$y(e,n,a,o,r))}function KH(e,r,t,n,a){var o=$l.ensureSingle(r,"g",nn.headerClassName,function(v){v.style("pointer-events","all")}),i=a._dims,l=a.active,f=a.buttons[l]||nn.blankHeaderOpts,s={y:a.pad.t,yPad:0,x:a.pad.l,xPad:0,index:0},u={width:i.headerWidth,height:i.headerHeight};o.call(M8,a,f,e).call(tV,a,s,u);var c=$l.ensureSingle(r,"text",nn.headerArrowClassName,function(v){v.attr("text-anchor","end").call(U1.font,a.font).text(nn.arrowSymbol[a.direction])});c.attr({x:i.headerWidth-nn.arrowOffsetX+a.pad.l,y:i.headerHeight/2+nn.textOffsetY+a.pad.t}),o.on("click",function(){t.call(T8,String(JH(t,a)?-1:a._index)),$y(e,r,t,n,a)}),o.on("mouseover",function(){o.call(QH)}),o.on("mouseout",function(){o.call(eV,a)}),U1.setTranslate(r,i.lx,i.ly)}function $y(e,r,t,n,a){t||(t=r,t.attr("pointer-events","all"));var o=!Jbe(t)||a.type==="buttons"?a.buttons:[],i=a.type==="dropdown"?nn.dropdownButtonClassName:nn.buttonClassName,l=t.selectAll("g."+i).data($l.filterVisible(o)),f=l.enter().append("g").classed(i,!0),s=l.exit();a.type==="dropdown"?(f.attr("opacity","0").transition().attr("opacity","1"),s.transition().attr("opacity","0").remove()):s.remove();var u=0,c=0,v=a._dims,x=["up","down"].indexOf(a.direction)!==-1;a.type==="dropdown"&&(x?c=v.headerHeight+nn.gapButtonHeader:u=v.headerWidth+nn.gapButtonHeader),a.type==="dropdown"&&a.direction==="up"&&(c=-nn.gapButtonHeader+nn.gapButton-v.openHeight),a.type==="dropdown"&&a.direction==="left"&&(u=-nn.gapButtonHeader+nn.gapButton-v.openWidth);var m={x:v.lx+u+a.pad.l,y:v.ly+c+a.pad.t,yPad:nn.gapButton,xPad:nn.gapButton,index:0},w={l:m.x+a.borderwidth,t:m.y+a.borderwidth};l.each(function(A,y){var M=q1.select(this);M.call(M8,a,A,e).call(tV,a,m),M.on("click",function(){q1.event.defaultPrevented||(A.execute&&(A.args2&&a.active===y?(A8(e,a,A,r,t,n,-1),jy.executeAPICommand(e,A.method,A.args2)):(A8(e,a,A,r,t,n,y),jy.executeAPICommand(e,A.method,A.args))),e.emit("plotly_buttonclicked",{menu:a,button:A,active:a.active}))}),M.on("mouseover",function(){M.call(QH)}),M.on("mouseout",function(){M.call(eV,a),l.call(ZH,a)})}),l.call(ZH,a),x?(w.w=Math.max(v.openWidth,v.headerWidth),w.h=m.y-w.t):(w.w=m.x-w.l,w.h=Math.max(v.openHeight,v.headerHeight)),w.direction=a.direction,n&&(l.size()?Kbe(e,r,t,n,a,w):Qbe(n))}function Kbe(e,r,t,n,a,o){var i=a.direction,l=i==="up"||i==="down",f=a._dims,s=a.active,u,c,v;if(l)for(c=0,v=0;v<s;v++)c+=f.heights[v]+nn.gapButton;else for(u=0,v=0;v<s;v++)u+=f.widths[v]+nn.gapButton;n.enable(o,u,c),n.hbar&&n.hbar.attr("opacity","0").transition().attr("opacity","1"),n.vbar&&n.vbar.attr("opacity","0").transition().attr("opacity","1")}function Qbe(e){var r=!!e.hbar,t=!!e.vbar;r&&e.hbar.transition().attr("opacity","0").each("end",function(){r=!1,t||e.disable()}),t&&e.vbar.transition().attr("opacity","0").each("end",function(){t=!1,r||e.disable()})}function M8(e,r,t,n){e.call(e5e,r).call(r5e,r,t,n)}function e5e(e,r){var t=$l.ensureSingle(e,"rect",nn.itemRectClassName,function(n){n.attr({rx:nn.rx,ry:nn.ry,"shape-rendering":"crispEdges"})});t.call(Zy.stroke,r.bordercolor).call(Zy.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px")}function r5e(e,r,t,n){var a=$l.ensureSingle(e,"text",nn.itemTextClassName,function(l){l.attr({"text-anchor":"start","data-notex":1})}),o=t.label,i=n._fullLayout._meta;i&&(o=$l.templateString(o,i)),a.call(U1.font,r.font).text(o).call(Xb.convertToTspans,n)}function ZH(e,r){var t=r.active;e.each(function(n,a){var o=q1.select(this);a===t&&r.showactive&&o.select("rect."+nn.itemRectClassName).call(Zy.fill,nn.activeColor)})}function QH(e){e.select("rect."+nn.itemRectClassName).call(Zy.fill,nn.hoverColor)}function eV(e,r){e.select("rect."+nn.itemRectClassName).call(Zy.fill,r.bgcolor)}function t5e(e,r){var t=r._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},n=U1.tester.selectAll("g."+nn.dropdownButtonClassName).data($l.filterVisible(r.buttons));n.enter().append("g").classed(nn.dropdownButtonClassName,!0);var a=["up","down"].indexOf(r.direction)!==-1;n.each(function(u,c){var v=q1.select(this);v.call(M8,r,u,e);var x=v.select("."+nn.itemTextClassName),m=x.node()&&U1.bBox(x.node()).width,w=Math.max(m+nn.textPadX,nn.minWidth),A=r.font.size*$H,y=Xb.lineCount(x),M=Math.max(A*y,nn.minHeight)+nn.textOffsetY;M=Math.ceil(M),w=Math.ceil(w),t.widths[c]=w,t.heights[c]=M,t.height1=Math.max(t.height1,M),t.width1=Math.max(t.width1,w),a?(t.totalWidth=Math.max(t.totalWidth,w),t.openWidth=t.totalWidth,t.totalHeight+=M+nn.gapButton,t.openHeight+=M+nn.gapButton):(t.totalWidth+=w+nn.gapButton,t.openWidth+=w+nn.gapButton,t.totalHeight=Math.max(t.totalHeight,M),t.openHeight=t.totalHeight)}),a?t.totalHeight-=nn.gapButton:t.totalWidth-=nn.gapButton,t.headerWidth=t.width1+nn.arrowPadX,t.headerHeight=t.height1,r.type==="dropdown"&&(a?(t.width1+=nn.arrowPadX,t.totalHeight=t.height1):t.totalWidth=t.width1,t.totalWidth+=nn.arrowPadX),n.remove();var o=t.totalWidth+r.pad.l+r.pad.r,i=t.totalHeight+r.pad.t+r.pad.b,l=e._fullLayout._size;t.lx=l.l+l.w*r.x,t.ly=l.t+l.h*(1-r.y);var f="left";$l.isRightAnchor(r)&&(t.lx-=o,f="right"),$l.isCenterAnchor(r)&&(t.lx-=o/2,f="center");var s="top";$l.isBottomAnchor(r)&&(t.ly-=i,s="bottom"),$l.isMiddleAnchor(r)&&(t.ly-=i/2,s="middle"),t.totalWidth=Math.ceil(t.totalWidth),t.totalHeight=Math.ceil(t.totalHeight),t.lx=Math.round(t.lx),t.ly=Math.round(t.ly),jy.autoMargin(e,rV(r),{x:r.x,y:r.y,l:o*({right:1,center:.5}[f]||0),r:o*({left:1,center:.5}[f]||0),b:i*({top:1,middle:.5}[s]||0),t:i*({bottom:1,middle:.5}[s]||0)})}function rV(e){return nn.autoMarginIdRoot+e._index}function tV(e,r,t,n){n=n||{};var a=e.select("."+nn.itemRectClassName),o=e.select("."+nn.itemTextClassName),i=r.borderwidth,l=t.index,f=r._dims;U1.setTranslate(e,i+t.x,i+t.y);var s=["up","down"].indexOf(r.direction)!==-1,u=n.height||(s?f.heights[l]:f.height1);a.attr({x:0,y:0,width:n.width||(s?f.width1:f.widths[l]),height:u});var c=r.font.size*$H,v=Xb.lineCount(o),x=(v-1)*c/2;Xb.positionText(o,nn.textOffsetX,u/2-x+nn.textOffsetY),s?t.y+=f.heights[l]+t.yPad:t.x+=f.widths[l]+t.xPad,t.index++}function T8(e,r){e.attr(nn.menuIndexAttrName,r||"-1").selectAll("g."+nn.dropdownButtonClassName).remove()}});var oV=fe((JBe,iV)=>{"use strict";var n5e=Vb();iV.exports={moduleType:"component",name:n5e.name,layoutAttributes:w8(),supplyLayoutDefaults:YH(),draw:aV()}});var Jy=fe((KBe,lV)=>{"use strict";lV.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}});var E8=fe((QBe,uV)=>{"use strict";var sV=Fi(),a5e=G2(),i5e=Na().extendDeepAll,o5e=vl().overrideAll,l5e=kg(),fV=da().templatedArray,Cv=Jy(),s5e=fV("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});uV.exports=o5e(fV("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:s5e,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:i5e(a5e({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:l5e.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:sV({})},font:sV({}),activebgcolor:{valType:"color",dflt:Cv.gripBgActiveColor},bgcolor:{valType:"color",dflt:Cv.railBgColor},bordercolor:{valType:"color",dflt:Cv.railBorderColor},borderwidth:{valType:"number",min:0,dflt:Cv.railBorderWidth},ticklen:{valType:"number",min:0,dflt:Cv.tickLength},tickcolor:{valType:"color",dflt:Cv.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:Cv.minorTickLength}}),"arraydraw","from-root")});var dV=fe((eze,vV)=>{"use strict";var G1=tt(),cV=rf(),hV=E8(),f5e=Jy(),u5e=f5e.name,c5e=hV.steps;vV.exports=function(r,t){cV(r,t,{name:u5e,handleItemDefaults:h5e})};function h5e(e,r,t){function n(c,v){return G1.coerce(e,r,hV,c,v)}for(var a=cV(e,r,{name:"steps",handleItemDefaults:v5e}),o=0,i=0;i<a.length;i++)a[i].visible&&o++;var l;if(o<2?l=r.visible=!1:l=n("visible"),!!l){r._stepCount=o;var f=r._visibleSteps=G1.filterVisible(a),s=n("active");(a[s]||{}).visible||(r.active=f[0]._index),n("x"),n("y"),G1.noneOrAll(e,r,["x","y"]),n("xanchor"),n("yanchor"),n("len"),n("lenmode"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),G1.coerceFont(n,"font",t.font);var u=n("currentvalue.visible");u&&(n("currentvalue.xanchor"),n("currentvalue.prefix"),n("currentvalue.suffix"),n("currentvalue.offset"),G1.coerceFont(n,"currentvalue.font",r.font)),n("transition.duration"),n("transition.easing"),n("bgcolor"),n("activebgcolor"),n("bordercolor"),n("borderwidth"),n("ticklen"),n("tickwidth"),n("tickcolor"),n("minorticklen")}}function v5e(e,r){function t(o,i){return G1.coerce(e,r,c5e,o,i)}var n;if(e.method!=="skip"&&!Array.isArray(e.args)?n=r.visible=!1:n=t("visible"),n){t("method"),t("args");var a=t("label","step-"+r._index);t("value",a),t("execute")}}});var TV=fe((rze,AV)=>{"use strict";var df=Ln(),jb=ci(),S0=xn(),pf=ta(),Jl=tt(),d5e=Jl.strTranslate,Ky=po(),p5e=da().arrayEditor,wn=Jy(),k8=Ro(),yV=k8.LINE_SPACING,S8=k8.FROM_TL,C8=k8.FROM_BR;AV.exports=function(r){var t=r._context.staticPlot,n=r._fullLayout,a=g5e(n,r),o=n._infolayer.selectAll("g."+wn.containerClassName).data(a.length>0?[0]:[]);o.enter().append("g").classed(wn.containerClassName,!0).style("cursor",t?null:"ew-resize");function i(u){u._commandObserver&&(u._commandObserver.remove(),delete u._commandObserver),jb.autoMargin(r,mV(u))}if(o.exit().each(function(){df.select(this).selectAll("g."+wn.groupClassName).each(i)}).remove(),a.length!==0){var l=o.selectAll("g."+wn.groupClassName).data(a,y5e);l.enter().append("g").classed(wn.groupClassName,!0),l.exit().each(i).remove();for(var f=0;f<a.length;f++){var s=a[f];m5e(r,s)}l.each(function(u){var c=df.select(this);A5e(u),jb.manageCommandObserver(r,u,u._visibleSteps,function(v){var x=c.data()[0];x.active!==v.index&&(x._dragging||bV(r,c,x,v.index,!1,!0))}),x5e(r,df.select(this),u)})}};function mV(e){return wn.autoMarginIdRoot+e._index}function g5e(e,r){for(var t=e[wn.name],n=[],a=0;a<t.length;a++){var o=t[a];o.visible&&(o._gd=r,n.push(o))}return n}function y5e(e){return e._index}function m5e(e,r){var t=pf.tester.selectAll("g."+wn.labelGroupClass).data(r._visibleSteps);t.enter().append("g").classed(wn.labelGroupClass,!0);var n=0,a=0;t.each(function(m){var w=df.select(this),A=xV(w,{step:m},r),y=A.node();if(y){var M=pf.bBox(y);a=Math.max(a,M.height),n=Math.max(n,M.width)}}),t.remove();var o=r._dims={};o.inputAreaWidth=Math.max(wn.railWidth,wn.gripHeight);var i=e._fullLayout._size;o.lx=i.l+i.w*r.x,o.ly=i.t+i.h*(1-r.y),r.lenmode==="fraction"?o.outerLength=Math.round(i.w*r.len):o.outerLength=r.len,o.inputAreaStart=0,o.inputAreaLength=Math.round(o.outerLength-r.pad.l-r.pad.r);var l=o.inputAreaLength-2*wn.stepInset,f=l/(r._stepCount-1),s=n+wn.labelPadding;if(o.labelStride=Math.max(1,Math.ceil(s/f)),o.labelHeight=a,o.currentValueMaxWidth=0,o.currentValueHeight=0,o.currentValueTotalHeight=0,o.currentValueMaxLines=1,r.currentvalue.visible){var u=pf.tester.append("g");t.each(function(m){var w=Zb(u,r,m.label),A=w.node()&&pf.bBox(w.node())||{width:0,height:0},y=Ky.lineCount(w);o.currentValueMaxWidth=Math.max(o.currentValueMaxWidth,Math.ceil(A.width)),o.currentValueHeight=Math.max(o.currentValueHeight,Math.ceil(A.height)),o.currentValueMaxLines=Math.max(o.currentValueMaxLines,y)}),o.currentValueTotalHeight=o.currentValueHeight+r.currentvalue.offset,u.remove()}o.height=o.currentValueTotalHeight+wn.tickOffset+r.ticklen+wn.labelOffset+o.labelHeight+r.pad.t+r.pad.b;var c="left";Jl.isRightAnchor(r)&&(o.lx-=o.outerLength,c="right"),Jl.isCenterAnchor(r)&&(o.lx-=o.outerLength/2,c="center");var v="top";Jl.isBottomAnchor(r)&&(o.ly-=o.height,v="bottom"),Jl.isMiddleAnchor(r)&&(o.ly-=o.height/2,v="middle"),o.outerLength=Math.ceil(o.outerLength),o.height=Math.ceil(o.height),o.lx=Math.round(o.lx),o.ly=Math.round(o.ly);var x={y:r.y,b:o.height*C8[v],t:o.height*S8[v]};r.lenmode==="fraction"?(x.l=0,x.xl=r.x-r.len*S8[c],x.r=0,x.xr=r.x+r.len*C8[c]):(x.x=r.x,x.l=o.outerLength*S8[c],x.r=o.outerLength*C8[c]),jb.autoMargin(e,mV(r),x)}function x5e(e,r,t){(t.steps[t.active]||{}).visible||(t.active=t._visibleSteps[0]._index),r.call(Zb,t).call(M5e,t).call(_5e,t).call(w5e,t).call(T5e,e,t).call(b5e,e,t);var n=t._dims;pf.setTranslate(r,n.lx+t.pad.l,n.ly+t.pad.t),r.call(wV,t,!1),r.call(Zb,t)}function Zb(e,r,t){if(r.currentvalue.visible){var n=r._dims,a,o;switch(r.currentvalue.xanchor){case"right":a=n.inputAreaLength-wn.currentValueInset-n.currentValueMaxWidth,o="left";break;case"center":a=n.inputAreaLength*.5,o="middle";break;default:a=wn.currentValueInset,o="left"}var i=Jl.ensureSingle(e,"text",wn.labelClass,function(v){v.attr({"text-anchor":o,"data-notex":1})}),l=r.currentvalue.prefix?r.currentvalue.prefix:"";if(typeof t=="string")l+=t;else{var f=r.steps[r.active].label,s=r._gd._fullLayout._meta;s&&(f=Jl.templateString(f,s)),l+=f}r.currentvalue.suffix&&(l+=r.currentvalue.suffix),i.call(pf.font,r.currentvalue.font).text(l).call(Ky.convertToTspans,r._gd);var u=Ky.lineCount(i),c=(n.currentValueMaxLines+1-u)*r.currentvalue.font.size*yV;return Ky.positionText(i,a,c),i}}function b5e(e,r,t){var n=Jl.ensureSingle(e,"rect",wn.gripRectClass,function(a){a.call(_V,r,e,t).style("pointer-events","all")});n.attr({width:wn.gripWidth,height:wn.gripHeight,rx:wn.gripRadius,ry:wn.gripRadius}).call(S0.stroke,t.bordercolor).call(S0.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px")}function xV(e,r,t){var n=Jl.ensureSingle(e,"text",wn.labelClass,function(i){i.attr({"text-anchor":"middle","data-notex":1})}),a=r.step.label,o=t._gd._fullLayout._meta;return o&&(a=Jl.templateString(a,o)),n.call(pf.font,t.font).text(a).call(Ky.convertToTspans,t._gd),n}function _5e(e,r){var t=Jl.ensureSingle(e,"g",wn.labelsClass),n=r._dims,a=t.selectAll("g."+wn.labelGroupClass).data(n.labelSteps);a.enter().append("g").classed(wn.labelGroupClass,!0),a.exit().remove(),a.each(function(o){var i=df.select(this);i.call(xV,o,r),pf.setTranslate(i,L8(r,o.fraction),wn.tickOffset+r.ticklen+r.font.size*yV+wn.labelOffset+n.currentValueTotalHeight)})}function pV(e,r,t,n,a){var o=Math.round(n*(t._stepCount-1)),i=t._visibleSteps[o]._index;i!==t.active&&bV(e,r,t,i,!0,a)}function bV(e,r,t,n,a,o){var i=t.active;t.active=n,p5e(e.layout,wn.name,t).applyUpdate("active",n);var l=t.steps[t.active];r.call(wV,t,o),r.call(Zb,t),e.emit("plotly_sliderchange",{slider:t,step:t.steps[t.active],interaction:a,previousActive:i}),l&&l.method&&a&&(r._nextMethod?(r._nextMethod.step=l,r._nextMethod.doCallback=a,r._nextMethod.doTransition=o):(r._nextMethod={step:l,doCallback:a,doTransition:o},r._nextMethodRaf=window.requestAnimationFrame(function(){var f=r._nextMethod.step;f.method&&(f.execute&&jb.executeAPICommand(e,f.method,f.args),r._nextMethod=null,r._nextMethodRaf=null)})))}function _V(e,r,t){if(r._context.staticPlot)return;var n=t.node(),a=df.select(r);function o(){return t.data()[0]}function i(){var l=o();r.emit("plotly_sliderstart",{slider:l});var f=t.select("."+wn.gripRectClass);df.event.stopPropagation(),df.event.preventDefault(),f.call(S0.fill,l.activebgcolor);var s=gV(l,df.mouse(n)[0]);pV(r,t,l,s,!0),l._dragging=!0;function u(){var v=o(),x=gV(v,df.mouse(n)[0]);pV(r,t,v,x,!1)}a.on("mousemove",u),a.on("touchmove",u);function c(){var v=o();v._dragging=!1,f.call(S0.fill,v.bgcolor),a.on("mouseup",null),a.on("mousemove",null),a.on("touchend",null),a.on("touchmove",null),r.emit("plotly_sliderend",{slider:v,step:v.steps[v.active]})}a.on("mouseup",c),a.on("touchend",c)}e.on("mousedown",i),e.on("touchstart",i)}function w5e(e,r){var t=e.selectAll("rect."+wn.tickRectClass).data(r._visibleSteps),n=r._dims;t.enter().append("rect").classed(wn.tickRectClass,!0),t.exit().remove(),t.attr({width:r.tickwidth+"px","shape-rendering":"crispEdges"}),t.each(function(a,o){var i=o%n.labelStride===0,l=df.select(this);l.attr({height:i?r.ticklen:r.minorticklen}).call(S0.fill,r.tickcolor),pf.setTranslate(l,L8(r,o/(r._stepCount-1))-.5*r.tickwidth,(i?wn.tickOffset:wn.minorTickOffset)+n.currentValueTotalHeight)})}function A5e(e){var r=e._dims;r.labelSteps=[];for(var t=e._stepCount,n=0;n<t;n+=r.labelStride)r.labelSteps.push({fraction:n/(t-1),step:e._visibleSteps[n]})}function wV(e,r,t){for(var n=e.select("rect."+wn.gripRectClass),a=0,o=0;o<r._stepCount;o++)if(r._visibleSteps[o]._index===r.active){a=o;break}var i=L8(r,a/(r._stepCount-1));if(!r._invokingCommand){var l=n;t&&r.transition.duration>0&&(l=l.transition().duration(r.transition.duration).ease(r.transition.easing)),l.attr("transform",d5e(i-wn.gripWidth*.5,r._dims.currentValueTotalHeight))}}function L8(e,r){var t=e._dims;return t.inputAreaStart+wn.stepInset+(t.inputAreaLength-2*wn.stepInset)*Math.min(1,Math.max(0,r))}function gV(e,r){var t=e._dims;return Math.min(1,Math.max(0,(r-wn.stepInset-t.inputAreaStart)/(t.inputAreaLength-2*wn.stepInset-2*t.inputAreaStart)))}function T5e(e,r,t){var n=t._dims,a=Jl.ensureSingle(e,"rect",wn.railTouchRectClass,function(o){o.call(_V,r,e,t).style("pointer-events","all")});a.attr({width:n.inputAreaLength,height:Math.max(n.inputAreaWidth,wn.tickOffset+t.ticklen+n.labelHeight)}).call(S0.fill,t.bgcolor).attr("opacity",0),pf.setTranslate(a,0,n.currentValueTotalHeight)}function M5e(e,r){var t=r._dims,n=t.inputAreaLength-wn.railInset*2,a=Jl.ensureSingle(e,"rect",wn.railRectClass);a.attr({width:n,height:wn.railWidth,rx:wn.railRadius,ry:wn.railRadius,"shape-rendering":"crispEdges"}).call(S0.stroke,r.bordercolor).call(S0.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px"),pf.setTranslate(a,wn.railInset,(t.inputAreaWidth-wn.railWidth)*.5+t.currentValueTotalHeight)}});var EV=fe((tze,MV)=>{"use strict";var E5e=Jy();MV.exports={moduleType:"component",name:E5e.name,layoutAttributes:E8(),supplyLayoutDefaults:dV(),draw:TV()}});var $b=fe((nze,CV)=>{"use strict";var SV=Zs();CV.exports={bgcolor:{valType:"color",dflt:SV.background,editType:"plot"},bordercolor:{valType:"color",dflt:SV.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}});var R8=fe((aze,kV)=>{"use strict";kV.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}});var Jb=fe((ize,LV)=>{"use strict";LV.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}});var DV=fe(Qb=>{"use strict";var S5e=ti(),C5e=po(),RV=Jb(),k5e=Ro().LINE_SPACING,Kb=RV.name;function FV(e){var r=e&&e[Kb];return r&&r.visible}Qb.isVisible=FV;Qb.makeData=function(e){for(var r=S5e.list({_fullLayout:e},"x",!0),t=e.margin,n=[],a=0;a<r.length;a++){var o=r[a];if(FV(o)){n.push(o);var i=o[Kb];i._id=Kb+o._id,i._height=(e.height-t.b-t.t)*i.thickness,i._offsetShift=Math.floor(i.borderwidth/2)}}e._rangeSliderData=n};Qb.autoMarginOpts=function(e,r){var t=e._fullLayout,n=r[Kb],a=r._id.charAt(0),o=0,i=0;if(r.side==="bottom"&&(o=r._depth,r.title.text!==t._dfltTitle[a])){i=1.5*r.title.font.size+10+n._offsetShift;var l=(r.title.text.match(C5e.BR_TAG_ALL)||[]).length;i+=l*r.title.font.size*k5e}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:n._height+o+Math.max(t.margin.b,i),pad:RV.extraPad+n._offsetShift*2}}});var NV=fe((lze,OV)=>{"use strict";var e5=tt(),IV=da(),PV=ti(),L5e=$b(),R5e=R8();OV.exports=function(r,t,n){var a=r[n],o=t[n];if(!(a.rangeslider||t._requestRangeslider[o._id]))return;e5.isPlainObject(a.rangeslider)||(a.rangeslider={});var i=a.rangeslider,l=IV.newContainer(o,"rangeslider");function f(T,p){return e5.coerce(i,l,L5e,T,p)}var s,u;function c(T,p){return e5.coerce(s,u,R5e,T,p)}var v=f("visible");if(v){f("bgcolor",t.plot_bgcolor),f("bordercolor"),f("borderwidth"),f("thickness"),f("autorange",!o.isValidRange(i.range)),f("range");var x=t._subplots;if(x)for(var m=x.cartesian.filter(function(T){return T.substr(0,T.indexOf("y"))===PV.name2id(n)}).map(function(T){return T.substr(T.indexOf("y"),T.length)}),w=e5.simpleMap(m,PV.id2name),A=0;A<w.length;A++){var y=w[A];s=i[y]||{},u=IV.newContainer(l,y,"yaxis");var M=t[y],E;s.range&&M.isValidRange(s.range)&&(E="fixed");var b=c("rangemode",E);b!=="match"&&c("range",M.range.slice())}l._input=i}}});var zV=fe((sze,BV)=>{"use strict";var F5e=ti().list,D5e=av().getAutoRange,I5e=Jb();BV.exports=function(r){for(var t=F5e(r,"x",!0),n=0;n<t.length;n++){var a=t[n],o=a[I5e.name];o&&o.visible&&o.autorange&&(o._input.autorange=!0,o._input.range=o.range=D5e(r,a))}}});var HV=fe((fze,GV)=>{"use strict";var r5=Ln(),P5e=Qt(),O5e=ci(),$a=tt(),t5=$a.strTranslate,UV=ta(),C0=xn(),N5e=Xg(),B5e=qb(),F8=ti(),z5e=nf(),q5e=Ku(),Dn=Jb();GV.exports=function(e){for(var r=e._fullLayout,t=r._rangeSliderData,n=0;n<t.length;n++){var a=t[n][Dn.name];a._clipId=a._id+"-"+r._uid}function o(l){return l._name}var i=r._infolayer.selectAll("g."+Dn.containerClassName).data(t,o);i.exit().each(function(l){var f=l[Dn.name];r._topdefs.select("#"+f._clipId).remove()}).remove(),t.length!==0&&(i.enter().append("g").classed(Dn.containerClassName,!0).attr("pointer-events","all"),i.each(function(l){var f=r5.select(this),s=l[Dn.name],u=r[F8.id2name(l.anchor)],c=s[F8.id2name(l.anchor)];if(s.range){var v=$a.simpleMap(s.range,l.r2l),x=$a.simpleMap(l.range,l.r2l),m;x[0]<x[1]?m=[Math.min(v[0],x[0]),Math.max(v[1],x[1])]:m=[Math.max(v[0],x[0]),Math.min(v[1],x[1])],s.range=s._input.range=$a.simpleMap(m,l.l2r)}l.cleanRange("rangeslider.range");var w=r._size,A=l.domain;s._width=w.w*(A[1]-A[0]);var y=Math.round(w.l+w.w*A[0]),M=Math.round(w.t+w.h*(1-l._counterDomainMin)+(l.side==="bottom"?l._depth:0)+s._offsetShift+Dn.extraPad);f.attr("transform",t5(y,M)),s._rl=$a.simpleMap(s.range,l.r2l);var E=s._rl[0],b=s._rl[1],T=b-E;if(s.p2d=function(O){return O/s._width*T+E},s.d2p=function(O){return(O-E)/T*s._width},l.rangebreaks){var p=l.locateBreaks(E,b);if(p.length){var _,g,h=0;for(_=0;_<p.length;_++)g=p[_],h+=g.max-g.min;var S=s._width/(b-E-h),d=[-S*E];for(_=0;_<p.length;_++)g=p[_],d.push(d[d.length-1]-S*(g.max-g.min));for(s.d2p=function(O){for(var P=d[0],I=0;I<p.length;I++){var k=p[I];if(O>=k.max)P=d[I+1];else if(O<k.min)break}return P+S*O},_=0;_<p.length;_++)g=p[_],g.pmin=s.d2p(g.min),g.pmax=s.d2p(g.max);s.p2d=function(O){for(var P=d[0],I=0;I<p.length;I++){var k=p[I];if(O>=k.pmax)P=d[I+1];else if(O<k.pmin)break}return(O-P)/S}}}if(c.rangemode!=="match"){var R=u.r2l(c.range[0]),L=u.r2l(c.range[1]),F=L-R;s.d2pOppAxis=function(O){return(O-R)/F*s._height}}f.call(V5e,e,l,s).call(Y5e,e,l,s).call(W5e,e,l,s).call(j5e,e,l,s,c).call(Z5e,e,l,s).call($5e,e,l,s),U5e(f,e,l,s),H5e(f,e,l,s,u,c),l.side==="bottom"&&N5e.draw(e,l._id+"title",{propContainer:l,propName:l._name+".title.text",placeholder:r._dfltTitle.x,attributes:{x:l._offset+l._length/2,y:M+s._height+s._offsetShift+10+1.5*l.title.font.size,"text-anchor":"middle"}})}))};function qV(e){return typeof e.clientX=="number"?e.clientX:e.touches&&e.touches.length>0?e.touches[0].clientX:0}function U5e(e,r,t,n){if(r._context.staticPlot)return;var a=e.select("rect."+Dn.slideBoxClassName).node(),o=e.select("rect."+Dn.grabAreaMinClassName).node(),i=e.select("rect."+Dn.grabAreaMaxClassName).node();function l(){var f=r5.event,s=f.target,u=qV(f),c=u-e.node().getBoundingClientRect().left,v=n.d2p(t._rl[0]),x=n.d2p(t._rl[1]),m=z5e.coverSlip();this.addEventListener("touchmove",w),this.addEventListener("touchend",A),m.addEventListener("mousemove",w),m.addEventListener("mouseup",A);function w(y){var M=qV(y),E=+M-u,b,T,p;switch(s){case a:if(p="ew-resize",v+E>t._length||x+E<0)return;b=v+E,T=x+E;break;case o:if(p="col-resize",v+E>t._length)return;b=v+E,T=x;break;case i:if(p="col-resize",x+E<0)return;b=v,T=x+E;break;default:p="ew-resize",b=c,T=c+E;break}if(T<b){var _=T;T=b,b=_}n._pixelMin=b,n._pixelMax=T,q5e(r5.select(m),p),G5e(e,r,t,n)}function A(){m.removeEventListener("mousemove",w),m.removeEventListener("mouseup",A),this.removeEventListener("touchmove",w),this.removeEventListener("touchend",A),$a.removeElement(m)}}e.on("mousedown",l),e.on("touchstart",l)}function G5e(e,r,t,n){function a(l){return t.l2r($a.constrain(l,n._rl[0],n._rl[1]))}var o=a(n.p2d(n._pixelMin)),i=a(n.p2d(n._pixelMax));window.requestAnimationFrame(function(){P5e.call("_guiRelayout",r,t._name+".range",[o,i])})}function H5e(e,r,t,n,a,o){var i=Dn.handleWidth/2;function l(y){return $a.constrain(y,0,n._width)}function f(y){return $a.constrain(y,0,n._height)}function s(y){return $a.constrain(y,-i,n._width+i)}var u=l(n.d2p(t._rl[0])),c=l(n.d2p(t._rl[1]));if(e.select("rect."+Dn.slideBoxClassName).attr("x",u).attr("width",c-u),e.select("rect."+Dn.maskMinClassName).attr("width",u),e.select("rect."+Dn.maskMaxClassName).attr("x",c).attr("width",n._width-c),o.rangemode!=="match"){var v=n._height-f(n.d2pOppAxis(a._rl[1])),x=n._height-f(n.d2pOppAxis(a._rl[0]));e.select("rect."+Dn.maskMinOppAxisClassName).attr("x",u).attr("height",v).attr("width",c-u),e.select("rect."+Dn.maskMaxOppAxisClassName).attr("x",u).attr("y",x).attr("height",n._height-x).attr("width",c-u),e.select("rect."+Dn.slideBoxClassName).attr("y",v).attr("height",x-v)}var m=.5,w=Math.round(s(u-i))-m,A=Math.round(s(c-i))+m;e.select("g."+Dn.grabberMinClassName).attr("transform",t5(w,m)),e.select("g."+Dn.grabberMaxClassName).attr("transform",t5(A,m))}function V5e(e,r,t,n){var a=$a.ensureSingle(e,"rect",Dn.bgClassName,function(f){f.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),o=n.borderwidth%2===0?n.borderwidth:n.borderwidth-1,i=-n._offsetShift,l=UV.crispRound(r,n.borderwidth);a.attr({width:n._width+o,height:n._height+o,transform:t5(i,i),"stroke-width":l}).call(C0.stroke,n.bordercolor).call(C0.fill,n.bgcolor)}function Y5e(e,r,t,n){var a=r._fullLayout,o=$a.ensureSingleById(a._topdefs,"clipPath",n._clipId,function(i){i.append("rect").attr({x:0,y:0})});o.select("rect").attr({width:n._width,height:n._height})}function W5e(e,r,t,n){var a=r.calcdata,o=e.selectAll("g."+Dn.rangePlotClassName).data(t._subplotsWith,$a.identity);o.enter().append("g").attr("class",function(l){return Dn.rangePlotClassName+" "+l}).call(UV.setClipUrl,n._clipId,r),o.order(),o.exit().remove();var i;o.each(function(l,f){var s=r5.select(this),u=f===0,c=F8.getFromId(r,l,"y"),v=c._name,x=n[v],m={data:[],layout:{xaxis:{type:t.type,domain:[0,1],range:n.range.slice(),calendar:t.calendar},width:n._width,height:n._height,margin:{t:0,b:0,l:0,r:0}},_context:r._context};t.rangebreaks&&(m.layout.xaxis.rangebreaks=t.rangebreaks),m.layout[v]={type:c.type,domain:[0,1],range:x.rangemode!=="match"?x.range.slice():c.range.slice(),calendar:c.calendar},c.rangebreaks&&(m.layout[v].rangebreaks=c.rangebreaks),O5e.supplyDefaults(m);var w=m._fullLayout.xaxis,A=m._fullLayout[v];w.clearCalc(),w.setScale(),A.clearCalc(),A.setScale();var y={id:l,plotgroup:s,xaxis:w,yaxis:A,isRangePlot:!0};u?i=y:(y.mainplot="xy",y.mainplotinfo=i),B5e.rangePlot(r,y,X5e(a,l))})}function X5e(e,r){for(var t=[],n=0;n<e.length;n++){var a=e[n],o=a[0].trace;o.xaxis+o.yaxis===r&&t.push(a)}return t}function j5e(e,r,t,n,a){var o=$a.ensureSingle(e,"rect",Dn.maskMinClassName,function(s){s.attr({x:0,y:0,"shape-rendering":"crispEdges"})});o.attr("height",n._height).call(C0.fill,Dn.maskColor);var i=$a.ensureSingle(e,"rect",Dn.maskMaxClassName,function(s){s.attr({y:0,"shape-rendering":"crispEdges"})});if(i.attr("height",n._height).call(C0.fill,Dn.maskColor),a.rangemode!=="match"){var l=$a.ensureSingle(e,"rect",Dn.maskMinOppAxisClassName,function(s){s.attr({y:0,"shape-rendering":"crispEdges"})});l.attr("width",n._width).call(C0.fill,Dn.maskOppAxisColor);var f=$a.ensureSingle(e,"rect",Dn.maskMaxOppAxisClassName,function(s){s.attr({y:0,"shape-rendering":"crispEdges"})});f.attr("width",n._width).style("border-top",Dn.maskOppBorder).call(C0.fill,Dn.maskOppAxisColor)}}function Z5e(e,r,t,n){if(!r._context.staticPlot){var a=$a.ensureSingle(e,"rect",Dn.slideBoxClassName,function(o){o.attr({y:0,cursor:Dn.slideBoxCursor,"shape-rendering":"crispEdges"})});a.attr({height:n._height,fill:Dn.slideBoxFill})}}function $5e(e,r,t,n){var a=$a.ensureSingle(e,"g",Dn.grabberMinClassName),o=$a.ensureSingle(e,"g",Dn.grabberMaxClassName),i={x:0,width:Dn.handleWidth,rx:Dn.handleRadius,fill:C0.background,stroke:C0.defaultLine,"stroke-width":Dn.handleStrokeWidth,"shape-rendering":"crispEdges"},l={y:Math.round(n._height/4),height:Math.round(n._height/2)},f=$a.ensureSingle(a,"rect",Dn.handleMinClassName,function(x){x.attr(i)});f.attr(l);var s=$a.ensureSingle(o,"rect",Dn.handleMaxClassName,function(x){x.attr(i)});s.attr(l);var u={width:Dn.grabAreaWidth,x:0,y:0,fill:Dn.grabAreaFill,cursor:r._context.staticPlot?void 0:Dn.grabAreaCursor},c=$a.ensureSingle(a,"rect",Dn.grabAreaMinClassName,function(x){x.attr(u)});c.attr("height",n._height);var v=$a.ensureSingle(o,"rect",Dn.grabAreaMaxClassName,function(x){x.attr(u)});v.attr("height",n._height)}});var YV=fe((uze,VV)=>{"use strict";var J5e=tt(),K5e=$b(),Q5e=R8(),D8=DV();VV.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:J5e.extendFlat({},K5e,{yaxis:Q5e})}}},layoutAttributes:$b(),handleDefaults:NV(),calcAutorange:zV(),draw:HV(),isVisible:D8.isVisible,makeData:D8.makeData,autoMarginOpts:D8.autoMarginOpts}});var n5=fe((cze,XV)=>{"use strict";var e_e=Fi(),WV=Zs(),r_e=da().templatedArray,t_e=r_e("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});XV.exports={visible:{valType:"boolean",editType:"plot"},buttons:t_e,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:e_e({editType:"plot"}),bgcolor:{valType:"color",dflt:WV.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:WV.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}});var I8=fe((hze,jV)=>{"use strict";jV.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}});var JV=fe((vze,$V)=>{"use strict";var a5=tt(),n_e=xn(),a_e=da(),i_e=rf(),ZV=n5(),P8=I8();$V.exports=function(r,t,n,a,o){var i=r.rangeselector||{},l=a_e.newContainer(t,"rangeselector");function f(x,m){return a5.coerce(i,l,ZV,x,m)}var s=i_e(i,l,{name:"buttons",handleItemDefaults:o_e,calendar:o}),u=f("visible",s.length>0);if(u){var c=l_e(t,n,a);f("x",c[0]),f("y",c[1]),a5.noneOrAll(r,t,["x","y"]),f("xanchor"),f("yanchor"),a5.coerceFont(f,"font",n.font);var v=f("bgcolor");f("activecolor",n_e.contrast(v,P8.lightAmount,P8.darkAmount)),f("bordercolor"),f("borderwidth")}};function o_e(e,r,t,n){var a=n.calendar;function o(f,s){return a5.coerce(e,r,ZV.buttons,f,s)}var i=o("visible");if(i){var l=o("step");l!=="all"&&(a&&a!=="gregorian"&&(l==="month"||l==="year")?r.stepmode="backward":o("stepmode"),o("count")),o("label")}}function l_e(e,r,t){for(var n=t.filter(function(l){return r[l].anchor===e._id}),a=0,o=0;o<n.length;o++){var i=r[n[o]].domain;i&&(a=Math.max(i[1],a))}return[e.domain[0],a+P8.yPad]}});var QV=fe((dze,KV)=>{"use strict";var s_e=Pw(),f_e=tt().titleCase;KV.exports=function(r,t){var n=r._name,a={};if(t.step==="all")a[n+".autorange"]=!0;else{var o=u_e(r,t);a[n+".range[0]"]=o[0],a[n+".range[1]"]=o[1]}return a};function u_e(e,r){var t=e.range,n=new Date(e.r2l(t[1])),a=r.step,o=s_e["utc"+f_e(a)],i=r.count,l;switch(r.stepmode){case"backward":l=e.l2r(+o.offset(n,-i));break;case"todate":var f=o.offset(n,-i);l=e.l2r(+o.ceil(f));break}var s=t[1];return[l,s]}});var lY=fe((pze,oY)=>{"use strict";var o5=Ln(),c_e=Qt(),h_e=ci(),eY=xn(),iY=ta(),oc=tt(),rY=oc.strTranslate,i5=po(),v_e=ti(),B8=Ro(),tY=B8.LINE_SPACING,nY=B8.FROM_TL,aY=B8.FROM_BR,N8=I8(),d_e=QV();oY.exports=function(r){var t=r._fullLayout,n=t._infolayer.selectAll(".rangeselector").data(p_e(r),g_e);n.enter().append("g").classed("rangeselector",!0),n.exit().remove(),n.style({cursor:"pointer","pointer-events":"all"}),n.each(function(a){var o=o5.select(this),i=a,l=i.rangeselector,f=o.selectAll("g.button").data(oc.filterVisible(l.buttons));f.enter().append("g").classed("button",!0),f.exit().remove(),f.each(function(s){var u=o5.select(this),c=d_e(i,s);s._isActive=y_e(i,s,c),u.call(O8,l,s),u.call(x_e,l,s,r),u.on("click",function(){r._dragged||c_e.call("_guiRelayout",r,c)}),u.on("mouseover",function(){s._isHovered=!0,u.call(O8,l,s)}),u.on("mouseout",function(){s._isHovered=!1,u.call(O8,l,s)})}),__e(r,f,l,i._name,o)})};function p_e(e){for(var r=v_e.list(e,"x",!0),t=[],n=0;n<r.length;n++){var a=r[n];a.rangeselector&&a.rangeselector.visible&&t.push(a)}return t}function g_e(e){return e._id}function y_e(e,r,t){if(r.step==="all")return e.autorange===!0;var n=Object.keys(t);return e.range[0]===t[n[0]]&&e.range[1]===t[n[1]]}function O8(e,r,t){var n=oc.ensureSingle(e,"rect","selector-rect",function(a){a.attr("shape-rendering","crispEdges")});n.attr({rx:N8.rx,ry:N8.ry}),n.call(eY.stroke,r.bordercolor).call(eY.fill,m_e(r,t)).style("stroke-width",r.borderwidth+"px")}function m_e(e,r){return r._isActive||r._isHovered?e.activecolor:e.bgcolor}function x_e(e,r,t,n){function a(i){i5.convertToTspans(i,n)}var o=oc.ensureSingle(e,"text","selector-text",function(i){i.attr("text-anchor","middle")});o.call(iY.font,r.font).text(b_e(t,n._fullLayout._meta)).call(a)}function b_e(e,r){return e.label?r?oc.templateString(e.label,r):e.label:e.step==="all"?"all":e.count+e.step.charAt(0)}function __e(e,r,t,n,a){var o=0,i=0,l=t.borderwidth;r.each(function(){var x=o5.select(this),m=x.select(".selector-text"),w=t.font.size*tY,A=Math.max(w*i5.lineCount(m),16)+3;i=Math.max(i,A)}),r.each(function(){var x=o5.select(this),m=x.select(".selector-rect"),w=x.select(".selector-text"),A=w.node()&&iY.bBox(w.node()).width,y=t.font.size*tY,M=i5.lineCount(w),E=Math.max(A+10,N8.minButtonWidth);x.attr("transform",rY(l+o,l)),m.attr({x:0,y:0,width:E,height:i}),i5.positionText(w,E/2,i/2-(M-1)*y/2+3),o+=E+5});var f=e._fullLayout._size,s=f.l+f.w*t.x,u=f.t+f.h*(1-t.y),c="left";oc.isRightAnchor(t)&&(s-=o,c="right"),oc.isCenterAnchor(t)&&(s-=o/2,c="center");var v="top";oc.isBottomAnchor(t)&&(u-=i,v="bottom"),oc.isMiddleAnchor(t)&&(u-=i/2,v="middle"),o=Math.ceil(o),i=Math.ceil(i),s=Math.round(s),u=Math.round(u),h_e.autoMargin(e,n+"-range-selector",{x:t.x,y:t.y,l:o*nY[c],r:o*aY[c],b:i*aY[v],t:i*nY[v]}),a.attr("transform",rY(s,u))}});var fY=fe((gze,sY)=>{"use strict";sY.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:n5()}}},layoutAttributes:n5(),handleDefaults:JV(),draw:lY()}});var k0=fe(z8=>{"use strict";var uY=Na().extendFlat;z8.attributes=function(e,r){e=e||{},r=r||{};var t={valType:"info_array",editType:e.editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},n=e.name?e.name+" ":"",a=e.trace?"trace ":"subplot ",o=r.description?" "+r.description:"",i={x:uY({},t,{}),y:uY({},t,{}),editType:e.editType};return e.noGridCell||(i.row={valType:"integer",min:0,dflt:0,editType:e.editType},i.column={valType:"integer",min:0,dflt:0,editType:e.editType}),i};z8.defaults=function(e,r,t,n){var a=n&&n.x||[0,1],o=n&&n.y||[0,1],i=r.grid;if(i){var l=t("domain.column");l!==void 0&&(l<i.columns?a=i._domains.x[l]:delete e.domain.column);var f=t("domain.row");f!==void 0&&(f<i.rows?o=i._domains.y[f]:delete e.domain.row)}var s=t("domain.x",a),u=t("domain.y",o);s[0]<s[1]||(e.domain.x=a.slice()),u[0]<u[1]||(e.domain.y=o.slice())}});var pY=fe((mze,dY)=>{"use strict";var w_e=tt(),A_e=Dd().counter,T_e=k0().attributes,cY=Ji().idRegex,M_e=da(),q8={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[A_e("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[cY.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[cY.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:T_e({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function l5(e,r,t){var n=r[t+"axes"],a=Object.keys((e._splomAxes||{})[t]||{});if(Array.isArray(n))return n;if(a.length)return a}function E_e(e,r){var t=e.grid||{},n=l5(r,t,"x"),a=l5(r,t,"y");if(!e.grid&&!n&&!a)return;var o=Array.isArray(t.subplots)&&Array.isArray(t.subplots[0]),i=Array.isArray(n),l=Array.isArray(a),f=i&&n!==t.xaxes&&l&&a!==t.yaxes,s,u;o?(s=t.subplots.length,u=t.subplots[0].length):(l&&(s=a.length),i&&(u=n.length));var c=M_e.newContainer(r,"grid");function v(p,_){return w_e.coerce(t,c,q8,p,_)}var x=v("rows",s),m=v("columns",u);if(!(x*m>1)){delete r.grid;return}if(!o&&!i&&!l){var w=v("pattern")==="independent";w&&(o=!0)}c._hasSubplotGrid=o;var A=v("roworder"),y=A==="top to bottom",M=o?.2:.1,E=o?.3:.1,b,T;f&&r._splomGridDflt&&(b=r._splomGridDflt.xside,T=r._splomGridDflt.yside),c._domains={x:hY("x",v,M,b,m),y:hY("y",v,E,T,x,y)}}function hY(e,r,t,n,a,o){var i=r(e+"gap",t),l=r("domain."+e);r(e+"side",n);for(var f=new Array(a),s=l[0],u=(l[1]-s)/(a-i),c=u*(1-i),v=0;v<a;v++){var x=s+u*v;f[o?a-1-v:v]=[x,x+c]}return f}function S_e(e,r){var t=r.grid;if(!(!t||!t._domains)){var n=e.grid||{},a=r._subplots,o=t._hasSubplotGrid,i=t.rows,l=t.columns,f=t.pattern==="independent",s,u,c,v,x,m,w,A=t._axisMap={};if(o){var y=n.subplots||[];m=t.subplots=new Array(i);var M=1;for(s=0;s<i;s++){var E=m[s]=new Array(l),b=y[s]||[];for(u=0;u<l;u++)if(f?(x=M===1?"xy":"x"+M+"y"+M,M++):x=b[u],E[u]="",a.cartesian.indexOf(x)!==-1){if(w=x.indexOf("y"),c=x.slice(0,w),v=x.slice(w),A[c]!==void 0&&A[c]!==u||A[v]!==void 0&&A[v]!==s)continue;E[u]=x,A[c]=u,A[v]=s}}}else{var T=l5(r,n,"x"),p=l5(r,n,"y");t.xaxes=vY(T,a.xaxis,l,A,"x"),t.yaxes=vY(p,a.yaxis,i,A,"y")}var _=t._anchors={},g=t.roworder==="top to bottom";for(var h in A){var S=h.charAt(0),d=t[S+"side"],R,L,F;if(d.length<8)_[h]="free";else if(S==="x"){if(d.charAt(0)==="t"===g?(R=0,L=1,F=i):(R=i-1,L=-1,F=-1),o){var O=A[h];for(s=R;s!==F;s+=L)if(x=m[s][O],!!x&&(w=x.indexOf("y"),x.slice(0,w)===h)){_[h]=x.slice(w);break}}else for(s=R;s!==F;s+=L)if(v=t.yaxes[s],a.cartesian.indexOf(h+v)!==-1){_[h]=v;break}}else if(d.charAt(0)==="l"?(R=0,L=1,F=l):(R=l-1,L=-1,F=-1),o){var P=A[h];for(s=R;s!==F;s+=L)if(x=m[P][s],!!x&&(w=x.indexOf("y"),x.slice(w)===h)){_[h]=x.slice(0,w);break}}else for(s=R;s!==F;s+=L)if(c=t.xaxes[s],a.cartesian.indexOf(c+h)!==-1){_[h]=c;break}}}}function vY(e,r,t,n,a){var o=new Array(t),i;function l(f,s){r.indexOf(s)!==-1&&n[s]===void 0?(o[f]=s,n[s]=f):o[f]=""}if(Array.isArray(e))for(i=0;i<t;i++)l(i,e[i]);else for(l(0,a),i=1;i<t;i++)l(i,a+(i+1));return o}dY.exports={moduleType:"component",name:"grid",schema:{layout:{grid:q8}},layoutAttributes:q8,sizeDefaults:E_e,contentDefaults:S_e}});var U8=fe((xze,gY)=>{"use strict";gY.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc"}});var xY=fe((bze,mY)=>{"use strict";var yY=kn(),C_e=Qt(),k_e=tt(),L_e=da(),R_e=U8();mY.exports=function(e,r,t,n){var a="error_"+n.axis,o=L_e.newContainer(r,a),i=e[a]||{};function l(m,w){return k_e.coerce(i,o,R_e,m,w)}var f=i.array!==void 0||i.value!==void 0||i.type==="sqrt",s=l("visible",f);if(s!==!1){var u=l("type","array"in i?"data":"percent"),c=!0;u!=="sqrt"&&(c=l("symmetric",!((u==="data"?"arrayminus":"valueminus")in i))),u==="data"?(l("array"),l("traceref"),c||(l("arrayminus"),l("tracerefminus"))):(u==="percent"||u==="constant")&&(l("value"),c||l("valueminus"));var v="copy_"+n.inherit+"style";if(n.inherit){var x=r["error_"+n.inherit];(x||{}).visible&&l(v,!(i.color||yY(i.thickness)||yY(i.width)))}(!n.inherit||!o[v])&&(l("color",t),l("thickness"),l("width",C_e.traceIs(r,"gl3d")?0:4))}}});var G8=fe((_ze,_Y)=>{"use strict";_Y.exports=function(r){var t=r.type,n=r.symmetric;if(t==="data"){var a=r.array||[];if(n)return function(s,u){var c=+a[u];return[c,c]};var o=r.arrayminus||[];return function(s,u){var c=+a[u],v=+o[u];return!isNaN(c)||!isNaN(v)?[v||0,c||0]:[NaN,NaN]}}else{var i=bY(t,r.value),l=bY(t,r.valueminus);return n||r.valueminus===void 0?function(s){var u=i(s);return[u,u]}:function(s){return[l(s),i(s)]}}};function bY(e,r){if(e==="percent")return function(t){return Math.abs(t*r/100)};if(e==="constant")return function(){return Math.abs(r)};if(e==="sqrt")return function(t){return Math.sqrt(Math.abs(t))}}});var TY=fe((wze,AY)=>{"use strict";var H8=kn(),F_e=Qt(),V8=Fa(),D_e=tt(),I_e=G8();AY.exports=function(r){for(var t=r.calcdata,n=0;n<t.length;n++){var a=t[n],o=a[0].trace;if(o.visible===!0&&F_e.traceIs(o,"errorBarsOK")){var i=V8.getFromId(r,o.xaxis),l=V8.getFromId(r,o.yaxis);wY(a,o,i,"x"),wY(a,o,l,"y")}}};function wY(e,r,t,n){var a=r["error_"+n]||{},o=a.visible&&["linear","log"].indexOf(t.type)!==-1,i=[];if(o){for(var l=I_e(a),f=0;f<e.length;f++){var s=e[f],u=s.i;if(u===void 0)u=f;else if(u===null)continue;var c=s[n];if(H8(t.c2l(c))){var v=l(c,u);if(H8(v[0])&&H8(v[1])){var x=s[n+"s"]=c-v[0],m=s[n+"h"]=c+v[1];i.push(x,m)}}}var w=t._id,A=r._extremes[w],y=V8.findExtremes(t,i,D_e.extendFlat({tozero:A.opts.tozero},{padded:!0}));A.min=A.min.concat(y.min),A.max=A.max.concat(y.max)}}});var SY=fe((Aze,EY)=>{"use strict";var MY=Ln(),L0=kn(),P_e=ta(),O_e=Ki();EY.exports=function(r,t,n,a){var o,i=n.xaxis,l=n.yaxis,f=a&&a.duration>0,s=r._context.staticPlot;t.each(function(u){var c=u[0].trace,v=c.error_x||{},x=c.error_y||{},m;c.ids&&(m=function(M){return M.id});var w=O_e.hasMarkers(c)&&c.marker.maxdisplayed>0;!x.visible&&!v.visible&&(u=[]);var A=MY.select(this).selectAll("g.errorbar").data(u,m);if(A.exit().remove(),!!u.length){v.visible||A.selectAll("path.xerror").remove(),x.visible||A.selectAll("path.yerror").remove(),A.style("opacity",1);var y=A.enter().append("g").classed("errorbar",!0);f&&y.style("opacity",0).transition().duration(a.duration).style("opacity",1),P_e.setClipUrl(A,n.layerClipId,r),A.each(function(M){var E=MY.select(this),b=N_e(M,i,l);if(!(w&&!M.vis)){var T,p=E.select("path.yerror");if(x.visible&&L0(b.x)&&L0(b.yh)&&L0(b.ys)){var _=x.width;T="M"+(b.x-_)+","+b.yh+"h"+2*_+"m-"+_+",0V"+b.ys,b.noYS||(T+="m-"+_+",0h"+2*_),o=!p.size(),o?p=E.append("path").style("vector-effect",s?"none":"non-scaling-stroke").classed("yerror",!0):f&&(p=p.transition().duration(a.duration).ease(a.easing)),p.attr("d",T)}else p.remove();var g=E.select("path.xerror");if(v.visible&&L0(b.y)&&L0(b.xh)&&L0(b.xs)){var h=(v.copy_ystyle?x:v).width;T="M"+b.xh+","+(b.y-h)+"v"+2*h+"m0,-"+h+"H"+b.xs,b.noXS||(T+="m0,-"+h+"v"+2*h),o=!g.size(),o?g=E.append("path").style("vector-effect",s?"none":"non-scaling-stroke").classed("xerror",!0):f&&(g=g.transition().duration(a.duration).ease(a.easing)),g.attr("d",T)}else g.remove()}})}})};function N_e(e,r,t){var n={x:r.c2p(e.x),y:t.c2p(e.y)};return e.yh!==void 0&&(n.yh=t.c2p(e.yh),n.ys=t.c2p(e.ys),L0(n.ys)||(n.noYS=!0,n.ys=t.c2p(e.ys,!0))),e.xh!==void 0&&(n.xh=r.c2p(e.xh),n.xs=r.c2p(e.xs),L0(n.xs)||(n.noXS=!0,n.xs=r.c2p(e.xs,!0))),n}});var LY=fe((Tze,kY)=>{"use strict";var B_e=Ln(),CY=xn();kY.exports=function(r){r.each(function(t){var n=t[0].trace,a=n.error_y||{},o=n.error_x||{},i=B_e.select(this);i.selectAll("path.yerror").style("stroke-width",a.thickness+"px").call(CY.stroke,a.color),o.copy_ystyle&&(o=a),i.selectAll("path.xerror").style("stroke-width",o.thickness+"px").call(CY.stroke,o.color)})}});var DY=fe((Mze,FY)=>{"use strict";var Qy=tt(),RY=vl().overrideAll,em=U8(),kv={error_x:Qy.extendFlat({},em),error_y:Qy.extendFlat({},em)};delete kv.error_x.copy_zstyle;delete kv.error_y.copy_zstyle;delete kv.error_y.copy_ystyle;var rm={error_x:Qy.extendFlat({},em),error_y:Qy.extendFlat({},em),error_z:Qy.extendFlat({},em)};delete rm.error_x.copy_ystyle;delete rm.error_y.copy_ystyle;delete rm.error_z.copy_ystyle;delete rm.error_z.copy_zstyle;FY.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:kv,bar:kv,histogram:kv,scatter3d:RY(rm,"calc","nested"),scattergl:RY(kv,"calc","nested")}},supplyDefaults:xY(),calc:TY(),makeComputeError:G8(),plot:SY(),style:LY(),hoverInfo:z_e};function z_e(e,r,t){(r.error_y||{}).visible&&(t.yerr=e.yh-e.y,r.error_y.symmetric||(t.yerrneg=e.y-e.ys)),(r.error_x||{}).visible&&(t.xerr=e.xh-e.x,r.error_x.symmetric||(t.xerrneg=e.x-e.xs))}});var PY=fe((Eze,IY)=>{"use strict";IY.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}});var GY=fe((Sze,UY)=>{"use strict";var R0=Ln(),Y8=fl(),f5=ci(),OY=Qt(),lc=Fa(),s5=nf(),Es=tt(),yf=Es.strTranslate,qY=Na().extendFlat,W8=Ku(),gf=ta(),X8=xn(),q_e=Xg(),U_e=po(),G_e=ef().flipScale,H_e=Fb(),V_e=t8(),Y_e=cs(),j8=Ro(),NY=j8.LINE_SPACING,BY=j8.FROM_TL,zY=j8.FROM_BR,Da=PY().cn;function W_e(e){var r=e._fullLayout,t=r._infolayer.selectAll("g."+Da.colorbar).data(X_e(e),function(n){return n._id});t.enter().append("g").attr("class",function(n){return n._id}).classed(Da.colorbar,!0),t.each(function(n){var a=R0.select(this);Es.ensureSingle(a,"rect",Da.cbbg),Es.ensureSingle(a,"g",Da.cbfills),Es.ensureSingle(a,"g",Da.cblines),Es.ensureSingle(a,"g",Da.cbaxis,function(i){i.classed(Da.crisp,!0)}),Es.ensureSingle(a,"g",Da.cbtitleunshift,function(i){i.append("g").classed(Da.cbtitle,!0)}),Es.ensureSingle(a,"rect",Da.cboutline);var o=j_e(a,n,e);o&&o.then&&(e._promises||[]).push(o),e._context.edits.colorbarPosition&&Z_e(a,n,e)}),t.exit().each(function(n){f5.autoMargin(e,n._id)}).remove(),t.order()}function X_e(e){var r=e._fullLayout,t=e.calcdata,n=[],a,o,i,l;function f(E){return qY(E,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function s(){typeof l.calc=="function"?l.calc(e,i,a):(a._fillgradient=o.reversescale?G_e(o.colorscale):o.colorscale,a._zrange=[o[l.min],o[l.max]])}for(var u=0;u<t.length;u++){var c=t[u];if(i=c[0].trace,!!i._module){var v=i._module.colorbar;if(i.visible===!0&&v)for(var x=Array.isArray(v),m=x?v:[v],w=0;w<m.length;w++){l=m[w];var A=l.container;o=A?i[A]:i,o&&o.showscale&&(a=f(o.colorbar),a._id="cb"+i.uid+(x&&A?"-"+A:""),a._traceIndex=i.index,a._propPrefix=(A?A+".":"")+"colorbar.",a._meta=i._meta,s(),n.push(a))}}}for(var y in r._colorAxes)if(o=r[y],o.showscale){var M=r._colorAxes[y];a=f(o.colorbar),a._id="cb"+y,a._propPrefix=y+".colorbar.",a._meta=r._meta,l={min:"cmin",max:"cmax"},M[0]!=="heatmap"&&(i=M[1],l.calc=i._module.colorbar.calc),s(),n.push(a)}return n}function j_e(e,r,t){var n=r.orientation==="v",a=r.len,o=r.lenmode,i=r.thickness,l=r.thicknessmode,f=r.outlinewidth,s=r.borderwidth,u=r.bgcolor,c=r.xanchor,v=r.yanchor,x=r.xpad,m=r.ypad,w=r.x,A=n?r.y:1-r.y,y=r.yref==="paper",M=r.xref==="paper",E=t._fullLayout,b=E._size,T=r._fillcolor,p=r._line,_=r.title,g=_.side,h=r._zrange||R0.extent((typeof T=="function"?T:p.color).domain()),S=typeof p.color=="function"?p.color:function(){return p.color},d=typeof T=="function"?T:function(){return T},R=r._levels,L=$_e(t,r,h),F=L.fill,O=L.line,P=Math.round(i*(l==="fraction"?n?b.w:b.h:1)),I=P/(n?b.w:b.h),k=Math.round(a*(o==="fraction"?n?b.h:b.w:1)),D=k/(n?b.h:b.w),z=M?b.w:t._fullLayout.width,q=y?b.h:t._fullLayout.height,j=Math.round(n?w*z+x:A*q+m),Q={center:.5,right:1}[c]||0,K={top:1,middle:.5}[v]||0,G=n?w-Q*I:A-K*I,B=n?A-K*D:w-Q*D,Z=Math.round(n?q*(1-B):z*B);r._lenFrac=D,r._thickFrac=I,r._uFrac=G,r._vFrac=B;var ie=r._axis=J_e(t,r,h);ie.position=I+(n?w+x/b.w:A+m/b.h);var J=["top","bottom"].indexOf(g)!==-1;if(n&&J&&(ie.title.side=g,ie.titlex=w+x/b.w,ie.titley=B+(_.side==="top"?D-m/b.h:m/b.h)),!n&&!J&&(ie.title.side=g,ie.titley=A+m/b.h,ie.titlex=B+x/b.w),p.color&&r.tickmode==="auto"){ie.tickmode="linear",ie.tick0=R.start;var le=R.size,te=Es.constrain(k/50,4,15)+1,V=(h[1]-h[0])/((r.nticks||te)*le);if(V>1){var ne=Math.pow(10,Math.floor(Math.log(V)/Math.LN10));le*=ne*Es.roundUp(V/ne,[2,5,10]),(Math.abs(R.start)/R.size+1e-6)%1<2e-6&&(ie.tick0=0)}ie.dtick=le}ie.domain=n?[B+m/b.h,B+D-m/b.h]:[B+x/b.w,B+D-x/b.w],ie.setScale(),e.attr("transform",yf(Math.round(b.l),Math.round(b.t)));var Y=e.select("."+Da.cbtitleunshift).attr("transform",yf(-Math.round(b.l),-Math.round(b.t))),oe=ie.ticklabelposition,pe=ie.title.font.size,we=e.select("."+Da.cbaxis),De,Re=0,Ae=0;function Ie(pr,Se){var Fe={propContainer:ie,propName:r._propPrefix+"title.text",traceIndex:r._traceIndex,_meta:r._meta,placeholder:E._dfltTitle.colorbar,containerGroup:e.select("."+Da.cbtitle)},hr=pr.charAt(0)==="h"?pr.substr(1):"h"+pr;e.selectAll("."+hr+",."+hr+"-math-group").remove(),q_e.draw(t,pr,qY(Fe,Se||{}))}function Be(){if(n&&J||!n&&!J){var pr,Se;g==="top"&&(pr=x+b.l+z*w,Se=m+b.t+q*(1-B-D)+3+pe*.75),g==="bottom"&&(pr=x+b.l+z*w,Se=m+b.t+q*(1-B)-3-pe*.25),g==="right"&&(Se=m+b.t+q*A+3+pe*.75,pr=x+b.l+z*B),Ie(ie._id+"title",{attributes:{x:pr,y:Se,"text-anchor":n?"start":"middle"}})}}function je(){if(n&&!J||!n&&J){var pr=ie.position||0,Se=ie._offset+ie._length/2,Fe,hr;if(g==="right")hr=Se,Fe=b.l+z*pr+10+pe*(ie.showticklabels?1:.5);else if(Fe=Se,g==="bottom"&&(hr=b.t+q*pr+10+(oe.indexOf("inside")===-1?ie.tickfont.size:0)+(ie.ticks!=="inside"&&r.ticklen||0)),g==="top"){var dr=_.text.split("<br>").length;hr=b.t+q*pr+10-P-NY*pe*dr}Ie((n?"h":"v")+ie._id+"title",{avoid:{selection:R0.select(t).selectAll("g."+ie._id+"tick"),side:g,offsetTop:n?0:b.t,offsetLeft:n?b.l:0,maxShift:n?E.width:E.height},attributes:{x:Fe,y:hr,"text-anchor":"middle"},transform:{rotate:n?-90:0,offset:0}})}}function Ne(){if(!n&&!J||n&&J){var pr=e.select("."+Da.cbtitle),Se=pr.select("text"),Fe=[-f/2,f/2],hr=pr.select(".h"+ie._id+"title-math-group").node(),dr=15.6;Se.node()&&(dr=parseInt(Se.node().style.fontSize,10)*NY);var kr;if(hr?(kr=gf.bBox(hr),Ae=kr.width,Re=kr.height,Re>dr&&(Fe[1]-=(Re-dr)/2)):Se.node()&&!Se.classed(Da.jsPlaceholder)&&(kr=gf.bBox(Se.node()),Ae=kr.width,Re=kr.height),n){if(Re){if(Re+=5,g==="top")ie.domain[1]-=Re/b.h,Fe[1]*=-1;else{ie.domain[0]+=Re/b.h;var Ue=U_e.lineCount(Se);Fe[1]+=(1-Ue)*dr}pr.attr("transform",yf(Fe[0],Fe[1])),ie.setScale()}}else Ae&&(g==="right"&&(ie.domain[0]+=(Ae+pe/2)/b.w),pr.attr("transform",yf(Fe[0],Fe[1])),ie.setScale())}e.selectAll("."+Da.cbfills+",."+Da.cblines).attr("transform",n?yf(0,Math.round(b.h*(1-ie.domain[1]))):yf(Math.round(b.w*ie.domain[0]),0)),we.attr("transform",n?yf(0,Math.round(-b.t)):yf(Math.round(-b.l),0));var He=e.select("."+Da.cbfills).selectAll("rect."+Da.cbfill).attr("style","").data(F);He.enter().append("rect").classed(Da.cbfill,!0).attr("style",""),He.exit().remove();var Xe=h.map(ie.c2p).map(Math.round).sort(function(jr,Or){return jr-Or});He.each(function(jr,Or){var _r=[Or===0?h[0]:(F[Or]+F[Or-1])/2,Or===F.length-1?h[1]:(F[Or]+F[Or+1])/2].map(ie.c2p).map(Math.round);n&&(_r[1]=Es.constrain(_r[1]+(_r[1]>_r[0])?1:-1,Xe[0],Xe[1]));var qe=R0.select(this).attr(n?"x":"y",j).attr(n?"y":"x",R0.min(_r)).attr(n?"width":"height",Math.max(P,2)).attr(n?"height":"width",Math.max(R0.max(_r)-R0.min(_r),2));if(r._fillgradient)gf.gradient(qe,t,r._id,n?"vertical":"horizontalreversed",r._fillgradient,"fill");else{var nr=d(jr).replace("e-","");qe.attr("fill",Y8(nr).toHexString())}});var fr=e.select("."+Da.cblines).selectAll("path."+Da.cbline).data(p.color&&p.width?O:[]);fr.enter().append("path").classed(Da.cbline,!0),fr.exit().remove(),fr.each(function(jr){var Or=j,_r=Math.round(ie.c2p(jr))+p.width/2%1;R0.select(this).attr("d","M"+(n?Or+","+_r:_r+","+Or)+(n?"h":"v")+P).call(gf.lineGroupStyle,p.width,S(jr),p.dash)}),we.selectAll("g."+ie._id+"tick,path").remove();var Mr=j+P+(f||0)/2-(r.ticks==="outside"?1:0),qr=lc.calcTicks(ie),et=lc.getTickSigns(ie)[2];return lc.drawTicks(t,ie,{vals:ie.ticks==="inside"?lc.clipEnds(ie,qr):qr,layer:we,path:lc.makeTickPath(ie,Mr,et),transFn:lc.makeTransTickFn(ie)}),lc.drawLabels(t,ie,{vals:qr,layer:we,transFn:lc.makeTransTickLabelFn(ie),labelFns:lc.makeLabelFns(ie,Mr)})}function Qe(){var pr,Se=P+f/2;oe.indexOf("inside")===-1&&(pr=gf.bBox(we.node()),Se+=n?pr.width:pr.height),De=Y.select("text");var Fe=0,hr=n&&g==="top",dr=!n&&g==="right",kr=0;if(De.node()&&!De.classed(Da.jsPlaceholder)){var Ue,He=Y.select(".h"+ie._id+"title-math-group").node();He&&(n&&J||!n&&!J)?(pr=gf.bBox(He),Fe=pr.width,Ue=pr.height):(pr=gf.bBox(Y.node()),Fe=pr.right-b.l-(n?j:Z),Ue=pr.bottom-b.t-(n?Z:j),!n&&g==="top"&&(Se+=pr.height,kr=pr.height)),dr&&(De.attr("transform",yf(Fe/2+pe/2,0)),Fe*=2),Se=Math.max(Se,n?Fe:Ue)}var Xe=(n?x:m)*2+Se+s+f/2,fr=0;!n&&_.text&&v==="bottom"&&A<=0&&(fr=Xe/2,Xe+=fr,kr+=fr),E._hColorbarMoveTitle=fr,E._hColorbarMoveCBTitle=kr;var Mr=s+f,qr=(n?j:Z)-Mr/2-(n?x:0),et=(n?Z:j)-(n?k:m+kr-fr);e.select("."+Da.cbbg).attr("x",qr).attr("y",et).attr(n?"width":"height",Math.max(Xe-fr,2)).attr(n?"height":"width",Math.max(k+Mr,2)).call(X8.fill,u).call(X8.stroke,r.bordercolor).style("stroke-width",s);var jr=dr?Math.max(Fe-10,0):0;e.selectAll("."+Da.cboutline).attr("x",(n?j:Z+x)+jr).attr("y",(n?Z+m-k:j)+(hr?Re:0)).attr(n?"width":"height",Math.max(P,2)).attr(n?"height":"width",Math.max(k-(n?2*m+Re:2*x+jr),2)).call(X8.stroke,r.outlinecolor).style({fill:"none","stroke-width":f});var Or=n?Q*Xe:0,_r=n?0:(1-K)*Xe-kr;if(Or=M?b.l-Or:-Or,_r=y?b.t-_r:-_r,e.attr("transform",yf(Or,_r)),!n&&(s||Y8(u).getAlpha()&&!Y8.equals(E.paper_bgcolor,u))){var qe=we.selectAll("text"),nr=qe[0].length,Te=e.select("."+Da.cbbg).node(),be=gf.bBox(Te),Ge=gf.getTranslate(e),ae=2;qe.each(function(vt,dt){var qt=0,Nt=nr-1;if(dt===qt||dt===Nt){var _t=gf.bBox(this),Jt=gf.getTranslate(this),Ut;if(dt===Nt){var $t=_t.right+Jt.x,cn=be.right+Ge.x+Z-s-ae+w;Ut=cn-$t,Ut>0&&(Ut=0)}else if(dt===qt){var jt=_t.left+Jt.x,Kt=be.left+Ge.x+Z+s+ae;Ut=Kt-jt,Ut<0&&(Ut=0)}Ut&&(nr<3?this.setAttribute("transform","translate("+Ut+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var W={},re=BY[c],Ee=zY[c],We=BY[v],lr=zY[v],sr=Xe-P;n?(o==="pixels"?(W.y=A,W.t=k*We,W.b=k*lr):(W.t=W.b=0,W.yt=A+a*We,W.yb=A-a*lr),l==="pixels"?(W.x=w,W.l=Xe*re,W.r=Xe*Ee):(W.l=sr*re,W.r=sr*Ee,W.xl=w-i*re,W.xr=w+i*Ee)):(o==="pixels"?(W.x=w,W.l=k*re,W.r=k*Ee):(W.l=W.r=0,W.xl=w+a*re,W.xr=w-a*Ee),l==="pixels"?(W.y=1-A,W.t=Xe*We,W.b=Xe*lr):(W.t=sr*We,W.b=sr*lr,W.yt=A-i*We,W.yb=A+i*lr));var Yr=r.y<.5?"b":"t",rt=r.x<.5?"l":"r";t._fullLayout._reservedMargin[r._id]={};var zr={r:E.width-qr-Or,l:qr+W.r,b:E.height-et-_r,t:et+W.b};M&&y?f5.autoMargin(t,r._id,W):M?t._fullLayout._reservedMargin[r._id][Yr]=zr[Yr]:y||n?t._fullLayout._reservedMargin[r._id][rt]=zr[rt]:t._fullLayout._reservedMargin[r._id][Yr]=zr[Yr]}return Es.syncOrAsync([f5.previousPromises,Be,Ne,je,f5.previousPromises,Qe],t)}function Z_e(e,r,t){var n=r.orientation==="v",a=t._fullLayout,o=a._size,i,l,f;s5.init({element:e.node(),gd:t,prepFn:function(){i=e.attr("transform"),W8(e)},moveFn:function(s,u){e.attr("transform",i+yf(s,u)),l=s5.align((n?r._uFrac:r._vFrac)+s/o.w,n?r._thickFrac:r._lenFrac,0,1,r.xanchor),f=s5.align((n?r._vFrac:1-r._uFrac)-u/o.h,n?r._lenFrac:r._thickFrac,0,1,r.yanchor);var c=s5.getCursor(l,f,r.xanchor,r.yanchor);W8(e,c)},doneFn:function(){if(W8(e),l!==void 0&&f!==void 0){var s={};s[r._propPrefix+"x"]=l,s[r._propPrefix+"y"]=f,r._traceIndex!==void 0?OY.call("_guiRestyle",t,s,r._traceIndex):OY.call("_guiRelayout",t,s)}}})}function $_e(e,r,t){var n=r._levels,a=[],o=[],i,l,f=n.end+n.size/100,s=n.size,u=1.001*t[0]-.001*t[1],c=1.001*t[1]-.001*t[0];for(l=0;l<1e5&&(i=n.start+l*s,!(s>0?i>=f:i<=f));l++)i>u&&i<c&&a.push(i);if(r._fillgradient)o=[0];else if(typeof r._fillcolor=="function"){var v=r._filllevels;if(v)for(f=v.end+v.size/100,s=v.size,l=0;l<1e5&&(i=v.start+l*s,!(s>0?i>=f:i<=f));l++)i>t[0]&&i<t[1]&&o.push(i);else o=a.map(function(x){return x-n.size/2}),o.push(o[o.length-1]+n.size)}else r._fillcolor&&typeof r._fillcolor=="string"&&(o=[0]);return n.size<0&&(a.reverse(),o.reverse()),{line:a,fill:o}}function J_e(e,r,t){var n=e._fullLayout,a=r.orientation==="v",o={type:"linear",range:t,tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:r.ticks,ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,labelalias:r.labelalias,ticklabelposition:r.ticklabelposition,ticklabeloverflow:r.ticklabeloverflow,ticklabelstep:r.ticklabelstep,tickfont:r.tickfont,tickangle:r.tickangle,tickformat:r.tickformat,exponentformat:r.exponentformat,minexponent:r.minexponent,separatethousands:r.separatethousands,showexponent:r.showexponent,showtickprefix:r.showtickprefix,tickprefix:r.tickprefix,showticksuffix:r.showticksuffix,ticksuffix:r.ticksuffix,title:r.title,showline:!0,anchor:"free",side:a?"right":"bottom",position:1},i=a?"y":"x",l={type:"linear",_id:i+r._id},f={letter:i,font:n.font,noAutotickangles:i==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:n.calendar};function s(u,c){return Es.coerce(o,l,Y_e,u,c)}return H_e(o,l,s,f,n),V_e(o,l,s,f),l}UY.exports={draw:W_e}});var VY=fe((Cze,HY)=>{"use strict";HY.exports={moduleType:"component",name:"colorbar",attributes:g3(),supplyDefaults:J4(),draw:GY().draw,hasColorbar:q4()}});var WY=fe((kze,YY)=>{"use strict";YY.exports={moduleType:"component",name:"legend",layoutAttributes:WA(),supplyLayoutDefaults:ZA(),draw:l6(),style:n6()}});var jY=fe((Lze,XY)=>{"use strict";XY.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}});var $Y=fe((Rze,ZY)=>{"use strict";ZY.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}});var $8=fe((Fze,eW)=>{"use strict";var K_e=Qt(),QY=tt(),Z8=QY.extendFlat,JY=QY.extendDeep;function KY(e){var r;switch(e){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function Q_e(e){var r=["xaxis","yaxis","zaxis"];return r.indexOf(e.slice(0,5))>-1}eW.exports=function(r,t){var n,a=r.data,o=r.layout,i=JY([],a),l=JY({},o,KY(t.tileClass)),f=r._context||{};if(t.width&&(l.width=t.width),t.height&&(l.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){l.annotations=[];var s=Object.keys(l);for(n=0;n<s.length;n++)Q_e(s[n])&&(l[s[n]].title={text:""});for(n=0;n<i.length;n++){var u=i[n];u.showscale=!1,u.marker&&(u.marker.showscale=!1),K_e.traceIs(u,"pie-like")&&(u.textposition="none")}}if(Array.isArray(t.annotations))for(n=0;n<t.annotations.length;n++)l.annotations.push(t.annotations[n]);var c=Object.keys(l).filter(function(A){return A.match(/^scene\d*$/)});if(c.length){var v={};for(t.tileClass==="thumbnail"&&(v={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<c.length;n++){var x=l[c[n]];x.xaxis||(x.xaxis={}),x.yaxis||(x.yaxis={}),x.zaxis||(x.zaxis={}),Z8(x.xaxis,v),Z8(x.yaxis,v),Z8(x.zaxis,v),x._scene=null}}var m=document.createElement("div");t.tileClass&&(m.className=t.tileClass);var w={gd:m,td:m,layout:l,data:i,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:f.mapboxAccessToken}};return t.setBackground!=="transparent"&&(w.config.setBackground=t.setBackground||"opaque"),w.gd.defaultLayout=KY(t.tileClass),w}});var nW=fe((Dze,tW)=>{"use strict";var ewe=n3().EventEmitter,rwe=Qt(),twe=tt(),rW=xv(),nwe=$8(),awe=sb(),iwe=fb();function owe(e,r){var t=new ewe,n=nwe(e,{format:"png"}),a=n.gd;a.style.position="absolute",a.style.left="-5000px",document.body.appendChild(a);function o(){var l=rW.getDelay(a._fullLayout);setTimeout(function(){var f=awe(a),s=document.createElement("canvas");s.id=twe.randstr(),t=iwe({format:r.format,width:a._fullLayout.width,height:a._fullLayout.height,canvas:s,emitter:t,svg:f}),t.clean=function(){a&&document.body.removeChild(a)}},l)}var i=rW.getRedrawFunc(a);return rwe.call("_doPlot",a,n.data,n.layout,n.config).then(i).then(o).catch(function(l){t.emit("error",l)}),t}tW.exports=owe});var oW=fe((Ize,iW)=>{"use strict";var aW=xv(),lwe={getDelay:aW.getDelay,getRedrawFunc:aW.getRedrawFunc,clone:$8(),toSVG:sb(),svgToImg:fb(),toImage:nW(),downloadImage:ET()};iW.exports=lwe});var sW=fe(sc=>{"use strict";sc.version=_2().version;o9();$L();var swe=Qt(),tm=sc.register=swe.register,K8=bq(),lW=Object.keys(K8);for(u5=0;u5<lW.length;u5++)H1=lW[u5],H1.charAt(0)!=="_"&&(sc[H1]=K8[H1]),tm({moduleType:"apiMethod",name:H1,fn:K8[H1]});var H1,u5;tm(AG());tm([jG(),lH(),T1(),MH(),BH(),oV(),EV(),YV(),fY(),pY(),DY(),Kh(),VY(),WY(),of(),F6()]);tm([jY(),$Y()]);window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(tm(window.PlotlyLocales),delete window.PlotlyLocales);sc.Icons=ux();var c5=of(),J8=ci();sc.Plots={resize:J8.resize,graphJson:J8.graphJson,sendDataToCloud:J8.sendDataToCloud};sc.Fx={hover:c5.hover,unhover:c5.unhover,loneHover:c5.loneHover,loneUnhover:c5.loneUnhover};sc.Snapshot=oW();sc.PlotSchema=jd()});var uW=fe((Oze,fW)=>{"use strict";fW.exports=sW()});var hW=fe(V1=>{"use strict";var cW=ci();V1.name="sunburst";V1.plot=function(e,r,t,n){cW.plotBasePlot(V1.name,e,r,t,n)};V1.clean=function(e,r,t,n){cW.cleanBasePlot(V1.name,e,r,t,n)}});var Q8=fe((Bze,vW)=>{"use strict";var fwe=ul(),uwe=k0().attributes,cwe=Fi(),hwe=Zs(),vwe=dl().hovertemplateAttrs,dwe=dl().texttemplateAttrs,nm=Na().extendFlat,pwe=$s().pattern,h5=cwe({editType:"plot",arrayOk:!0,colorEditType:"plot"});vW.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:hwe.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:pwe,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:nm({},fwe.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:vwe({},{keys:["label","color","value","percent","text"]}),texttemplate:dwe({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:nm({},h5,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:nm({},h5,{}),outsidetextfont:nm({},h5,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:nm({},h5,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:uwe({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"}}});var eM=fe((zze,dW)=>{"use strict";dW.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}});var rM=fe((qze,gW)=>{"use strict";var gwe=ul(),ywe=dl().hovertemplateAttrs,mwe=dl().texttemplateAttrs,xwe=u0(),bwe=k0().attributes,fc=Q8(),pW=eM(),am=Na().extendFlat,_we=$s().pattern;gW.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:am({colors:{valType:"data_array",editType:"calc"},line:{color:am({},fc.marker.line.color,{dflt:null}),width:am({},fc.marker.line.width,{dflt:1}),editType:"calc"},pattern:_we,editType:"calc"},xwe("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:fc.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:mwe({editType:"plot"},{keys:pW.eventDataKeys.concat(["label","value"])}),hovertext:fc.hovertext,hoverinfo:am({},gwe.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:ywe({},{keys:pW.eventDataKeys}),textfont:fc.textfont,insidetextorientation:fc.insidetextorientation,insidetextfont:fc.insidetextfont,outsidetextfont:am({},fc.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:fc.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:bwe({name:"sunburst",trace:!0,editType:"calc"})}});var tM=fe((Uze,yW)=>{"use strict";yW.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}});var _W=fe((Gze,bW)=>{"use strict";var wwe=xn(),mW=ef().hasColorscale,xW=Qd(),Awe=tt().coercePattern;bW.exports=function(r,t,n,a,o){var i=n("marker.color",a),l=mW(r,"marker");l&&xW(r,t,o,n,{prefix:"marker.",cLetter:"c"}),n("marker.line.color",wwe.defaultLine),mW(r,"marker.line")&&xW(r,t,o,n,{prefix:"marker.line.",cLetter:"c"}),n("marker.line.width"),n("marker.opacity"),Awe(n,"marker.pattern",i,l),n("selected.marker.color"),n("unselected.marker.color")}});var nM=fe((Hze,wW)=>{"use strict";wW.exports={TEXTPAD:3,eventDataKeys:["value","label"]}});var iM=fe((Vze,EW)=>{"use strict";var Ha=nc(),AW=Jd().axisHoverFormat,Twe=dl().hovertemplateAttrs,Mwe=dl().texttemplateAttrs,MW=u0(),Ewe=Fi(),TW=nM(),Swe=$s().pattern,Lv=Na().extendFlat,aM=Ewe({editType:"calc",arrayOk:!0,colorEditType:"style"}),Cwe=Ha.marker,kwe=Cwe.line,Lwe=Lv({},kwe.width,{dflt:0}),Rwe=Lv({width:Lwe,editType:"calc"},MW("marker.line")),Fwe=Lv({line:Rwe,editType:"calc"},MW("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:Swe,cornerradius:{valType:"any",editType:"calc"}});EW.exports={x:Ha.x,x0:Ha.x0,dx:Ha.dx,y:Ha.y,y0:Ha.y0,dy:Ha.dy,xperiod:Ha.xperiod,yperiod:Ha.yperiod,xperiod0:Ha.xperiod0,yperiod0:Ha.yperiod0,xperiodalignment:Ha.xperiodalignment,yperiodalignment:Ha.yperiodalignment,xhoverformat:AW("x"),yhoverformat:AW("y"),text:Ha.text,texttemplate:Mwe({editType:"plot"},{keys:TW.eventDataKeys}),hovertext:Ha.hovertext,hovertemplate:Twe({},{keys:TW.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:Lv({},aM,{}),insidetextfont:Lv({},aM,{}),outsidetextfont:Lv({},aM,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:Lv({},Ha.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:Fwe,offsetgroup:Ha.offsetgroup,alignmentgroup:Ha.alignmentgroup,selected:{marker:{opacity:Ha.selected.marker.opacity,color:Ha.selected.marker.color,editType:"style"},textfont:Ha.selected.textfont,editType:"style"},unselected:{marker:{opacity:Ha.unselected.marker.opacity,color:Ha.unselected.marker.color,editType:"style"},textfont:Ha.unselected.textfont,editType:"style"},zorder:Ha.zorder}});var oM=fe((Yze,FW)=>{"use strict";var SW=kn(),Y1=tt(),CW=xn(),Dwe=Qt(),Iwe=db(),Pwe=pb(),Owe=_W(),Nwe=LT(),kW=iM(),v5=Y1.coerceFont;function Bwe(e,r,t,n){function a(s,u){return Y1.coerce(e,r,kW,s,u)}var o=Iwe(e,r,n,a);if(!o){r.visible=!1;return}Pwe(e,r,n,a),a("xhoverformat"),a("yhoverformat"),a("zorder"),a("orientation",r.x&&!r.y?"h":"v"),a("base"),a("offset"),a("width"),a("text"),a("hovertext"),a("hovertemplate");var i=a("textposition");RW(e,r,n,a,i,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),Owe(e,r,a,t,n);var l=(r.marker.line||{}).color,f=Dwe.getComponentMethod("errorbars","supplyDefaults");f(e,r,l||CW.defaultLine,{axis:"y"}),f(e,r,l||CW.defaultLine,{axis:"x",inherit:"y"}),Y1.coerceSelectionMarkerOpacity(r,a)}function zwe(e,r){var t,n;function a(l,f){return Y1.coerce(n._input,n,kW,l,f)}for(var o=0;o<e.length;o++)if(n=e[o],n.type==="bar"){t=n._input;var i=a("marker.cornerradius",r.barcornerradius);n.marker&&(n.marker.cornerradius=LW(i)),Nwe(t,n,r,a,r.barmode)}}function LW(e){if(SW(e)){if(e=+e,e>=0)return e}else if(typeof e=="string"&&(e=e.trim(),e.slice(-1)==="%"&&SW(e.slice(0,-1))&&(e=+e.slice(0,-1),e>=0)))return e+"%"}function RW(e,r,t,n,a,o){o=o||{};var i=o.moduleHasSelected!==!1,l=o.moduleHasUnselected!==!1,f=o.moduleHasConstrain!==!1,s=o.moduleHasCliponaxis!==!1,u=o.moduleHasTextangle!==!1,c=o.moduleHasInsideanchor!==!1,v=!!o.hasPathbar,x=Array.isArray(a)||a==="auto",m=x||a==="inside",w=x||a==="outside";if(m||w){var A=v5(n,"textfont",t.font),y=Y1.extendFlat({},A),M=e.textfont&&e.textfont.color,E=!M;if(E&&delete y.color,v5(n,"insidetextfont",y),v){var b=Y1.extendFlat({},A);E&&delete b.color,v5(n,"pathbar.textfont",b)}w&&v5(n,"outsidetextfont",A),i&&n("selected.textfont.color"),l&&n("unselected.textfont.color"),f&&n("constraintext"),s&&n("cliponaxis"),u&&n("textangle"),n("texttemplate")}m&&c&&n("insidetextanchor")}FW.exports={supplyDefaults:Bwe,crossTraceDefaults:zwe,handleText:RW,validateCornerradius:LW}});var OW=fe((Wze,PW)=>{"use strict";var qwe=kn(),im=tt(),Uwe=Q8(),Gwe=k0().defaults,Hwe=oM().handleText,Vwe=tt().coercePattern;function DW(e,r){var t=im.isArrayOrTypedArray(e),n=im.isArrayOrTypedArray(r),a=Math.min(t?e.length:1/0,n?r.length:1/0);if(isFinite(a)||(a=0),a&&n){for(var o,i=0;i<a;i++){var l=r[i];if(qwe(l)&&l>0){o=!0;break}}o||(a=0)}return{hasLabels:t,hasValues:n,len:a}}function IW(e,r,t,n,a){var o=n("marker.line.width");o&&n("marker.line.color",a?void 0:t.paper_bgcolor);var i=n("marker.colors");Vwe(n,"marker.pattern",i),e.marker&&!r.marker.pattern.fgcolor&&(r.marker.pattern.fgcolor=e.marker.colors),r.marker.pattern.bgcolor||(r.marker.pattern.bgcolor=t.paper_bgcolor)}function Ywe(e,r,t,n){function a(M,E){return im.coerce(e,r,Uwe,M,E)}var o=a("labels"),i=a("values"),l=DW(o,i),f=l.len;if(r._hasLabels=l.hasLabels,r._hasValues=l.hasValues,!r._hasLabels&&r._hasValues&&(a("label0"),a("dlabel")),!f){r.visible=!1;return}r._length=f,IW(e,r,n,a,!0),a("scalegroup");var s=a("text"),u=a("texttemplate"),c;if(u||(c=a("textinfo",im.isArrayOrTypedArray(s)?"text+percent":"percent")),a("hovertext"),a("hovertemplate"),u||c&&c!=="none"){var v=a("textposition");Hwe(e,r,n,a,v,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var x=Array.isArray(v)||v==="auto",m=x||v==="outside";m&&a("automargin"),(v==="inside"||v==="auto"||Array.isArray(v))&&a("insidetextorientation")}else c==="none"&&a("textposition","none");Gwe(r,n,a);var w=a("hole"),A=a("title.text");if(A){var y=a("title.position",w?"middle center":"top center");!w&&y==="middle center"&&(r.title.position="top center"),im.coerceFont(a,"title.font",n.font)}a("sort"),a("direction"),a("rotation"),a("pull")}PW.exports={handleLabelsAndValues:DW,handleMarkerDefaults:IW,supplyDefaults:Ywe}});var qW=fe((Xze,zW)=>{"use strict";var NW=tt(),Wwe=rM(),Xwe=k0().defaults,jwe=oM().handleText,Zwe=OW().handleMarkerDefaults,BW=Kh(),$we=BW.hasColorscale,Jwe=BW.handleDefaults;zW.exports=function(r,t,n,a){function o(v,x){return NW.coerce(r,t,Wwe,v,x)}var i=o("labels"),l=o("parents");if(!i||!i.length||!l||!l.length){t.visible=!1;return}var f=o("values");f&&f.length?o("branchvalues"):o("count"),o("level"),o("maxdepth"),Zwe(r,t,a,o);var s=t._hasColorscale=$we(r,"marker","colors")||(r.marker||{}).coloraxis;s&&Jwe(r,t,a,o,{prefix:"marker.",cLetter:"c"}),o("leaf.opacity",s?1:.7);var u=o("text");o("texttemplate"),t.texttemplate||o("textinfo",NW.isArrayOrTypedArray(u)?"text+label":"label"),o("hovertext"),o("hovertemplate");var c="auto";jwe(r,t,a,o,c,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),o("insidetextorientation"),o("sort"),o("rotation"),o("root.color"),Xwe(t,a,o),t._length=null}});var GW=fe((jze,UW)=>{"use strict";var Kwe=tt(),Qwe=tM();UW.exports=function(r,t){function n(a,o){return Kwe.coerce(r,t,Qwe,a,o)}n("sunburstcolorway",t.colorway),n("extendsunburstcolors")}});var lM=fe((d5,HW)=>{(function(e,r){typeof d5=="object"&&typeof HW!="undefined"?r(d5):(e=e||self,r(e.d3=e.d3||{}))})(d5,function(e){"use strict";function r(Te,be){return Te.parent===be.parent?1:2}function t(Te){return Te.reduce(n,0)/Te.length}function n(Te,be){return Te+be.x}function a(Te){return 1+Te.reduce(o,0)}function o(Te,be){return Math.max(Te,be.y)}function i(Te){for(var be;be=Te.children;)Te=be[0];return Te}function l(Te){for(var be;be=Te.children;)Te=be[be.length-1];return Te}function f(){var Te=r,be=1,Ge=1,ae=!1;function W(re){var Ee,We=0;re.eachAfter(function(zr){var vt=zr.children;vt?(zr.x=t(vt),zr.y=a(vt)):(zr.x=Ee?We+=Te(zr,Ee):0,zr.y=0,Ee=zr)});var lr=i(re),sr=l(re),Yr=lr.x-Te(lr,sr)/2,rt=sr.x+Te(sr,lr)/2;return re.eachAfter(ae?function(zr){zr.x=(zr.x-re.x)*be,zr.y=(re.y-zr.y)*Ge}:function(zr){zr.x=(zr.x-Yr)/(rt-Yr)*be,zr.y=(1-(re.y?zr.y/re.y:1))*Ge})}return W.separation=function(re){return arguments.length?(Te=re,W):Te},W.size=function(re){return arguments.length?(ae=!1,be=+re[0],Ge=+re[1],W):ae?null:[be,Ge]},W.nodeSize=function(re){return arguments.length?(ae=!0,be=+re[0],Ge=+re[1],W):ae?[be,Ge]:null},W}function s(Te){var be=0,Ge=Te.children,ae=Ge&&Ge.length;if(!ae)be=1;else for(;--ae>=0;)be+=Ge[ae].value;Te.value=be}function u(){return this.eachAfter(s)}function c(Te){var be=this,Ge,ae=[be],W,re,Ee;do for(Ge=ae.reverse(),ae=[];be=Ge.pop();)if(Te(be),W=be.children,W)for(re=0,Ee=W.length;re<Ee;++re)ae.push(W[re]);while(ae.length);return this}function v(Te){for(var be=this,Ge=[be],ae,W;be=Ge.pop();)if(Te(be),ae=be.children,ae)for(W=ae.length-1;W>=0;--W)Ge.push(ae[W]);return this}function x(Te){for(var be=this,Ge=[be],ae=[],W,re,Ee;be=Ge.pop();)if(ae.push(be),W=be.children,W)for(re=0,Ee=W.length;re<Ee;++re)Ge.push(W[re]);for(;be=ae.pop();)Te(be);return this}function m(Te){return this.eachAfter(function(be){for(var Ge=+Te(be.data)||0,ae=be.children,W=ae&&ae.length;--W>=0;)Ge+=ae[W].value;be.value=Ge})}function w(Te){return this.eachBefore(function(be){be.children&&be.children.sort(Te)})}function A(Te){for(var be=this,Ge=y(be,Te),ae=[be];be!==Ge;)be=be.parent,ae.push(be);for(var W=ae.length;Te!==Ge;)ae.splice(W,0,Te),Te=Te.parent;return ae}function y(Te,be){if(Te===be)return Te;var Ge=Te.ancestors(),ae=be.ancestors(),W=null;for(Te=Ge.pop(),be=ae.pop();Te===be;)W=Te,Te=Ge.pop(),be=ae.pop();return W}function M(){for(var Te=this,be=[Te];Te=Te.parent;)be.push(Te);return be}function E(){var Te=[];return this.each(function(be){Te.push(be)}),Te}function b(){var Te=[];return this.eachBefore(function(be){be.children||Te.push(be)}),Te}function T(){var Te=this,be=[];return Te.each(function(Ge){Ge!==Te&&be.push({source:Ge.parent,target:Ge})}),be}function p(Te,be){var Ge=new d(Te),ae=+Te.value&&(Ge.value=Te.value),W,re=[Ge],Ee,We,lr,sr;for(be==null&&(be=g);W=re.pop();)if(ae&&(W.value=+W.data.value),(We=be(W.data))&&(sr=We.length))for(W.children=new Array(sr),lr=sr-1;lr>=0;--lr)re.push(Ee=W.children[lr]=new d(We[lr])),Ee.parent=W,Ee.depth=W.depth+1;return Ge.eachBefore(S)}function _(){return p(this).eachBefore(h)}function g(Te){return Te.children}function h(Te){Te.data=Te.data.data}function S(Te){var be=0;do Te.height=be;while((Te=Te.parent)&&Te.height<++be)}function d(Te){this.data=Te,this.depth=this.height=0,this.parent=null}d.prototype=p.prototype={constructor:d,count:u,each:c,eachAfter:x,eachBefore:v,sum:m,sort:w,path:A,ancestors:M,descendants:E,leaves:b,links:T,copy:_};var R=Array.prototype.slice;function L(Te){for(var be=Te.length,Ge,ae;be;)ae=Math.random()*be--|0,Ge=Te[be],Te[be]=Te[ae],Te[ae]=Ge;return Te}function F(Te){for(var be=0,Ge=(Te=L(R.call(Te))).length,ae=[],W,re;be<Ge;)W=Te[be],re&&I(re,W)?++be:(re=D(ae=O(ae,W)),be=0);return re}function O(Te,be){var Ge,ae;if(k(be,Te))return[be];for(Ge=0;Ge<Te.length;++Ge)if(P(be,Te[Ge])&&k(q(Te[Ge],be),Te))return[Te[Ge],be];for(Ge=0;Ge<Te.length-1;++Ge)for(ae=Ge+1;ae<Te.length;++ae)if(P(q(Te[Ge],Te[ae]),be)&&P(q(Te[Ge],be),Te[ae])&&P(q(Te[ae],be),Te[Ge])&&k(j(Te[Ge],Te[ae],be),Te))return[Te[Ge],Te[ae],be];throw new Error}function P(Te,be){var Ge=Te.r-be.r,ae=be.x-Te.x,W=be.y-Te.y;return Ge<0||Ge*Ge<ae*ae+W*W}function I(Te,be){var Ge=Te.r-be.r+1e-6,ae=be.x-Te.x,W=be.y-Te.y;return Ge>0&&Ge*Ge>ae*ae+W*W}function k(Te,be){for(var Ge=0;Ge<be.length;++Ge)if(!I(Te,be[Ge]))return!1;return!0}function D(Te){switch(Te.length){case 1:return z(Te[0]);case 2:return q(Te[0],Te[1]);case 3:return j(Te[0],Te[1],Te[2])}}function z(Te){return{x:Te.x,y:Te.y,r:Te.r}}function q(Te,be){var Ge=Te.x,ae=Te.y,W=Te.r,re=be.x,Ee=be.y,We=be.r,lr=re-Ge,sr=Ee-ae,Yr=We-W,rt=Math.sqrt(lr*lr+sr*sr);return{x:(Ge+re+lr/rt*Yr)/2,y:(ae+Ee+sr/rt*Yr)/2,r:(rt+W+We)/2}}function j(Te,be,Ge){var ae=Te.x,W=Te.y,re=Te.r,Ee=be.x,We=be.y,lr=be.r,sr=Ge.x,Yr=Ge.y,rt=Ge.r,zr=ae-Ee,vt=ae-sr,dt=W-We,qt=W-Yr,Nt=lr-re,_t=rt-re,Jt=ae*ae+W*W-re*re,Ut=Jt-Ee*Ee-We*We+lr*lr,$t=Jt-sr*sr-Yr*Yr+rt*rt,cn=vt*dt-zr*qt,jt=(dt*$t-qt*Ut)/(cn*2)-ae,Kt=(qt*Nt-dt*_t)/cn,_n=(vt*Ut-zr*$t)/(cn*2)-W,Cn=(zr*_t-vt*Nt)/cn,ua=Kt*Kt+Cn*Cn-1,ra=2*(re+jt*Kt+_n*Cn),la=jt*jt+_n*_n-re*re,Mn=-(ua?(ra+Math.sqrt(ra*ra-4*ua*la))/(2*ua):la/ra);return{x:ae+jt+Kt*Mn,y:W+_n+Cn*Mn,r:Mn}}function Q(Te,be,Ge){var ae=Te.x-be.x,W,re,Ee=Te.y-be.y,We,lr,sr=ae*ae+Ee*Ee;sr?(re=be.r+Ge.r,re*=re,lr=Te.r+Ge.r,lr*=lr,re>lr?(W=(sr+lr-re)/(2*sr),We=Math.sqrt(Math.max(0,lr/sr-W*W)),Ge.x=Te.x-W*ae-We*Ee,Ge.y=Te.y-W*Ee+We*ae):(W=(sr+re-lr)/(2*sr),We=Math.sqrt(Math.max(0,re/sr-W*W)),Ge.x=be.x+W*ae-We*Ee,Ge.y=be.y+W*Ee+We*ae)):(Ge.x=be.x+Ge.r,Ge.y=be.y)}function K(Te,be){var Ge=Te.r+be.r-1e-6,ae=be.x-Te.x,W=be.y-Te.y;return Ge>0&&Ge*Ge>ae*ae+W*W}function G(Te){var be=Te._,Ge=Te.next._,ae=be.r+Ge.r,W=(be.x*Ge.r+Ge.x*be.r)/ae,re=(be.y*Ge.r+Ge.y*be.r)/ae;return W*W+re*re}function B(Te){this._=Te,this.next=null,this.previous=null}function Z(Te){if(!(W=Te.length))return 0;var be,Ge,ae,W,re,Ee,We,lr,sr,Yr,rt;if(be=Te[0],be.x=0,be.y=0,!(W>1))return be.r;if(Ge=Te[1],be.x=-Ge.r,Ge.x=be.r,Ge.y=0,!(W>2))return be.r+Ge.r;Q(Ge,be,ae=Te[2]),be=new B(be),Ge=new B(Ge),ae=new B(ae),be.next=ae.previous=Ge,Ge.next=be.previous=ae,ae.next=Ge.previous=be;e:for(We=3;We<W;++We){Q(be._,Ge._,ae=Te[We]),ae=new B(ae),lr=Ge.next,sr=be.previous,Yr=Ge._.r,rt=be._.r;do if(Yr<=rt){if(K(lr._,ae._)){Ge=lr,be.next=Ge,Ge.previous=be,--We;continue e}Yr+=lr._.r,lr=lr.next}else{if(K(sr._,ae._)){be=sr,be.next=Ge,Ge.previous=be,--We;continue e}rt+=sr._.r,sr=sr.previous}while(lr!==sr.next);for(ae.previous=be,ae.next=Ge,be.next=Ge.previous=Ge=ae,re=G(be);(ae=ae.next)!==Ge;)(Ee=G(ae))<re&&(be=ae,re=Ee);Ge=be.next}for(be=[Ge._],ae=Ge;(ae=ae.next)!==Ge;)be.push(ae._);for(ae=F(be),We=0;We<W;++We)be=Te[We],be.x-=ae.x,be.y-=ae.y;return ae.r}function ie(Te){return Z(Te),Te}function J(Te){return Te==null?null:le(Te)}function le(Te){if(typeof Te!="function")throw new Error;return Te}function te(){return 0}function V(Te){return function(){return Te}}function ne(Te){return Math.sqrt(Te.value)}function Y(){var Te=null,be=1,Ge=1,ae=te;function W(re){return re.x=be/2,re.y=Ge/2,Te?re.eachBefore(oe(Te)).eachAfter(pe(ae,.5)).eachBefore(we(1)):re.eachBefore(oe(ne)).eachAfter(pe(te,1)).eachAfter(pe(ae,re.r/Math.min(be,Ge))).eachBefore(we(Math.min(be,Ge)/(2*re.r))),re}return W.radius=function(re){return arguments.length?(Te=J(re),W):Te},W.size=function(re){return arguments.length?(be=+re[0],Ge=+re[1],W):[be,Ge]},W.padding=function(re){return arguments.length?(ae=typeof re=="function"?re:V(+re),W):ae},W}function oe(Te){return function(be){be.children||(be.r=Math.max(0,+Te(be)||0))}}function pe(Te,be){return function(Ge){if(ae=Ge.children){var ae,W,re=ae.length,Ee=Te(Ge)*be||0,We;if(Ee)for(W=0;W<re;++W)ae[W].r+=Ee;if(We=Z(ae),Ee)for(W=0;W<re;++W)ae[W].r-=Ee;Ge.r=We+Ee}}}function we(Te){return function(be){var Ge=be.parent;be.r*=Te,Ge&&(be.x=Ge.x+Te*be.x,be.y=Ge.y+Te*be.y)}}function De(Te){Te.x0=Math.round(Te.x0),Te.y0=Math.round(Te.y0),Te.x1=Math.round(Te.x1),Te.y1=Math.round(Te.y1)}function Re(Te,be,Ge,ae,W){for(var re=Te.children,Ee,We=-1,lr=re.length,sr=Te.value&&(ae-be)/Te.value;++We<lr;)Ee=re[We],Ee.y0=Ge,Ee.y1=W,Ee.x0=be,Ee.x1=be+=Ee.value*sr}function Ae(){var Te=1,be=1,Ge=0,ae=!1;function W(Ee){var We=Ee.height+1;return Ee.x0=Ee.y0=Ge,Ee.x1=Te,Ee.y1=be/We,Ee.eachBefore(re(be,We)),ae&&Ee.eachBefore(De),Ee}function re(Ee,We){return function(lr){lr.children&&Re(lr,lr.x0,Ee*(lr.depth+1)/We,lr.x1,Ee*(lr.depth+2)/We);var sr=lr.x0,Yr=lr.y0,rt=lr.x1-Ge,zr=lr.y1-Ge;rt<sr&&(sr=rt=(sr+rt)/2),zr<Yr&&(Yr=zr=(Yr+zr)/2),lr.x0=sr,lr.y0=Yr,lr.x1=rt,lr.y1=zr}}return W.round=function(Ee){return arguments.length?(ae=!!Ee,W):ae},W.size=function(Ee){return arguments.length?(Te=+Ee[0],be=+Ee[1],W):[Te,be]},W.padding=function(Ee){return arguments.length?(Ge=+Ee,W):Ge},W}var Ie="$",Be={depth:-1},je={};function Ne(Te){return Te.id}function Qe(Te){return Te.parentId}function pr(){var Te=Ne,be=Qe;function Ge(ae){var W,re,Ee=ae.length,We,lr,sr,Yr=new Array(Ee),rt,zr,vt={};for(re=0;re<Ee;++re)W=ae[re],sr=Yr[re]=new d(W),(rt=Te(W,re,ae))!=null&&(rt+="")&&(zr=Ie+(sr.id=rt),vt[zr]=zr in vt?je:sr);for(re=0;re<Ee;++re)if(sr=Yr[re],rt=be(ae[re],re,ae),rt==null||!(rt+="")){if(We)throw new Error("multiple roots");We=sr}else{if(lr=vt[Ie+rt],!lr)throw new Error("missing: "+rt);if(lr===je)throw new Error("ambiguous: "+rt);lr.children?lr.children.push(sr):lr.children=[sr],sr.parent=lr}if(!We)throw new Error("no root");if(We.parent=Be,We.eachBefore(function(dt){dt.depth=dt.parent.depth+1,--Ee}).eachBefore(S),We.parent=null,Ee>0)throw new Error("cycle");return We}return Ge.id=function(ae){return arguments.length?(Te=le(ae),Ge):Te},Ge.parentId=function(ae){return arguments.length?(be=le(ae),Ge):be},Ge}function Se(Te,be){return Te.parent===be.parent?1:2}function Fe(Te){var be=Te.children;return be?be[0]:Te.t}function hr(Te){var be=Te.children;return be?be[be.length-1]:Te.t}function dr(Te,be,Ge){var ae=Ge/(be.i-Te.i);be.c-=ae,be.s+=Ge,Te.c+=ae,be.z+=Ge,be.m+=Ge}function kr(Te){for(var be=0,Ge=0,ae=Te.children,W=ae.length,re;--W>=0;)re=ae[W],re.z+=be,re.m+=be,be+=re.s+(Ge+=re.c)}function Ue(Te,be,Ge){return Te.a.parent===be.parent?Te.a:Ge}function He(Te,be){this._=Te,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=be}He.prototype=Object.create(d.prototype);function Xe(Te){for(var be=new He(Te,0),Ge,ae=[be],W,re,Ee,We;Ge=ae.pop();)if(re=Ge._.children)for(Ge.children=new Array(We=re.length),Ee=We-1;Ee>=0;--Ee)ae.push(W=Ge.children[Ee]=new He(re[Ee],Ee)),W.parent=Ge;return(be.parent=new He(null,0)).children=[be],be}function fr(){var Te=Se,be=1,Ge=1,ae=null;function W(sr){var Yr=Xe(sr);if(Yr.eachAfter(re),Yr.parent.m=-Yr.z,Yr.eachBefore(Ee),ae)sr.eachBefore(lr);else{var rt=sr,zr=sr,vt=sr;sr.eachBefore(function(Jt){Jt.x<rt.x&&(rt=Jt),Jt.x>zr.x&&(zr=Jt),Jt.depth>vt.depth&&(vt=Jt)});var dt=rt===zr?1:Te(rt,zr)/2,qt=dt-rt.x,Nt=be/(zr.x+dt+qt),_t=Ge/(vt.depth||1);sr.eachBefore(function(Jt){Jt.x=(Jt.x+qt)*Nt,Jt.y=Jt.depth*_t})}return sr}function re(sr){var Yr=sr.children,rt=sr.parent.children,zr=sr.i?rt[sr.i-1]:null;if(Yr){kr(sr);var vt=(Yr[0].z+Yr[Yr.length-1].z)/2;zr?(sr.z=zr.z+Te(sr._,zr._),sr.m=sr.z-vt):sr.z=vt}else zr&&(sr.z=zr.z+Te(sr._,zr._));sr.parent.A=We(sr,zr,sr.parent.A||rt[0])}function Ee(sr){sr._.x=sr.z+sr.parent.m,sr.m+=sr.parent.m}function We(sr,Yr,rt){if(Yr){for(var zr=sr,vt=sr,dt=Yr,qt=zr.parent.children[0],Nt=zr.m,_t=vt.m,Jt=dt.m,Ut=qt.m,$t;dt=hr(dt),zr=Fe(zr),dt&&zr;)qt=Fe(qt),vt=hr(vt),vt.a=sr,$t=dt.z+Jt-zr.z-Nt+Te(dt._,zr._),$t>0&&(dr(Ue(dt,sr,rt),sr,$t),Nt+=$t,_t+=$t),Jt+=dt.m,Nt+=zr.m,Ut+=qt.m,_t+=vt.m;dt&&!hr(vt)&&(vt.t=dt,vt.m+=Jt-_t),zr&&!Fe(qt)&&(qt.t=zr,qt.m+=Nt-Ut,rt=sr)}return rt}function lr(sr){sr.x*=be,sr.y=sr.depth*Ge}return W.separation=function(sr){return arguments.length?(Te=sr,W):Te},W.size=function(sr){return arguments.length?(ae=!1,be=+sr[0],Ge=+sr[1],W):ae?null:[be,Ge]},W.nodeSize=function(sr){return arguments.length?(ae=!0,be=+sr[0],Ge=+sr[1],W):ae?[be,Ge]:null},W}function Mr(Te,be,Ge,ae,W){for(var re=Te.children,Ee,We=-1,lr=re.length,sr=Te.value&&(W-Ge)/Te.value;++We<lr;)Ee=re[We],Ee.x0=be,Ee.x1=ae,Ee.y0=Ge,Ee.y1=Ge+=Ee.value*sr}var qr=(1+Math.sqrt(5))/2;function et(Te,be,Ge,ae,W,re){for(var Ee=[],We=be.children,lr,sr,Yr=0,rt=0,zr=We.length,vt,dt,qt=be.value,Nt,_t,Jt,Ut,$t,cn,jt;Yr<zr;){vt=W-Ge,dt=re-ae;do Nt=We[rt++].value;while(!Nt&&rt<zr);for(_t=Jt=Nt,cn=Math.max(dt/vt,vt/dt)/(qt*Te),jt=Nt*Nt*cn,$t=Math.max(Jt/jt,jt/_t);rt<zr;++rt){if(Nt+=sr=We[rt].value,sr<_t&&(_t=sr),sr>Jt&&(Jt=sr),jt=Nt*Nt*cn,Ut=Math.max(Jt/jt,jt/_t),Ut>$t){Nt-=sr;break}$t=Ut}Ee.push(lr={value:Nt,dice:vt<dt,children:We.slice(Yr,rt)}),lr.dice?Re(lr,Ge,ae,W,qt?ae+=dt*Nt/qt:re):Mr(lr,Ge,ae,qt?Ge+=vt*Nt/qt:W,re),qt-=Nt,Yr=rt}return Ee}var jr=function Te(be){function Ge(ae,W,re,Ee,We){et(be,ae,W,re,Ee,We)}return Ge.ratio=function(ae){return Te((ae=+ae)>1?ae:1)},Ge}(qr);function Or(){var Te=jr,be=!1,Ge=1,ae=1,W=[0],re=te,Ee=te,We=te,lr=te,sr=te;function Yr(zr){return zr.x0=zr.y0=0,zr.x1=Ge,zr.y1=ae,zr.eachBefore(rt),W=[0],be&&zr.eachBefore(De),zr}function rt(zr){var vt=W[zr.depth],dt=zr.x0+vt,qt=zr.y0+vt,Nt=zr.x1-vt,_t=zr.y1-vt;Nt<dt&&(dt=Nt=(dt+Nt)/2),_t<qt&&(qt=_t=(qt+_t)/2),zr.x0=dt,zr.y0=qt,zr.x1=Nt,zr.y1=_t,zr.children&&(vt=W[zr.depth+1]=re(zr)/2,dt+=sr(zr)-vt,qt+=Ee(zr)-vt,Nt-=We(zr)-vt,_t-=lr(zr)-vt,Nt<dt&&(dt=Nt=(dt+Nt)/2),_t<qt&&(qt=_t=(qt+_t)/2),Te(zr,dt,qt,Nt,_t))}return Yr.round=function(zr){return arguments.length?(be=!!zr,Yr):be},Yr.size=function(zr){return arguments.length?(Ge=+zr[0],ae=+zr[1],Yr):[Ge,ae]},Yr.tile=function(zr){return arguments.length?(Te=le(zr),Yr):Te},Yr.padding=function(zr){return arguments.length?Yr.paddingInner(zr).paddingOuter(zr):Yr.paddingInner()},Yr.paddingInner=function(zr){return arguments.length?(re=typeof zr=="function"?zr:V(+zr),Yr):re},Yr.paddingOuter=function(zr){return arguments.length?Yr.paddingTop(zr).paddingRight(zr).paddingBottom(zr).paddingLeft(zr):Yr.paddingTop()},Yr.paddingTop=function(zr){return arguments.length?(Ee=typeof zr=="function"?zr:V(+zr),Yr):Ee},Yr.paddingRight=function(zr){return arguments.length?(We=typeof zr=="function"?zr:V(+zr),Yr):We},Yr.paddingBottom=function(zr){return arguments.length?(lr=typeof zr=="function"?zr:V(+zr),Yr):lr},Yr.paddingLeft=function(zr){return arguments.length?(sr=typeof zr=="function"?zr:V(+zr),Yr):sr},Yr}function _r(Te,be,Ge,ae,W){var re=Te.children,Ee,We=re.length,lr,sr=new Array(We+1);for(sr[0]=lr=Ee=0;Ee<We;++Ee)sr[Ee+1]=lr+=re[Ee].value;Yr(0,We,Te.value,be,Ge,ae,W);function Yr(rt,zr,vt,dt,qt,Nt,_t){if(rt>=zr-1){var Jt=re[rt];Jt.x0=dt,Jt.y0=qt,Jt.x1=Nt,Jt.y1=_t;return}for(var Ut=sr[rt],$t=vt/2+Ut,cn=rt+1,jt=zr-1;cn<jt;){var Kt=cn+jt>>>1;sr[Kt]<$t?cn=Kt+1:jt=Kt}$t-sr[cn-1]<sr[cn]-$t&&rt+1<cn&&--cn;var _n=sr[cn]-Ut,Cn=vt-_n;if(Nt-dt>_t-qt){var ua=(dt*Cn+Nt*_n)/vt;Yr(rt,cn,_n,dt,qt,ua,_t),Yr(cn,zr,Cn,ua,qt,Nt,_t)}else{var ra=(qt*Cn+_t*_n)/vt;Yr(rt,cn,_n,dt,qt,Nt,ra),Yr(cn,zr,Cn,dt,ra,Nt,_t)}}}function qe(Te,be,Ge,ae,W){(Te.depth&1?Mr:Re)(Te,be,Ge,ae,W)}var nr=function Te(be){function Ge(ae,W,re,Ee,We){if((lr=ae._squarify)&&lr.ratio===be)for(var lr,sr,Yr,rt,zr=-1,vt,dt=lr.length,qt=ae.value;++zr<dt;){for(sr=lr[zr],Yr=sr.children,rt=sr.value=0,vt=Yr.length;rt<vt;++rt)sr.value+=Yr[rt].value;sr.dice?Re(sr,W,re,Ee,re+=(We-re)*sr.value/qt):Mr(sr,W,re,W+=(Ee-W)*sr.value/qt,We),qt-=sr.value}else ae._squarify=lr=et(be,ae,W,re,Ee,We),lr.ratio=be}return Ge.ratio=function(ae){return Te((ae=+ae)>1?ae:1)},Ge}(qr);e.cluster=f,e.hierarchy=p,e.pack=Y,e.packEnclose=F,e.packSiblings=ie,e.partition=Ae,e.stratify=pr,e.tree=fr,e.treemap=Or,e.treemapBinary=_r,e.treemapDice=Re,e.treemapResquarify=nr,e.treemapSlice=Mr,e.treemapSliceDice=qe,e.treemapSquarify=jr,Object.defineProperty(e,"__esModule",{value:!0})})});var fM=fe((Zze,WW)=>{"use strict";var e4e=kn(),sM=fl(),r4e=xn(),t4e={};function n4e(e,r){var t=[],n=e._fullLayout,a=n.hiddenlabels||[],o=r.labels,i=r.marker.colors||[],l=r.values,f=r._length,s=r._hasValues&&f,u,c;if(r.dlabel)for(o=new Array(f),u=0;u<f;u++)o[u]=String(r.label0+u*r.dlabel);var v={},x=VW(n["_"+r.type+"colormap"]),m=0,w=!1;for(u=0;u<f;u++){var A,y,M;if(s){if(A=l[u],!e4e(A))continue;A=+A}else A=1;y=o[u],(y===void 0||y==="")&&(y=u),y=String(y);var E=v[y];E===void 0?(v[y]=t.length,M=a.indexOf(y)!==-1,M||(m+=A),t.push({v:A,label:y,color:x(i[u],y),i:u,pts:[u],hidden:M})):(w=!0,c=t[E],c.v+=A,c.pts.push(u),c.hidden||(m+=A),c.color===!1&&i[u]&&(c.color=x(i[u],y)))}t=t.filter(function(T){return T.v>=0});var b=r.type==="funnelarea"?w:r.sort;return b&&t.sort(function(T,p){return p.v-T.v}),t[0]&&(t[0].vTotal=m),t}function VW(e){return function(t,n){return!t||(t=sM(t),!t.isValid())?!1:(t=r4e.addOpacity(t,t.getAlpha()),e[n]||(e[n]=t),t)}}function a4e(e,r){var t=(r||{}).type;t||(t="pie");var n=e._fullLayout,a=e.calcdata,o=n[t+"colorway"],i=n["_"+t+"colormap"];n["extend"+t+"colors"]&&(o=YW(o,t4e));for(var l=0,f=0;f<a.length;f++){var s=a[f],u=s[0].trace.type;if(u===t)for(var c=0;c<s.length;c++){var v=s[c];v.color===!1&&(i[v.label]?v.color=i[v.label]:(i[v.label]=v.color=o[l%o.length],l++))}}}function YW(e,r){var t,n=JSON.stringify(e),a=r[n];if(!a){for(a=e.slice(),t=0;t<e.length;t++)a.push(sM(e[t]).lighten(20).toHexString());for(t=0;t<e.length;t++)a.push(sM(e[t]).darken(20).toHexString());r[n]=a}return a}WW.exports={calc:n4e,crossTraceCalc:a4e,makePullColorFn:VW,generateExtendedColors:YW}});var uM=fe(om=>{"use strict";var XW=lM(),i4e=kn(),W1=tt(),o4e=Kh().makeColorScaleFuncFromTrace,l4e=fM().makePullColorFn,s4e=fM().generateExtendedColors,f4e=Kh().calc,u4e=ui().ALMOST_EQUAL,c4e={},h4e={},v4e={};om.calc=function(e,r){var t=e._fullLayout,n=r.ids,a=W1.isArrayOrTypedArray(n),o=r.labels,i=r.parents,l=r.values,f=W1.isArrayOrTypedArray(l),s=[],u={},c={},v=function(I,k){u[I]?u[I].push(k):u[I]=[k],c[k]=1},x=function(I){return I||typeof I=="number"},m=function(I){return!f||i4e(l[I])&&l[I]>=0},w,A,y;a?(w=Math.min(n.length,i.length),A=function(I){return x(n[I])&&m(I)},y=function(I){return String(n[I])}):(w=Math.min(o.length,i.length),A=function(I){return x(o[I])&&m(I)},y=function(I){return String(o[I])}),f&&(w=Math.min(w,l.length));for(var M=0;M<w;M++)if(A(M)){var E=y(M),b=x(i[M])?String(i[M]):"",T={i:M,id:E,pid:b,label:x(o[M])?String(o[M]):""};f&&(T.v=+l[M]),s.push(T),v(b,E)}if(u[""]){if(u[""].length>1){for(var g=W1.randstr(),h=0;h<s.length;h++)s[h].pid===""&&(s[h].pid=g);s.unshift({hasMultipleRoots:!0,id:g,pid:"",label:""})}}else{var p=[],_;for(_ in u)c[_]||p.push(_);if(p.length===1)_=p[0],s.unshift({hasImpliedRoot:!0,id:_,pid:"",label:_});else return W1.warn(["Multiple implied roots, cannot build",r.type,"hierarchy of",r.name+".","These roots include:",p.join(", ")].join(" "))}var S;try{S=XW.stratify().id(function(I){return I.id}).parentId(function(I){return I.pid})(s)}catch(I){return W1.warn(["Failed to build",r.type,"hierarchy of",r.name+".","Error:",I.message].join(" "))}var d=XW.hierarchy(S),R=!1;if(f)switch(r.branchvalues){case"remainder":d.sum(function(I){return I.data.v});break;case"total":d.each(function(I){var k=I.data.data,D=k.v;if(I.children){var z=I.children.reduce(function(q,j){return q+j.data.data.v},0);if((k.hasImpliedRoot||k.hasMultipleRoots)&&(D=z),D<z*u4e)return R=!0,W1.warn(["Total value for node",I.data.data.id,"of",r.name,"is smaller than the sum of its children.",`
parent value =`,D,`
children sum =`,z].join(" "))}I.value=D});break}else jW(d,r,{branches:r.count.indexOf("branches")!==-1,leaves:r.count.indexOf("leaves")!==-1});if(!R){r.sort&&d.sort(function(I,k){return k.value-I.value});var L,F,O=r.marker.colors||[],P=!!O.length;return r._hasColorscale?(P||(O=f?r.values:r._values),f4e(e,r,{vals:O,containerStr:"marker",cLetter:"c"}),F=o4e(r.marker)):L=l4e(t["_"+r.type+"colormap"]),d.each(function(I){var k=I.data.data;k.color=r._hasColorscale?F(O[k.i]):L(O[k.i],k.id)}),s[0].hierarchy=d,s}};om._runCrossTraceCalc=function(e,r){var t=r._fullLayout,n=r.calcdata,a=t[e+"colorway"],o=t["_"+e+"colormap"];t["extend"+e+"colors"]&&(a=s4e(a,e==="icicle"?v4e:e==="treemap"?h4e:c4e));var i=0,l;function f(v){var x=v.data.data,m=x.id;x.color===!1&&(o[m]?x.color=o[m]:v.parent?v.parent.parent?x.color=v.parent.data.data.color:(o[m]=x.color=a[i%a.length],i++):x.color=l)}for(var s=0;s<n.length;s++){var u=n[s],c=u[0];c.trace.type===e&&c.hierarchy&&(l=c.trace.root.color,c.hierarchy.each(f))}};om.crossTraceCalc=function(e){return om._runCrossTraceCalc("sunburst",e)};function jW(e,r,t){var n=0,a=e.children;if(a){for(var o=a.length,i=0;i<o;i++)n+=jW(a[i],r,t);t.branches&&n++}else t.leaves&&n++;return e.value=e.data.data.value=n,r._values||(r._values=[]),r._values[e.data.data.i]=n,n}});function uc(e,r,t){e.prototype=r.prototype=t,t.constructor=e}function F0(e,r){var t=Object.create(e.prototype);for(var n in r)t[n]=r[n];return t}var p5=fa(()=>{});function su(){}function $W(){return this.rgb().formatHex()}function _4e(){return this.rgb().formatHex8()}function w4e(){return nX(this).formatHsl()}function JW(){return this.rgb().formatRgb()}function I0(e){var r,t;return e=(e+"").trim().toLowerCase(),(r=d4e.exec(e))?(t=r[1].length,r=parseInt(r[1],16),t===6?KW(r):t===3?new zi(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):t===8?g5(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):t===4?g5(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=p4e.exec(e))?new zi(r[1],r[2],r[3],1):(r=g4e.exec(e))?new zi(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=y4e.exec(e))?g5(r[1],r[2],r[3],r[4]):(r=m4e.exec(e))?g5(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=x4e.exec(e))?rX(r[1],r[2]/100,r[3]/100,1):(r=b4e.exec(e))?rX(r[1],r[2]/100,r[3]/100,r[4]):ZW.hasOwnProperty(e)?KW(ZW[e]):e==="transparent"?new zi(NaN,NaN,NaN,0):null}function KW(e){return new zi(e>>16&255,e>>8&255,e&255,1)}function g5(e,r,t,n){return n<=0&&(e=r=t=NaN),new zi(e,r,t,n)}function sm(e){return e instanceof su||(e=I0(e)),e?(e=e.rgb(),new zi(e.r,e.g,e.b,e.opacity)):new zi}function j1(e,r,t,n){return arguments.length===1?sm(e):new zi(e,r,t,n==null?1:n)}function zi(e,r,t,n){this.r=+e,this.g=+r,this.b=+t,this.opacity=+n}function QW(){return`#${Rv(this.r)}${Rv(this.g)}${Rv(this.b)}`}function A4e(){return`#${Rv(this.r)}${Rv(this.g)}${Rv(this.b)}${Rv((isNaN(this.opacity)?1:this.opacity)*255)}`}function eX(){let e=m5(this.opacity);return`${e===1?"rgb(":"rgba("}${Fv(this.r)}, ${Fv(this.g)}, ${Fv(this.b)}${e===1?")":`, ${e})`}`}function m5(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fv(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Rv(e){return e=Fv(e),(e<16?"0":"")+e.toString(16)}function rX(e,r,t,n){return n<=0?e=r=t=NaN:t<=0||t>=1?e=r=NaN:r<=0&&(e=NaN),new mf(e,r,t,n)}function nX(e){if(e instanceof mf)return new mf(e.h,e.s,e.l,e.opacity);if(e instanceof su||(e=I0(e)),!e)return new mf;if(e instanceof mf)return e;e=e.rgb();var r=e.r/255,t=e.g/255,n=e.b/255,a=Math.min(r,t,n),o=Math.max(r,t,n),i=NaN,l=o-a,f=(o+a)/2;return l?(r===o?i=(t-n)/l+(t<n)*6:t===o?i=(n-r)/l+2:i=(r-t)/l+4,l/=f<.5?o+a:2-o-a,i*=60):l=f>0&&f<1?0:i,new mf(i,l,f,e.opacity)}function fm(e,r,t,n){return arguments.length===1?nX(e):new mf(e,r,t,n==null?1:n)}function mf(e,r,t,n){this.h=+e,this.s=+r,this.l=+t,this.opacity=+n}function tX(e){return e=(e||0)%360,e<0?e+360:e}function y5(e){return Math.max(0,Math.min(1,e||0))}function cM(e,r,t){return(e<60?r+(t-r)*e/60:e<180?t:e<240?r+(t-r)*(240-e)/60:r)*255}var D0,Dv,X1,lm,lu,d4e,p4e,g4e,y4e,m4e,x4e,b4e,ZW,x5=fa(()=>{p5();D0=.7,Dv=1/D0,X1="\\s*([+-]?\\d+)\\s*",lm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",lu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",d4e=/^#([0-9a-f]{3,8})$/,p4e=new RegExp(`^rgb\\(${X1},${X1},${X1}\\)$`),g4e=new RegExp(`^rgb\\(${lu},${lu},${lu}\\)$`),y4e=new RegExp(`^rgba\\(${X1},${X1},${X1},${lm}\\)$`),m4e=new RegExp(`^rgba\\(${lu},${lu},${lu},${lm}\\)$`),x4e=new RegExp(`^hsl\\(${lm},${lu},${lu}\\)$`),b4e=new RegExp(`^hsla\\(${lm},${lu},${lu},${lm}\\)$`),ZW={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uc(su,I0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$W,formatHex:$W,formatHex8:_4e,formatHsl:w4e,formatRgb:JW,toString:JW});uc(zi,j1,F0(su,{brighter(e){return e=e==null?Dv:Math.pow(Dv,e),new zi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?D0:Math.pow(D0,e),new zi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zi(Fv(this.r),Fv(this.g),Fv(this.b),m5(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QW,formatHex:QW,formatHex8:A4e,formatRgb:eX,toString:eX}));uc(mf,fm,F0(su,{brighter(e){return e=e==null?Dv:Math.pow(Dv,e),new mf(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?D0:Math.pow(D0,e),new mf(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*r,a=2*t-n;return new zi(cM(e>=240?e-240:e+120,a,n),cM(e,a,n),cM(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new mf(tX(this.h),y5(this.s),y5(this.l),m5(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=m5(this.opacity);return`${e===1?"hsl(":"hsla("}${tX(this.h)}, ${y5(this.s)*100}%, ${y5(this.l)*100}%${e===1?")":`, ${e})`}`}}))});var b5,_5,hM=fa(()=>{b5=Math.PI/180,_5=180/Math.PI});function fX(e){if(e instanceof fu)return new fu(e.l,e.a,e.b,e.opacity);if(e instanceof cc)return uX(e);e instanceof zi||(e=sm(e));var r=gM(e.r),t=gM(e.g),n=gM(e.b),a=vM((.2225045*r+.7168786*t+.0606169*n)/iX),o,i;return r===t&&t===n?o=i=a:(o=vM((.4360747*r+.3850649*t+.1430804*n)/aX),i=vM((.0139322*r+.0971045*t+.7141733*n)/oX)),new fu(116*a-16,500*(o-a),200*(a-i),e.opacity)}function $1(e,r,t,n){return arguments.length===1?fX(e):new fu(e,r,t,n==null?1:n)}function fu(e,r,t,n){this.l=+e,this.a=+r,this.b=+t,this.opacity=+n}function vM(e){return e>T4e?Math.pow(e,1/3):e/sX+lX}function dM(e){return e>Z1?e*e*e:sX*(e-lX)}function pM(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function gM(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function M4e(e){if(e instanceof cc)return new cc(e.h,e.c,e.l,e.opacity);if(e instanceof fu||(e=fX(e)),e.a===0&&e.b===0)return new cc(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var r=Math.atan2(e.b,e.a)*_5;return new cc(r<0?r+360:r,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function um(e,r,t,n){return arguments.length===1?M4e(e):new cc(e,r,t,n==null?1:n)}function cc(e,r,t,n){this.h=+e,this.c=+r,this.l=+t,this.opacity=+n}function uX(e){if(isNaN(e.h))return new fu(e.l,0,0,e.opacity);var r=e.h*b5;return new fu(e.l,Math.cos(r)*e.c,Math.sin(r)*e.c,e.opacity)}var w5,aX,iX,oX,lX,Z1,sX,T4e,cX=fa(()=>{p5();x5();hM();w5=18,aX=.96422,iX=1,oX=.82521,lX=4/29,Z1=6/29,sX=3*Z1*Z1,T4e=Z1*Z1*Z1;uc(fu,$1,F0(su,{brighter(e){return new fu(this.l+w5*(e==null?1:e),this.a,this.b,this.opacity)},darker(e){return new fu(this.l-w5*(e==null?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,r=isNaN(this.a)?e:e+this.a/500,t=isNaN(this.b)?e:e-this.b/200;return r=aX*dM(r),e=iX*dM(e),t=oX*dM(t),new zi(pM(3.1338561*r-1.6168667*e-.4906146*t),pM(-.9787684*r+1.9161415*e+.033454*t),pM(.0719453*r-.2289914*e+1.4052427*t),this.opacity)}}));uc(cc,um,F0(su,{brighter(e){return new cc(this.h,this.c,this.l+w5*(e==null?1:e),this.opacity)},darker(e){return new cc(this.h,this.c,this.l-w5*(e==null?1:e),this.opacity)},rgb(){return uX(this).rgb()}}))});function E4e(e){if(e instanceof Iv)return new Iv(e.h,e.s,e.l,e.opacity);e instanceof zi||(e=sm(e));var r=e.r/255,t=e.g/255,n=e.b/255,a=(dX*n+hX*r-vX*t)/(dX+hX-vX),o=n-a,i=(cm*(t-a)-mM*o)/A5,l=Math.sqrt(i*i+o*o)/(cm*a*(1-a)),f=l?Math.atan2(i,o)*_5-120:NaN;return new Iv(f<0?f+360:f,l,a,e.opacity)}function J1(e,r,t,n){return arguments.length===1?E4e(e):new Iv(e,r,t,n==null?1:n)}function Iv(e,r,t,n){this.h=+e,this.s=+r,this.l=+t,this.opacity=+n}var pX,yM,mM,A5,cm,hX,vX,dX,gX=fa(()=>{p5();x5();hM();pX=-.14861,yM=1.78277,mM=-.29227,A5=-.90649,cm=1.97294,hX=cm*A5,vX=cm*yM,dX=yM*mM-A5*pX;uc(Iv,J1,F0(su,{brighter(e){return e=e==null?Dv:Math.pow(Dv,e),new Iv(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?D0:Math.pow(D0,e),new Iv(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*b5,r=+this.l,t=isNaN(this.s)?0:this.s*r*(1-r),n=Math.cos(e),a=Math.sin(e);return new zi(255*(r+t*(pX*n+yM*a)),255*(r+t*(mM*n+A5*a)),255*(r+t*(cm*n)),this.opacity)}}))});var Pv=fa(()=>{x5();cX();gX()});function xM(e,r,t,n,a){var o=e*e,i=o*e;return((1-3*e+3*o-i)*r+(4-6*o+3*i)*t+(1+3*e+3*o-3*i)*n+i*a)/6}function T5(e){var r=e.length-1;return function(t){var n=t<=0?t=0:t>=1?(t=1,r-1):Math.floor(t*r),a=e[n],o=e[n+1],i=n>0?e[n-1]:2*a-o,l=n<r-1?e[n+2]:2*o-a;return xM((t-n/r)*r,i,a,o,l)}}var M5=fa(()=>{});function E5(e){var r=e.length;return function(t){var n=Math.floor(((t%=1)<0?++t:t)*r),a=e[(n+r-1)%r],o=e[n%r],i=e[(n+1)%r],l=e[(n+2)%r];return xM((t-n/r)*r,a,o,i,l)}}var bM=fa(()=>{M5()});var K1,_M=fa(()=>{K1=e=>()=>e});function yX(e,r){return function(t){return e+t*r}}function S4e(e,r,t){return e=Math.pow(e,t),r=Math.pow(r,t)-e,t=1/t,function(n){return Math.pow(e+n*r,t)}}function P0(e,r){var t=r-e;return t?yX(e,t>180||t<-180?t-360*Math.round(t/360):t):K1(isNaN(e)?r:e)}function mX(e){return(e=+e)==1?Ja:function(r,t){return t-r?S4e(r,t,e):K1(isNaN(r)?t:r)}}function Ja(e,r){var t=r-e;return t?yX(e,t):K1(isNaN(e)?r:e)}var Ov=fa(()=>{_M()});function xX(e){return function(r){var t=r.length,n=new Array(t),a=new Array(t),o=new Array(t),i,l;for(i=0;i<t;++i)l=j1(r[i]),n[i]=l.r||0,a[i]=l.g||0,o[i]=l.b||0;return n=e(n),a=e(a),o=e(o),l.opacity=1,function(f){return l.r=n(f),l.g=a(f),l.b=o(f),l+""}}}var hm,bX,_X,wM=fa(()=>{Pv();M5();bM();Ov();hm=function e(r){var t=mX(r);function n(a,o){var i=t((a=j1(a)).r,(o=j1(o)).r),l=t(a.g,o.g),f=t(a.b,o.b),s=Ja(a.opacity,o.opacity);return function(u){return a.r=i(u),a.g=l(u),a.b=f(u),a.opacity=s(u),a+""}}return n.gamma=e,n}(1);bX=xX(T5),_X=xX(E5)});function Q1(e,r){r||(r=[]);var t=e?Math.min(r.length,e.length):0,n=r.slice(),a;return function(o){for(a=0;a<t;++a)n[a]=e[a]*(1-o)+r[a]*o;return n}}function S5(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var C5=fa(()=>{});function wX(e,r){return(S5(r)?Q1:AM)(e,r)}function AM(e,r){var t=r?r.length:0,n=e?Math.min(t,e.length):0,a=new Array(n),o=new Array(t),i;for(i=0;i<n;++i)a[i]=O0(e[i],r[i]);for(;i<t;++i)o[i]=r[i];return function(l){for(i=0;i<n;++i)o[i]=a[i](l);return o}}var TM=fa(()=>{vm();C5()});function k5(e,r){var t=new Date;return e=+e,r=+r,function(n){return t.setTime(e*(1-n)+r*n),t}}var MM=fa(()=>{});function Tl(e,r){return e=+e,r=+r,function(t){return e*(1-t)+r*t}}var dm=fa(()=>{});function L5(e,r){var t={},n={},a;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(a in r)a in e?t[a]=O0(e[a],r[a]):n[a]=r[a];return function(o){for(a in t)n[a]=t[a](o);return n}}var EM=fa(()=>{vm()});function C4e(e){return function(){return e}}function k4e(e){return function(r){return e(r)+""}}function R5(e,r){var t=CM.lastIndex=SM.lastIndex=0,n,a,o,i=-1,l=[],f=[];for(e=e+"",r=r+"";(n=CM.exec(e))&&(a=SM.exec(r));)(o=a.index)>t&&(o=r.slice(t,o),l[i]?l[i]+=o:l[++i]=o),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,f.push({i,x:Tl(n,a)})),t=SM.lastIndex;return t<r.length&&(o=r.slice(t),l[i]?l[i]+=o:l[++i]=o),l.length<2?f[0]?k4e(f[0].x):C4e(r):(r=f.length,function(s){for(var u=0,c;u<r;++u)l[(c=f[u]).i]=c.x(s);return l.join("")})}var CM,SM,kM=fa(()=>{dm();CM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,SM=new RegExp(CM.source,"g")});function O0(e,r){var t=typeof r,n;return r==null||t==="boolean"?K1(r):(t==="number"?Tl:t==="string"?(n=I0(r))?(r=n,hm):R5:r instanceof I0?hm:r instanceof Date?k5:S5(r)?Q1:Array.isArray(r)?AM:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?L5:Tl)(e,r)}var vm=fa(()=>{Pv();wM();TM();MM();dm();EM();kM();_M();C5()});function AX(e){var r=e.length;return function(t){return e[Math.max(0,Math.min(r-1,Math.floor(t*r)))]}}var TX=fa(()=>{});function MX(e,r){var t=P0(+e,+r);return function(n){var a=t(n);return a-360*Math.floor(a/360)}}var EX=fa(()=>{Ov()});function SX(e,r){return e=+e,r=+r,function(t){return Math.round(e*(1-t)+r*t)}}var CX=fa(()=>{});function LM(e,r,t,n,a,o){var i,l,f;return(i=Math.sqrt(e*e+r*r))&&(e/=i,r/=i),(f=e*t+r*n)&&(t-=e*f,n-=r*f),(l=Math.sqrt(t*t+n*n))&&(t/=l,n/=l,f/=l),e*n<r*t&&(e=-e,r=-r,f=-f,i=-i),{translateX:a,translateY:o,rotate:Math.atan2(r,e)*kX,skewX:Math.atan(f)*kX,scaleX:i,scaleY:l}}var kX,F5,LX=fa(()=>{kX=180/Math.PI,F5={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}});function RX(e){let r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?F5:LM(r.a,r.b,r.c,r.d,r.e,r.f)}function FX(e){return e==null?F5:(D5||(D5=document.createElementNS("http://www.w3.org/2000/svg","g")),D5.setAttribute("transform",e),(e=D5.transform.baseVal.consolidate())?(e=e.matrix,LM(e.a,e.b,e.c,e.d,e.e,e.f)):F5)}var D5,DX=fa(()=>{LX()});function IX(e,r,t,n){function a(s){return s.length?s.pop()+" ":""}function o(s,u,c,v,x,m){if(s!==c||u!==v){var w=x.push("translate(",null,r,null,t);m.push({i:w-4,x:Tl(s,c)},{i:w-2,x:Tl(u,v)})}else(c||v)&&x.push("translate("+c+r+v+t)}function i(s,u,c,v){s!==u?(s-u>180?u+=360:u-s>180&&(s+=360),v.push({i:c.push(a(c)+"rotate(",null,n)-2,x:Tl(s,u)})):u&&c.push(a(c)+"rotate("+u+n)}function l(s,u,c,v){s!==u?v.push({i:c.push(a(c)+"skewX(",null,n)-2,x:Tl(s,u)}):u&&c.push(a(c)+"skewX("+u+n)}function f(s,u,c,v,x,m){if(s!==c||u!==v){var w=x.push(a(x)+"scale(",null,",",null,")");m.push({i:w-4,x:Tl(s,c)},{i:w-2,x:Tl(u,v)})}else(c!==1||v!==1)&&x.push(a(x)+"scale("+c+","+v+")")}return function(s,u){var c=[],v=[];return s=e(s),u=e(u),o(s.translateX,s.translateY,u.translateX,u.translateY,c,v),i(s.rotate,u.rotate,c,v),l(s.skewX,u.skewX,c,v),f(s.scaleX,s.scaleY,u.scaleX,u.scaleY,c,v),s=u=null,function(x){for(var m=-1,w=v.length,A;++m<w;)c[(A=v[m]).i]=A.x(x);return c.join("")}}}var PX,OX,NX=fa(()=>{dm();DX();PX=IX(RX,"px, ","px)","deg)"),OX=IX(FX,", ",")",")")});function BX(e){return((e=Math.exp(e))+1/e)/2}function R4e(e){return((e=Math.exp(e))-1/e)/2}function F4e(e){return((e=Math.exp(2*e))-1)/(e+1)}var L4e,zX,qX=fa(()=>{L4e=1e-12;zX=function e(r,t,n){function a(o,i){var l=o[0],f=o[1],s=o[2],u=i[0],c=i[1],v=i[2],x=u-l,m=c-f,w=x*x+m*m,A,y;if(w<L4e)y=Math.log(v/s)/r,A=function(_){return[l+_*x,f+_*m,s*Math.exp(r*_*y)]};else{var M=Math.sqrt(w),E=(v*v-s*s+n*w)/(2*s*t*M),b=(v*v-s*s-n*w)/(2*v*t*M),T=Math.log(Math.sqrt(E*E+1)-E),p=Math.log(Math.sqrt(b*b+1)-b);y=(p-T)/r,A=function(_){var g=_*y,h=BX(T),S=s/(t*M)*(h*F4e(r*g+T)-R4e(T));return[l+S*x,f+S*m,s*h/BX(r*g+T)]}}return A.duration=y*1e3*r/Math.SQRT2,A}return a.rho=function(o){var i=Math.max(.001,+o),l=i*i,f=l*l;return e(i,l,f)},a}(Math.SQRT2,2,4)});function UX(e){return function(r,t){var n=e((r=fm(r)).h,(t=fm(t)).h),a=Ja(r.s,t.s),o=Ja(r.l,t.l),i=Ja(r.opacity,t.opacity);return function(l){return r.h=n(l),r.s=a(l),r.l=o(l),r.opacity=i(l),r+""}}}var GX,HX,VX=fa(()=>{Pv();Ov();GX=UX(P0),HX=UX(Ja)});function RM(e,r){var t=Ja((e=$1(e)).l,(r=$1(r)).l),n=Ja(e.a,r.a),a=Ja(e.b,r.b),o=Ja(e.opacity,r.opacity);return function(i){return e.l=t(i),e.a=n(i),e.b=a(i),e.opacity=o(i),e+""}}var YX=fa(()=>{Pv();Ov()});function WX(e){return function(r,t){var n=e((r=um(r)).h,(t=um(t)).h),a=Ja(r.c,t.c),o=Ja(r.l,t.l),i=Ja(r.opacity,t.opacity);return function(l){return r.h=n(l),r.c=a(l),r.l=o(l),r.opacity=i(l),r+""}}}var XX,jX,ZX=fa(()=>{Pv();Ov();XX=WX(P0),jX=WX(Ja)});function $X(e){return function r(t){t=+t;function n(a,o){var i=e((a=J1(a)).h,(o=J1(o)).h),l=Ja(a.s,o.s),f=Ja(a.l,o.l),s=Ja(a.opacity,o.opacity);return function(u){return a.h=i(u),a.s=l(u),a.l=f(Math.pow(u,t)),a.opacity=s(u),a+""}}return n.gamma=r,n}(1)}var JX,KX,QX=fa(()=>{Pv();Ov();JX=$X(P0),KX=$X(Ja)});function FM(e,r){r===void 0&&(r=e,e=O0);for(var t=0,n=r.length-1,a=r[0],o=new Array(n<0?0:n);t<n;)o[t]=e(a,a=r[++t]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[l](i-l)}}var ej=fa(()=>{vm()});function rj(e,r){for(var t=new Array(r),n=0;n<r;++n)t[n]=e(n/(r-1));return t}var tj=fa(()=>{});var nj={};Rse(nj,{interpolate:()=>O0,interpolateArray:()=>wX,interpolateBasis:()=>T5,interpolateBasisClosed:()=>E5,interpolateCubehelix:()=>JX,interpolateCubehelixLong:()=>KX,interpolateDate:()=>k5,interpolateDiscrete:()=>AX,interpolateHcl:()=>XX,interpolateHclLong:()=>jX,interpolateHsl:()=>GX,interpolateHslLong:()=>HX,interpolateHue:()=>MX,interpolateLab:()=>RM,interpolateNumber:()=>Tl,interpolateNumberArray:()=>Q1,interpolateObject:()=>L5,interpolateRgb:()=>hm,interpolateRgbBasis:()=>bX,interpolateRgbBasisClosed:()=>_X,interpolateRound:()=>SX,interpolateString:()=>R5,interpolateTransformCss:()=>PX,interpolateTransformSvg:()=>OX,interpolateZoom:()=>zX,piecewise:()=>FM,quantize:()=>rj});var aj=fa(()=>{vm();TM();M5();bM();MM();TX();EX();dm();C5();EM();CX();kM();NX();qX();wM();VX();YX();ZX();QX();ej();tj()});var pm=fe((zUe,oj)=>{"use strict";var D4e=Ln(),I4e=tt();function P4e(e,r,t){var n=e._fullLayout,a=n["_"+t+"Text_minsize"];if(a){var o=n.uniformtext.mode==="hide",i;switch(t){case"funnelarea":case"pie":case"sunburst":i="g.slice";break;case"treemap":case"icicle":i="g.slice, g.pathbar";break;default:i="g.points > g.point"}r.selectAll(i).each(function(l){var f=l.transform;if(f){f.scale=o&&f.hide?0:a/f.fontSize;var s=D4e.select(this).select("text");I4e.setTransormAndDisplay(s,f)}})}}function O4e(e,r,t){if(t.uniformtext.mode){var n=ij(e),a=t.uniformtext.minsize,o=r.scale*r.fontSize;r.hide=o<a,t[n]=t[n]||1/0,r.hide||(t[n]=Math.min(t[n],Math.max(o,a)))}}function N4e(e,r){var t=ij(e);r[t]=void 0}function ij(e){return"_"+e+"Text_minsize"}oj.exports={recordMinTextSize:O4e,clearMinTextSize:N4e,resizeText:P4e}});var sj=fe((qUe,lj)=>{"use strict";var B4e=hs().appendArrayMultiPointValues;lj.exports=function(r,t){var n={curveNumber:t.index,pointNumbers:r.pts,data:t._input,fullData:t,label:r.label,color:r.color,value:r.v,percent:r.percent,text:r.text,bbox:r.bbox,v:r.v};return r.pts.length===1&&(n.pointNumber=n.i=r.pts[0]),B4e(n,t,r.pts),t.type==="funnelarea"&&(delete n.v,delete n.i),n}});var Lj=fe((UUe,kj)=>{"use strict";var Ml=Ln(),z4e=ci(),I5=of(),dj=xn(),hc=ta(),ro=tt(),q4e=ro.strScale,fj=ro.strTranslate,DM=po(),pj=pm(),U4e=pj.recordMinTextSize,G4e=pj.clearMinTextSize,gj=nM().TEXTPAD,ln=uv(),P5=sj(),uj=tt().isValidTextValue;function H4e(e,r){var t=e._context.staticPlot,n=e._fullLayout,a=n._size;G4e("pie",n),xj(r,e),Ej(r,a);var o=ro.makeTraceGroups(n._pielayer,r,"trace").each(function(i){var l=Ml.select(this),f=i[0],s=f.trace;K4e(i),l.attr("stroke-linejoin","round"),l.each(function(){var u=Ml.select(this).selectAll("g.slice").data(i);u.enter().append("g").classed("slice",!0),u.exit().remove();var c=[[[],[]],[[],[]]],v=!1;u.each(function(b,T){if(b.hidden){Ml.select(this).selectAll("path,g").remove();return}b.pointNumber=b.i,b.curveNumber=s.index,c[b.pxmid[1]<0?0:1][b.pxmid[0]<0?0:1].push(b);var p=f.cx,_=f.cy,g=Ml.select(this),h=g.selectAll("path.surface").data([b]);if(h.enter().append("path").classed("surface",!0).style({"pointer-events":t?"none":"all"}),g.call(yj,e,i),s.pull){var S=+ln.castOption(s.pull,b.pts)||0;S>0&&(p+=S*b.pxmid[0],_+=S*b.pxmid[1])}b.cxFinal=p,b.cyFinal=_;function d(k,D,z,q){var j=q*(D[0]-k[0]),Q=q*(D[1]-k[1]);return"a"+q*f.r+","+q*f.r+" 0 "+b.largeArc+(z?" 1 ":" 0 ")+j+","+Q}var R=s.hole;if(b.v===f.vTotal){var L="M"+(p+b.px0[0])+","+(_+b.px0[1])+d(b.px0,b.pxmid,!0,1)+d(b.pxmid,b.px0,!0,1)+"Z";R?h.attr("d","M"+(p+R*b.px0[0])+","+(_+R*b.px0[1])+d(b.px0,b.pxmid,!1,R)+d(b.pxmid,b.px0,!1,R)+"Z"+L):h.attr("d",L)}else{var F=d(b.px0,b.px1,!0,1);if(R){var O=1-R;h.attr("d","M"+(p+R*b.px1[0])+","+(_+R*b.px1[1])+d(b.px1,b.px0,!1,R)+"l"+O*b.px0[0]+","+O*b.px0[1]+F+"Z")}else h.attr("d","M"+p+","+_+"l"+b.px0[0]+","+b.px0[1]+F+"Z")}Sj(e,b,f);var P=ln.castOption(s.textposition,b.pts),I=g.selectAll("g.slicetext").data(b.text&&P!=="none"?[0]:[]);I.enter().append("g").classed("slicetext",!0),I.exit().remove(),I.each(function(){var k=ro.ensureSingle(Ml.select(this),"text","",function(B){B.attr("data-notex",1)}),D=ro.ensureUniformFontSize(e,P==="outside"?Y4e(s,b,n.font):mj(s,b,n.font));k.text(b.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(hc.font,D).call(DM.convertToTspans,e);var z=hc.bBox(k.node()),q;if(P==="outside")q=vj(z,b);else if(q=bj(z,b,f),P==="auto"&&q.scale<1){var j=ro.ensureUniformFontSize(e,s.outsidetextfont);k.call(hc.font,j),z=hc.bBox(k.node()),q=vj(z,b)}var Q=q.textPosAngle,K=Q===void 0?b.pxmid:O5(f.r,Q);if(q.targetX=p+K[0]*q.rCenter+(q.x||0),q.targetY=_+K[1]*q.rCenter+(q.y||0),Cj(q,z),q.outside){var G=q.targetY;b.yLabelMin=G-z.height/2,b.yLabelMid=G,b.yLabelMax=G+z.height/2,b.labelExtraX=0,b.labelExtraY=0,v=!0}q.fontSize=D.size,U4e(s.type,q,n),i[T].transform=q,ro.setTransormAndDisplay(k,q)})});var x=Ml.select(this).selectAll("g.titletext").data(s.title.text?[0]:[]);if(x.enter().append("g").classed("titletext",!0),x.exit().remove(),x.each(function(){var b=ro.ensureSingle(Ml.select(this),"text","",function(_){_.attr("data-notex",1)}),T=s.title.text;s._meta&&(T=ro.templateString(T,s._meta)),b.text(T).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(hc.font,s.title.font).call(DM.convertToTspans,e);var p;s.title.position==="middle center"?p=j4e(f):p=Tj(f,a),b.attr("transform",fj(p.x,p.y)+q4e(Math.min(1,p.scale))+fj(p.tx,p.ty))}),v&&$4e(c,s),V4e(u,s),v&&s.automargin){var m=hc.bBox(l.node()),w=s.domain,A=a.w*(w.x[1]-w.x[0]),y=a.h*(w.y[1]-w.y[0]),M=(.5*A-f.r)/a.w,E=(.5*y-f.r)/a.h;z4e.autoMargin(e,"pie."+s.uid+".automargin",{xl:w.x[0]-M,xr:w.x[1]+M,yb:w.y[0]-E,yt:w.y[1]+E,l:Math.max(f.cx-f.r-m.left,0),r:Math.max(m.right-(f.cx+f.r),0),b:Math.max(m.bottom-(f.cy+f.r),0),t:Math.max(f.cy-f.r-m.top,0),pad:5})}})});setTimeout(function(){o.selectAll("tspan").each(function(){var i=Ml.select(this);i.attr("dy")&&i.attr("dy",i.attr("dy"))})},0)}function V4e(e,r){e.each(function(t){var n=Ml.select(this);if(!t.labelExtraX&&!t.labelExtraY){n.select("path.textline").remove();return}var a=n.select("g.slicetext text");t.transform.targetX+=t.labelExtraX,t.transform.targetY+=t.labelExtraY,ro.setTransormAndDisplay(a,t.transform);var o=t.cxFinal+t.pxmid[0],i=t.cyFinal+t.pxmid[1],l="M"+o+","+i,f=(t.yLabelMax-t.yLabelMin)*(t.pxmid[0]<0?-1:1)/4;if(t.labelExtraX){var s=t.labelExtraX*t.pxmid[1]/t.pxmid[0],u=t.yLabelMid+t.labelExtraY-(t.cyFinal+t.pxmid[1]);Math.abs(s)>Math.abs(u)?l+="l"+u*t.pxmid[0]/t.pxmid[1]+","+u+"H"+(o+t.labelExtraX+f):l+="l"+t.labelExtraX+","+s+"v"+(u-s)+"h"+f}else l+="V"+(t.yLabelMid+t.labelExtraY)+"h"+f;ro.ensureSingle(n,"path","textline").call(dj.stroke,r.outsidetextfont.color).attr({"stroke-width":Math.min(2,r.outsidetextfont.size/8),d:l,fill:"none"})})}function yj(e,r,t){var n=t[0],a=n.cx,o=n.cy,i=n.trace,l=i.type==="funnelarea";"_hasHoverLabel"in i||(i._hasHoverLabel=!1),"_hasHoverEvent"in i||(i._hasHoverEvent=!1),e.on("mouseover",function(f){var s=r._fullLayout,u=r._fullData[i.index];if(!(r._dragging||s.hovermode===!1)){var c=u.hoverinfo;if(Array.isArray(c)&&(c=I5.castHoverinfo({hoverinfo:[ln.castOption(c,f.pts)],_module:i._module},s,0)),c==="all"&&(c="label+text+value+percent+name"),u.hovertemplate||c!=="none"&&c!=="skip"&&c){var v=f.rInscribed||0,x=a+f.pxmid[0]*(1-v),m=o+f.pxmid[1]*(1-v),w=s.separators,A=[];if(c&&c.indexOf("label")!==-1&&A.push(f.label),f.text=ln.castOption(u.hovertext||u.text,f.pts),c&&c.indexOf("text")!==-1){var y=f.text;ro.isValidTextValue(y)&&A.push(y)}f.value=f.v,f.valueLabel=ln.formatPieValue(f.v,w),c&&c.indexOf("value")!==-1&&A.push(f.valueLabel),f.percent=f.v/n.vTotal,f.percentLabel=ln.formatPiePercent(f.percent,w),c&&c.indexOf("percent")!==-1&&A.push(f.percentLabel);var M=u.hoverlabel,E=M.font,b=[];I5.loneHover({trace:i,x0:x-v*n.r,x1:x+v*n.r,y:m,_x0:l?a+f.TL[0]:x-v*n.r,_x1:l?a+f.TR[0]:x+v*n.r,_y0:l?o+f.TL[1]:m-v*n.r,_y1:l?o+f.BL[1]:m+v*n.r,text:A.join("<br>"),name:u.hovertemplate||c.indexOf("name")!==-1?u.name:void 0,idealAlign:f.pxmid[0]<0?"left":"right",color:ln.castOption(M.bgcolor,f.pts)||f.color,borderColor:ln.castOption(M.bordercolor,f.pts),fontFamily:ln.castOption(E.family,f.pts),fontSize:ln.castOption(E.size,f.pts),fontColor:ln.castOption(E.color,f.pts),nameLength:ln.castOption(M.namelength,f.pts),textAlign:ln.castOption(M.align,f.pts),hovertemplate:ln.castOption(u.hovertemplate,f.pts),hovertemplateLabels:f,eventData:[P5(f,u)]},{container:s._hoverlayer.node(),outerContainer:s._paper.node(),gd:r,inOut_bbox:b}),f.bbox=b[0],i._hasHoverLabel=!0}i._hasHoverEvent=!0,r.emit("plotly_hover",{points:[P5(f,u)],event:Ml.event})}}),e.on("mouseout",function(f){var s=r._fullLayout,u=r._fullData[i.index],c=Ml.select(this).datum();i._hasHoverEvent&&(f.originalEvent=Ml.event,r.emit("plotly_unhover",{points:[P5(c,u)],event:Ml.event}),i._hasHoverEvent=!1),i._hasHoverLabel&&(I5.loneUnhover(s._hoverlayer.node()),i._hasHoverLabel=!1)}),e.on("click",function(f){var s=r._fullLayout,u=r._fullData[i.index];r._dragging||s.hovermode===!1||(r._hoverdata=[P5(f,u)],I5.click(r,Ml.event))})}function Y4e(e,r,t){var n=ln.castOption(e.outsidetextfont.color,r.pts)||ln.castOption(e.textfont.color,r.pts)||t.color,a=ln.castOption(e.outsidetextfont.family,r.pts)||ln.castOption(e.textfont.family,r.pts)||t.family,o=ln.castOption(e.outsidetextfont.size,r.pts)||ln.castOption(e.textfont.size,r.pts)||t.size,i=ln.castOption(e.outsidetextfont.weight,r.pts)||ln.castOption(e.textfont.weight,r.pts)||t.weight,l=ln.castOption(e.outsidetextfont.style,r.pts)||ln.castOption(e.textfont.style,r.pts)||t.style,f=ln.castOption(e.outsidetextfont.variant,r.pts)||ln.castOption(e.textfont.variant,r.pts)||t.variant,s=ln.castOption(e.outsidetextfont.textcase,r.pts)||ln.castOption(e.textfont.textcase,r.pts)||t.textcase,u=ln.castOption(e.outsidetextfont.lineposition,r.pts)||ln.castOption(e.textfont.lineposition,r.pts)||t.lineposition,c=ln.castOption(e.outsidetextfont.shadow,r.pts)||ln.castOption(e.textfont.shadow,r.pts)||t.shadow;return{color:n,family:a,size:o,weight:i,style:l,variant:f,textcase:s,lineposition:u,shadow:c}}function mj(e,r,t){var n=ln.castOption(e.insidetextfont.color,r.pts);!n&&e._input.textfont&&(n=ln.castOption(e._input.textfont.color,r.pts));var a=ln.castOption(e.insidetextfont.family,r.pts)||ln.castOption(e.textfont.family,r.pts)||t.family,o=ln.castOption(e.insidetextfont.size,r.pts)||ln.castOption(e.textfont.size,r.pts)||t.size,i=ln.castOption(e.insidetextfont.weight,r.pts)||ln.castOption(e.textfont.weight,r.pts)||t.weight,l=ln.castOption(e.insidetextfont.style,r.pts)||ln.castOption(e.textfont.style,r.pts)||t.style,f=ln.castOption(e.insidetextfont.variant,r.pts)||ln.castOption(e.textfont.variant,r.pts)||t.variant,s=ln.castOption(e.insidetextfont.textcase,r.pts)||ln.castOption(e.textfont.textcase,r.pts)||t.textcase,u=ln.castOption(e.insidetextfont.lineposition,r.pts)||ln.castOption(e.textfont.lineposition,r.pts)||t.lineposition,c=ln.castOption(e.insidetextfont.shadow,r.pts)||ln.castOption(e.textfont.shadow,r.pts)||t.shadow;return{color:n||dj.contrast(r.color),family:a,size:o,weight:i,style:l,variant:f,textcase:s,lineposition:u,shadow:c}}function xj(e,r){for(var t,n,a=0;a<e.length;a++)if(t=e[a][0],n=t.trace,n.title.text){var o=n.title.text;n._meta&&(o=ro.templateString(o,n._meta));var i=hc.tester.append("text").attr("data-notex",1).text(o).call(hc.font,n.title.font).call(DM.convertToTspans,r),l=hc.bBox(i.node(),!0);t.titleBox={width:l.width,height:l.height},i.remove()}}function bj(e,r,t){var n=t.r||r.rpx1,a=r.rInscribed,o=r.startangle===r.stopangle;if(o)return{rCenter:1-a,scale:0,rotate:0,textPosAngle:0};var i=r.ring,l=i===1&&Math.abs(r.startangle-r.stopangle)===Math.PI*2,f=r.halfangle,s=r.midangle,u=t.trace.insidetextorientation,c=u==="horizontal",v=u==="tangential",x=u==="radial",m=u==="auto",w=[],A;if(!m){var y=function(g,h){if(W4e(r,g)){var S=Math.abs(g-r.startangle),d=Math.abs(g-r.stopangle),R=S<d?S:d;h==="tan"?A=hj(e,n,i,R,0):A=cj(e,n,i,R,Math.PI/2),A.textPosAngle=g,w.push(A)}},M;if(c||v){for(M=4;M>=-4;M-=2)y(Math.PI*M,"tan");for(M=4;M>=-4;M-=2)y(Math.PI*(M+1),"tan")}if(c||x){for(M=4;M>=-4;M-=2)y(Math.PI*(M+1.5),"rad");for(M=4;M>=-4;M-=2)y(Math.PI*(M+.5),"rad")}}if(l||m||c){var E=Math.sqrt(e.width*e.width+e.height*e.height);if(A={scale:a*n*2/E,rCenter:1-a,rotate:0},A.textPosAngle=(r.startangle+r.stopangle)/2,A.scale>=1)return A;w.push(A)}(m||x)&&(A=cj(e,n,i,f,s),A.textPosAngle=(r.startangle+r.stopangle)/2,w.push(A)),(m||v)&&(A=hj(e,n,i,f,s),A.textPosAngle=(r.startangle+r.stopangle)/2,w.push(A));for(var b=0,T=0,p=0;p<w.length;p++){var _=w[p].scale;if(T<_&&(T=_,b=p),!m&&T>=1)break}return w[b]}function W4e(e,r){var t=e.startangle,n=e.stopangle;return t>r&&r>n||t<r&&r<n}function cj(e,r,t,n,a){r=Math.max(0,r-2*gj);var o=e.width/e.height,i=Aj(o,n,r,t);return{scale:i*2/e.height,rCenter:_j(o,i/r),rotate:wj(a)}}function hj(e,r,t,n,a){r=Math.max(0,r-2*gj);var o=e.height/e.width,i=Aj(o,n,r,t);return{scale:i*2/e.width,rCenter:_j(o,i/r),rotate:wj(a+Math.PI/2)}}function _j(e,r){return Math.cos(r)-e*r}function wj(e){return(180/Math.PI*e+720)%180-90}function Aj(e,r,t,n){var a=e+1/(2*Math.tan(r));return t*Math.min(1/(Math.sqrt(a*a+.5)+a),n/(Math.sqrt(e*e+n/2)+e))}function X4e(e,r){return e.v===r.vTotal&&!r.trace.hole?1:Math.min(1/(1+1/Math.sin(e.halfangle)),e.ring/2)}function vj(e,r){var t=r.pxmid[0],n=r.pxmid[1],a=e.width/2,o=e.height/2;return t<0&&(a*=-1),n<0&&(o*=-1),{scale:1,rCenter:1,rotate:0,x:a+Math.abs(o)*(a>0?1:-1)/2,y:o/(1+t*t/(n*n)),outside:!0}}function j4e(e){var r=Math.sqrt(e.titleBox.width*e.titleBox.width+e.titleBox.height*e.titleBox.height);return{x:e.cx,y:e.cy,scale:e.trace.hole*e.r*2/r,tx:0,ty:-e.titleBox.height/2+e.trace.title.font.size}}function Tj(e,r){var t=1,n=1,a,o=e.trace,i={x:e.cx,y:e.cy},l={tx:0,ty:0};l.ty+=o.title.font.size,a=Mj(o),o.title.position.indexOf("top")!==-1?(i.y-=(1+a)*e.r,l.ty-=e.titleBox.height):o.title.position.indexOf("bottom")!==-1&&(i.y+=(1+a)*e.r);var f=Z4e(e.r,e.trace.aspectratio),s=r.w*(o.domain.x[1]-o.domain.x[0])/2;return o.title.position.indexOf("left")!==-1?(s=s+f,i.x-=(1+a)*f,l.tx+=e.titleBox.width/2):o.title.position.indexOf("center")!==-1?s*=2:o.title.position.indexOf("right")!==-1&&(s=s+f,i.x+=(1+a)*f,l.tx-=e.titleBox.width/2),t=s/e.titleBox.width,n=IM(e,r)/e.titleBox.height,{x:i.x,y:i.y,scale:Math.min(t,n),tx:l.tx,ty:l.ty}}function Z4e(e,r){return e/(r===void 0?1:r)}function IM(e,r){var t=e.trace,n=r.h*(t.domain.y[1]-t.domain.y[0]);return Math.min(e.titleBox.height,n/2)}function Mj(e){var r=e.pull;if(!r)return 0;var t;if(ro.isArrayOrTypedArray(r))for(r=0,t=0;t<e.pull.length;t++)e.pull[t]>r&&(r=e.pull[t]);return r}function $4e(e,r){var t,n,a,o,i,l,f,s,u,c,v,x,m;function w(E,b){return E.pxmid[1]-b.pxmid[1]}function A(E,b){return b.pxmid[1]-E.pxmid[1]}function y(E,b){b||(b={});var T=b.labelExtraY+(n?b.yLabelMax:b.yLabelMin),p=n?E.yLabelMin:E.yLabelMax,_=n?E.yLabelMax:E.yLabelMin,g=E.cyFinal+i(E.px0[1],E.px1[1]),h=T-p,S,d,R,L,F,O;if(h*f>0&&(E.labelExtraY=h),!!ro.isArrayOrTypedArray(r.pull))for(d=0;d<c.length;d++)R=c[d],!(R===E||(ln.castOption(r.pull,E.pts)||0)>=(ln.castOption(r.pull,R.pts)||0))&&((E.pxmid[1]-R.pxmid[1])*f>0?(L=R.cyFinal+i(R.px0[1],R.px1[1]),h=L-p-E.labelExtraY,h*f>0&&(E.labelExtraY+=h)):(_+E.labelExtraY-g)*f>0&&(S=3*l*Math.abs(d-c.indexOf(E)),F=R.cxFinal+o(R.px0[0],R.px1[0]),O=F+S-(E.cxFinal+E.pxmid[0])-E.labelExtraX,O*l>0&&(E.labelExtraX+=O)))}for(n=0;n<2;n++)for(a=n?w:A,i=n?Math.max:Math.min,f=n?1:-1,t=0;t<2;t++){for(o=t?Math.max:Math.min,l=t?1:-1,s=e[n][t],s.sort(a),u=e[1-n][t],c=u.concat(s),x=[],v=0;v<s.length;v++)s[v].yLabelMid!==void 0&&x.push(s[v]);for(m=!1,v=0;n&&v<u.length;v++)if(u[v].yLabelMid!==void 0){m=u[v];break}for(v=0;v<x.length;v++){var M=v&&x[v-1];m&&!v&&(M=m),y(x[v],M)}}}function Ej(e,r){for(var t=[],n=0;n<e.length;n++){var a=e[n][0],o=a.trace,i=o.domain,l=r.w*(i.x[1]-i.x[0]),f=r.h*(i.y[1]-i.y[0]);o.title.text&&o.title.position!=="middle center"&&(f-=IM(a,r));var s=l/2,u=f/2;o.type==="funnelarea"&&!o.scalegroup&&(u/=o.aspectratio),a.r=Math.min(s,u)/(1+Mj(o)),a.cx=r.l+r.w*(o.domain.x[1]+o.domain.x[0])/2,a.cy=r.t+r.h*(1-o.domain.y[0])-f/2,o.title.text&&o.title.position.indexOf("bottom")!==-1&&(a.cy-=IM(a,r)),o.scalegroup&&t.indexOf(o.scalegroup)===-1&&t.push(o.scalegroup)}J4e(e,t)}function J4e(e,r){for(var t,n,a,o=0;o<r.length;o++){var i=1/0,l=r[o];for(n=0;n<e.length;n++)if(t=e[n][0],a=t.trace,a.scalegroup===l){var f;if(a.type==="pie")f=t.r*t.r;else if(a.type==="funnelarea"){var s,u;a.aspectratio>1?(s=t.r,u=s/a.aspectratio):(u=t.r,s=u*a.aspectratio),s*=(1+a.baseratio)/2,f=s*u}i=Math.min(i,f/t.vTotal)}for(n=0;n<e.length;n++)if(t=e[n][0],a=t.trace,a.scalegroup===l){var c=i*t.vTotal;a.type==="funnelarea"&&(c/=(1+a.baseratio)/2,c/=a.aspectratio),t.r=Math.sqrt(c)}}}function K4e(e){var r=e[0],t=r.r,n=r.trace,a=ln.getRotationAngle(n.rotation),o=2*Math.PI/r.vTotal,i="px0",l="px1",f,s,u;if(n.direction==="counterclockwise"){for(f=0;f<e.length&&e[f].hidden;f++);if(f===e.length)return;a+=o*e[f].v,o*=-1,i="px1",l="px0"}for(u=O5(t,a),f=0;f<e.length;f++)s=e[f],!s.hidden&&(s[i]=u,s.startangle=a,a+=o*s.v/2,s.pxmid=O5(t,a),s.midangle=a,a+=o*s.v/2,u=O5(t,a),s.stopangle=a,s[l]=u,s.largeArc=s.v>r.vTotal/2?1:0,s.halfangle=Math.PI*Math.min(s.v/r.vTotal,.5),s.ring=1-n.hole,s.rInscribed=X4e(s,r))}function O5(e,r){return[e*Math.sin(r),-e*Math.cos(r)]}function Sj(e,r,t){var n=e._fullLayout,a=t.trace,o=a.texttemplate,i=a.textinfo;if(!o&&i&&i!=="none"){var l=i.split("+"),f=function(b){return l.indexOf(b)!==-1},s=f("label"),u=f("text"),c=f("value"),v=f("percent"),x=n.separators,m;if(m=s?[r.label]:[],u){var w=ln.getFirstFilled(a.text,r.pts);uj(w)&&m.push(w)}c&&m.push(ln.formatPieValue(r.v,x)),v&&m.push(ln.formatPiePercent(r.v/t.vTotal,x)),r.text=m.join("<br>")}function A(b){return{label:b.label,value:b.v,valueLabel:ln.formatPieValue(b.v,n.separators),percent:b.v/t.vTotal,percentLabel:ln.formatPiePercent(b.v/t.vTotal,n.separators),color:b.color,text:b.text,customdata:ro.castOption(a,b.i,"customdata")}}if(o){var y=ro.castOption(a,r.i,"texttemplate");if(!y)r.text="";else{var M=A(r),E=ln.getFirstFilled(a.text,r.pts);(uj(E)||E==="")&&(M.text=E),r.text=ro.texttemplateString(y,M,e._fullLayout._d3locale,M,a._meta||{})}}}function Cj(e,r){var t=e.rotate*Math.PI/180,n=Math.cos(t),a=Math.sin(t),o=(r.left+r.right)/2,i=(r.top+r.bottom)/2;e.textX=o*n-i*a,e.textY=o*a+i*n,e.noCenter=!0}kj.exports={plot:H4e,formatSliceLabel:Sj,transformInsideText:bj,determineInsideTextFont:mj,positionTitleOutside:Tj,prerenderTitles:xj,layoutAreas:Ej,attachFxHandlers:yj,computeTransform:Cj}});var Fj=fe((GUe,Rj)=>{"use strict";var Q4e=ta(),eAe=xn();Rj.exports=function(r,t,n,a,o){var i=t.data.data,l=i.i,f=o||i.color;if(l>=0){t.i=i.i;var s=n.marker;s.pattern?(!s.colors||!s.pattern.shape)&&(s.color=f,t.color=f):(s.color=f,t.color=f),Q4e.pointStyle(r,n,a,t)}else eAe.fill(r,f)}});var PM=fe((HUe,Nj)=>{"use strict";var Dj=Ln(),Ij=xn(),Pj=tt(),rAe=pm().resizeText,tAe=Fj();function nAe(e){var r=e._fullLayout._sunburstlayer.selectAll(".trace");rAe(e,r,"sunburst"),r.each(function(t){var n=Dj.select(this),a=t[0],o=a.trace;n.style("opacity",o.opacity),n.selectAll("path.surface").each(function(i){Dj.select(this).call(Oj,i,o,e)})})}function Oj(e,r,t,n){var a=r.data.data,o=!r.children,i=a.i,l=Pj.castOption(t,i,"marker.line.color")||Ij.defaultLine,f=Pj.castOption(t,i,"marker.line.width")||0;e.call(tAe,r,t,n).style("stroke-width",f).call(Ij.stroke,l).style("opacity",o?t.leaf.opacity:null)}Nj.exports={style:nAe,styleOne:Oj}});var zj=fe(Nv=>{"use strict";var aAe=kn(),iAe=fl(),Bj=tt().isArrayOrTypedArray;Nv.coerceString=function(e,r,t){if(typeof r=="string"){if(r||!e.noBlank)return r}else if((typeof r=="number"||r===!0)&&!e.strict)return String(r);return t!==void 0?t:e.dflt};Nv.coerceNumber=function(e,r,t){if(aAe(r)){r=+r;var n=e.min,a=e.max,o=n!==void 0&&r<n||a!==void 0&&r>a;if(!o)return r}return t!==void 0?t:e.dflt};Nv.coerceColor=function(e,r,t){return iAe(r).isValid()?r:t!==void 0?t:e.dflt};Nv.coerceEnumerated=function(e,r,t){return e.coerceNumber&&(r=+r),e.values.indexOf(r)!==-1?r:t!==void 0?t:e.dflt};Nv.getValue=function(e,r){var t;return Bj(e)?r<e.length&&(t=e[r]):t=e,t};Nv.getLineWidth=function(e,r){var t=0<r.mlw?r.mlw:Bj(e.marker.line.width)?0:e.marker.line.width;return t}});var Jj=fe((YUe,$j)=>{"use strict";var gm=Ln(),oAe=xn(),ym=ta(),qj=tt(),Uj=Qt(),Gj=pm().resizeText,OM=iM(),lAe=OM.textfont,sAe=OM.insidetextfont,fAe=OM.outsidetextfont,to=zj();function uAe(e){var r=gm.select(e).selectAll('g[class^="barlayer"]').selectAll("g.trace");Gj(e,r,"bar");var t=r.size(),n=e._fullLayout;r.style("opacity",function(a){return a[0].trace.opacity}).each(function(a){(n.barmode==="stack"&&t>1||n.bargap===0&&n.bargroupgap===0&&!a[0].trace.marker.line.width)&&gm.select(this).attr("shape-rendering","crispEdges")}),r.selectAll("g.points").each(function(a){var o=gm.select(this),i=a[0].trace;Hj(o,i,e)}),Uj.getComponentMethod("errorbars","style")(r)}function Hj(e,r,t){ym.pointStyle(e.selectAll("path"),r,t),Vj(e,r,t)}function Vj(e,r,t){e.selectAll("text").each(function(n){var a=gm.select(this),o=qj.ensureUniformFontSize(t,Yj(a,n,r,t));ym.font(a,o)})}function cAe(e,r,t){var n=r[0].trace;n.selectedpoints?hAe(t,n,e):(Hj(t,n,e),Uj.getComponentMethod("errorbars","style")(t))}function hAe(e,r,t){ym.selectedPointStyle(e.selectAll("path"),r),vAe(e.selectAll("text"),r,t)}function vAe(e,r,t){e.each(function(n){var a=gm.select(this),o;if(n.selected){o=qj.ensureUniformFontSize(t,Yj(a,n,r,t));var i=r.selected.textfont&&r.selected.textfont.color;i&&(o.color=i),ym.font(a,o)}else ym.selectedTextStyle(a,r)})}function Yj(e,r,t,n){var a=n._fullLayout.font,o=t.textfont;if(e.classed("bartext-inside")){var i=Zj(r,t);o=Xj(t,r.i,a,i)}else e.classed("bartext-outside")&&(o=jj(t,r.i,a));return o}function Wj(e,r,t){return NM(lAe,e.textfont,r,t)}function Xj(e,r,t,n){var a=Wj(e,r,t),o=e._input.textfont===void 0||e._input.textfont.color===void 0||Array.isArray(e.textfont.color)&&e.textfont.color[r]===void 0;return o&&(a={color:oAe.contrast(n),family:a.family,size:a.size,weight:a.weight,style:a.style,variant:a.variant,textcase:a.textcase,lineposition:a.lineposition,shadow:a.shadow}),NM(sAe,e.insidetextfont,r,a)}function jj(e,r,t){var n=Wj(e,r,t);return NM(fAe,e.outsidetextfont,r,n)}function NM(e,r,t,n){r=r||{};var a=to.getValue(r.family,t),o=to.getValue(r.size,t),i=to.getValue(r.color,t),l=to.getValue(r.weight,t),f=to.getValue(r.style,t),s=to.getValue(r.variant,t),u=to.getValue(r.textcase,t),c=to.getValue(r.lineposition,t),v=to.getValue(r.shadow,t);return{family:to.coerceString(e.family,a,n.family),size:to.coerceNumber(e.size,o,n.size),color:to.coerceColor(e.color,i,n.color),weight:to.coerceString(e.weight,l,n.weight),style:to.coerceString(e.style,f,n.style),variant:to.coerceString(e.variant,s,n.variant),textcase:to.coerceString(e.variant,u,n.textcase),lineposition:to.coerceString(e.variant,c,n.lineposition),shadow:to.coerceString(e.variant,v,n.shadow)}}function Zj(e,r){return r.type==="waterfall"?r[e.dir].marker.color:e.mcc||e.mc||r.marker.color}$j.exports={style:uAe,styleTextPoints:Vj,styleOnSelect:cAe,getInsideTextFont:Xj,getOutsideTextFont:jj,getBarColor:Zj,resizeText:Gj}});var BM=fe(Tn=>{"use strict";var Bv=tt(),dAe=xn(),pAe=Ku(),Kj=uv();Tn.findEntryWithLevel=function(e,r){var t;return r&&e.eachAfter(function(n){if(Tn.getPtId(n)===r)return t=n.copy()}),t||e};Tn.findEntryWithChild=function(e,r){var t;return e.eachAfter(function(n){for(var a=n.children||[],o=0;o<a.length;o++){var i=a[o];if(Tn.getPtId(i)===r)return t=n.copy()}}),t||e};Tn.isEntry=function(e){return!e.parent};Tn.isLeaf=function(e){return!e.children};Tn.getPtId=function(e){return e.data.data.id};Tn.getPtLabel=function(e){return e.data.data.label};Tn.getValue=function(e){return e.value};Tn.isHierarchyRoot=function(e){return Qj(e)===""};Tn.setSliceCursor=function(e,r,t){var n=t.isTransitioning;if(!n){var a=e.datum();n=t.hideOnRoot&&Tn.isHierarchyRoot(a)||t.hideOnLeaves&&Tn.isLeaf(a)}pAe(e,n?null:"pointer")};function gAe(e,r,t){return{color:Tn.getOutsideTextFontKey("color",e,r,t),family:Tn.getOutsideTextFontKey("family",e,r,t),size:Tn.getOutsideTextFontKey("size",e,r,t),weight:Tn.getOutsideTextFontKey("weight",e,r,t),style:Tn.getOutsideTextFontKey("style",e,r,t),variant:Tn.getOutsideTextFontKey("variant",e,r,t),textcase:Tn.getOutsideTextFontKey("textcase",e,r,t),lineposition:Tn.getOutsideTextFontKey("lineposition",e,r,t),shadow:Tn.getOutsideTextFontKey("shadow",e,r,t)}}function yAe(e,r,t,n){var a=(n||{}).onPathbar,o=r.data.data,i=o.i,l=Bv.castOption(e,i,(a?"pathbar.textfont":"insidetextfont")+".color");return!l&&e._input.textfont&&(l=Bv.castOption(e._input,i,"textfont.color")),{color:l||dAe.contrast(o.color),family:Tn.getInsideTextFontKey("family",e,r,t,n),size:Tn.getInsideTextFontKey("size",e,r,t,n),weight:Tn.getInsideTextFontKey("weight",e,r,t,n),style:Tn.getInsideTextFontKey("style",e,r,t,n),variant:Tn.getInsideTextFontKey("variant",e,r,t,n),textcase:Tn.getInsideTextFontKey("textcase",e,r,t,n),lineposition:Tn.getInsideTextFontKey("lineposition",e,r,t,n),shadow:Tn.getInsideTextFontKey("shadow",e,r,t,n)}}Tn.getInsideTextFontKey=function(e,r,t,n,a){var o=(a||{}).onPathbar,i=o?"pathbar.textfont":"insidetextfont",l=t.data.data.i;return Bv.castOption(r,l,i+"."+e)||Bv.castOption(r,l,"textfont."+e)||n.size};Tn.getOutsideTextFontKey=function(e,r,t,n){var a=t.data.data.i;return Bv.castOption(r,a,"outsidetextfont."+e)||Bv.castOption(r,a,"textfont."+e)||n.size};Tn.isOutsideText=function(e,r){return!e._hasColorscale&&Tn.isHierarchyRoot(r)};Tn.determineTextFont=function(e,r,t,n){return Tn.isOutsideText(e,r)?gAe(e,r,t):yAe(e,r,t,n)};Tn.hasTransition=function(e){return!!(e&&e.duration>0)};Tn.getMaxDepth=function(e){return e.maxdepth>=0?e.maxdepth:1/0};Tn.isHeader=function(e,r){return!(Tn.isLeaf(e)||e.depth===r._maxDepth-1)};function Qj(e){return e.data.data.pid}Tn.getParent=function(e,r){return Tn.findEntryWithLevel(e,Qj(r))};Tn.listPath=function(e,r){var t=e.parent;if(!t)return[];var n=r?[t.data[r]]:[t];return Tn.listPath(t,r).concat(n)};Tn.getPath=function(e){return Tn.listPath(e,"label").join("/")+"/"};Tn.formatValue=Kj.formatPieValue;Tn.formatPercent=function(e,r){var t=Bv.formatPercent(e,0);return t==="0%"&&(t=Kj.formatPiePercent(e,r)),t}});var nZ=fe((XUe,tZ)=>{"use strict";var ep=Ln(),eZ=Qt(),mAe=hs().appendArrayPointValue,mm=of(),rZ=tt(),xAe=Yd(),Mi=BM(),bAe=uv(),_Ae=bAe.formatPieValue;tZ.exports=function(r,t,n,a,o){var i=a[0],l=i.trace,f=i.hierarchy,s=l.type==="sunburst",u=l.type==="treemap"||l.type==="icicle";"_hasHoverLabel"in l||(l._hasHoverLabel=!1),"_hasHoverEvent"in l||(l._hasHoverEvent=!1);var c=function(m){var w=n._fullLayout;if(!(n._dragging||w.hovermode===!1)){var A=n._fullData[l.index],y=m.data.data,M=y.i,E=Mi.isHierarchyRoot(m),b=Mi.getParent(f,m),T=Mi.getValue(m),p=function(Q){return rZ.castOption(A,M,Q)},_=p("hovertemplate"),g=mm.castHoverinfo(A,w,M),h=w.separators,S;if(_||g&&g!=="none"&&g!=="skip"){var d,R;s&&(d=i.cx+m.pxmid[0]*(1-m.rInscribed),R=i.cy+m.pxmid[1]*(1-m.rInscribed)),u&&(d=m._hoverX,R=m._hoverY);var L={},F=[],O=[],P=function(Q){return F.indexOf(Q)!==-1};g&&(F=g==="all"?A._module.attributes.hoverinfo.flags:g.split("+")),L.label=y.label,P("label")&&L.label&&O.push(L.label),y.hasOwnProperty("v")&&(L.value=y.v,L.valueLabel=_Ae(L.value,h),P("value")&&O.push(L.valueLabel)),L.currentPath=m.currentPath=Mi.getPath(m.data),P("current path")&&!E&&O.push(L.currentPath);var I,k=[],D=function(){k.indexOf(I)===-1&&(O.push(I),k.push(I))};L.percentParent=m.percentParent=T/Mi.getValue(b),L.parent=m.parentString=Mi.getPtLabel(b),P("percent parent")&&(I=Mi.formatPercent(L.percentParent,h)+" of "+L.parent,D()),L.percentEntry=m.percentEntry=T/Mi.getValue(t),L.entry=m.entry=Mi.getPtLabel(t),P("percent entry")&&!E&&!m.onPathbar&&(I=Mi.formatPercent(L.percentEntry,h)+" of "+L.entry,D()),L.percentRoot=m.percentRoot=T/Mi.getValue(f),L.root=m.root=Mi.getPtLabel(f),P("percent root")&&!E&&(I=Mi.formatPercent(L.percentRoot,h)+" of "+L.root,D()),L.text=p("hovertext")||p("text"),P("text")&&(I=L.text,rZ.isValidTextValue(I)&&O.push(I)),S=[xm(m,A,o.eventDataKeys)];var z={trace:A,y:R,_x0:m._x0,_x1:m._x1,_y0:m._y0,_y1:m._y1,text:O.join("<br>"),name:_||P("name")?A.name:void 0,color:p("hoverlabel.bgcolor")||y.color,borderColor:p("hoverlabel.bordercolor"),fontFamily:p("hoverlabel.font.family"),fontSize:p("hoverlabel.font.size"),fontColor:p("hoverlabel.font.color"),fontWeight:p("hoverlabel.font.weight"),fontStyle:p("hoverlabel.font.style"),fontVariant:p("hoverlabel.font.variant"),nameLength:p("hoverlabel.namelength"),textAlign:p("hoverlabel.align"),hovertemplate:_,hovertemplateLabels:L,eventData:S};s&&(z.x0=d-m.rInscribed*m.rpx1,z.x1=d+m.rInscribed*m.rpx1,z.idealAlign=m.pxmid[0]<0?"left":"right"),u&&(z.x=d,z.idealAlign=d<0?"left":"right");var q=[];mm.loneHover(z,{container:w._hoverlayer.node(),outerContainer:w._paper.node(),gd:n,inOut_bbox:q}),S[0].bbox=q[0],l._hasHoverLabel=!0}if(u){var j=r.select("path.surface");o.styleOne(j,m,A,n,{hovered:!0})}l._hasHoverEvent=!0,n.emit("plotly_hover",{points:S||[xm(m,A,o.eventDataKeys)],event:ep.event})}},v=function(m){var w=n._fullLayout,A=n._fullData[l.index],y=ep.select(this).datum();if(l._hasHoverEvent&&(m.originalEvent=ep.event,n.emit("plotly_unhover",{points:[xm(y,A,o.eventDataKeys)],event:ep.event}),l._hasHoverEvent=!1),l._hasHoverLabel&&(mm.loneUnhover(w._hoverlayer.node()),l._hasHoverLabel=!1),u){var M=r.select("path.surface");o.styleOne(M,y,A,n,{hovered:!1})}},x=function(m){var w=n._fullLayout,A=n._fullData[l.index],y=s&&(Mi.isHierarchyRoot(m)||Mi.isLeaf(m)),M=Mi.getPtId(m),E=Mi.isEntry(m)?Mi.findEntryWithChild(f,M):Mi.findEntryWithLevel(f,M),b=Mi.getPtId(E),T={points:[xm(m,A,o.eventDataKeys)],event:ep.event};y||(T.nextLevel=b);var p=xAe.triggerHandler(n,"plotly_"+l.type+"click",T);if(p!==!1&&w.hovermode&&(n._hoverdata=[xm(m,A,o.eventDataKeys)],mm.click(n,ep.event)),!y&&p!==!1&&!n._dragging&&!n._transitioning){eZ.call("_storeDirectGUIEdit",A,w._tracePreGUI[A.uid],{level:A.level});var _={data:[{level:b}],traces:[l.index]},g={frame:{redraw:!1,duration:o.transitionTime},transition:{duration:o.transitionTime,easing:o.transitionEasing},mode:"immediate",fromcurrent:!0};mm.loneUnhover(w._hoverlayer.node()),eZ.call("animate",n,_,g)}};r.on("mouseover",c),r.on("mouseout",v),r.on("click",x)};function xm(e,r,t){for(var n=e.data.data,a={curveNumber:r.index,pointNumber:n.i,data:r._input,fullData:r},o=0;o<t.length;o++){var i=t[o];i in e&&(a[i]=e[i])}return"parentString"in e&&!Mi.isHierarchyRoot(e)&&(a.parent=e.parentString),mAe(a,r,n.i),a}});var uZ=fe(N5=>{"use strict";var bm=Ln(),wAe=lM(),xf=(aj(),Dse(nj)).interpolate,aZ=ta(),xo=tt(),AAe=po(),sZ=pm(),iZ=sZ.recordMinTextSize,TAe=sZ.clearMinTextSize,fZ=Lj(),MAe=uv().getRotationAngle,EAe=fZ.computeTransform,SAe=fZ.transformInsideText,CAe=PM().styleOne,kAe=Jj().resizeText,LAe=nZ(),zM=eM(),Hn=BM();N5.plot=function(e,r,t,n){var a=e._fullLayout,o=a._sunburstlayer,i,l,f=!t,s=!a.uniformtext.mode&&Hn.hasTransition(t);if(TAe("sunburst",a),i=o.selectAll("g.trace.sunburst").data(r,function(c){return c[0].trace.uid}),i.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),i.order(),s){n&&(l=n());var u=bm.transition().duration(t.duration).ease(t.easing).each("end",function(){l&&l()}).each("interrupt",function(){l&&l()});u.each(function(){o.selectAll("g.trace").each(function(c){oZ(e,c,this,t)})})}else i.each(function(c){oZ(e,c,this,t)}),a.uniformtext.mode&&kAe(e,a._sunburstlayer.selectAll(".trace"),"sunburst");f&&i.exit().remove()};function oZ(e,r,t,n){var a=e._context.staticPlot,o=e._fullLayout,i=!o.uniformtext.mode&&Hn.hasTransition(n),l=bm.select(t),f=l.selectAll("g.slice"),s=r[0],u=s.trace,c=s.hierarchy,v=Hn.findEntryWithLevel(c,u.level),x=Hn.getMaxDepth(u),m=o._size,w=u.domain,A=m.w*(w.x[1]-w.x[0]),y=m.h*(w.y[1]-w.y[0]),M=.5*Math.min(A,y),E=s.cx=m.l+m.w*(w.x[1]+w.x[0])/2,b=s.cy=m.t+m.h*(1-w.y[0])-y/2;if(!v)return f.remove();var T=null,p={};i&&f.each(function(G){p[Hn.getPtId(G)]={rpx0:G.rpx0,rpx1:G.rpx1,x0:G.x0,x1:G.x1,transform:G.transform},!T&&Hn.isEntry(G)&&(T=G)});var _=RAe(v).descendants(),g=v.height+1,h=0,S=x;s.hasMultipleRoots&&Hn.isHierarchyRoot(v)&&(_=_.slice(1),g-=1,h=1,S+=1),_=_.filter(function(G){return G.y1<=S});var d=MAe(u.rotation);d&&_.forEach(function(G){G.x0+=d,G.x1+=d});var R=Math.min(g,x),L=function(G){return(G-h)/R*M},F=function(G,B){return[G*Math.cos(B),-G*Math.sin(B)]},O=function(G){return xo.pathAnnulus(G.rpx0,G.rpx1,G.x0,G.x1,E,b)},P=function(G){return E+lZ(G)[0]*(G.transform.rCenter||0)+(G.transform.x||0)},I=function(G){return b+lZ(G)[1]*(G.transform.rCenter||0)+(G.transform.y||0)};f=f.data(_,Hn.getPtId),f.enter().append("g").classed("slice",!0),i?f.exit().transition().each(function(){var G=bm.select(this),B=G.select("path.surface");B.transition().attrTween("d",function(ie){var J=q(ie);return function(le){return O(J(le))}});var Z=G.select("g.slicetext");Z.attr("opacity",0)}).remove():f.exit().remove(),f.order();var k=null;if(i&&T){var D=Hn.getPtId(T);f.each(function(G){k===null&&Hn.getPtId(G)===D&&(k=G.x1)})}var z=f;i&&(z=z.transition().each("end",function(){var G=bm.select(this);Hn.setSliceCursor(G,e,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),z.each(function(G){var B=bm.select(this),Z=xo.ensureSingle(B,"path","surface",function(ne){ne.style("pointer-events",a?"none":"all")});G.rpx0=L(G.y0),G.rpx1=L(G.y1),G.xmid=(G.x0+G.x1)/2,G.pxmid=F(G.rpx1,G.xmid),G.midangle=-(G.xmid-Math.PI/2),G.startangle=-(G.x0-Math.PI/2),G.stopangle=-(G.x1-Math.PI/2),G.halfangle=.5*Math.min(xo.angleDelta(G.x0,G.x1)||Math.PI,Math.PI),G.ring=1-G.rpx0/G.rpx1,G.rInscribed=FAe(G,u),i?Z.transition().attrTween("d",function(ne){var Y=j(ne);return function(oe){return O(Y(oe))}}):Z.attr("d",O),B.call(LAe,v,e,r,{eventDataKeys:zM.eventDataKeys,transitionTime:zM.CLICK_TRANSITION_TIME,transitionEasing:zM.CLICK_TRANSITION_EASING}).call(Hn.setSliceCursor,e,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:e._transitioning}),Z.call(CAe,G,u,e);var ie=xo.ensureSingle(B,"g","slicetext"),J=xo.ensureSingle(ie,"text","",function(ne){ne.attr("data-notex",1)}),le=xo.ensureUniformFontSize(e,Hn.determineTextFont(u,G,o.font));J.text(N5.formatSliceLabel(G,v,u,r,o)).classed("slicetext",!0).attr("text-anchor","middle").call(aZ.font,le).call(AAe.convertToTspans,e);var te=aZ.bBox(J.node());G.transform=SAe(te,G,s),G.transform.targetX=P(G),G.transform.targetY=I(G);var V=function(ne,Y){var oe=ne.transform;return EAe(oe,Y),oe.fontSize=le.size,iZ(u.type,oe,o),xo.getTextTransform(oe)};i?J.transition().attrTween("transform",function(ne){var Y=Q(ne);return function(oe){return V(Y(oe),te)}}):J.attr("transform",V(G,te))});function q(G){var B=Hn.getPtId(G),Z=p[B],ie=p[Hn.getPtId(v)],J;if(ie){var le=(G.x1>ie.x1?2*Math.PI:0)+d;J=G.rpx1<ie.rpx1?{x0:G.x0,x1:G.x1,rpx0:0,rpx1:0}:{x0:le,x1:le,rpx0:G.rpx0,rpx1:G.rpx1}}else{var te,V=Hn.getPtId(G.parent);f.each(function(we){if(Hn.getPtId(we)===V)return te=we});var ne=te.children,Y;ne.forEach(function(we,De){if(Hn.getPtId(we)===B)return Y=De});var oe=ne.length,pe=xf(te.x0,te.x1);J={rpx0:M,rpx1:M,x0:pe(Y/oe),x1:pe((Y+1)/oe)}}return xf(Z,J)}function j(G){var B=p[Hn.getPtId(G)],Z,ie={x0:G.x0,x1:G.x1,rpx0:G.rpx0,rpx1:G.rpx1};if(B)Z=B;else if(T)if(G.parent)if(k){var J=(G.x1>k?2*Math.PI:0)+d;Z={x0:J,x1:J}}else Z={rpx0:M,rpx1:M},xo.extendFlat(Z,K(G));else Z={rpx0:0,rpx1:0};else Z={x0:d,x1:d};return xf(Z,ie)}function Q(G){var B=p[Hn.getPtId(G)],Z,ie=G.transform;if(B)Z=B;else if(Z={rpx1:G.rpx1,transform:{textPosAngle:ie.textPosAngle,scale:0,rotate:ie.rotate,rCenter:ie.rCenter,x:ie.x,y:ie.y}},T)if(G.parent)if(k){var J=G.x1>k?2*Math.PI:0;Z.x0=Z.x1=J}else xo.extendFlat(Z,K(G));else Z.x0=Z.x1=d;else Z.x0=Z.x1=d;var le=xf(Z.transform.textPosAngle,G.transform.textPosAngle),te=xf(Z.rpx1,G.rpx1),V=xf(Z.x0,G.x0),ne=xf(Z.x1,G.x1),Y=xf(Z.transform.scale,ie.scale),oe=xf(Z.transform.rotate,ie.rotate),pe=ie.rCenter===0?3:Z.transform.rCenter===0?1/3:1,we=xf(Z.transform.rCenter,ie.rCenter),De=function(Re){return we(Math.pow(Re,pe))};return function(Re){var Ae=te(Re),Ie=V(Re),Be=ne(Re),je=De(Re),Ne=F(Ae,(Ie+Be)/2),Qe=le(Re),pr={pxmid:Ne,rpx1:Ae,transform:{textPosAngle:Qe,rCenter:je,x:ie.x,y:ie.y}};return iZ(u.type,ie,o),{transform:{targetX:P(pr),targetY:I(pr),scale:Y(Re),rotate:oe(Re),rCenter:je}}}}function K(G){var B=G.parent,Z=p[Hn.getPtId(B)],ie={};if(Z){var J=B.children,le=J.indexOf(G),te=J.length,V=xf(Z.x0,Z.x1);ie.x0=V(le/te),ie.x1=V(le/te)}else ie.x0=ie.x1=0;return ie}}function RAe(e){return wAe.partition().size([2*Math.PI,e.height+1])(e)}N5.formatSliceLabel=function(e,r,t,n,a){var o=t.texttemplate,i=t.textinfo;if(!o&&(!i||i==="none"))return"";var l=a.separators,f=n[0],s=e.data.data,u=f.hierarchy,c=Hn.isHierarchyRoot(e),v=Hn.getParent(u,e),x=Hn.getValue(e);if(!o){var m=i.split("+"),w=function(h){return m.indexOf(h)!==-1},A=[],y;if(w("label")&&s.label&&A.push(s.label),s.hasOwnProperty("v")&&w("value")&&A.push(Hn.formatValue(s.v,l)),!c){w("current path")&&A.push(Hn.getPath(e.data));var M=0;w("percent parent")&&M++,w("percent entry")&&M++,w("percent root")&&M++;var E=M>1;if(M){var b,T=function(h){y=Hn.formatPercent(b,l),E&&(y+=" of "+h),A.push(y)};w("percent parent")&&!c&&(b=x/Hn.getValue(v),T("parent")),w("percent entry")&&(b=x/Hn.getValue(r),T("entry")),w("percent root")&&(b=x/Hn.getValue(u),T("root"))}}return w("text")&&(y=xo.castOption(t,s.i,"text"),xo.isValidTextValue(y)&&A.push(y)),A.join("<br>")}var p=xo.castOption(t,s.i,"texttemplate");if(!p)return"";var _={};s.label&&(_.label=s.label),s.hasOwnProperty("v")&&(_.value=s.v,_.valueLabel=Hn.formatValue(s.v,l)),_.currentPath=Hn.getPath(e.data),c||(_.percentParent=x/Hn.getValue(v),_.percentParentLabel=Hn.formatPercent(_.percentParent,l),_.parent=Hn.getPtLabel(v)),_.percentEntry=x/Hn.getValue(r),_.percentEntryLabel=Hn.formatPercent(_.percentEntry,l),_.entry=Hn.getPtLabel(r),_.percentRoot=x/Hn.getValue(u),_.percentRootLabel=Hn.formatPercent(_.percentRoot,l),_.root=Hn.getPtLabel(u),s.hasOwnProperty("color")&&(_.color=s.color);var g=xo.castOption(t,s.i,"text");return(xo.isValidTextValue(g)||g==="")&&(_.text=g),_.customdata=xo.castOption(t,s.i,"customdata"),xo.texttemplateString(p,_,a._d3locale,_,t._meta||{})};function FAe(e){return e.rpx0===0&&xo.isFullCircle([e.x0,e.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(e.halfangle)),e.ring/2))}function lZ(e){return DAe(e.rpx1,e.transform.textPosAngle)}function DAe(e,r){return[e*Math.sin(r),-e*Math.cos(r)]}});var hZ=fe((ZUe,cZ)=>{"use strict";cZ.exports={moduleType:"trace",name:"sunburst",basePlotModule:hW(),categories:[],animatable:!0,attributes:rM(),layoutAttributes:tM(),supplyDefaults:qW(),supplyLayoutDefaults:GW(),calc:uM().calc,crossTraceCalc:uM().crossTraceCalc,plot:uZ().plot,style:PM().style,colorbar:Cb(),meta:{}}});var dZ=fe(($Ue,vZ)=>{"use strict";vZ.exports=hZ()});var zv=fe((JUe,pZ)=>{(function(){var e={1964:function(a,o,i){a.exports={alpha_shape:i(3502),convex_hull:i(7352),delaunay_triangulate:i(7642),gl_cone3d:i(6405),gl_error3d:i(9165),gl_line3d:i(5714),gl_mesh3d:i(7201),gl_plot3d:i(4100),gl_scatter3d:i(8418),gl_streamtube3d:i(7815),gl_surface3d:i(9499),ndarray:i(9618),ndarray_linear_interpolate:i(4317)}},4793:function(a,o,i){"use strict";var l;function f(ae,W){if(!(ae instanceof W))throw new TypeError("Cannot call a class as a function")}function s(ae,W){for(var re=0;re<W.length;re++){var Ee=W[re];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(ae,c(Ee.key),Ee)}}function u(ae,W,re){return W&&s(ae.prototype,W),re&&s(ae,re),Object.defineProperty(ae,"prototype",{writable:!1}),ae}function c(ae){var W=v(ae,"string");return b(W)=="symbol"?W:W+""}function v(ae,W){if(b(ae)!="object"||!ae)return ae;var re=ae[Symbol.toPrimitive];if(re!==void 0){var Ee=re.call(ae,W||"default");if(b(Ee)!="object")return Ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return(W==="string"?String:Number)(ae)}function x(ae,W,re){return W=y(W),m(ae,A()?Reflect.construct(W,re||[],y(ae).constructor):W.apply(ae,re))}function m(ae,W){if(W&&(b(W)=="object"||typeof W=="function"))return W;if(W!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(ae)}function w(ae){if(ae===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae}function A(){try{var ae=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(W){}return(A=function(){return!!ae})()}function y(ae){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(W){return W.__proto__||Object.getPrototypeOf(W)},y(ae)}function M(ae,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function");ae.prototype=Object.create(W&&W.prototype,{constructor:{value:ae,writable:!0,configurable:!0}}),Object.defineProperty(ae,"prototype",{writable:!1}),W&&E(ae,W)}function E(ae,W){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(re,Ee){return re.__proto__=Ee,re},E(ae,W)}function b(ae){"@babel/helpers - typeof";return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},b(ae)}var T=i(7507),p=i(3778),_=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.hp=d,l=j,o.IS=50;var g=2147483647;l=g,d.TYPED_ARRAY_SUPPORT=h(),!d.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var ae=new Uint8Array(1),W={foo:function(){return 42}};return Object.setPrototypeOf(W,Uint8Array.prototype),Object.setPrototypeOf(ae,W),ae.foo()===42}catch(re){return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function S(ae){if(ae>g)throw new RangeError('The value "'+ae+'" is invalid for option "size"');var W=new Uint8Array(ae);return Object.setPrototypeOf(W,d.prototype),W}function d(ae,W,re){if(typeof ae=="number"){if(typeof W=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return O(ae)}return R(ae,W,re)}d.poolSize=8192;function R(ae,W,re){if(typeof ae=="string")return P(ae,W);if(ArrayBuffer.isView(ae))return k(ae);if(ae==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(ae));if(qe(ae,ArrayBuffer)||ae&&qe(ae.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(qe(ae,SharedArrayBuffer)||ae&&qe(ae.buffer,SharedArrayBuffer)))return D(ae,W,re);if(typeof ae=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ee=ae.valueOf&&ae.valueOf();if(Ee!=null&&Ee!==ae)return d.from(Ee,W,re);var We=z(ae);if(We)return We;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof ae[Symbol.toPrimitive]=="function")return d.from(ae[Symbol.toPrimitive]("string"),W,re);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(ae))}d.from=function(ae,W,re){return R(ae,W,re)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function L(ae){if(typeof ae!="number")throw new TypeError('"size" argument must be of type number');if(ae<0)throw new RangeError('The value "'+ae+'" is invalid for option "size"')}function F(ae,W,re){return L(ae),ae<=0?S(ae):W!==void 0?typeof re=="string"?S(ae).fill(W,re):S(ae).fill(W):S(ae)}d.alloc=function(ae,W,re){return F(ae,W,re)};function O(ae){return L(ae),S(ae<0?0:q(ae)|0)}d.allocUnsafe=function(ae){return O(ae)},d.allocUnsafeSlow=function(ae){return O(ae)};function P(ae,W){if((typeof W!="string"||W==="")&&(W="utf8"),!d.isEncoding(W))throw new TypeError("Unknown encoding: "+W);var re=Q(ae,W)|0,Ee=S(re),We=Ee.write(ae,W);return We!==re&&(Ee=Ee.slice(0,We)),Ee}function I(ae){for(var W=ae.length<0?0:q(ae.length)|0,re=S(W),Ee=0;Ee<W;Ee+=1)re[Ee]=ae[Ee]&255;return re}function k(ae){if(qe(ae,Uint8Array)){var W=new Uint8Array(ae);return D(W.buffer,W.byteOffset,W.byteLength)}return I(ae)}function D(ae,W,re){if(W<0||ae.byteLength<W)throw new RangeError('"offset" is outside of buffer bounds');if(ae.byteLength<W+(re||0))throw new RangeError('"length" is outside of buffer bounds');var Ee;return W===void 0&&re===void 0?Ee=new Uint8Array(ae):re===void 0?Ee=new Uint8Array(ae,W):Ee=new Uint8Array(ae,W,re),Object.setPrototypeOf(Ee,d.prototype),Ee}function z(ae){if(d.isBuffer(ae)){var W=q(ae.length)|0,re=S(W);return re.length===0||ae.copy(re,0,0,W),re}if(ae.length!==void 0)return typeof ae.length!="number"||nr(ae.length)?S(0):I(ae);if(ae.type==="Buffer"&&Array.isArray(ae.data))return I(ae.data)}function q(ae){if(ae>=g)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g.toString(16)+" bytes");return ae|0}function j(ae){return+ae!=ae&&(ae=0),d.alloc(+ae)}d.isBuffer=function(W){return W!=null&&W._isBuffer===!0&&W!==d.prototype},d.compare=function(W,re){if(qe(W,Uint8Array)&&(W=d.from(W,W.offset,W.byteLength)),qe(re,Uint8Array)&&(re=d.from(re,re.offset,re.byteLength)),!d.isBuffer(W)||!d.isBuffer(re))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(W===re)return 0;for(var Ee=W.length,We=re.length,lr=0,sr=Math.min(Ee,We);lr<sr;++lr)if(W[lr]!==re[lr]){Ee=W[lr],We=re[lr];break}return Ee<We?-1:We<Ee?1:0},d.isEncoding=function(W){switch(String(W).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(W,re){if(!Array.isArray(W))throw new TypeError('"list" argument must be an Array of Buffers');if(W.length===0)return d.alloc(0);var Ee;if(re===void 0)for(re=0,Ee=0;Ee<W.length;++Ee)re+=W[Ee].length;var We=d.allocUnsafe(re),lr=0;for(Ee=0;Ee<W.length;++Ee){var sr=W[Ee];if(qe(sr,Uint8Array))lr+sr.length>We.length?(d.isBuffer(sr)||(sr=d.from(sr)),sr.copy(We,lr)):Uint8Array.prototype.set.call(We,sr,lr);else if(d.isBuffer(sr))sr.copy(We,lr);else throw new TypeError('"list" argument must be an Array of Buffers');lr+=sr.length}return We};function Q(ae,W){if(d.isBuffer(ae))return ae.length;if(ArrayBuffer.isView(ae)||qe(ae,ArrayBuffer))return ae.byteLength;if(typeof ae!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+b(ae));var re=ae.length,Ee=arguments.length>2&&arguments[2]===!0;if(!Ee&&re===0)return 0;for(var We=!1;;)switch(W){case"ascii":case"latin1":case"binary":return re;case"utf8":case"utf-8":return qr(ae).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re*2;case"hex":return re>>>1;case"base64":return Or(ae).length;default:if(We)return Ee?-1:qr(ae).length;W=(""+W).toLowerCase(),We=!0}}d.byteLength=Q;function K(ae,W,re){var Ee=!1;if((W===void 0||W<0)&&(W=0),W>this.length||((re===void 0||re>this.length)&&(re=this.length),re<=0)||(re>>>=0,W>>>=0,re<=W))return"";for(ae||(ae="utf8");;)switch(ae){case"hex":return Re(this,W,re);case"utf8":case"utf-8":return Y(this,W,re);case"ascii":return we(this,W,re);case"latin1":case"binary":return De(this,W,re);case"base64":return ne(this,W,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ae(this,W,re);default:if(Ee)throw new TypeError("Unknown encoding: "+ae);ae=(ae+"").toLowerCase(),Ee=!0}}d.prototype._isBuffer=!0;function G(ae,W,re){var Ee=ae[W];ae[W]=ae[re],ae[re]=Ee}d.prototype.swap16=function(){var W=this.length;if(W%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var re=0;re<W;re+=2)G(this,re,re+1);return this},d.prototype.swap32=function(){var W=this.length;if(W%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var re=0;re<W;re+=4)G(this,re,re+3),G(this,re+1,re+2);return this},d.prototype.swap64=function(){var W=this.length;if(W%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var re=0;re<W;re+=8)G(this,re,re+7),G(this,re+1,re+6),G(this,re+2,re+5),G(this,re+3,re+4);return this},d.prototype.toString=function(){var W=this.length;return W===0?"":arguments.length===0?Y(this,0,W):K.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(W){if(!d.isBuffer(W))throw new TypeError("Argument must be a Buffer");return this===W?!0:d.compare(this,W)===0},d.prototype.inspect=function(){var W="",re=o.IS;return W=this.toString("hex",0,re).replace(/(.{2})/g,"$1 ").trim(),this.length>re&&(W+=" ... "),"<Buffer "+W+">"},_&&(d.prototype[_]=d.prototype.inspect),d.prototype.compare=function(W,re,Ee,We,lr){if(qe(W,Uint8Array)&&(W=d.from(W,W.offset,W.byteLength)),!d.isBuffer(W))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+b(W));if(re===void 0&&(re=0),Ee===void 0&&(Ee=W?W.length:0),We===void 0&&(We=0),lr===void 0&&(lr=this.length),re<0||Ee>W.length||We<0||lr>this.length)throw new RangeError("out of range index");if(We>=lr&&re>=Ee)return 0;if(We>=lr)return-1;if(re>=Ee)return 1;if(re>>>=0,Ee>>>=0,We>>>=0,lr>>>=0,this===W)return 0;for(var sr=lr-We,Yr=Ee-re,rt=Math.min(sr,Yr),zr=this.slice(We,lr),vt=W.slice(re,Ee),dt=0;dt<rt;++dt)if(zr[dt]!==vt[dt]){sr=zr[dt],Yr=vt[dt];break}return sr<Yr?-1:Yr<sr?1:0};function B(ae,W,re,Ee,We){if(ae.length===0)return-1;if(typeof re=="string"?(Ee=re,re=0):re>2147483647?re=2147483647:re<-2147483648&&(re=-2147483648),re=+re,nr(re)&&(re=We?0:ae.length-1),re<0&&(re=ae.length+re),re>=ae.length){if(We)return-1;re=ae.length-1}else if(re<0)if(We)re=0;else return-1;if(typeof W=="string"&&(W=d.from(W,Ee)),d.isBuffer(W))return W.length===0?-1:Z(ae,W,re,Ee,We);if(typeof W=="number")return W=W&255,typeof Uint8Array.prototype.indexOf=="function"?We?Uint8Array.prototype.indexOf.call(ae,W,re):Uint8Array.prototype.lastIndexOf.call(ae,W,re):Z(ae,[W],re,Ee,We);throw new TypeError("val must be string, number or Buffer")}function Z(ae,W,re,Ee,We){var lr=1,sr=ae.length,Yr=W.length;if(Ee!==void 0&&(Ee=String(Ee).toLowerCase(),Ee==="ucs2"||Ee==="ucs-2"||Ee==="utf16le"||Ee==="utf-16le")){if(ae.length<2||W.length<2)return-1;lr=2,sr/=2,Yr/=2,re/=2}function rt(Nt,_t){return lr===1?Nt[_t]:Nt.readUInt16BE(_t*lr)}var zr;if(We){var vt=-1;for(zr=re;zr<sr;zr++)if(rt(ae,zr)===rt(W,vt===-1?0:zr-vt)){if(vt===-1&&(vt=zr),zr-vt+1===Yr)return vt*lr}else vt!==-1&&(zr-=zr-vt),vt=-1}else for(re+Yr>sr&&(re=sr-Yr),zr=re;zr>=0;zr--){for(var dt=!0,qt=0;qt<Yr;qt++)if(rt(ae,zr+qt)!==rt(W,qt)){dt=!1;break}if(dt)return zr}return-1}d.prototype.includes=function(W,re,Ee){return this.indexOf(W,re,Ee)!==-1},d.prototype.indexOf=function(W,re,Ee){return B(this,W,re,Ee,!0)},d.prototype.lastIndexOf=function(W,re,Ee){return B(this,W,re,Ee,!1)};function ie(ae,W,re,Ee){re=Number(re)||0;var We=ae.length-re;Ee?(Ee=Number(Ee),Ee>We&&(Ee=We)):Ee=We;var lr=W.length;Ee>lr/2&&(Ee=lr/2);var sr;for(sr=0;sr<Ee;++sr){var Yr=parseInt(W.substr(sr*2,2),16);if(nr(Yr))return sr;ae[re+sr]=Yr}return sr}function J(ae,W,re,Ee){return _r(qr(W,ae.length-re),ae,re,Ee)}function le(ae,W,re,Ee){return _r(et(W),ae,re,Ee)}function te(ae,W,re,Ee){return _r(Or(W),ae,re,Ee)}function V(ae,W,re,Ee){return _r(jr(W,ae.length-re),ae,re,Ee)}d.prototype.write=function(W,re,Ee,We){if(re===void 0)We="utf8",Ee=this.length,re=0;else if(Ee===void 0&&typeof re=="string")We=re,Ee=this.length,re=0;else if(isFinite(re))re=re>>>0,isFinite(Ee)?(Ee=Ee>>>0,We===void 0&&(We="utf8")):(We=Ee,Ee=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var lr=this.length-re;if((Ee===void 0||Ee>lr)&&(Ee=lr),W.length>0&&(Ee<0||re<0)||re>this.length)throw new RangeError("Attempt to write outside buffer bounds");We||(We="utf8");for(var sr=!1;;)switch(We){case"hex":return ie(this,W,re,Ee);case"utf8":case"utf-8":return J(this,W,re,Ee);case"ascii":case"latin1":case"binary":return le(this,W,re,Ee);case"base64":return te(this,W,re,Ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,W,re,Ee);default:if(sr)throw new TypeError("Unknown encoding: "+We);We=(""+We).toLowerCase(),sr=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ne(ae,W,re){return W===0&&re===ae.length?T.fromByteArray(ae):T.fromByteArray(ae.slice(W,re))}function Y(ae,W,re){re=Math.min(ae.length,re);for(var Ee=[],We=W;We<re;){var lr=ae[We],sr=null,Yr=lr>239?4:lr>223?3:lr>191?2:1;if(We+Yr<=re){var rt=void 0,zr=void 0,vt=void 0,dt=void 0;switch(Yr){case 1:lr<128&&(sr=lr);break;case 2:rt=ae[We+1],(rt&192)===128&&(dt=(lr&31)<<6|rt&63,dt>127&&(sr=dt));break;case 3:rt=ae[We+1],zr=ae[We+2],(rt&192)===128&&(zr&192)===128&&(dt=(lr&15)<<12|(rt&63)<<6|zr&63,dt>2047&&(dt<55296||dt>57343)&&(sr=dt));break;case 4:rt=ae[We+1],zr=ae[We+2],vt=ae[We+3],(rt&192)===128&&(zr&192)===128&&(vt&192)===128&&(dt=(lr&15)<<18|(rt&63)<<12|(zr&63)<<6|vt&63,dt>65535&&dt<1114112&&(sr=dt))}}sr===null?(sr=65533,Yr=1):sr>65535&&(sr-=65536,Ee.push(sr>>>10&1023|55296),sr=56320|sr&1023),Ee.push(sr),We+=Yr}return pe(Ee)}var oe=4096;function pe(ae){var W=ae.length;if(W<=oe)return String.fromCharCode.apply(String,ae);for(var re="",Ee=0;Ee<W;)re+=String.fromCharCode.apply(String,ae.slice(Ee,Ee+=oe));return re}function we(ae,W,re){var Ee="";re=Math.min(ae.length,re);for(var We=W;We<re;++We)Ee+=String.fromCharCode(ae[We]&127);return Ee}function De(ae,W,re){var Ee="";re=Math.min(ae.length,re);for(var We=W;We<re;++We)Ee+=String.fromCharCode(ae[We]);return Ee}function Re(ae,W,re){var Ee=ae.length;(!W||W<0)&&(W=0),(!re||re<0||re>Ee)&&(re=Ee);for(var We="",lr=W;lr<re;++lr)We+=Te[ae[lr]];return We}function Ae(ae,W,re){for(var Ee=ae.slice(W,re),We="",lr=0;lr<Ee.length-1;lr+=2)We+=String.fromCharCode(Ee[lr]+Ee[lr+1]*256);return We}d.prototype.slice=function(W,re){var Ee=this.length;W=~~W,re=re===void 0?Ee:~~re,W<0?(W+=Ee,W<0&&(W=0)):W>Ee&&(W=Ee),re<0?(re+=Ee,re<0&&(re=0)):re>Ee&&(re=Ee),re<W&&(re=W);var We=this.subarray(W,re);return Object.setPrototypeOf(We,d.prototype),We};function Ie(ae,W,re){if(ae%1!==0||ae<0)throw new RangeError("offset is not uint");if(ae+W>re)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(W,re,Ee){W=W>>>0,re=re>>>0,Ee||Ie(W,re,this.length);for(var We=this[W],lr=1,sr=0;++sr<re&&(lr*=256);)We+=this[W+sr]*lr;return We},d.prototype.readUintBE=d.prototype.readUIntBE=function(W,re,Ee){W=W>>>0,re=re>>>0,Ee||Ie(W,re,this.length);for(var We=this[W+--re],lr=1;re>0&&(lr*=256);)We+=this[W+--re]*lr;return We},d.prototype.readUint8=d.prototype.readUInt8=function(W,re){return W=W>>>0,re||Ie(W,1,this.length),this[W]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(W,re){return W=W>>>0,re||Ie(W,2,this.length),this[W]|this[W+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(W,re){return W=W>>>0,re||Ie(W,2,this.length),this[W]<<8|this[W+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(W,re){return W=W>>>0,re||Ie(W,4,this.length),(this[W]|this[W+1]<<8|this[W+2]<<16)+this[W+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(W,re){return W=W>>>0,re||Ie(W,4,this.length),this[W]*16777216+(this[W+1]<<16|this[W+2]<<8|this[W+3])},d.prototype.readBigUInt64LE=be(function(W){W=W>>>0,He(W,"offset");var re=this[W],Ee=this[W+7];(re===void 0||Ee===void 0)&&Xe(W,this.length-8);var We=re+this[++W]*Math.pow(2,8)+this[++W]*Math.pow(2,16)+this[++W]*Math.pow(2,24),lr=this[++W]+this[++W]*Math.pow(2,8)+this[++W]*Math.pow(2,16)+Ee*Math.pow(2,24);return BigInt(We)+(BigInt(lr)<<BigInt(32))}),d.prototype.readBigUInt64BE=be(function(W){W=W>>>0,He(W,"offset");var re=this[W],Ee=this[W+7];(re===void 0||Ee===void 0)&&Xe(W,this.length-8);var We=re*Math.pow(2,24)+this[++W]*Math.pow(2,16)+this[++W]*Math.pow(2,8)+this[++W],lr=this[++W]*Math.pow(2,24)+this[++W]*Math.pow(2,16)+this[++W]*Math.pow(2,8)+Ee;return(BigInt(We)<<BigInt(32))+BigInt(lr)}),d.prototype.readIntLE=function(W,re,Ee){W=W>>>0,re=re>>>0,Ee||Ie(W,re,this.length);for(var We=this[W],lr=1,sr=0;++sr<re&&(lr*=256);)We+=this[W+sr]*lr;return lr*=128,We>=lr&&(We-=Math.pow(2,8*re)),We},d.prototype.readIntBE=function(W,re,Ee){W=W>>>0,re=re>>>0,Ee||Ie(W,re,this.length);for(var We=re,lr=1,sr=this[W+--We];We>0&&(lr*=256);)sr+=this[W+--We]*lr;return lr*=128,sr>=lr&&(sr-=Math.pow(2,8*re)),sr},d.prototype.readInt8=function(W,re){return W=W>>>0,re||Ie(W,1,this.length),this[W]&128?(255-this[W]+1)*-1:this[W]},d.prototype.readInt16LE=function(W,re){W=W>>>0,re||Ie(W,2,this.length);var Ee=this[W]|this[W+1]<<8;return Ee&32768?Ee|4294901760:Ee},d.prototype.readInt16BE=function(W,re){W=W>>>0,re||Ie(W,2,this.length);var Ee=this[W+1]|this[W]<<8;return Ee&32768?Ee|4294901760:Ee},d.prototype.readInt32LE=function(W,re){return W=W>>>0,re||Ie(W,4,this.length),this[W]|this[W+1]<<8|this[W+2]<<16|this[W+3]<<24},d.prototype.readInt32BE=function(W,re){return W=W>>>0,re||Ie(W,4,this.length),this[W]<<24|this[W+1]<<16|this[W+2]<<8|this[W+3]},d.prototype.readBigInt64LE=be(function(W){W=W>>>0,He(W,"offset");var re=this[W],Ee=this[W+7];(re===void 0||Ee===void 0)&&Xe(W,this.length-8);var We=this[W+4]+this[W+5]*Math.pow(2,8)+this[W+6]*Math.pow(2,16)+(Ee<<24);return(BigInt(We)<<BigInt(32))+BigInt(re+this[++W]*Math.pow(2,8)+this[++W]*Math.pow(2,16)+this[++W]*Math.pow(2,24))}),d.prototype.readBigInt64BE=be(function(W){W=W>>>0,He(W,"offset");var re=this[W],Ee=this[W+7];(re===void 0||Ee===void 0)&&Xe(W,this.length-8);var We=(re<<24)+this[++W]*Math.pow(2,16)+this[++W]*Math.pow(2,8)+this[++W];return(BigInt(We)<<BigInt(32))+BigInt(this[++W]*Math.pow(2,24)+this[++W]*Math.pow(2,16)+this[++W]*Math.pow(2,8)+Ee)}),d.prototype.readFloatLE=function(W,re){return W=W>>>0,re||Ie(W,4,this.length),p.read(this,W,!0,23,4)},d.prototype.readFloatBE=function(W,re){return W=W>>>0,re||Ie(W,4,this.length),p.read(this,W,!1,23,4)},d.prototype.readDoubleLE=function(W,re){return W=W>>>0,re||Ie(W,8,this.length),p.read(this,W,!0,52,8)},d.prototype.readDoubleBE=function(W,re){return W=W>>>0,re||Ie(W,8,this.length),p.read(this,W,!1,52,8)};function Be(ae,W,re,Ee,We,lr){if(!d.isBuffer(ae))throw new TypeError('"buffer" argument must be a Buffer instance');if(W>We||W<lr)throw new RangeError('"value" argument is out of bounds');if(re+Ee>ae.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(W,re,Ee,We){if(W=+W,re=re>>>0,Ee=Ee>>>0,!We){var lr=Math.pow(2,8*Ee)-1;Be(this,W,re,Ee,lr,0)}var sr=1,Yr=0;for(this[re]=W&255;++Yr<Ee&&(sr*=256);)this[re+Yr]=W/sr&255;return re+Ee},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(W,re,Ee,We){if(W=+W,re=re>>>0,Ee=Ee>>>0,!We){var lr=Math.pow(2,8*Ee)-1;Be(this,W,re,Ee,lr,0)}var sr=Ee-1,Yr=1;for(this[re+sr]=W&255;--sr>=0&&(Yr*=256);)this[re+sr]=W/Yr&255;return re+Ee},d.prototype.writeUint8=d.prototype.writeUInt8=function(W,re,Ee){return W=+W,re=re>>>0,Ee||Be(this,W,re,1,255,0),this[re]=W&255,re+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(W,re,Ee){return W=+W,re=re>>>0,Ee||Be(this,W,re,2,65535,0),this[re]=W&255,this[re+1]=W>>>8,re+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(W,re,Ee){return W=+W,re=re>>>0,Ee||Be(this,W,re,2,65535,0),this[re]=W>>>8,this[re+1]=W&255,re+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(W,re,Ee){return W=+W,re=re>>>0,Ee||Be(this,W,re,4,4294967295,0),this[re+3]=W>>>24,this[re+2]=W>>>16,this[re+1]=W>>>8,this[re]=W&255,re+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(W,re,Ee){return W=+W,re=re>>>0,Ee||Be(this,W,re,4,4294967295,0),this[re]=W>>>24,this[re+1]=W>>>16,this[re+2]=W>>>8,this[re+3]=W&255,re+4};function je(ae,W,re,Ee,We){Ue(W,Ee,We,ae,re,7);var lr=Number(W&BigInt(4294967295));ae[re++]=lr,lr=lr>>8,ae[re++]=lr,lr=lr>>8,ae[re++]=lr,lr=lr>>8,ae[re++]=lr;var sr=Number(W>>BigInt(32)&BigInt(4294967295));return ae[re++]=sr,sr=sr>>8,ae[re++]=sr,sr=sr>>8,ae[re++]=sr,sr=sr>>8,ae[re++]=sr,re}function Ne(ae,W,re,Ee,We){Ue(W,Ee,We,ae,re,7);var lr=Number(W&BigInt(4294967295));ae[re+7]=lr,lr=lr>>8,ae[re+6]=lr,lr=lr>>8,ae[re+5]=lr,lr=lr>>8,ae[re+4]=lr;var sr=Number(W>>BigInt(32)&BigInt(4294967295));return ae[re+3]=sr,sr=sr>>8,ae[re+2]=sr,sr=sr>>8,ae[re+1]=sr,sr=sr>>8,ae[re]=sr,re+8}d.prototype.writeBigUInt64LE=be(function(W){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return je(this,W,re,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=be(function(W){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ne(this,W,re,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(W,re,Ee,We){if(W=+W,re=re>>>0,!We){var lr=Math.pow(2,8*Ee-1);Be(this,W,re,Ee,lr-1,-lr)}var sr=0,Yr=1,rt=0;for(this[re]=W&255;++sr<Ee&&(Yr*=256);)W<0&&rt===0&&this[re+sr-1]!==0&&(rt=1),this[re+sr]=(W/Yr>>0)-rt&255;return re+Ee},d.prototype.writeIntBE=function(W,re,Ee,We){if(W=+W,re=re>>>0,!We){var lr=Math.pow(2,8*Ee-1);Be(this,W,re,Ee,lr-1,-lr)}var sr=Ee-1,Yr=1,rt=0;for(this[re+sr]=W&255;--sr>=0&&(Yr*=256);)W<0&&rt===0&&this[re+sr+1]!==0&&(rt=1),this[re+sr]=(W/Yr>>0)-rt&255;return re+Ee},d.prototype.writeInt8=function(W,re,Ee){return W=+W,re=re>>>0,Ee||Be(this,W,re,1,127,-128),W<0&&(W=255+W+1),this[re]=W&255,re+1},d.prototype.writeInt16LE=function(W,re,Ee){return W=+W,re=re>>>0,Ee||Be(this,W,re,2,32767,-32768),this[re]=W&255,this[re+1]=W>>>8,re+2},d.prototype.writeInt16BE=function(W,re,Ee){return W=+W,re=re>>>0,Ee||Be(this,W,re,2,32767,-32768),this[re]=W>>>8,this[re+1]=W&255,re+2},d.prototype.writeInt32LE=function(W,re,Ee){return W=+W,re=re>>>0,Ee||Be(this,W,re,4,2147483647,-2147483648),this[re]=W&255,this[re+1]=W>>>8,this[re+2]=W>>>16,this[re+3]=W>>>24,re+4},d.prototype.writeInt32BE=function(W,re,Ee){return W=+W,re=re>>>0,Ee||Be(this,W,re,4,2147483647,-2147483648),W<0&&(W=4294967295+W+1),this[re]=W>>>24,this[re+1]=W>>>16,this[re+2]=W>>>8,this[re+3]=W&255,re+4},d.prototype.writeBigInt64LE=be(function(W){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return je(this,W,re,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=be(function(W){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ne(this,W,re,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Qe(ae,W,re,Ee,We,lr){if(re+Ee>ae.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("Index out of range")}function pr(ae,W,re,Ee,We){return W=+W,re=re>>>0,We||Qe(ae,W,re,4,34028234663852886e22,-34028234663852886e22),p.write(ae,W,re,Ee,23,4),re+4}d.prototype.writeFloatLE=function(W,re,Ee){return pr(this,W,re,!0,Ee)},d.prototype.writeFloatBE=function(W,re,Ee){return pr(this,W,re,!1,Ee)};function Se(ae,W,re,Ee,We){return W=+W,re=re>>>0,We||Qe(ae,W,re,8,17976931348623157e292,-17976931348623157e292),p.write(ae,W,re,Ee,52,8),re+8}d.prototype.writeDoubleLE=function(W,re,Ee){return Se(this,W,re,!0,Ee)},d.prototype.writeDoubleBE=function(W,re,Ee){return Se(this,W,re,!1,Ee)},d.prototype.copy=function(W,re,Ee,We){if(!d.isBuffer(W))throw new TypeError("argument should be a Buffer");if(Ee||(Ee=0),!We&&We!==0&&(We=this.length),re>=W.length&&(re=W.length),re||(re=0),We>0&&We<Ee&&(We=Ee),We===Ee||W.length===0||this.length===0)return 0;if(re<0)throw new RangeError("targetStart out of bounds");if(Ee<0||Ee>=this.length)throw new RangeError("Index out of range");if(We<0)throw new RangeError("sourceEnd out of bounds");We>this.length&&(We=this.length),W.length-re<We-Ee&&(We=W.length-re+Ee);var lr=We-Ee;return this===W&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(re,Ee,We):Uint8Array.prototype.set.call(W,this.subarray(Ee,We),re),lr},d.prototype.fill=function(W,re,Ee,We){if(typeof W=="string"){if(typeof re=="string"?(We=re,re=0,Ee=this.length):typeof Ee=="string"&&(We=Ee,Ee=this.length),We!==void 0&&typeof We!="string")throw new TypeError("encoding must be a string");if(typeof We=="string"&&!d.isEncoding(We))throw new TypeError("Unknown encoding: "+We);if(W.length===1){var lr=W.charCodeAt(0);(We==="utf8"&&lr<128||We==="latin1")&&(W=lr)}}else typeof W=="number"?W=W&255:typeof W=="boolean"&&(W=Number(W));if(re<0||this.length<re||this.length<Ee)throw new RangeError("Out of range index");if(Ee<=re)return this;re=re>>>0,Ee=Ee===void 0?this.length:Ee>>>0,W||(W=0);var sr;if(typeof W=="number")for(sr=re;sr<Ee;++sr)this[sr]=W;else{var Yr=d.isBuffer(W)?W:d.from(W,We),rt=Yr.length;if(rt===0)throw new TypeError('The value "'+W+'" is invalid for argument "value"');for(sr=0;sr<Ee-re;++sr)this[sr+re]=Yr[sr%rt]}return this};var Fe={};function hr(ae,W,re){Fe[ae]=function(Ee){function We(){var lr;return f(this,We),lr=x(this,We),Object.defineProperty(lr,"message",{value:W.apply(lr,arguments),writable:!0,configurable:!0}),lr.name="".concat(lr.name," [").concat(ae,"]"),lr.stack,delete lr.name,lr}return M(We,Ee),u(We,[{key:"code",get:function(){return ae},set:function(sr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:sr,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(ae,"]: ").concat(this.message)}}])}(re)}hr("ERR_BUFFER_OUT_OF_BOUNDS",function(ae){return ae?"".concat(ae," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),hr("ERR_INVALID_ARG_TYPE",function(ae,W){return'The "'.concat(ae,'" argument must be of type number. Received type ').concat(b(W))},TypeError),hr("ERR_OUT_OF_RANGE",function(ae,W,re){var Ee='The value of "'.concat(ae,'" is out of range.'),We=re;return Number.isInteger(re)&&Math.abs(re)>Math.pow(2,32)?We=dr(String(re)):typeof re=="bigint"&&(We=String(re),(re>Math.pow(BigInt(2),BigInt(32))||re<-Math.pow(BigInt(2),BigInt(32)))&&(We=dr(We)),We+="n"),Ee+=" It must be ".concat(W,". Received ").concat(We),Ee},RangeError);function dr(ae){for(var W="",re=ae.length,Ee=ae[0]==="-"?1:0;re>=Ee+4;re-=3)W="_".concat(ae.slice(re-3,re)).concat(W);return"".concat(ae.slice(0,re)).concat(W)}function kr(ae,W,re){He(W,"offset"),(ae[W]===void 0||ae[W+re]===void 0)&&Xe(W,ae.length-(re+1))}function Ue(ae,W,re,Ee,We,lr){if(ae>re||ae<W){var sr=typeof W=="bigint"?"n":"",Yr;throw lr>3?W===0||W===BigInt(0)?Yr=">= 0".concat(sr," and < 2").concat(sr," ** ").concat((lr+1)*8).concat(sr):Yr=">= -(2".concat(sr," ** ").concat((lr+1)*8-1).concat(sr,") and < 2 ** ")+"".concat((lr+1)*8-1).concat(sr):Yr=">= ".concat(W).concat(sr," and <= ").concat(re).concat(sr),new Fe.ERR_OUT_OF_RANGE("value",Yr,ae)}kr(Ee,We,lr)}function He(ae,W){if(typeof ae!="number")throw new Fe.ERR_INVALID_ARG_TYPE(W,"number",ae)}function Xe(ae,W,re){throw Math.floor(ae)!==ae?(He(ae,re),new Fe.ERR_OUT_OF_RANGE(re||"offset","an integer",ae)):W<0?new Fe.ERR_BUFFER_OUT_OF_BOUNDS:new Fe.ERR_OUT_OF_RANGE(re||"offset",">= ".concat(re?1:0," and <= ").concat(W),ae)}var fr=/[^+/0-9A-Za-z-_]/g;function Mr(ae){if(ae=ae.split("=")[0],ae=ae.trim().replace(fr,""),ae.length<2)return"";for(;ae.length%4!==0;)ae=ae+"=";return ae}function qr(ae,W){W=W||1/0;for(var re,Ee=ae.length,We=null,lr=[],sr=0;sr<Ee;++sr){if(re=ae.charCodeAt(sr),re>55295&&re<57344){if(!We){if(re>56319){(W-=3)>-1&&lr.push(239,191,189);continue}else if(sr+1===Ee){(W-=3)>-1&&lr.push(239,191,189);continue}We=re;continue}if(re<56320){(W-=3)>-1&&lr.push(239,191,189),We=re;continue}re=(We-55296<<10|re-56320)+65536}else We&&(W-=3)>-1&&lr.push(239,191,189);if(We=null,re<128){if((W-=1)<0)break;lr.push(re)}else if(re<2048){if((W-=2)<0)break;lr.push(re>>6|192,re&63|128)}else if(re<65536){if((W-=3)<0)break;lr.push(re>>12|224,re>>6&63|128,re&63|128)}else if(re<1114112){if((W-=4)<0)break;lr.push(re>>18|240,re>>12&63|128,re>>6&63|128,re&63|128)}else throw new Error("Invalid code point")}return lr}function et(ae){for(var W=[],re=0;re<ae.length;++re)W.push(ae.charCodeAt(re)&255);return W}function jr(ae,W){for(var re,Ee,We,lr=[],sr=0;sr<ae.length&&!((W-=2)<0);++sr)re=ae.charCodeAt(sr),Ee=re>>8,We=re%256,lr.push(We),lr.push(Ee);return lr}function Or(ae){return T.toByteArray(Mr(ae))}function _r(ae,W,re,Ee){var We;for(We=0;We<Ee&&!(We+re>=W.length||We>=ae.length);++We)W[We+re]=ae[We];return We}function qe(ae,W){return ae instanceof W||ae!=null&&ae.constructor!=null&&ae.constructor.name!=null&&ae.constructor.name===W.name}function nr(ae){return ae!==ae}var Te=function(){for(var ae="0123456789abcdef",W=new Array(256),re=0;re<16;++re)for(var Ee=re*16,We=0;We<16;++We)W[Ee+We]=ae[re]+ae[We];return W}();function be(ae){return typeof BigInt=="undefined"?Ge:ae}function Ge(){throw new Error("BigInt not supported")}},9216:function(a){"use strict";a.exports=f,a.exports.isMobile=f,a.exports.default=f;var o=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,i=/CrOS/,l=/android|ipad|playbook|silk/i;function f(s){s||(s={});var u=s.ua;if(!u&&typeof navigator!="undefined"&&(u=navigator.userAgent),u&&u.headers&&typeof u.headers["user-agent"]=="string"&&(u=u.headers["user-agent"]),typeof u!="string")return!1;var c=o.test(u)&&!i.test(u)||!!s.tablet&&l.test(u);return!c&&s.tablet&&s.featureDetect&&navigator&&navigator.maxTouchPoints>1&&u.indexOf("Macintosh")!==-1&&u.indexOf("Safari")!==-1&&(c=!0),c}},6296:function(a,o,i){"use strict";a.exports=v;var l=i(7261),f=i(9977),s=i(1811);function u(x,m){this._controllerNames=Object.keys(x),this._controllerList=this._controllerNames.map(function(w){return x[w]}),this._mode=m,this._active=x[m],this._active||(this._mode="turntable",this._active=x.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var c=u.prototype;c.flush=function(x){for(var m=this._controllerList,w=0;w<m.length;++w)m[w].flush(x)},c.idle=function(x){for(var m=this._controllerList,w=0;w<m.length;++w)m[w].idle(x)},c.lookAt=function(x,m,w,A){for(var y=this._controllerList,M=0;M<y.length;++M)y[M].lookAt(x,m,w,A)},c.rotate=function(x,m,w,A){for(var y=this._controllerList,M=0;M<y.length;++M)y[M].rotate(x,m,w,A)},c.pan=function(x,m,w,A){for(var y=this._controllerList,M=0;M<y.length;++M)y[M].pan(x,m,w,A)},c.translate=function(x,m,w,A){for(var y=this._controllerList,M=0;M<y.length;++M)y[M].translate(x,m,w,A)},c.setMatrix=function(x,m){for(var w=this._controllerList,A=0;A<w.length;++A)w[A].setMatrix(x,m)},c.setDistanceLimits=function(x,m){for(var w=this._controllerList,A=0;A<w.length;++A)w[A].setDistanceLimits(x,m)},c.setDistance=function(x,m){for(var w=this._controllerList,A=0;A<w.length;++A)w[A].setDistance(x,m)},c.recalcMatrix=function(x){this._active.recalcMatrix(x)},c.getDistance=function(x){return this._active.getDistance(x)},c.getDistanceLimits=function(x){return this._active.getDistanceLimits(x)},c.lastT=function(){return this._active.lastT()},c.setMode=function(x){if(x!==this._mode){var m=this._controllerNames.indexOf(x);if(!(m<0)){var w=this._active,A=this._controllerList[m],y=Math.max(w.lastT(),A.lastT());w.recalcMatrix(y),A.setMatrix(y,w.computedMatrix),this._active=A,this._mode=x,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},c.getMode=function(){return this._mode};function v(x){x=x||{};var m=x.eye||[0,0,1],w=x.center||[0,0,0],A=x.up||[0,1,0],y=x.distanceLimits||[0,1/0],M=x.mode||"turntable",E=l(),b=f(),T=s();return E.setDistanceLimits(y[0],y[1]),E.lookAt(0,m,w,A),b.setDistanceLimits(y[0],y[1]),b.lookAt(0,m,w,A),T.setDistanceLimits(y[0],y[1]),T.lookAt(0,m,w,A),new u({turntable:E,orbit:b,matrix:T},M)}},7169:function(a,o,i){"use strict";var l=typeof WeakMap=="undefined"?i(1538):WeakMap,f=i(2762),s=i(8116),u=new l;function c(v){var x=u.get(v),m=x&&(x._triangleBuffer.handle||x._triangleBuffer.buffer);if(!m||!v.isBuffer(m)){var w=f(v,new Float32Array([-1,-1,-1,4,4,-1]));x=s(v,[{buffer:w,type:v.FLOAT,size:2}]),x._triangleBuffer=w,u.set(v,x)}x.bind(),v.drawArrays(v.TRIANGLES,0,3),x.unbind()}a.exports=c},1085:function(a,o,i){var l=i(1371);a.exports=f;function f(s,u,c){u=typeof u=="number"?u:1,c=c||": ";var v=s.split(/\r?\n/),x=String(v.length+u-1).length;return v.map(function(m,w){var A=w+u,y=String(A).length,M=l(A,x-y);return M+c+m}).join(`
`)}},3952:function(a,o,i){"use strict";a.exports=s;var l=i(3250);function f(u,c){for(var v=new Array(c+1),x=0;x<u.length;++x)v[x]=u[x];for(var x=0;x<=u.length;++x){for(var m=u.length;m<=c;++m){for(var w=new Array(c),A=0;A<c;++A)w[A]=Math.pow(m+1-x,A);v[m]=w}var y=l.apply(void 0,v);if(y)return!0}return!1}function s(u){var c=u.length;if(c===0)return[];if(c===1)return[0];for(var v=u[0].length,x=[u[0]],m=[0],w=1;w<c;++w){if(x.push(u[w]),!f(x,v)){x.pop();continue}if(m.push(w),m.length===v+1)return m}return m}},5995:function(a,o,i){"use strict";a.exports=s;var l=i(7642),f=i(6037);function s(u,c){return l(c).filter(function(v){for(var x=new Array(v.length),m=0;m<v.length;++m)x[m]=c[v[m]];return f(x)*u<1})}},3502:function(a,o,i){a.exports=s;var l=i(5995),f=i(9127);function s(u,c){return f(l(u,c))}},6468:function(a){a.exports=function(i){return atob(i)}},2642:function(a,o,i){"use strict";a.exports=s;var l=i(727);function f(u){for(var c=0,v=0;v<u.length;++v)c+=u[v];return c}function s(u,c){for(var v=c.length,x=new Array(v+1),m=0;m<v;++m){for(var w=new Array(v+1),A=0;A<=v;++A)w[A]=u[A][m];x[m]=w}x[v]=new Array(v+1);for(var m=0;m<=v;++m)x[v][m]=1;for(var y=new Array(v+1),m=0;m<v;++m)y[m]=c[m];y[v]=1;var M=l(x,y),E=f(M[v+1]);E===0&&(E=1);for(var b=new Array(v+1),m=0;m<=v;++m)b[m]=f(M[m])/E;return b}},7507:function(a,o){"use strict";o.byteLength=x,o.toByteArray=w,o.fromByteArray=M;for(var i=[],l=[],f=typeof Uint8Array!="undefined"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,c=s.length;u<c;++u)i[u]=s[u],l[s.charCodeAt(u)]=u;l[45]=62,l[95]=63;function v(E){var b=E.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=E.indexOf("=");T===-1&&(T=b);var p=T===b?0:4-T%4;return[T,p]}function x(E){var b=v(E),T=b[0],p=b[1];return(T+p)*3/4-p}function m(E,b,T){return(b+T)*3/4-T}function w(E){var b,T=v(E),p=T[0],_=T[1],g=new f(m(E,p,_)),h=0,S=_>0?p-4:p,d;for(d=0;d<S;d+=4)b=l[E.charCodeAt(d)]<<18|l[E.charCodeAt(d+1)]<<12|l[E.charCodeAt(d+2)]<<6|l[E.charCodeAt(d+3)],g[h++]=b>>16&255,g[h++]=b>>8&255,g[h++]=b&255;return _===2&&(b=l[E.charCodeAt(d)]<<2|l[E.charCodeAt(d+1)]>>4,g[h++]=b&255),_===1&&(b=l[E.charCodeAt(d)]<<10|l[E.charCodeAt(d+1)]<<4|l[E.charCodeAt(d+2)]>>2,g[h++]=b>>8&255,g[h++]=b&255),g}function A(E){return i[E>>18&63]+i[E>>12&63]+i[E>>6&63]+i[E&63]}function y(E,b,T){for(var p,_=[],g=b;g<T;g+=3)p=(E[g]<<16&16711680)+(E[g+1]<<8&65280)+(E[g+2]&255),_.push(A(p));return _.join("")}function M(E){for(var b,T=E.length,p=T%3,_=[],g=16383,h=0,S=T-p;h<S;h+=g)_.push(y(E,h,h+g>S?S:h+g));return p===1?(b=E[T-1],_.push(i[b>>2]+i[b<<4&63]+"==")):p===2&&(b=(E[T-2]<<8)+E[T-1],_.push(i[b>>10]+i[b>>4&63]+i[b<<2&63]+"=")),_.join("")}},3865:function(a,o,i){"use strict";var l=i(869);a.exports=f;function f(s,u){return l(s[0].mul(u[1]).add(u[0].mul(s[1])),s[1].mul(u[1]))}},1318:function(a){"use strict";a.exports=o;function o(i,l){return i[0].mul(l[1]).cmp(l[0].mul(i[1]))}},8697:function(a,o,i){"use strict";var l=i(869);a.exports=f;function f(s,u){return l(s[0].mul(u[1]),s[1].mul(u[0]))}},7842:function(a,o,i){"use strict";var l=i(6330),f=i(1533),s=i(2651),u=i(6768),c=i(869),v=i(8697);a.exports=x;function x(m,w){if(l(m))return w?v(m,x(w)):[m[0].clone(),m[1].clone()];var A=0,y,M;if(f(m))y=m.clone();else if(typeof m=="string")y=u(m);else{if(m===0)return[s(0),s(1)];if(m===Math.floor(m))y=s(m);else{for(;m!==Math.floor(m);)m=m*Math.pow(2,256),A-=256;y=s(m)}}if(l(w))y.mul(w[1]),M=w[0].clone();else if(f(w))M=w.clone();else if(typeof w=="string")M=u(w);else if(!w)M=s(1);else if(w===Math.floor(w))M=s(w);else{for(;w!==Math.floor(w);)w=w*Math.pow(2,256),A+=256;M=s(w)}return A>0?y=y.ushln(A):A<0&&(M=M.ushln(-A)),c(y,M)}},6330:function(a,o,i){"use strict";var l=i(1533);a.exports=f;function f(s){return Array.isArray(s)&&s.length===2&&l(s[0])&&l(s[1])}},5716:function(a,o,i){"use strict";var l=i(6859);a.exports=f;function f(s){return s.cmp(new l(0))}},1369:function(a,o,i){"use strict";var l=i(5716);a.exports=f;function f(s){var u=s.length,c=s.words,v=0;if(u===1)v=c[0];else if(u===2)v=c[0]+c[1]*67108864;else for(var x=0;x<u;x++){var m=c[x];v+=m*Math.pow(67108864,x)}return l(s)*v}},4025:function(a,o,i){"use strict";var l=i(2361),f=i(8828).countTrailingZeros;a.exports=s;function s(u){var c=f(l.lo(u));if(c<32)return c;var v=f(l.hi(u));return v>20?52:v+32}},1533:function(a,o,i){"use strict";var l=i(6859);a.exports=f;function f(s){return s&&typeof s=="object"&&!!s.words}},2651:function(a,o,i){"use strict";var l=i(6859),f=i(2361);a.exports=s;function s(u){var c=f.exponent(u);return c<52?new l(u):new l(u*Math.pow(2,52-c)).ushln(c-52)}},869:function(a,o,i){"use strict";var l=i(2651),f=i(5716);a.exports=s;function s(u,c){var v=f(u),x=f(c);if(v===0)return[l(0),l(1)];if(x===0)return[l(0),l(0)];x<0&&(u=u.neg(),c=c.neg());var m=u.gcd(c);return m.cmpn(1)?[u.div(m),c.div(m)]:[u,c]}},6768:function(a,o,i){"use strict";var l=i(6859);a.exports=f;function f(s){return new l(s)}},6504:function(a,o,i){"use strict";var l=i(869);a.exports=f;function f(s,u){return l(s[0].mul(u[0]),s[1].mul(u[1]))}},7721:function(a,o,i){"use strict";var l=i(5716);a.exports=f;function f(s){return l(s[0])*l(s[1])}},5572:function(a,o,i){"use strict";var l=i(869);a.exports=f;function f(s,u){return l(s[0].mul(u[1]).sub(s[1].mul(u[0])),s[1].mul(u[1]))}},946:function(a,o,i){"use strict";var l=i(1369),f=i(4025);a.exports=s;function s(u){var c=u[0],v=u[1];if(c.cmpn(0)===0)return 0;var x=c.abs().divmod(v.abs()),m=x.div,w=l(m),A=x.mod,y=c.negative!==v.negative?-1:1;if(A.cmpn(0)===0)return y*w;if(w){var M=f(w)+4,E=l(A.ushln(M).divRound(v));return y*(w+E*Math.pow(2,-M))}else{var b=v.bitLength()-A.bitLength()+53,E=l(A.ushln(b).divRound(v));return b<1023?y*E*Math.pow(2,-b):(E*=Math.pow(2,-1023),y*E*Math.pow(2,1023-b))}}},2478:function(a){"use strict";function o(c,v,x,m,w){for(var A=w+1;m<=w;){var y=m+w>>>1,M=c[y],E=x!==void 0?x(M,v):M-v;E>=0?(A=y,w=y-1):m=y+1}return A}function i(c,v,x,m,w){for(var A=w+1;m<=w;){var y=m+w>>>1,M=c[y],E=x!==void 0?x(M,v):M-v;E>0?(A=y,w=y-1):m=y+1}return A}function l(c,v,x,m,w){for(var A=m-1;m<=w;){var y=m+w>>>1,M=c[y],E=x!==void 0?x(M,v):M-v;E<0?(A=y,m=y+1):w=y-1}return A}function f(c,v,x,m,w){for(var A=m-1;m<=w;){var y=m+w>>>1,M=c[y],E=x!==void 0?x(M,v):M-v;E<=0?(A=y,m=y+1):w=y-1}return A}function s(c,v,x,m,w){for(;m<=w;){var A=m+w>>>1,y=c[A],M=x!==void 0?x(y,v):y-v;if(M===0)return A;M<=0?m=A+1:w=A-1}return-1}function u(c,v,x,m,w,A){return typeof x=="function"?A(c,v,x,m===void 0?0:m|0,w===void 0?c.length-1:w|0):A(c,v,void 0,x===void 0?0:x|0,m===void 0?c.length-1:m|0)}a.exports={ge:function(c,v,x,m,w){return u(c,v,x,m,w,o)},gt:function(c,v,x,m,w){return u(c,v,x,m,w,i)},lt:function(c,v,x,m,w){return u(c,v,x,m,w,l)},le:function(c,v,x,m,w){return u(c,v,x,m,w,f)},eq:function(c,v,x,m,w){return u(c,v,x,m,w,s)}}},8828:function(a,o){"use strict";"use restrict";var i=32;o.INT_BITS=i,o.INT_MAX=2147483647,o.INT_MIN=-1<<i-1,o.sign=function(s){return(s>0)-(s<0)},o.abs=function(s){var u=s>>i-1;return(s^u)-u},o.min=function(s,u){return u^(s^u)&-(s<u)},o.max=function(s,u){return s^(s^u)&-(s<u)},o.isPow2=function(s){return!(s&s-1)&&!!s},o.log2=function(s){var u,c;return u=(s>65535)<<4,s>>>=u,c=(s>255)<<3,s>>>=c,u|=c,c=(s>15)<<2,s>>>=c,u|=c,c=(s>3)<<1,s>>>=c,u|=c,u|s>>1},o.log10=function(s){return s>=1e9?9:s>=1e8?8:s>=1e7?7:s>=1e6?6:s>=1e5?5:s>=1e4?4:s>=1e3?3:s>=100?2:s>=10?1:0},o.popCount=function(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),(s+(s>>>4)&252645135)*16843009>>>24};function l(s){var u=32;return s&=-s,s&&u--,s&65535&&(u-=16),s&16711935&&(u-=8),s&252645135&&(u-=4),s&858993459&&(u-=2),s&1431655765&&(u-=1),u}o.countTrailingZeros=l,o.nextPow2=function(s){return s+=s===0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1},o.prevPow2=function(s){return s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s-(s>>>1)},o.parity=function(s){return s^=s>>>16,s^=s>>>8,s^=s>>>4,s&=15,27030>>>s&1};var f=new Array(256);(function(s){for(var u=0;u<256;++u){var c=u,v=u,x=7;for(c>>>=1;c;c>>>=1)v<<=1,v|=c&1,--x;s[u]=v<<x&255}})(f),o.reverse=function(s){return f[s&255]<<24|f[s>>>8&255]<<16|f[s>>>16&255]<<8|f[s>>>24&255]},o.interleave2=function(s,u){return s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,u&=65535,u=(u|u<<8)&16711935,u=(u|u<<4)&252645135,u=(u|u<<2)&858993459,u=(u|u<<1)&1431655765,s|u<<1},o.deinterleave2=function(s,u){return s=s>>>u&1431655765,s=(s|s>>>1)&858993459,s=(s|s>>>2)&252645135,s=(s|s>>>4)&16711935,s=(s|s>>>16)&65535,s<<16>>16},o.interleave3=function(s,u,c){return s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,s|=u<<1,c&=1023,c=(c|c<<16)&4278190335,c=(c|c<<8)&251719695,c=(c|c<<4)&3272356035,c=(c|c<<2)&1227133513,s|c<<2},o.deinterleave3=function(s,u){return s=s>>>u&1227133513,s=(s|s>>>2)&3272356035,s=(s|s>>>4)&251719695,s=(s|s>>>8)&4278190335,s=(s|s>>>16)&1023,s<<22>>22},o.nextCombination=function(s){var u=s|s-1;return u+1|(~u&-~u)-1>>>l(s)+1}},6859:function(a,o,i){a=i.nmd(a),function(l,f){"use strict";function s(I,k){if(!I)throw new Error(k||"Assertion failed")}function u(I,k){I.super_=k;var D=function(){};D.prototype=k.prototype,I.prototype=new D,I.prototype.constructor=I}function c(I,k,D){if(c.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((k==="le"||k==="be")&&(D=k,k=10),this._init(I||0,k||10,D||"be"))}typeof l=="object"?l.exports=c:f.BN=c,c.BN=c,c.wordSize=26;var v;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?v=window.Buffer:v=i(7790).Buffer}catch(I){}c.isBN=function(k){return k instanceof c?!0:k!==null&&typeof k=="object"&&k.constructor.wordSize===c.wordSize&&Array.isArray(k.words)},c.max=function(k,D){return k.cmp(D)>0?k:D},c.min=function(k,D){return k.cmp(D)<0?k:D},c.prototype._init=function(k,D,z){if(typeof k=="number")return this._initNumber(k,D,z);if(typeof k=="object")return this._initArray(k,D,z);D==="hex"&&(D=16),s(D===(D|0)&&D>=2&&D<=36),k=k.toString().replace(/\s+/g,"");var q=0;k[0]==="-"&&(q++,this.negative=1),q<k.length&&(D===16?this._parseHex(k,q,z):(this._parseBase(k,D,q),z==="le"&&this._initArray(this.toArray(),D,z)))},c.prototype._initNumber=function(k,D,z){k<0&&(this.negative=1,k=-k),k<67108864?(this.words=[k&67108863],this.length=1):k<4503599627370496?(this.words=[k&67108863,k/67108864&67108863],this.length=2):(s(k<9007199254740992),this.words=[k&67108863,k/67108864&67108863,1],this.length=3),z==="le"&&this._initArray(this.toArray(),D,z)},c.prototype._initArray=function(k,D,z){if(s(typeof k.length=="number"),k.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(k.length/3),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var j,Q,K=0;if(z==="be")for(q=k.length-1,j=0;q>=0;q-=3)Q=k[q]|k[q-1]<<8|k[q-2]<<16,this.words[j]|=Q<<K&67108863,this.words[j+1]=Q>>>26-K&67108863,K+=24,K>=26&&(K-=26,j++);else if(z==="le")for(q=0,j=0;q<k.length;q+=3)Q=k[q]|k[q+1]<<8|k[q+2]<<16,this.words[j]|=Q<<K&67108863,this.words[j+1]=Q>>>26-K&67108863,K+=24,K>=26&&(K-=26,j++);return this.strip()};function x(I,k){var D=I.charCodeAt(k);return D>=65&&D<=70?D-55:D>=97&&D<=102?D-87:D-48&15}function m(I,k,D){var z=x(I,D);return D-1>=k&&(z|=x(I,D-1)<<4),z}c.prototype._parseHex=function(k,D,z){this.length=Math.ceil((k.length-D)/6),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var j=0,Q=0,K;if(z==="be")for(q=k.length-1;q>=D;q-=2)K=m(k,D,q)<<j,this.words[Q]|=K&67108863,j>=18?(j-=18,Q+=1,this.words[Q]|=K>>>26):j+=8;else{var G=k.length-D;for(q=G%2===0?D+1:D;q<k.length;q+=2)K=m(k,D,q)<<j,this.words[Q]|=K&67108863,j>=18?(j-=18,Q+=1,this.words[Q]|=K>>>26):j+=8}this.strip()};function w(I,k,D,z){for(var q=0,j=Math.min(I.length,D),Q=k;Q<j;Q++){var K=I.charCodeAt(Q)-48;q*=z,K>=49?q+=K-49+10:K>=17?q+=K-17+10:q+=K}return q}c.prototype._parseBase=function(k,D,z){this.words=[0],this.length=1;for(var q=0,j=1;j<=67108863;j*=D)q++;q--,j=j/D|0;for(var Q=k.length-z,K=Q%q,G=Math.min(Q,Q-K)+z,B=0,Z=z;Z<G;Z+=q)B=w(k,Z,Z+q,D),this.imuln(j),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B);if(K!==0){var ie=1;for(B=w(k,Z,k.length,D),Z=0;Z<K;Z++)ie*=D;this.imuln(ie),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B)}this.strip()},c.prototype.copy=function(k){k.words=new Array(this.length);for(var D=0;D<this.length;D++)k.words[D]=this.words[D];k.length=this.length,k.negative=this.negative,k.red=this.red},c.prototype.clone=function(){var k=new c(null);return this.copy(k),k},c.prototype._expand=function(k){for(;this.length<k;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(k,D){k=k||10,D=D|0||1;var z;if(k===16||k==="hex"){z="";for(var q=0,j=0,Q=0;Q<this.length;Q++){var K=this.words[Q],G=((K<<q|j)&16777215).toString(16);j=K>>>24-q&16777215,j!==0||Q!==this.length-1?z=A[6-G.length]+G+z:z=G+z,q+=2,q>=26&&(q-=26,Q--)}for(j!==0&&(z=j.toString(16)+z);z.length%D!==0;)z="0"+z;return this.negative!==0&&(z="-"+z),z}if(k===(k|0)&&k>=2&&k<=36){var B=y[k],Z=M[k];z="";var ie=this.clone();for(ie.negative=0;!ie.isZero();){var J=ie.modn(Z).toString(k);ie=ie.idivn(Z),ie.isZero()?z=J+z:z=A[B-J.length]+J+z}for(this.isZero()&&(z="0"+z);z.length%D!==0;)z="0"+z;return this.negative!==0&&(z="-"+z),z}s(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var k=this.words[0];return this.length===2?k+=this.words[1]*67108864:this.length===3&&this.words[2]===1?k+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-k:k},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(k,D){return s(typeof v!="undefined"),this.toArrayLike(v,k,D)},c.prototype.toArray=function(k,D){return this.toArrayLike(Array,k,D)},c.prototype.toArrayLike=function(k,D,z){var q=this.byteLength(),j=z||Math.max(1,q);s(q<=j,"byte array longer than desired length"),s(j>0,"Requested array length <= 0"),this.strip();var Q=D==="le",K=new k(j),G,B,Z=this.clone();if(Q){for(B=0;!Z.isZero();B++)G=Z.andln(255),Z.iushrn(8),K[B]=G;for(;B<j;B++)K[B]=0}else{for(B=0;B<j-q;B++)K[B]=0;for(B=0;!Z.isZero();B++)G=Z.andln(255),Z.iushrn(8),K[j-B-1]=G}return K},Math.clz32?c.prototype._countBits=function(k){return 32-Math.clz32(k)}:c.prototype._countBits=function(k){var D=k,z=0;return D>=4096&&(z+=13,D>>>=13),D>=64&&(z+=7,D>>>=7),D>=8&&(z+=4,D>>>=4),D>=2&&(z+=2,D>>>=2),z+D},c.prototype._zeroBits=function(k){if(k===0)return 26;var D=k,z=0;return(D&8191)===0&&(z+=13,D>>>=13),(D&127)===0&&(z+=7,D>>>=7),(D&15)===0&&(z+=4,D>>>=4),(D&3)===0&&(z+=2,D>>>=2),(D&1)===0&&z++,z},c.prototype.bitLength=function(){var k=this.words[this.length-1],D=this._countBits(k);return(this.length-1)*26+D};function E(I){for(var k=new Array(I.bitLength()),D=0;D<k.length;D++){var z=D/26|0,q=D%26;k[D]=(I.words[z]&1<<q)>>>q}return k}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var k=0,D=0;D<this.length;D++){var z=this._zeroBits(this.words[D]);if(k+=z,z!==26)break}return k},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(k){return this.negative!==0?this.abs().inotn(k).iaddn(1):this.clone()},c.prototype.fromTwos=function(k){return this.testn(k-1)?this.notn(k).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(k){for(;this.length<k.length;)this.words[this.length++]=0;for(var D=0;D<k.length;D++)this.words[D]=this.words[D]|k.words[D];return this.strip()},c.prototype.ior=function(k){return s((this.negative|k.negative)===0),this.iuor(k)},c.prototype.or=function(k){return this.length>k.length?this.clone().ior(k):k.clone().ior(this)},c.prototype.uor=function(k){return this.length>k.length?this.clone().iuor(k):k.clone().iuor(this)},c.prototype.iuand=function(k){var D;this.length>k.length?D=k:D=this;for(var z=0;z<D.length;z++)this.words[z]=this.words[z]&k.words[z];return this.length=D.length,this.strip()},c.prototype.iand=function(k){return s((this.negative|k.negative)===0),this.iuand(k)},c.prototype.and=function(k){return this.length>k.length?this.clone().iand(k):k.clone().iand(this)},c.prototype.uand=function(k){return this.length>k.length?this.clone().iuand(k):k.clone().iuand(this)},c.prototype.iuxor=function(k){var D,z;this.length>k.length?(D=this,z=k):(D=k,z=this);for(var q=0;q<z.length;q++)this.words[q]=D.words[q]^z.words[q];if(this!==D)for(;q<D.length;q++)this.words[q]=D.words[q];return this.length=D.length,this.strip()},c.prototype.ixor=function(k){return s((this.negative|k.negative)===0),this.iuxor(k)},c.prototype.xor=function(k){return this.length>k.length?this.clone().ixor(k):k.clone().ixor(this)},c.prototype.uxor=function(k){return this.length>k.length?this.clone().iuxor(k):k.clone().iuxor(this)},c.prototype.inotn=function(k){s(typeof k=="number"&&k>=0);var D=Math.ceil(k/26)|0,z=k%26;this._expand(D),z>0&&D--;for(var q=0;q<D;q++)this.words[q]=~this.words[q]&67108863;return z>0&&(this.words[q]=~this.words[q]&67108863>>26-z),this.strip()},c.prototype.notn=function(k){return this.clone().inotn(k)},c.prototype.setn=function(k,D){s(typeof k=="number"&&k>=0);var z=k/26|0,q=k%26;return this._expand(z+1),D?this.words[z]=this.words[z]|1<<q:this.words[z]=this.words[z]&~(1<<q),this.strip()},c.prototype.iadd=function(k){var D;if(this.negative!==0&&k.negative===0)return this.negative=0,D=this.isub(k),this.negative^=1,this._normSign();if(this.negative===0&&k.negative!==0)return k.negative=0,D=this.isub(k),k.negative=1,D._normSign();var z,q;this.length>k.length?(z=this,q=k):(z=k,q=this);for(var j=0,Q=0;Q<q.length;Q++)D=(z.words[Q]|0)+(q.words[Q]|0)+j,this.words[Q]=D&67108863,j=D>>>26;for(;j!==0&&Q<z.length;Q++)D=(z.words[Q]|0)+j,this.words[Q]=D&67108863,j=D>>>26;if(this.length=z.length,j!==0)this.words[this.length]=j,this.length++;else if(z!==this)for(;Q<z.length;Q++)this.words[Q]=z.words[Q];return this},c.prototype.add=function(k){var D;return k.negative!==0&&this.negative===0?(k.negative=0,D=this.sub(k),k.negative^=1,D):k.negative===0&&this.negative!==0?(this.negative=0,D=k.sub(this),this.negative=1,D):this.length>k.length?this.clone().iadd(k):k.clone().iadd(this)},c.prototype.isub=function(k){if(k.negative!==0){k.negative=0;var D=this.iadd(k);return k.negative=1,D._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(k),this.negative=1,this._normSign();var z=this.cmp(k);if(z===0)return this.negative=0,this.length=1,this.words[0]=0,this;var q,j;z>0?(q=this,j=k):(q=k,j=this);for(var Q=0,K=0;K<j.length;K++)D=(q.words[K]|0)-(j.words[K]|0)+Q,Q=D>>26,this.words[K]=D&67108863;for(;Q!==0&&K<q.length;K++)D=(q.words[K]|0)+Q,Q=D>>26,this.words[K]=D&67108863;if(Q===0&&K<q.length&&q!==this)for(;K<q.length;K++)this.words[K]=q.words[K];return this.length=Math.max(this.length,K),q!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(k){return this.clone().isub(k)};function b(I,k,D){D.negative=k.negative^I.negative;var z=I.length+k.length|0;D.length=z,z=z-1|0;var q=I.words[0]|0,j=k.words[0]|0,Q=q*j,K=Q&67108863,G=Q/67108864|0;D.words[0]=K;for(var B=1;B<z;B++){for(var Z=G>>>26,ie=G&67108863,J=Math.min(B,k.length-1),le=Math.max(0,B-I.length+1);le<=J;le++){var te=B-le|0;q=I.words[te]|0,j=k.words[le]|0,Q=q*j+ie,Z+=Q/67108864|0,ie=Q&67108863}D.words[B]=ie|0,G=Z|0}return G!==0?D.words[B]=G|0:D.length--,D.strip()}var T=function(k,D,z){var q=k.words,j=D.words,Q=z.words,K=0,G,B,Z,ie=q[0]|0,J=ie&8191,le=ie>>>13,te=q[1]|0,V=te&8191,ne=te>>>13,Y=q[2]|0,oe=Y&8191,pe=Y>>>13,we=q[3]|0,De=we&8191,Re=we>>>13,Ae=q[4]|0,Ie=Ae&8191,Be=Ae>>>13,je=q[5]|0,Ne=je&8191,Qe=je>>>13,pr=q[6]|0,Se=pr&8191,Fe=pr>>>13,hr=q[7]|0,dr=hr&8191,kr=hr>>>13,Ue=q[8]|0,He=Ue&8191,Xe=Ue>>>13,fr=q[9]|0,Mr=fr&8191,qr=fr>>>13,et=j[0]|0,jr=et&8191,Or=et>>>13,_r=j[1]|0,qe=_r&8191,nr=_r>>>13,Te=j[2]|0,be=Te&8191,Ge=Te>>>13,ae=j[3]|0,W=ae&8191,re=ae>>>13,Ee=j[4]|0,We=Ee&8191,lr=Ee>>>13,sr=j[5]|0,Yr=sr&8191,rt=sr>>>13,zr=j[6]|0,vt=zr&8191,dt=zr>>>13,qt=j[7]|0,Nt=qt&8191,_t=qt>>>13,Jt=j[8]|0,Ut=Jt&8191,$t=Jt>>>13,cn=j[9]|0,jt=cn&8191,Kt=cn>>>13;z.negative=k.negative^D.negative,z.length=19,G=Math.imul(J,jr),B=Math.imul(J,Or),B=B+Math.imul(le,jr)|0,Z=Math.imul(le,Or);var _n=(K+G|0)+((B&8191)<<13)|0;K=(Z+(B>>>13)|0)+(_n>>>26)|0,_n&=67108863,G=Math.imul(V,jr),B=Math.imul(V,Or),B=B+Math.imul(ne,jr)|0,Z=Math.imul(ne,Or),G=G+Math.imul(J,qe)|0,B=B+Math.imul(J,nr)|0,B=B+Math.imul(le,qe)|0,Z=Z+Math.imul(le,nr)|0;var Cn=(K+G|0)+((B&8191)<<13)|0;K=(Z+(B>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,G=Math.imul(oe,jr),B=Math.imul(oe,Or),B=B+Math.imul(pe,jr)|0,Z=Math.imul(pe,Or),G=G+Math.imul(V,qe)|0,B=B+Math.imul(V,nr)|0,B=B+Math.imul(ne,qe)|0,Z=Z+Math.imul(ne,nr)|0,G=G+Math.imul(J,be)|0,B=B+Math.imul(J,Ge)|0,B=B+Math.imul(le,be)|0,Z=Z+Math.imul(le,Ge)|0;var ua=(K+G|0)+((B&8191)<<13)|0;K=(Z+(B>>>13)|0)+(ua>>>26)|0,ua&=67108863,G=Math.imul(De,jr),B=Math.imul(De,Or),B=B+Math.imul(Re,jr)|0,Z=Math.imul(Re,Or),G=G+Math.imul(oe,qe)|0,B=B+Math.imul(oe,nr)|0,B=B+Math.imul(pe,qe)|0,Z=Z+Math.imul(pe,nr)|0,G=G+Math.imul(V,be)|0,B=B+Math.imul(V,Ge)|0,B=B+Math.imul(ne,be)|0,Z=Z+Math.imul(ne,Ge)|0,G=G+Math.imul(J,W)|0,B=B+Math.imul(J,re)|0,B=B+Math.imul(le,W)|0,Z=Z+Math.imul(le,re)|0;var ra=(K+G|0)+((B&8191)<<13)|0;K=(Z+(B>>>13)|0)+(ra>>>26)|0,ra&=67108863,G=Math.imul(Ie,jr),B=Math.imul(Ie,Or),B=B+Math.imul(Be,jr)|0,Z=Math.imul(Be,Or),G=G+Math.imul(De,qe)|0,B=B+Math.imul(De,nr)|0,B=B+Math.imul(Re,qe)|0,Z=Z+Math.imul(Re,nr)|0,G=G+Math.imul(oe,be)|0,B=B+Math.imul(oe,Ge)|0,B=B+Math.imul(pe,be)|0,Z=Z+Math.imul(pe,Ge)|0,G=G+Math.imul(V,W)|0,B=B+Math.imul(V,re)|0,B=B+Math.imul(ne,W)|0,Z=Z+Math.imul(ne,re)|0,G=G+Math.imul(J,We)|0,B=B+Math.imul(J,lr)|0,B=B+Math.imul(le,We)|0,Z=Z+Math.imul(le,lr)|0;var la=(K+G|0)+((B&8191)<<13)|0;K=(Z+(B>>>13)|0)+(la>>>26)|0,la&=67108863,G=Math.imul(Ne,jr),B=Math.imul(Ne,Or),B=B+Math.imul(Qe,jr)|0,Z=Math.imul(Qe,Or),G=G+Math.imul(Ie,qe)|0,B=B+Math.imul(Ie,nr)|0,B=B+Math.imul(Be,qe)|0,Z=Z+Math.imul(Be,nr)|0,G=G+Math.imul(De,be)|0,B=B+Math.imul(De,Ge)|0,B=B+Math.imul(Re,be)|0,Z=Z+Math.imul(Re,Ge)|0,G=G+Math.imul(oe,W)|0,B=B+Math.imul(oe,re)|0,B=B+Math.imul(pe,W)|0,Z=Z+Math.imul(pe,re)|0,G=G+Math.imul(V,We)|0,B=B+Math.imul(V,lr)|0,B=B+Math.imul(ne,We)|0,Z=Z+Math.imul(ne,lr)|0,G=G+Math.imul(J,Yr)|0,B=B+Math.imul(J,rt)|0,B=B+Math.imul(le,Yr)|0,Z=Z+Math.imul(le,rt)|0;var Mn=(K+G|0)+((B&8191)<<13)|0;K=(Z+(B>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,G=Math.imul(Se,jr),B=Math.imul(Se,Or),B=B+Math.imul(Fe,jr)|0,Z=Math.imul(Fe,Or),G=G+Math.imul(Ne,qe)|0,B=B+Math.imul(Ne,nr)|0,B=B+Math.imul(Qe,qe)|0,Z=Z+Math.imul(Qe,nr)|0,G=G+Math.imul(Ie,be)|0,B=B+Math.imul(Ie,Ge)|0,B=B+Math.imul(Be,be)|0,Z=Z+Math.imul(Be,Ge)|0,G=G+Math.imul(De,W)|0,B=B+Math.imul(De,re)|0,B=B+Math.imul(Re,W)|0,Z=Z+Math.imul(Re,re)|0,G=G+Math.imul(oe,We)|0,B=B+Math.imul(oe,lr)|0,B=B+Math.imul(pe,We)|0,Z=Z+Math.imul(pe,lr)|0,G=G+Math.imul(V,Yr)|0,B=B+Math.imul(V,rt)|0,B=B+Math.imul(ne,Yr)|0,Z=Z+Math.imul(ne,rt)|0,G=G+Math.imul(J,vt)|0,B=B+Math.imul(J,dt)|0,B=B+Math.imul(le,vt)|0,Z=Z+Math.imul(le,dt)|0;var Ea=(K+G|0)+((B&8191)<<13)|0;K=(Z+(B>>>13)|0)+(Ea>>>26)|0,Ea&=67108863,G=Math.imul(dr,jr),B=Math.imul(dr,Or),B=B+Math.imul(kr,jr)|0,Z=Math.imul(kr,Or),G=G+Math.imul(Se,qe)|0,B=B+Math.imul(Se,nr)|0,B=B+Math.imul(Fe,qe)|0,Z=Z+Math.imul(Fe,nr)|0,G=G+Math.imul(Ne,be)|0,B=B+Math.imul(Ne,Ge)|0,B=B+Math.imul(Qe,be)|0,Z=Z+Math.imul(Qe,Ge)|0,G=G+Math.imul(Ie,W)|0,B=B+Math.imul(Ie,re)|0,B=B+Math.imul(Be,W)|0,Z=Z+Math.imul(Be,re)|0,G=G+Math.imul(De,We)|0,B=B+Math.imul(De,lr)|0,B=B+Math.imul(Re,We)|0,Z=Z+Math.imul(Re,lr)|0,G=G+Math.imul(oe,Yr)|0,B=B+Math.imul(oe,rt)|0,B=B+Math.imul(pe,Yr)|0,Z=Z+Math.imul(pe,rt)|0,G=G+Math.imul(V,vt)|0,B=B+Math.imul(V,dt)|0,B=B+Math.imul(ne,vt)|0,Z=Z+Math.imul(ne,dt)|0,G=G+Math.imul(J,Nt)|0,B=B+Math.imul(J,_t)|0,B=B+Math.imul(le,Nt)|0,Z=Z+Math.imul(le,_t)|0;var oo=(K+G|0)+((B&8191)<<13)|0;K=(Z+(B>>>13)|0)+(oo>>>26)|0,oo&=67108863,G=Math.imul(He,jr),B=Math.imul(He,Or),B=B+Math.imul(Xe,jr)|0,Z=Math.imul(Xe,Or),G=G+Math.imul(dr,qe)|0,B=B+Math.imul(dr,nr)|0,B=B+Math.imul(kr,qe)|0,Z=Z+Math.imul(kr,nr)|0,G=G+Math.imul(Se,be)|0,B=B+Math.imul(Se,Ge)|0,B=B+Math.imul(Fe,be)|0,Z=Z+Math.imul(Fe,Ge)|0,G=G+Math.imul(Ne,W)|0,B=B+Math.imul(Ne,re)|0,B=B+Math.imul(Qe,W)|0,Z=Z+Math.imul(Qe,re)|0,G=G+Math.imul(Ie,We)|0,B=B+Math.imul(Ie,lr)|0,B=B+Math.imul(Be,We)|0,Z=Z+Math.imul(Be,lr)|0,G=G+Math.imul(De,Yr)|0,B=B+Math.imul(De,rt)|0,B=B+Math.imul(Re,Yr)|0,Z=Z+Math.imul(Re,rt)|0,G=G+Math.imul(oe,vt)|0,B=B+Math.imul(oe,dt)|0,B=B+Math.imul(pe,vt)|0,Z=Z+Math.imul(pe,dt)|0,G=G+Math.imul(V,Nt)|0,B=B+Math.imul(V,_t)|0,B=B+Math.imul(ne,Nt)|0,Z=Z+Math.imul(ne,_t)|0,G=G+Math.imul(J,Ut)|0,B=B+Math.imul(J,$t)|0,B=B+Math.imul(le,Ut)|0,Z=Z+Math.imul(le,$t)|0;var Zi=(K+G|0)+((B&8191)<<13)|0;K=(Z+(B>>>13)|0)+(Zi>>>26)|0,Zi&=67108863,G=Math.imul(Mr,jr),B=Math.imul(Mr,Or),B=B+Math.imul(qr,jr)|0,Z=Math.imul(qr,Or),G=G+Math.imul(He,qe)|0,B=B+Math.imul(He,nr)|0,B=B+Math.imul(Xe,qe)|0,Z=Z+Math.imul(Xe,nr)|0,G=G+Math.imul(dr,be)|0,B=B+Math.imul(dr,Ge)|0,B=B+Math.imul(kr,be)|0,Z=Z+Math.imul(kr,Ge)|0,G=G+Math.imul(Se,W)|0,B=B+Math.imul(Se,re)|0,B=B+Math.imul(Fe,W)|0,Z=Z+Math.imul(Fe,re)|0,G=G+Math.imul(Ne,We)|0,B=B+Math.imul(Ne,lr)|0,B=B+Math.imul(Qe,We)|0,Z=Z+Math.imul(Qe,lr)|0,G=G+Math.imul(Ie,Yr)|0,B=B+Math.imul(Ie,rt)|0,B=B+Math.imul(Be,Yr)|0,Z=Z+Math.imul(Be,rt)|0,G=G+Math.imul(De,vt)|0,B=B+Math.imul(De,dt)|0,B=B+Math.imul(Re,vt)|0,Z=Z+Math.imul(Re,dt)|0,G=G+Math.imul(oe,Nt)|0,B=B+Math.imul(oe,_t)|0,B=B+Math.imul(pe,Nt)|0,Z=Z+Math.imul(pe,_t)|0,G=G+Math.imul(V,Ut)|0,B=B+Math.imul(V,$t)|0,B=B+Math.imul(ne,Ut)|0,Z=Z+Math.imul(ne,$t)|0,G=G+Math.imul(J,jt)|0,B=B+Math.imul(J,Kt)|0,B=B+Math.imul(le,jt)|0,Z=Z+Math.imul(le,Kt)|0;var Si=(K+G|0)+((B&8191)<<13)|0;K=(Z+(B>>>13)|0)+(Si>>>26)|0,Si&=67108863,G=Math.imul(Mr,qe),B=Math.imul(Mr,nr),B=B+Math.imul(qr,qe)|0,Z=Math.imul(qr,nr),G=G+Math.imul(He,be)|0,B=B+Math.imul(He,Ge)|0,B=B+Math.imul(Xe,be)|0,Z=Z+Math.imul(Xe,Ge)|0,G=G+Math.imul(dr,W)|0,B=B+Math.imul(dr,re)|0,B=B+Math.imul(kr,W)|0,Z=Z+Math.imul(kr,re)|0,G=G+Math.imul(Se,We)|0,B=B+Math.imul(Se,lr)|0,B=B+Math.imul(Fe,We)|0,Z=Z+Math.imul(Fe,lr)|0,G=G+Math.imul(Ne,Yr)|0,B=B+Math.imul(Ne,rt)|0,B=B+Math.imul(Qe,Yr)|0,Z=Z+Math.imul(Qe,rt)|0,G=G+Math.imul(Ie,vt)|0,B=B+Math.imul(Ie,dt)|0,B=B+Math.imul(Be,vt)|0,Z=Z+Math.imul(Be,dt)|0,G=G+Math.imul(De,Nt)|0,B=B+Math.imul(De,_t)|0,B=B+Math.imul(Re,Nt)|0,Z=Z+Math.imul(Re,_t)|0,G=G+Math.imul(oe,Ut)|0,B=B+Math.imul(oe,$t)|0,B=B+Math.imul(pe,Ut)|0,Z=Z+Math.imul(pe,$t)|0,G=G+Math.imul(V,jt)|0,B=B+Math.imul(V,Kt)|0,B=B+Math.imul(ne,jt)|0,Z=Z+Math.imul(ne,Kt)|0;var To=(K+G|0)+((B&8191)<<13)|0;K=(Z+(B>>>13)|0)+(To>>>26)|0,To&=67108863,G=Math.imul(Mr,be),B=Math.imul(Mr,Ge),B=B+Math.imul(qr,be)|0,Z=Math.imul(qr,Ge),G=G+Math.imul(He,W)|0,B=B+Math.imul(He,re)|0,B=B+Math.imul(Xe,W)|0,Z=Z+Math.imul(Xe,re)|0,G=G+Math.imul(dr,We)|0,B=B+Math.imul(dr,lr)|0,B=B+Math.imul(kr,We)|0,Z=Z+Math.imul(kr,lr)|0,G=G+Math.imul(Se,Yr)|0,B=B+Math.imul(Se,rt)|0,B=B+Math.imul(Fe,Yr)|0,Z=Z+Math.imul(Fe,rt)|0,G=G+Math.imul(Ne,vt)|0,B=B+Math.imul(Ne,dt)|0,B=B+Math.imul(Qe,vt)|0,Z=Z+Math.imul(Qe,dt)|0,G=G+Math.imul(Ie,Nt)|0,B=B+Math.imul(Ie,_t)|0,B=B+Math.imul(Be,Nt)|0,Z=Z+Math.imul(Be,_t)|0,G=G+Math.imul(De,Ut)|0,B=B+Math.imul(De,$t)|0,B=B+Math.imul(Re,Ut)|0,Z=Z+Math.imul(Re,$t)|0,G=G+Math.imul(oe,jt)|0,B=B+Math.imul(oe,Kt)|0,B=B+Math.imul(pe,jt)|0,Z=Z+Math.imul(pe,Kt)|0;var Ci=(K+G|0)+((B&8191)<<13)|0;K=(Z+(B>>>13)|0)+(Ci>>>26)|0,Ci&=67108863,G=Math.imul(Mr,W),B=Math.imul(Mr,re),B=B+Math.imul(qr,W)|0,Z=Math.imul(qr,re),G=G+Math.imul(He,We)|0,B=B+Math.imul(He,lr)|0,B=B+Math.imul(Xe,We)|0,Z=Z+Math.imul(Xe,lr)|0,G=G+Math.imul(dr,Yr)|0,B=B+Math.imul(dr,rt)|0,B=B+Math.imul(kr,Yr)|0,Z=Z+Math.imul(kr,rt)|0,G=G+Math.imul(Se,vt)|0,B=B+Math.imul(Se,dt)|0,B=B+Math.imul(Fe,vt)|0,Z=Z+Math.imul(Fe,dt)|0,G=G+Math.imul(Ne,Nt)|0,B=B+Math.imul(Ne,_t)|0,B=B+Math.imul(Qe,Nt)|0,Z=Z+Math.imul(Qe,_t)|0,G=G+Math.imul(Ie,Ut)|0,B=B+Math.imul(Ie,$t)|0,B=B+Math.imul(Be,Ut)|0,Z=Z+Math.imul(Be,$t)|0,G=G+Math.imul(De,jt)|0,B=B+Math.imul(De,Kt)|0,B=B+Math.imul(Re,jt)|0,Z=Z+Math.imul(Re,Kt)|0;var Ll=(K+G|0)+((B&8191)<<13)|0;K=(Z+(B>>>13)|0)+(Ll>>>26)|0,Ll&=67108863,G=Math.imul(Mr,We),B=Math.imul(Mr,lr),B=B+Math.imul(qr,We)|0,Z=Math.imul(qr,lr),G=G+Math.imul(He,Yr)|0,B=B+Math.imul(He,rt)|0,B=B+Math.imul(Xe,Yr)|0,Z=Z+Math.imul(Xe,rt)|0,G=G+Math.imul(dr,vt)|0,B=B+Math.imul(dr,dt)|0,B=B+Math.imul(kr,vt)|0,Z=Z+Math.imul(kr,dt)|0,G=G+Math.imul(Se,Nt)|0,B=B+Math.imul(Se,_t)|0,B=B+Math.imul(Fe,Nt)|0,Z=Z+Math.imul(Fe,_t)|0,G=G+Math.imul(Ne,Ut)|0,B=B+Math.imul(Ne,$t)|0,B=B+Math.imul(Qe,Ut)|0,Z=Z+Math.imul(Qe,$t)|0,G=G+Math.imul(Ie,jt)|0,B=B+Math.imul(Ie,Kt)|0,B=B+Math.imul(Be,jt)|0,Z=Z+Math.imul(Be,Kt)|0;var Rl=(K+G|0)+((B&8191)<<13)|0;K=(Z+(B>>>13)|0)+(Rl>>>26)|0,Rl&=67108863,G=Math.imul(Mr,Yr),B=Math.imul(Mr,rt),B=B+Math.imul(qr,Yr)|0,Z=Math.imul(qr,rt),G=G+Math.imul(He,vt)|0,B=B+Math.imul(He,dt)|0,B=B+Math.imul(Xe,vt)|0,Z=Z+Math.imul(Xe,dt)|0,G=G+Math.imul(dr,Nt)|0,B=B+Math.imul(dr,_t)|0,B=B+Math.imul(kr,Nt)|0,Z=Z+Math.imul(kr,_t)|0,G=G+Math.imul(Se,Ut)|0,B=B+Math.imul(Se,$t)|0,B=B+Math.imul(Fe,Ut)|0,Z=Z+Math.imul(Fe,$t)|0,G=G+Math.imul(Ne,jt)|0,B=B+Math.imul(Ne,Kt)|0,B=B+Math.imul(Qe,jt)|0,Z=Z+Math.imul(Qe,Kt)|0;var xi=(K+G|0)+((B&8191)<<13)|0;K=(Z+(B>>>13)|0)+(xi>>>26)|0,xi&=67108863,G=Math.imul(Mr,vt),B=Math.imul(Mr,dt),B=B+Math.imul(qr,vt)|0,Z=Math.imul(qr,dt),G=G+Math.imul(He,Nt)|0,B=B+Math.imul(He,_t)|0,B=B+Math.imul(Xe,Nt)|0,Z=Z+Math.imul(Xe,_t)|0,G=G+Math.imul(dr,Ut)|0,B=B+Math.imul(dr,$t)|0,B=B+Math.imul(kr,Ut)|0,Z=Z+Math.imul(kr,$t)|0,G=G+Math.imul(Se,jt)|0,B=B+Math.imul(Se,Kt)|0,B=B+Math.imul(Fe,jt)|0,Z=Z+Math.imul(Fe,Kt)|0;var Ya=(K+G|0)+((B&8191)<<13)|0;K=(Z+(B>>>13)|0)+(Ya>>>26)|0,Ya&=67108863,G=Math.imul(Mr,Nt),B=Math.imul(Mr,_t),B=B+Math.imul(qr,Nt)|0,Z=Math.imul(qr,_t),G=G+Math.imul(He,Ut)|0,B=B+Math.imul(He,$t)|0,B=B+Math.imul(Xe,Ut)|0,Z=Z+Math.imul(Xe,$t)|0,G=G+Math.imul(dr,jt)|0,B=B+Math.imul(dr,Kt)|0,B=B+Math.imul(kr,jt)|0,Z=Z+Math.imul(kr,Kt)|0;var oi=(K+G|0)+((B&8191)<<13)|0;K=(Z+(B>>>13)|0)+(oi>>>26)|0,oi&=67108863,G=Math.imul(Mr,Ut),B=Math.imul(Mr,$t),B=B+Math.imul(qr,Ut)|0,Z=Math.imul(qr,$t),G=G+Math.imul(He,jt)|0,B=B+Math.imul(He,Kt)|0,B=B+Math.imul(Xe,jt)|0,Z=Z+Math.imul(Xe,Kt)|0;var Mo=(K+G|0)+((B&8191)<<13)|0;K=(Z+(B>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,G=Math.imul(Mr,jt),B=Math.imul(Mr,Kt),B=B+Math.imul(qr,jt)|0,Z=Math.imul(qr,Kt);var Wa=(K+G|0)+((B&8191)<<13)|0;return K=(Z+(B>>>13)|0)+(Wa>>>26)|0,Wa&=67108863,Q[0]=_n,Q[1]=Cn,Q[2]=ua,Q[3]=ra,Q[4]=la,Q[5]=Mn,Q[6]=Ea,Q[7]=oo,Q[8]=Zi,Q[9]=Si,Q[10]=To,Q[11]=Ci,Q[12]=Ll,Q[13]=Rl,Q[14]=xi,Q[15]=Ya,Q[16]=oi,Q[17]=Mo,Q[18]=Wa,K!==0&&(Q[19]=K,z.length++),z};Math.imul||(T=b);function p(I,k,D){D.negative=k.negative^I.negative,D.length=I.length+k.length;for(var z=0,q=0,j=0;j<D.length-1;j++){var Q=q;q=0;for(var K=z&67108863,G=Math.min(j,k.length-1),B=Math.max(0,j-I.length+1);B<=G;B++){var Z=j-B,ie=I.words[Z]|0,J=k.words[B]|0,le=ie*J,te=le&67108863;Q=Q+(le/67108864|0)|0,te=te+K|0,K=te&67108863,Q=Q+(te>>>26)|0,q+=Q>>>26,Q&=67108863}D.words[j]=K,z=Q,Q=q}return z!==0?D.words[j]=z:D.length--,D.strip()}function _(I,k,D){var z=new g;return z.mulp(I,k,D)}c.prototype.mulTo=function(k,D){var z,q=this.length+k.length;return this.length===10&&k.length===10?z=T(this,k,D):q<63?z=b(this,k,D):q<1024?z=p(this,k,D):z=_(this,k,D),z};function g(I,k){this.x=I,this.y=k}g.prototype.makeRBT=function(k){for(var D=new Array(k),z=c.prototype._countBits(k)-1,q=0;q<k;q++)D[q]=this.revBin(q,z,k);return D},g.prototype.revBin=function(k,D,z){if(k===0||k===z-1)return k;for(var q=0,j=0;j<D;j++)q|=(k&1)<<D-j-1,k>>=1;return q},g.prototype.permute=function(k,D,z,q,j,Q){for(var K=0;K<Q;K++)q[K]=D[k[K]],j[K]=z[k[K]]},g.prototype.transform=function(k,D,z,q,j,Q){this.permute(Q,k,D,z,q,j);for(var K=1;K<j;K<<=1)for(var G=K<<1,B=Math.cos(2*Math.PI/G),Z=Math.sin(2*Math.PI/G),ie=0;ie<j;ie+=G)for(var J=B,le=Z,te=0;te<K;te++){var V=z[ie+te],ne=q[ie+te],Y=z[ie+te+K],oe=q[ie+te+K],pe=J*Y-le*oe;oe=J*oe+le*Y,Y=pe,z[ie+te]=V+Y,q[ie+te]=ne+oe,z[ie+te+K]=V-Y,q[ie+te+K]=ne-oe,te!==G&&(pe=B*J-Z*le,le=B*le+Z*J,J=pe)}},g.prototype.guessLen13b=function(k,D){var z=Math.max(D,k)|1,q=z&1,j=0;for(z=z/2|0;z;z=z>>>1)j++;return 1<<j+1+q},g.prototype.conjugate=function(k,D,z){if(!(z<=1))for(var q=0;q<z/2;q++){var j=k[q];k[q]=k[z-q-1],k[z-q-1]=j,j=D[q],D[q]=-D[z-q-1],D[z-q-1]=-j}},g.prototype.normalize13b=function(k,D){for(var z=0,q=0;q<D/2;q++){var j=Math.round(k[2*q+1]/D)*8192+Math.round(k[2*q]/D)+z;k[q]=j&67108863,j<67108864?z=0:z=j/67108864|0}return k},g.prototype.convert13b=function(k,D,z,q){for(var j=0,Q=0;Q<D;Q++)j=j+(k[Q]|0),z[2*Q]=j&8191,j=j>>>13,z[2*Q+1]=j&8191,j=j>>>13;for(Q=2*D;Q<q;++Q)z[Q]=0;s(j===0),s((j&-8192)===0)},g.prototype.stub=function(k){for(var D=new Array(k),z=0;z<k;z++)D[z]=0;return D},g.prototype.mulp=function(k,D,z){var q=2*this.guessLen13b(k.length,D.length),j=this.makeRBT(q),Q=this.stub(q),K=new Array(q),G=new Array(q),B=new Array(q),Z=new Array(q),ie=new Array(q),J=new Array(q),le=z.words;le.length=q,this.convert13b(k.words,k.length,K,q),this.convert13b(D.words,D.length,Z,q),this.transform(K,Q,G,B,q,j),this.transform(Z,Q,ie,J,q,j);for(var te=0;te<q;te++){var V=G[te]*ie[te]-B[te]*J[te];B[te]=G[te]*J[te]+B[te]*ie[te],G[te]=V}return this.conjugate(G,B,q),this.transform(G,B,le,Q,q,j),this.conjugate(le,Q,q),this.normalize13b(le,q),z.negative=k.negative^D.negative,z.length=k.length+D.length,z.strip()},c.prototype.mul=function(k){var D=new c(null);return D.words=new Array(this.length+k.length),this.mulTo(k,D)},c.prototype.mulf=function(k){var D=new c(null);return D.words=new Array(this.length+k.length),_(this,k,D)},c.prototype.imul=function(k){return this.clone().mulTo(k,this)},c.prototype.imuln=function(k){s(typeof k=="number"),s(k<67108864);for(var D=0,z=0;z<this.length;z++){var q=(this.words[z]|0)*k,j=(q&67108863)+(D&67108863);D>>=26,D+=q/67108864|0,D+=j>>>26,this.words[z]=j&67108863}return D!==0&&(this.words[z]=D,this.length++),this},c.prototype.muln=function(k){return this.clone().imuln(k)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(k){var D=E(k);if(D.length===0)return new c(1);for(var z=this,q=0;q<D.length&&D[q]===0;q++,z=z.sqr());if(++q<D.length)for(var j=z.sqr();q<D.length;q++,j=j.sqr())D[q]!==0&&(z=z.mul(j));return z},c.prototype.iushln=function(k){s(typeof k=="number"&&k>=0);var D=k%26,z=(k-D)/26,q=67108863>>>26-D<<26-D,j;if(D!==0){var Q=0;for(j=0;j<this.length;j++){var K=this.words[j]&q,G=(this.words[j]|0)-K<<D;this.words[j]=G|Q,Q=K>>>26-D}Q&&(this.words[j]=Q,this.length++)}if(z!==0){for(j=this.length-1;j>=0;j--)this.words[j+z]=this.words[j];for(j=0;j<z;j++)this.words[j]=0;this.length+=z}return this.strip()},c.prototype.ishln=function(k){return s(this.negative===0),this.iushln(k)},c.prototype.iushrn=function(k,D,z){s(typeof k=="number"&&k>=0);var q;D?q=(D-D%26)/26:q=0;var j=k%26,Q=Math.min((k-j)/26,this.length),K=67108863^67108863>>>j<<j,G=z;if(q-=Q,q=Math.max(0,q),G){for(var B=0;B<Q;B++)G.words[B]=this.words[B];G.length=Q}if(Q!==0)if(this.length>Q)for(this.length-=Q,B=0;B<this.length;B++)this.words[B]=this.words[B+Q];else this.words[0]=0,this.length=1;var Z=0;for(B=this.length-1;B>=0&&(Z!==0||B>=q);B--){var ie=this.words[B]|0;this.words[B]=Z<<26-j|ie>>>j,Z=ie&K}return G&&Z!==0&&(G.words[G.length++]=Z),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(k,D,z){return s(this.negative===0),this.iushrn(k,D,z)},c.prototype.shln=function(k){return this.clone().ishln(k)},c.prototype.ushln=function(k){return this.clone().iushln(k)},c.prototype.shrn=function(k){return this.clone().ishrn(k)},c.prototype.ushrn=function(k){return this.clone().iushrn(k)},c.prototype.testn=function(k){s(typeof k=="number"&&k>=0);var D=k%26,z=(k-D)/26,q=1<<D;if(this.length<=z)return!1;var j=this.words[z];return!!(j&q)},c.prototype.imaskn=function(k){s(typeof k=="number"&&k>=0);var D=k%26,z=(k-D)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=z)return this;if(D!==0&&z++,this.length=Math.min(z,this.length),D!==0){var q=67108863^67108863>>>D<<D;this.words[this.length-1]&=q}return this.strip()},c.prototype.maskn=function(k){return this.clone().imaskn(k)},c.prototype.iaddn=function(k){return s(typeof k=="number"),s(k<67108864),k<0?this.isubn(-k):this.negative!==0?this.length===1&&(this.words[0]|0)<k?(this.words[0]=k-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(k),this.negative=1,this):this._iaddn(k)},c.prototype._iaddn=function(k){this.words[0]+=k;for(var D=0;D<this.length&&this.words[D]>=67108864;D++)this.words[D]-=67108864,D===this.length-1?this.words[D+1]=1:this.words[D+1]++;return this.length=Math.max(this.length,D+1),this},c.prototype.isubn=function(k){if(s(typeof k=="number"),s(k<67108864),k<0)return this.iaddn(-k);if(this.negative!==0)return this.negative=0,this.iaddn(k),this.negative=1,this;if(this.words[0]-=k,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var D=0;D<this.length&&this.words[D]<0;D++)this.words[D]+=67108864,this.words[D+1]-=1;return this.strip()},c.prototype.addn=function(k){return this.clone().iaddn(k)},c.prototype.subn=function(k){return this.clone().isubn(k)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(k,D,z){var q=k.length+z,j;this._expand(q);var Q,K=0;for(j=0;j<k.length;j++){Q=(this.words[j+z]|0)+K;var G=(k.words[j]|0)*D;Q-=G&67108863,K=(Q>>26)-(G/67108864|0),this.words[j+z]=Q&67108863}for(;j<this.length-z;j++)Q=(this.words[j+z]|0)+K,K=Q>>26,this.words[j+z]=Q&67108863;if(K===0)return this.strip();for(s(K===-1),K=0,j=0;j<this.length;j++)Q=-(this.words[j]|0)+K,K=Q>>26,this.words[j]=Q&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(k,D){var z=this.length-k.length,q=this.clone(),j=k,Q=j.words[j.length-1]|0,K=this._countBits(Q);z=26-K,z!==0&&(j=j.ushln(z),q.iushln(z),Q=j.words[j.length-1]|0);var G=q.length-j.length,B;if(D!=="mod"){B=new c(null),B.length=G+1,B.words=new Array(B.length);for(var Z=0;Z<B.length;Z++)B.words[Z]=0}var ie=q.clone()._ishlnsubmul(j,1,G);ie.negative===0&&(q=ie,B&&(B.words[G]=1));for(var J=G-1;J>=0;J--){var le=(q.words[j.length+J]|0)*67108864+(q.words[j.length+J-1]|0);for(le=Math.min(le/Q|0,67108863),q._ishlnsubmul(j,le,J);q.negative!==0;)le--,q.negative=0,q._ishlnsubmul(j,1,J),q.isZero()||(q.negative^=1);B&&(B.words[J]=le)}return B&&B.strip(),q.strip(),D!=="div"&&z!==0&&q.iushrn(z),{div:B||null,mod:q}},c.prototype.divmod=function(k,D,z){if(s(!k.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var q,j,Q;return this.negative!==0&&k.negative===0?(Q=this.neg().divmod(k,D),D!=="mod"&&(q=Q.div.neg()),D!=="div"&&(j=Q.mod.neg(),z&&j.negative!==0&&j.iadd(k)),{div:q,mod:j}):this.negative===0&&k.negative!==0?(Q=this.divmod(k.neg(),D),D!=="mod"&&(q=Q.div.neg()),{div:q,mod:Q.mod}):(this.negative&k.negative)!==0?(Q=this.neg().divmod(k.neg(),D),D!=="div"&&(j=Q.mod.neg(),z&&j.negative!==0&&j.isub(k)),{div:Q.div,mod:j}):k.length>this.length||this.cmp(k)<0?{div:new c(0),mod:this}:k.length===1?D==="div"?{div:this.divn(k.words[0]),mod:null}:D==="mod"?{div:null,mod:new c(this.modn(k.words[0]))}:{div:this.divn(k.words[0]),mod:new c(this.modn(k.words[0]))}:this._wordDiv(k,D)},c.prototype.div=function(k){return this.divmod(k,"div",!1).div},c.prototype.mod=function(k){return this.divmod(k,"mod",!1).mod},c.prototype.umod=function(k){return this.divmod(k,"mod",!0).mod},c.prototype.divRound=function(k){var D=this.divmod(k);if(D.mod.isZero())return D.div;var z=D.div.negative!==0?D.mod.isub(k):D.mod,q=k.ushrn(1),j=k.andln(1),Q=z.cmp(q);return Q<0||j===1&&Q===0?D.div:D.div.negative!==0?D.div.isubn(1):D.div.iaddn(1)},c.prototype.modn=function(k){s(k<=67108863);for(var D=(1<<26)%k,z=0,q=this.length-1;q>=0;q--)z=(D*z+(this.words[q]|0))%k;return z},c.prototype.idivn=function(k){s(k<=67108863);for(var D=0,z=this.length-1;z>=0;z--){var q=(this.words[z]|0)+D*67108864;this.words[z]=q/k|0,D=q%k}return this.strip()},c.prototype.divn=function(k){return this.clone().idivn(k)},c.prototype.egcd=function(k){s(k.negative===0),s(!k.isZero());var D=this,z=k.clone();D.negative!==0?D=D.umod(k):D=D.clone();for(var q=new c(1),j=new c(0),Q=new c(0),K=new c(1),G=0;D.isEven()&&z.isEven();)D.iushrn(1),z.iushrn(1),++G;for(var B=z.clone(),Z=D.clone();!D.isZero();){for(var ie=0,J=1;(D.words[0]&J)===0&&ie<26;++ie,J<<=1);if(ie>0)for(D.iushrn(ie);ie-- >0;)(q.isOdd()||j.isOdd())&&(q.iadd(B),j.isub(Z)),q.iushrn(1),j.iushrn(1);for(var le=0,te=1;(z.words[0]&te)===0&&le<26;++le,te<<=1);if(le>0)for(z.iushrn(le);le-- >0;)(Q.isOdd()||K.isOdd())&&(Q.iadd(B),K.isub(Z)),Q.iushrn(1),K.iushrn(1);D.cmp(z)>=0?(D.isub(z),q.isub(Q),j.isub(K)):(z.isub(D),Q.isub(q),K.isub(j))}return{a:Q,b:K,gcd:z.iushln(G)}},c.prototype._invmp=function(k){s(k.negative===0),s(!k.isZero());var D=this,z=k.clone();D.negative!==0?D=D.umod(k):D=D.clone();for(var q=new c(1),j=new c(0),Q=z.clone();D.cmpn(1)>0&&z.cmpn(1)>0;){for(var K=0,G=1;(D.words[0]&G)===0&&K<26;++K,G<<=1);if(K>0)for(D.iushrn(K);K-- >0;)q.isOdd()&&q.iadd(Q),q.iushrn(1);for(var B=0,Z=1;(z.words[0]&Z)===0&&B<26;++B,Z<<=1);if(B>0)for(z.iushrn(B);B-- >0;)j.isOdd()&&j.iadd(Q),j.iushrn(1);D.cmp(z)>=0?(D.isub(z),q.isub(j)):(z.isub(D),j.isub(q))}var ie;return D.cmpn(1)===0?ie=q:ie=j,ie.cmpn(0)<0&&ie.iadd(k),ie},c.prototype.gcd=function(k){if(this.isZero())return k.abs();if(k.isZero())return this.abs();var D=this.clone(),z=k.clone();D.negative=0,z.negative=0;for(var q=0;D.isEven()&&z.isEven();q++)D.iushrn(1),z.iushrn(1);do{for(;D.isEven();)D.iushrn(1);for(;z.isEven();)z.iushrn(1);var j=D.cmp(z);if(j<0){var Q=D;D=z,z=Q}else if(j===0||z.cmpn(1)===0)break;D.isub(z)}while(!0);return z.iushln(q)},c.prototype.invm=function(k){return this.egcd(k).a.umod(k)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(k){return this.words[0]&k},c.prototype.bincn=function(k){s(typeof k=="number");var D=k%26,z=(k-D)/26,q=1<<D;if(this.length<=z)return this._expand(z+1),this.words[z]|=q,this;for(var j=q,Q=z;j!==0&&Q<this.length;Q++){var K=this.words[Q]|0;K+=j,j=K>>>26,K&=67108863,this.words[Q]=K}return j!==0&&(this.words[Q]=j,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(k){var D=k<0;if(this.negative!==0&&!D)return-1;if(this.negative===0&&D)return 1;this.strip();var z;if(this.length>1)z=1;else{D&&(k=-k),s(k<=67108863,"Number is too big");var q=this.words[0]|0;z=q===k?0:q<k?-1:1}return this.negative!==0?-z|0:z},c.prototype.cmp=function(k){if(this.negative!==0&&k.negative===0)return-1;if(this.negative===0&&k.negative!==0)return 1;var D=this.ucmp(k);return this.negative!==0?-D|0:D},c.prototype.ucmp=function(k){if(this.length>k.length)return 1;if(this.length<k.length)return-1;for(var D=0,z=this.length-1;z>=0;z--){var q=this.words[z]|0,j=k.words[z]|0;if(q!==j){q<j?D=-1:q>j&&(D=1);break}}return D},c.prototype.gtn=function(k){return this.cmpn(k)===1},c.prototype.gt=function(k){return this.cmp(k)===1},c.prototype.gten=function(k){return this.cmpn(k)>=0},c.prototype.gte=function(k){return this.cmp(k)>=0},c.prototype.ltn=function(k){return this.cmpn(k)===-1},c.prototype.lt=function(k){return this.cmp(k)===-1},c.prototype.lten=function(k){return this.cmpn(k)<=0},c.prototype.lte=function(k){return this.cmp(k)<=0},c.prototype.eqn=function(k){return this.cmpn(k)===0},c.prototype.eq=function(k){return this.cmp(k)===0},c.red=function(k){return new O(k)},c.prototype.toRed=function(k){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),k.convertTo(this)._forceRed(k)},c.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(k){return this.red=k,this},c.prototype.forceRed=function(k){return s(!this.red,"Already a number in reduction context"),this._forceRed(k)},c.prototype.redAdd=function(k){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,k)},c.prototype.redIAdd=function(k){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,k)},c.prototype.redSub=function(k){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,k)},c.prototype.redISub=function(k){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,k)},c.prototype.redShl=function(k){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,k)},c.prototype.redMul=function(k){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.mul(this,k)},c.prototype.redIMul=function(k){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.imul(this,k)},c.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(k){return s(this.red&&!k.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,k)};var h={k256:null,p224:null,p192:null,p25519:null};function S(I,k){this.name=I,this.p=new c(k,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}S.prototype._tmp=function(){var k=new c(null);return k.words=new Array(Math.ceil(this.n/13)),k},S.prototype.ireduce=function(k){var D=k,z;do this.split(D,this.tmp),D=this.imulK(D),D=D.iadd(this.tmp),z=D.bitLength();while(z>this.n);var q=z<this.n?-1:D.ucmp(this.p);return q===0?(D.words[0]=0,D.length=1):q>0?D.isub(this.p):D.strip!==void 0?D.strip():D._strip(),D},S.prototype.split=function(k,D){k.iushrn(this.n,0,D)},S.prototype.imulK=function(k){return k.imul(this.k)};function d(){S.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(d,S),d.prototype.split=function(k,D){for(var z=4194303,q=Math.min(k.length,9),j=0;j<q;j++)D.words[j]=k.words[j];if(D.length=q,k.length<=9){k.words[0]=0,k.length=1;return}var Q=k.words[9];for(D.words[D.length++]=Q&z,j=10;j<k.length;j++){var K=k.words[j]|0;k.words[j-10]=(K&z)<<4|Q>>>22,Q=K}Q>>>=22,k.words[j-10]=Q,Q===0&&k.length>10?k.length-=10:k.length-=9},d.prototype.imulK=function(k){k.words[k.length]=0,k.words[k.length+1]=0,k.length+=2;for(var D=0,z=0;z<k.length;z++){var q=k.words[z]|0;D+=q*977,k.words[z]=D&67108863,D=q*64+(D/67108864|0)}return k.words[k.length-1]===0&&(k.length--,k.words[k.length-1]===0&&k.length--),k};function R(){S.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(R,S);function L(){S.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(L,S);function F(){S.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(F,S),F.prototype.imulK=function(k){for(var D=0,z=0;z<k.length;z++){var q=(k.words[z]|0)*19+D,j=q&67108863;q>>>=26,k.words[z]=j,D=q}return D!==0&&(k.words[k.length++]=D),k},c._prime=function(k){if(h[k])return h[k];var D;if(k==="k256")D=new d;else if(k==="p224")D=new R;else if(k==="p192")D=new L;else if(k==="p25519")D=new F;else throw new Error("Unknown prime "+k);return h[k]=D,D};function O(I){if(typeof I=="string"){var k=c._prime(I);this.m=k.p,this.prime=k}else s(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}O.prototype._verify1=function(k){s(k.negative===0,"red works only with positives"),s(k.red,"red works only with red numbers")},O.prototype._verify2=function(k,D){s((k.negative|D.negative)===0,"red works only with positives"),s(k.red&&k.red===D.red,"red works only with red numbers")},O.prototype.imod=function(k){return this.prime?this.prime.ireduce(k)._forceRed(this):k.umod(this.m)._forceRed(this)},O.prototype.neg=function(k){return k.isZero()?k.clone():this.m.sub(k)._forceRed(this)},O.prototype.add=function(k,D){this._verify2(k,D);var z=k.add(D);return z.cmp(this.m)>=0&&z.isub(this.m),z._forceRed(this)},O.prototype.iadd=function(k,D){this._verify2(k,D);var z=k.iadd(D);return z.cmp(this.m)>=0&&z.isub(this.m),z},O.prototype.sub=function(k,D){this._verify2(k,D);var z=k.sub(D);return z.cmpn(0)<0&&z.iadd(this.m),z._forceRed(this)},O.prototype.isub=function(k,D){this._verify2(k,D);var z=k.isub(D);return z.cmpn(0)<0&&z.iadd(this.m),z},O.prototype.shl=function(k,D){return this._verify1(k),this.imod(k.ushln(D))},O.prototype.imul=function(k,D){return this._verify2(k,D),this.imod(k.imul(D))},O.prototype.mul=function(k,D){return this._verify2(k,D),this.imod(k.mul(D))},O.prototype.isqr=function(k){return this.imul(k,k.clone())},O.prototype.sqr=function(k){return this.mul(k,k)},O.prototype.sqrt=function(k){if(k.isZero())return k.clone();var D=this.m.andln(3);if(s(D%2===1),D===3){var z=this.m.add(new c(1)).iushrn(2);return this.pow(k,z)}for(var q=this.m.subn(1),j=0;!q.isZero()&&q.andln(1)===0;)j++,q.iushrn(1);s(!q.isZero());var Q=new c(1).toRed(this),K=Q.redNeg(),G=this.m.subn(1).iushrn(1),B=this.m.bitLength();for(B=new c(2*B*B).toRed(this);this.pow(B,G).cmp(K)!==0;)B.redIAdd(K);for(var Z=this.pow(B,q),ie=this.pow(k,q.addn(1).iushrn(1)),J=this.pow(k,q),le=j;J.cmp(Q)!==0;){for(var te=J,V=0;te.cmp(Q)!==0;V++)te=te.redSqr();s(V<le);var ne=this.pow(Z,new c(1).iushln(le-V-1));ie=ie.redMul(ne),Z=ne.redSqr(),J=J.redMul(Z),le=V}return ie},O.prototype.invm=function(k){var D=k._invmp(this.m);return D.negative!==0?(D.negative=0,this.imod(D).redNeg()):this.imod(D)},O.prototype.pow=function(k,D){if(D.isZero())return new c(1).toRed(this);if(D.cmpn(1)===0)return k.clone();var z=4,q=new Array(1<<z);q[0]=new c(1).toRed(this),q[1]=k;for(var j=2;j<q.length;j++)q[j]=this.mul(q[j-1],k);var Q=q[0],K=0,G=0,B=D.bitLength()%26;for(B===0&&(B=26),j=D.length-1;j>=0;j--){for(var Z=D.words[j],ie=B-1;ie>=0;ie--){var J=Z>>ie&1;if(Q!==q[0]&&(Q=this.sqr(Q)),J===0&&K===0){G=0;continue}K<<=1,K|=J,G++,!(G!==z&&(j!==0||ie!==0))&&(Q=this.mul(Q,q[K]),G=0,K=0)}B=26}return Q},O.prototype.convertTo=function(k){var D=k.umod(this.m);return D===k?D.clone():D},O.prototype.convertFrom=function(k){var D=k.clone();return D.red=null,D},c.mont=function(k){return new P(k)};function P(I){O.call(this,I),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(P,O),P.prototype.convertTo=function(k){return this.imod(k.ushln(this.shift))},P.prototype.convertFrom=function(k){var D=this.imod(k.mul(this.rinv));return D.red=null,D},P.prototype.imul=function(k,D){if(k.isZero()||D.isZero())return k.words[0]=0,k.length=1,k;var z=k.imul(D),q=z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=z.isub(q).iushrn(this.shift),Q=j;return j.cmp(this.m)>=0?Q=j.isub(this.m):j.cmpn(0)<0&&(Q=j.iadd(this.m)),Q._forceRed(this)},P.prototype.mul=function(k,D){if(k.isZero()||D.isZero())return new c(0)._forceRed(this);var z=k.mul(D),q=z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=z.isub(q).iushrn(this.shift),Q=j;return j.cmp(this.m)>=0?Q=j.isub(this.m):j.cmpn(0)<0&&(Q=j.iadd(this.m)),Q._forceRed(this)},P.prototype.invm=function(k){var D=this.imod(k._invmp(this.m).mul(this.r2));return D._forceRed(this)}}(a,this)},6204:function(a){"use strict";a.exports=o;function o(i){var l,f,s,u=i.length,c=0;for(l=0;l<u;++l)c+=i[l].length;var v=new Array(c),x=0;for(l=0;l<u;++l){var m=i[l],w=m.length;for(f=0;f<w;++f){var A=v[x++]=new Array(w-1),y=0;for(s=0;s<w;++s)s!==f&&(A[y++]=m[s]);if(f&1){var M=A[1];A[1]=A[0],A[0]=M}}}return v}},6867:function(a,o,i){"use strict";a.exports=y;var l=i(1888),f=i(855),s=i(7150);function u(M,E){for(var b=0;b<M;++b)if(!(E[b]<=E[b+M]))return!0;return!1}function c(M,E,b,T){for(var p=0,_=0,g=0,h=M.length;g<h;++g){var S=M[g];if(!u(E,S)){for(var d=0;d<2*E;++d)b[p++]=S[d];T[_++]=g}}return _}function v(M,E,b,T){var p=M.length,_=E.length;if(!(p<=0||_<=0)){var g=M[0].length>>>1;if(!(g<=0)){var h,S=l.mallocDouble(2*g*p),d=l.mallocInt32(p);if(p=c(M,g,S,d),p>0){if(g===1&&T)f.init(p),h=f.sweepComplete(g,b,0,p,S,d,0,p,S,d);else{var R=l.mallocDouble(2*g*_),L=l.mallocInt32(_);_=c(E,g,R,L),_>0&&(f.init(p+_),g===1?h=f.sweepBipartite(g,b,0,p,S,d,0,_,R,L):h=s(g,b,T,p,S,d,_,R,L),l.free(R),l.free(L))}l.free(S),l.free(d)}return h}}}var x;function m(M,E){x.push([M,E])}function w(M){return x=[],v(M,M,m,!0),x}function A(M,E){return x=[],v(M,E,m,!1),x}function y(M,E,b){switch(arguments.length){case 1:return w(M);case 2:return typeof E=="function"?v(M,M,E,!0):A(M,E);case 3:return v(M,E,b,!1);default:throw new Error("box-intersect: Invalid arguments")}}},2455:function(a,o){"use strict";function i(){function s(v,x,m,w,A,y,M,E,b,T,p){for(var _=2*v,g=w,h=_*w;g<A;++g,h+=_){var S=y[x+h],d=y[x+h+v],R=M[g];e:for(var L=E,F=_*E;L<b;++L,F+=_){var O=T[x+F],P=T[x+F+v],I=p[L];if(!(P<S||d<O)){for(var k=x+1;k<v;++k){var D=y[k+h],z=y[k+v+h],q=T[k+F],j=T[k+v+F];if(z<q||j<D)continue e}var Q=m(R,I);if(Q!==void 0)return Q}}}}function u(v,x,m,w,A,y,M,E,b,T,p){for(var _=2*v,g=E,h=_*E;g<b;++g,h+=_){var S=T[x+h],d=T[x+h+v],R=p[g];e:for(var L=w,F=_*w;L<A;++L,F+=_){var O=y[x+F],P=y[x+F+v],I=M[L];if(!(d<O||P<S)){for(var k=x+1;k<v;++k){var D=y[k+F],z=y[k+v+F],q=T[k+h],j=T[k+v+h];if(z<q||j<D)continue e}var Q=m(I,R);if(Q!==void 0)return Q}}}}function c(v,x,m,w,A,y,M,E,b,T,p){return A-w>b-E?s(v,x,m,w,A,y,M,E,b,T,p):u(v,x,m,w,A,y,M,E,b,T,p)}return c}function l(){function s(m,w,A,y,M,E,b,T,p,_,g){for(var h=2*m,S=y,d=h*y;S<M;++S,d+=h){var R=E[w+d],L=E[w+d+m],F=b[S];e:for(var O=T,P=h*T;O<p;++O,P+=h){var I=_[w+P],k=g[O];if(!(I<=R||L<I)){for(var D=w+1;D<m;++D){var z=E[D+d],q=E[D+m+d],j=_[D+P],Q=_[D+m+P];if(q<j||Q<z)continue e}var K=A(k,F);if(K!==void 0)return K}}}}function u(m,w,A,y,M,E,b,T,p,_,g){for(var h=2*m,S=y,d=h*y;S<M;++S,d+=h){var R=E[w+d],L=E[w+d+m],F=b[S];e:for(var O=T,P=h*T;O<p;++O,P+=h){var I=_[w+P],k=g[O];if(!(I<R||L<I)){for(var D=w+1;D<m;++D){var z=E[D+d],q=E[D+m+d],j=_[D+P],Q=_[D+m+P];if(q<j||Q<z)continue e}var K=A(F,k);if(K!==void 0)return K}}}}function c(m,w,A,y,M,E,b,T,p,_,g){for(var h=2*m,S=T,d=h*T;S<p;++S,d+=h){var R=_[w+d],L=g[S];e:for(var F=y,O=h*y;F<M;++F,O+=h){var P=E[w+O],I=E[w+O+m],k=b[F];if(!(R<=P||I<R)){for(var D=w+1;D<m;++D){var z=E[D+O],q=E[D+m+O],j=_[D+d],Q=_[D+m+d];if(q<j||Q<z)continue e}var K=A(L,k);if(K!==void 0)return K}}}}function v(m,w,A,y,M,E,b,T,p,_,g){for(var h=2*m,S=T,d=h*T;S<p;++S,d+=h){var R=_[w+d],L=g[S];e:for(var F=y,O=h*y;F<M;++F,O+=h){var P=E[w+O],I=E[w+O+m],k=b[F];if(!(R<P||I<R)){for(var D=w+1;D<m;++D){var z=E[D+O],q=E[D+m+O],j=_[D+d],Q=_[D+m+d];if(q<j||Q<z)continue e}var K=A(k,L);if(K!==void 0)return K}}}}function x(m,w,A,y,M,E,b,T,p,_,g,h){return E-M>_-p?y?s(m,w,A,M,E,b,T,p,_,g,h):u(m,w,A,M,E,b,T,p,_,g,h):y?c(m,w,A,M,E,b,T,p,_,g,h):v(m,w,A,M,E,b,T,p,_,g,h)}return x}function f(s){return s?i():l()}o.partial=f(!1),o.full=f(!0)},7150:function(a,o,i){"use strict";a.exports=I;var l=i(1888),f=i(8828),s=i(2455),u=s.partial,c=s.full,v=i(855),x=i(3545),m=i(8105),w=128,A=1<<22,y=1<<22,M=m("!(lo>=p0)&&!(p1>=hi)"),E=m("lo===p0"),b=m("lo<p0"),T=m("hi<=p0"),p=m("lo<=p0&&p0<=hi"),_=m("lo<p0&&p0<=hi"),g=6,h=2,S=1024,d=l.mallocInt32(S),R=l.mallocDouble(S);function L(k,D){var z=8*f.log2(D+1)*(k+1)|0,q=f.nextPow2(g*z);d.length<q&&(l.free(d),d=l.mallocInt32(q));var j=f.nextPow2(h*z);R.length<j&&(l.free(R),R=l.mallocDouble(j))}function F(k,D,z,q,j,Q,K,G,B){var Z=g*k;d[Z]=D,d[Z+1]=z,d[Z+2]=q,d[Z+3]=j,d[Z+4]=Q,d[Z+5]=K;var ie=h*k;R[ie]=G,R[ie+1]=B}function O(k,D,z,q,j,Q,K,G,B,Z,ie){var J=2*k,le=B*J,te=Z[le+D];e:for(var V=j,ne=j*J;V<Q;++V,ne+=J){var Y=K[ne+D],oe=K[ne+D+k];if(!(te<Y||oe<te)&&!(q&&te===Y)){for(var pe=G[V],we=D+1;we<k;++we){var Y=K[ne+we],oe=K[ne+we+k],De=Z[le+we],Re=Z[le+we+k];if(oe<De||Re<Y)continue e}var Ae;if(q?Ae=z(ie,pe):Ae=z(pe,ie),Ae!==void 0)return Ae}}}function P(k,D,z,q,j,Q,K,G,B,Z){var ie=2*k,J=G*ie,le=B[J+D];e:for(var te=q,V=q*ie;te<j;++te,V+=ie){var ne=K[te];if(ne!==Z){var Y=Q[V+D],oe=Q[V+D+k];if(!(le<Y||oe<le)){for(var pe=D+1;pe<k;++pe){var Y=Q[V+pe],oe=Q[V+pe+k],we=B[J+pe],De=B[J+pe+k];if(oe<we||De<Y)continue e}var Re=z(ne,Z);if(Re!==void 0)return Re}}}}function I(k,D,z,q,j,Q,K,G,B){L(k,q+K);var Z=0,ie=2*k,J;for(F(Z++,0,0,q,0,K,z?16:0,-1/0,1/0),z||F(Z++,0,0,K,0,q,1,-1/0,1/0);Z>0;){Z-=1;var le=Z*g,te=d[le],V=d[le+1],ne=d[le+2],Y=d[le+3],oe=d[le+4],pe=d[le+5],we=Z*h,De=R[we],Re=R[we+1],Ae=pe&1,Ie=!!(pe&16),Be=j,je=Q,Ne=G,Qe=B;if(Ae&&(Be=G,je=B,Ne=j,Qe=Q),!(pe&2&&(ne=b(k,te,V,ne,Be,je,Re),V>=ne))&&!(pe&4&&(V=T(k,te,V,ne,Be,je,De),V>=ne))){var pr=ne-V,Se=oe-Y;if(Ie){if(k*pr*(pr+Se)<y){if(J=v.scanComplete(k,te,D,V,ne,Be,je,Y,oe,Ne,Qe),J!==void 0)return J;continue}}else if(k*Math.min(pr,Se)<w){if(J=u(k,te,D,Ae,V,ne,Be,je,Y,oe,Ne,Qe),J!==void 0)return J;continue}else if(k*pr*Se<A){if(J=v.scanBipartite(k,te,D,Ae,V,ne,Be,je,Y,oe,Ne,Qe),J!==void 0)return J;continue}var Fe=M(k,te,V,ne,Be,je,De,Re);if(V<Fe)if(k*(Fe-V)<w){if(J=c(k,te+1,D,V,Fe,Be,je,Y,oe,Ne,Qe),J!==void 0)return J}else if(te===k-2){if(Ae?J=v.sweepBipartite(k,D,Y,oe,Ne,Qe,V,Fe,Be,je):J=v.sweepBipartite(k,D,V,Fe,Be,je,Y,oe,Ne,Qe),J!==void 0)return J}else F(Z++,te+1,V,Fe,Y,oe,Ae,-1/0,1/0),F(Z++,te+1,Y,oe,V,Fe,Ae^1,-1/0,1/0);if(Fe<ne){var hr=x(k,te,Y,oe,Ne,Qe),dr=Ne[ie*hr+te],kr=E(k,te,hr,oe,Ne,Qe,dr);if(kr<oe&&F(Z++,te,Fe,ne,kr,oe,(Ae|4)+(Ie?16:0),dr,Re),Y<hr&&F(Z++,te,Fe,ne,Y,hr,(Ae|2)+(Ie?16:0),De,dr),hr+1===kr){if(Ie?J=P(k,te,D,Fe,ne,Be,je,hr,Ne,Qe[hr]):J=O(k,te,D,Ae,Fe,ne,Be,je,hr,Ne,Qe[hr]),J!==void 0)return J}else if(hr<kr){var Ue;if(Ie){if(Ue=p(k,te,Fe,ne,Be,je,dr),Fe<Ue){var He=E(k,te,Fe,Ue,Be,je,dr);if(te===k-2){if(Fe<He&&(J=v.sweepComplete(k,D,Fe,He,Be,je,hr,kr,Ne,Qe),J!==void 0)||He<Ue&&(J=v.sweepBipartite(k,D,He,Ue,Be,je,hr,kr,Ne,Qe),J!==void 0))return J}else Fe<He&&F(Z++,te+1,Fe,He,hr,kr,16,-1/0,1/0),He<Ue&&(F(Z++,te+1,He,Ue,hr,kr,0,-1/0,1/0),F(Z++,te+1,hr,kr,He,Ue,1,-1/0,1/0))}}else Ae?Ue=_(k,te,Fe,ne,Be,je,dr):Ue=p(k,te,Fe,ne,Be,je,dr),Fe<Ue&&(te===k-2?Ae?J=v.sweepBipartite(k,D,hr,kr,Ne,Qe,Fe,Ue,Be,je):J=v.sweepBipartite(k,D,Fe,Ue,Be,je,hr,kr,Ne,Qe):(F(Z++,te+1,Fe,Ue,hr,kr,Ae,-1/0,1/0),F(Z++,te+1,hr,kr,Fe,Ue,Ae^1,-1/0,1/0)))}}}}}},3545:function(a,o,i){"use strict";a.exports=c;var l=i(8105),f=l("lo<p0"),s=8;function u(v,x,m,w,A,y){for(var M=2*v,E=M*(m+1)+x,b=m+1;b<w;++b,E+=M)for(var T=A[E],p=b,_=M*(b-1);p>m&&A[_+x]>T;--p,_-=M){for(var g=_,h=_+M,S=0;S<M;++S,++g,++h){var d=A[g];A[g]=A[h],A[h]=d}var R=y[p];y[p]=y[p-1],y[p-1]=R}}function c(v,x,m,w,A,y){if(w<=m+1)return m;for(var M=m,E=w,b=w+m>>>1,T=2*v,p=b,_=A[T*b+x];M<E;){if(E-M<s){u(v,x,M,E,A,y),_=A[T*b+x];break}var g=E-M,h=Math.random()*g+M|0,S=A[T*h+x],d=Math.random()*g+M|0,R=A[T*d+x],L=Math.random()*g+M|0,F=A[T*L+x];S<=R?F>=R?(p=d,_=R):S>=F?(p=h,_=S):(p=L,_=F):R>=F?(p=d,_=R):F>=S?(p=h,_=S):(p=L,_=F);for(var I=T*(E-1),k=T*p,O=0;O<T;++O,++I,++k){var P=A[I];A[I]=A[k],A[k]=P}var D=y[E-1];y[E-1]=y[p],y[p]=D,p=f(v,x,M,E-1,A,y,_);for(var I=T*(E-1),k=T*p,O=0;O<T;++O,++I,++k){var P=A[I];A[I]=A[k],A[k]=P}var D=y[E-1];if(y[E-1]=y[p],y[p]=D,b<p){for(E=p-1;M<E&&A[T*(E-1)+x]===_;)E-=1;E+=1}else if(p<b)for(M=p+1;M<E&&A[T*M+x]===_;)M+=1;else break}return f(v,x,m,b,A,y,A[T*b+x])}},8105:function(a){"use strict";a.exports=i;var o={"lo===p0":l,"lo<p0":f,"lo<=p0":s,"hi<=p0":u,"lo<p0&&p0<=hi":v,"lo<=p0&&p0<=hi":c,"!(lo>=p0)&&!(p1>=hi)":x};function i(m){return o[m]}function l(m,w,A,y,M,E,b){for(var T=2*m,p=T*A,_=p,g=A,h=w,S=m+w,d=A;y>d;++d,p+=T){var R=M[p+h];if(R===b)if(g===d)g+=1,_+=T;else{for(var L=0;T>L;++L){var F=M[p+L];M[p+L]=M[_],M[_++]=F}var O=E[d];E[d]=E[g],E[g++]=O}}return g}function f(m,w,A,y,M,E,b){for(var T=2*m,p=T*A,_=p,g=A,h=w,S=m+w,d=A;y>d;++d,p+=T){var R=M[p+h];if(R<b)if(g===d)g+=1,_+=T;else{for(var L=0;T>L;++L){var F=M[p+L];M[p+L]=M[_],M[_++]=F}var O=E[d];E[d]=E[g],E[g++]=O}}return g}function s(m,w,A,y,M,E,b){for(var T=2*m,p=T*A,_=p,g=A,h=w,S=m+w,d=A;y>d;++d,p+=T){var R=M[p+S];if(R<=b)if(g===d)g+=1,_+=T;else{for(var L=0;T>L;++L){var F=M[p+L];M[p+L]=M[_],M[_++]=F}var O=E[d];E[d]=E[g],E[g++]=O}}return g}function u(m,w,A,y,M,E,b){for(var T=2*m,p=T*A,_=p,g=A,h=w,S=m+w,d=A;y>d;++d,p+=T){var R=M[p+S];if(R<=b)if(g===d)g+=1,_+=T;else{for(var L=0;T>L;++L){var F=M[p+L];M[p+L]=M[_],M[_++]=F}var O=E[d];E[d]=E[g],E[g++]=O}}return g}function c(m,w,A,y,M,E,b){for(var T=2*m,p=T*A,_=p,g=A,h=w,S=m+w,d=A;y>d;++d,p+=T){var R=M[p+h],L=M[p+S];if(R<=b&&b<=L)if(g===d)g+=1,_+=T;else{for(var F=0;T>F;++F){var O=M[p+F];M[p+F]=M[_],M[_++]=O}var P=E[d];E[d]=E[g],E[g++]=P}}return g}function v(m,w,A,y,M,E,b){for(var T=2*m,p=T*A,_=p,g=A,h=w,S=m+w,d=A;y>d;++d,p+=T){var R=M[p+h],L=M[p+S];if(R<b&&b<=L)if(g===d)g+=1,_+=T;else{for(var F=0;T>F;++F){var O=M[p+F];M[p+F]=M[_],M[_++]=O}var P=E[d];E[d]=E[g],E[g++]=P}}return g}function x(m,w,A,y,M,E,b,T){for(var p=2*m,_=p*A,g=_,h=A,S=w,d=m+w,R=A;y>R;++R,_+=p){var L=M[_+S],F=M[_+d];if(!(L>=b)&&!(T>=F))if(h===R)h+=1,g+=p;else{for(var O=0;p>O;++O){var P=M[_+O];M[_+O]=M[g],M[g++]=P}var I=E[R];E[R]=E[h],E[h++]=I}}return h}},4192:function(a){"use strict";a.exports=i;var o=32;function i(w,A){A<=4*o?l(0,A-1,w):m(0,A-1,w)}function l(w,A,y){for(var M=2*(w+1),E=w+1;E<=A;++E){for(var b=y[M++],T=y[M++],p=E,_=M-2;p-- >w;){var g=y[_-2],h=y[_-1];if(g<b)break;if(g===b&&h<T)break;y[_]=g,y[_+1]=h,_-=2}y[_]=b,y[_+1]=T}}function f(w,A,y){w*=2,A*=2;var M=y[w],E=y[w+1];y[w]=y[A],y[w+1]=y[A+1],y[A]=M,y[A+1]=E}function s(w,A,y){w*=2,A*=2,y[w]=y[A],y[w+1]=y[A+1]}function u(w,A,y,M){w*=2,A*=2,y*=2;var E=M[w],b=M[w+1];M[w]=M[A],M[w+1]=M[A+1],M[A]=M[y],M[A+1]=M[y+1],M[y]=E,M[y+1]=b}function c(w,A,y,M,E){w*=2,A*=2,E[w]=E[A],E[A]=y,E[w+1]=E[A+1],E[A+1]=M}function v(w,A,y){w*=2,A*=2;var M=y[w],E=y[A];return M<E?!1:M===E?y[w+1]>y[A+1]:!0}function x(w,A,y,M){w*=2;var E=M[w];return E<A?!0:E===A?M[w+1]<y:!1}function m(w,A,y){var M=(A-w+1)/6|0,E=w+M,b=A-M,T=w+A>>1,p=T-M,_=T+M,g=E,h=p,S=T,d=_,R=b,L=w+1,F=A-1,O=0;v(g,h,y)&&(O=g,g=h,h=O),v(d,R,y)&&(O=d,d=R,R=O),v(g,S,y)&&(O=g,g=S,S=O),v(h,S,y)&&(O=h,h=S,S=O),v(g,d,y)&&(O=g,g=d,d=O),v(S,d,y)&&(O=S,S=d,d=O),v(h,R,y)&&(O=h,h=R,R=O),v(h,S,y)&&(O=h,h=S,S=O),v(d,R,y)&&(O=d,d=R,R=O);for(var P=y[2*h],I=y[2*h+1],k=y[2*d],D=y[2*d+1],z=2*g,q=2*S,j=2*R,Q=2*E,K=2*T,G=2*b,B=0;B<2;++B){var Z=y[z+B],ie=y[q+B],J=y[j+B];y[Q+B]=Z,y[K+B]=ie,y[G+B]=J}s(p,w,y),s(_,A,y);for(var le=L;le<=F;++le)if(x(le,P,I,y))le!==L&&f(le,L,y),++L;else if(!x(le,k,D,y))for(;;)if(x(F,k,D,y)){x(F,P,I,y)?(u(le,L,F,y),++L,--F):(f(le,F,y),--F);break}else{if(--F<le)break;continue}c(w,L-1,P,I,y),c(A,F+1,k,D,y),L-2-w<=o?l(w,L-2,y):m(w,L-2,y),A-(F+2)<=o?l(F+2,A,y):m(F+2,A,y),F-L<=o?l(L,F,y):m(L,F,y)}},855:function(a,o,i){"use strict";a.exports={init:E,sweepBipartite:p,sweepComplete:_,scanBipartite:g,scanComplete:h};var l=i(1888),f=i(8828),s=i(4192),u=1<<28,c=1024,v=l.mallocInt32(c),x=l.mallocInt32(c),m=l.mallocInt32(c),w=l.mallocInt32(c),A=l.mallocInt32(c),y=l.mallocInt32(c),M=l.mallocDouble(c*8);function E(S){var d=f.nextPow2(S);v.length<d&&(l.free(v),v=l.mallocInt32(d)),x.length<d&&(l.free(x),x=l.mallocInt32(d)),m.length<d&&(l.free(m),m=l.mallocInt32(d)),w.length<d&&(l.free(w),w=l.mallocInt32(d)),A.length<d&&(l.free(A),A=l.mallocInt32(d)),y.length<d&&(l.free(y),y=l.mallocInt32(d));var R=8*d;M.length<R&&(l.free(M),M=l.mallocDouble(R))}function b(S,d,R,L){var F=d[L],O=S[R-1];S[F]=O,d[O]=F}function T(S,d,R,L){S[R]=L,d[L]=R}function p(S,d,R,L,F,O,P,I,k,D){for(var z=0,q=2*S,j=S-1,Q=q-1,K=R;K<L;++K){var G=O[K],B=q*K;M[z++]=F[B+j],M[z++]=-(G+1),M[z++]=F[B+Q],M[z++]=G}for(var K=P;K<I;++K){var G=D[K]+u,Z=q*K;M[z++]=k[Z+j],M[z++]=-G,M[z++]=k[Z+Q],M[z++]=G}var ie=z>>>1;s(M,ie);for(var J=0,le=0,K=0;K<ie;++K){var te=M[2*K+1]|0;if(te>=u)te=te-u|0,b(m,w,le--,te);else if(te>=0)b(v,x,J--,te);else if(te<=-u){te=-te-u|0;for(var V=0;V<J;++V){var ne=d(v[V],te);if(ne!==void 0)return ne}T(m,w,le++,te)}else{te=-te-1|0;for(var V=0;V<le;++V){var ne=d(te,m[V]);if(ne!==void 0)return ne}T(v,x,J++,te)}}}function _(S,d,R,L,F,O,P,I,k,D){for(var z=0,q=2*S,j=S-1,Q=q-1,K=R;K<L;++K){var G=O[K]+1<<1,B=q*K;M[z++]=F[B+j],M[z++]=-G,M[z++]=F[B+Q],M[z++]=G}for(var K=P;K<I;++K){var G=D[K]+1<<1,Z=q*K;M[z++]=k[Z+j],M[z++]=-G|1,M[z++]=k[Z+Q],M[z++]=G|1}var ie=z>>>1;s(M,ie);for(var J=0,le=0,te=0,K=0;K<ie;++K){var V=M[2*K+1]|0,ne=V&1;if(K<ie-1&&V>>1===M[2*K+3]>>1&&(ne=2,K+=1),V<0){for(var Y=-(V>>1)-1,oe=0;oe<te;++oe){var pe=d(A[oe],Y);if(pe!==void 0)return pe}if(ne!==0)for(var oe=0;oe<J;++oe){var pe=d(v[oe],Y);if(pe!==void 0)return pe}if(ne!==1)for(var oe=0;oe<le;++oe){var pe=d(m[oe],Y);if(pe!==void 0)return pe}ne===0?T(v,x,J++,Y):ne===1?T(m,w,le++,Y):ne===2&&T(A,y,te++,Y)}else{var Y=(V>>1)-1;ne===0?b(v,x,J--,Y):ne===1?b(m,w,le--,Y):ne===2&&b(A,y,te--,Y)}}}function g(S,d,R,L,F,O,P,I,k,D,z,q){var j=0,Q=2*S,K=d,G=d+S,B=1,Z=1;L?Z=u:B=u;for(var ie=F;ie<O;++ie){var J=ie+B,le=Q*ie;M[j++]=P[le+K],M[j++]=-J,M[j++]=P[le+G],M[j++]=J}for(var ie=k;ie<D;++ie){var J=ie+Z,te=Q*ie;M[j++]=z[te+K],M[j++]=-J}var V=j>>>1;s(M,V);for(var ne=0,ie=0;ie<V;++ie){var Y=M[2*ie+1]|0;if(Y<0){var J=-Y,oe=!1;if(J>=u?(oe=!L,J-=u):(oe=!!L,J-=1),oe)T(v,x,ne++,J);else{var pe=q[J],we=Q*J,De=z[we+d+1],Re=z[we+d+1+S];e:for(var Ae=0;Ae<ne;++Ae){var Ie=v[Ae],Be=Q*Ie;if(!(Re<P[Be+d+1]||P[Be+d+1+S]<De)){for(var je=d+2;je<S;++je)if(z[we+je+S]<P[Be+je]||P[Be+je+S]<z[we+je])continue e;var Ne=I[Ie],Qe;if(L?Qe=R(pe,Ne):Qe=R(Ne,pe),Qe!==void 0)return Qe}}}}else b(v,x,ne--,Y-B)}}function h(S,d,R,L,F,O,P,I,k,D,z){for(var q=0,j=2*S,Q=d,K=d+S,G=L;G<F;++G){var B=G+u,Z=j*G;M[q++]=O[Z+Q],M[q++]=-B,M[q++]=O[Z+K],M[q++]=B}for(var G=I;G<k;++G){var B=G+1,ie=j*G;M[q++]=D[ie+Q],M[q++]=-B}var J=q>>>1;s(M,J);for(var le=0,G=0;G<J;++G){var te=M[2*G+1]|0;if(te<0){var B=-te;if(B>=u)v[le++]=B-u;else{B-=1;var V=z[B],ne=j*B,Y=D[ne+d+1],oe=D[ne+d+1+S];e:for(var pe=0;pe<le;++pe){var we=v[pe],De=P[we];if(De===V)break;var Re=j*we;if(!(oe<O[Re+d+1]||O[Re+d+1+S]<Y)){for(var Ae=d+2;Ae<S;++Ae)if(D[ne+Ae+S]<O[Re+Ae]||O[Re+Ae+S]<D[ne+Ae])continue e;var Ie=R(De,V);if(Ie!==void 0)return Ie}}}}else{for(var B=te-u,pe=le-1;pe>=0;--pe)if(v[pe]===B){for(var Ae=pe+1;Ae<le;++Ae)v[Ae-1]=v[Ae];break}--le}}}},2538:function(a,o,i){"use strict";var l=i(8902),f=i(5542),s=i(2272),u=i(5023);a.exports=w;function c(A){return[Math.min(A[0],A[1]),Math.max(A[0],A[1])]}function v(A,y){return A[0]-y[0]||A[1]-y[1]}function x(A){return A.map(c).sort(v)}function m(A,y,M){return y in A?A[y]:M}function w(A,y,M){Array.isArray(y)?(M=M||{},y=y||[]):(M=y||{},y=[]);var E=!!m(M,"delaunay",!0),b=!!m(M,"interior",!0),T=!!m(M,"exterior",!0),p=!!m(M,"infinity",!1);if(!b&&!T||A.length===0)return[];var _=l(A,y);if(E||b!==T||p){for(var g=f(A.length,x(y)),h=0;h<_.length;++h){var S=_[h];g.addTriangle(S[0],S[1],S[2])}return E&&s(A,g),T?b?p?u(g,0,p):g.cells():u(g,1,p):u(g,-1)}else return _}},2272:function(a,o,i){"use strict";var l=i(2646)[4],f=i(2478);a.exports=u;function s(c,v,x,m,w,A){var y=v.opposite(m,w);if(!(y<0)){if(w<m){var M=m;m=w,w=M,M=A,A=y,y=M}v.isConstraint(m,w)||l(c[m],c[w],c[A],c[y])<0&&x.push(m,w)}}function u(c,v){for(var x=[],m=c.length,w=v.stars,A=0;A<m;++A)for(var y=w[A],M=1;M<y.length;M+=2){var E=y[M];if(!(E<A)&&!v.isConstraint(A,E)){for(var b=y[M-1],T=-1,p=1;p<y.length;p+=2)if(y[p-1]===E){T=y[p];break}T<0||l(c[A],c[E],c[b],c[T])<0&&x.push(A,E)}}for(;x.length>0;){for(var E=x.pop(),A=x.pop(),b=-1,T=-1,y=w[A],_=1;_<y.length;_+=2){var g=y[_-1],h=y[_];g===E?T=h:h===E&&(b=g)}b<0||T<0||l(c[A],c[E],c[b],c[T])>=0||(v.flip(A,E),s(c,v,x,b,A,T),s(c,v,x,A,T,b),s(c,v,x,T,E,b),s(c,v,x,E,b,T))}}},5023:function(a,o,i){"use strict";var l=i(2478);a.exports=x;function f(m,w,A,y,M,E,b){this.cells=m,this.neighbor=w,this.flags=y,this.constraint=A,this.active=M,this.next=E,this.boundary=b}var s=f.prototype;function u(m,w){return m[0]-w[0]||m[1]-w[1]||m[2]-w[2]}s.locate=function(){var m=[0,0,0];return function(w,A,y){var M=w,E=A,b=y;return A<y?A<w&&(M=A,E=y,b=w):y<w&&(M=y,E=w,b=A),M<0?-1:(m[0]=M,m[1]=E,m[2]=b,l.eq(this.cells,m,u))}}();function c(m,w){for(var A=m.cells(),y=A.length,M=0;M<y;++M){var E=A[M],b=E[0],T=E[1],p=E[2];T<p?T<b&&(E[0]=T,E[1]=p,E[2]=b):p<b&&(E[0]=p,E[1]=b,E[2]=T)}A.sort(u);for(var _=new Array(y),M=0;M<_.length;++M)_[M]=0;var g=[],h=[],S=new Array(3*y),d=new Array(3*y),R=null;w&&(R=[]);for(var L=new f(A,S,d,_,g,h,R),M=0;M<y;++M)for(var E=A[M],F=0;F<3;++F){var b=E[F],T=E[(F+1)%3],O=S[3*M+F]=L.locate(T,b,m.opposite(T,b)),P=d[3*M+F]=m.isConstraint(b,T);O<0&&(P?h.push(M):(g.push(M),_[M]=1),w&&R.push([T,b,-1]))}return L}function v(m,w,A){for(var y=0,M=0;M<m.length;++M)w[M]===A&&(m[y++]=m[M]);return m.length=y,m}function x(m,w,A){var y=c(m,A);if(w===0)return A?y.cells.concat(y.boundary):y.cells;for(var M=1,E=y.active,b=y.next,T=y.flags,p=y.cells,_=y.constraint,g=y.neighbor;E.length>0||b.length>0;){for(;E.length>0;){var h=E.pop();if(T[h]!==-M){T[h]=M;for(var S=p[h],d=0;d<3;++d){var R=g[3*h+d];R>=0&&T[R]===0&&(_[3*h+d]?b.push(R):(E.push(R),T[R]=M))}}}var L=b;b=E,E=L,b.length=0,M=-M}var F=v(p,T,w);return A?F.concat(y.boundary):F}},8902:function(a,o,i){"use strict";var l=i(2478),f=i(3250)[3],s=0,u=1,c=2;a.exports=b;function v(T,p,_,g,h){this.a=T,this.b=p,this.idx=_,this.lowerIds=g,this.upperIds=h}function x(T,p,_,g){this.a=T,this.b=p,this.type=_,this.idx=g}function m(T,p){var _=T.a[0]-p.a[0]||T.a[1]-p.a[1]||T.type-p.type;return _||T.type!==s&&(_=f(T.a,T.b,p.b),_)?_:T.idx-p.idx}function w(T,p){return f(T.a,T.b,p)}function A(T,p,_,g,h){for(var S=l.lt(p,g,w),d=l.gt(p,g,w),R=S;R<d;++R){for(var L=p[R],F=L.lowerIds,P=F.length;P>1&&f(_[F[P-2]],_[F[P-1]],g)>0;)T.push([F[P-1],F[P-2],h]),P-=1;F.length=P,F.push(h);for(var O=L.upperIds,P=O.length;P>1&&f(_[O[P-2]],_[O[P-1]],g)<0;)T.push([O[P-2],O[P-1],h]),P-=1;O.length=P,O.push(h)}}function y(T,p){var _;return T.a[0]<p.a[0]?_=f(T.a,T.b,p.a):_=f(p.b,p.a,T.a),_||(p.b[0]<T.b[0]?_=f(T.a,T.b,p.b):_=f(p.b,p.a,T.b),_||T.idx-p.idx)}function M(T,p,_){var g=l.le(T,_,y),h=T[g],S=h.upperIds,d=S[S.length-1];h.upperIds=[d],T.splice(g+1,0,new v(_.a,_.b,_.idx,[d],S))}function E(T,p,_){var g=_.a;_.a=_.b,_.b=g;var h=l.eq(T,_,y),S=T[h],d=T[h-1];d.upperIds=S.upperIds,T.splice(h,1)}function b(T,p){for(var _=T.length,g=p.length,h=[],S=0;S<_;++S)h.push(new x(T[S],null,s,S));for(var S=0;S<g;++S){var d=p[S],R=T[d[0]],L=T[d[1]];R[0]<L[0]?h.push(new x(R,L,c,S),new x(L,R,u,S)):R[0]>L[0]&&h.push(new x(L,R,c,S),new x(R,L,u,S))}h.sort(m);for(var F=h[0].a[0]-(1+Math.abs(h[0].a[0]))*Math.pow(2,-52),O=[new v([F,1],[F,0],-1,[],[],[],[])],P=[],S=0,I=h.length;S<I;++S){var k=h[S],D=k.type;D===s?A(P,O,T,k.a,k.idx):D===c?M(O,T,k):E(O,T,k)}return P}},5542:function(a,o,i){"use strict";var l=i(2478);a.exports=c;function f(v,x){this.stars=v,this.edges=x}var s=f.prototype;function u(v,x,m){for(var w=1,A=v.length;w<A;w+=2)if(v[w-1]===x&&v[w]===m){v[w-1]=v[A-2],v[w]=v[A-1],v.length=A-2;return}}s.isConstraint=function(){var v=[0,0];function x(m,w){return m[0]-w[0]||m[1]-w[1]}return function(m,w){return v[0]=Math.min(m,w),v[1]=Math.max(m,w),l.eq(this.edges,v,x)>=0}}(),s.removeTriangle=function(v,x,m){var w=this.stars;u(w[v],x,m),u(w[x],m,v),u(w[m],v,x)},s.addTriangle=function(v,x,m){var w=this.stars;w[v].push(x,m),w[x].push(m,v),w[m].push(v,x)},s.opposite=function(v,x){for(var m=this.stars[x],w=1,A=m.length;w<A;w+=2)if(m[w]===v)return m[w-1];return-1},s.flip=function(v,x){var m=this.opposite(v,x),w=this.opposite(x,v);this.removeTriangle(v,x,m),this.removeTriangle(x,v,w),this.addTriangle(v,w,m),this.addTriangle(x,m,w)},s.edges=function(){for(var v=this.stars,x=[],m=0,w=v.length;m<w;++m)for(var A=v[m],y=0,M=A.length;y<M;y+=2)x.push([A[y],A[y+1]]);return x},s.cells=function(){for(var v=this.stars,x=[],m=0,w=v.length;m<w;++m)for(var A=v[m],y=0,M=A.length;y<M;y+=2){var E=A[y],b=A[y+1];m<Math.min(E,b)&&x.push([m,E,b])}return x};function c(v,x){for(var m=new Array(v),w=0;w<v;++w)m[w]=[];return new f(m,x)}},2419:function(a){"use strict";a.exports=o;function o(i){for(var l=1,f=1;f<i.length;++f)for(var s=0;s<f;++s)if(i[f]<i[s])l=-l;else if(i[s]===i[f])return 0;return l}},3628:function(a,o,i){"use strict";var l=i(1338),f=i(727);function s(v,x){for(var m=0,w=v.length,A=0;A<w;++A)m+=v[A]*x[A];return m}function u(v){var x=v.length;if(x===0)return[];var m=v[0].length,w=l([v.length+1,v.length+1],1),A=l([v.length+1],1);w[x][x]=0;for(var y=0;y<x;++y){for(var M=0;M<=y;++M)w[M][y]=w[y][M]=2*s(v[y],v[M]);A[y]=s(v[y],v[y])}for(var E=f(w,A),b=0,T=E[x+1],y=0;y<T.length;++y)b+=T[y];for(var p=new Array(x),y=0;y<x;++y){for(var T=E[y],_=0,M=0;M<T.length;++M)_+=T[M];p[y]=_/b}return p}function c(v){if(v.length===0)return[];for(var x=v[0].length,m=l([x]),w=u(v),A=0;A<v.length;++A)for(var y=0;y<x;++y)m[y]+=v[A][y]*w[A];return m}c.barycenetric=u,a.exports=c},6037:function(a,o,i){a.exports=f;var l=i(3628);function f(s){for(var u=l(s),c=0,v=0;v<s.length;++v)for(var x=s[v],m=0;m<u.length;++m)c+=Math.pow(x[m]-u[m],2);return Math.sqrt(c/s.length)}},332:function(a,o,i){"use strict";a.exports=R;var l=i(1755),f=i(6867),s=i(1125),u=i(7842),c=i(1318),v=i(946),x=i(5838),m=i(1278),w=i(3637);function A(L){var F=v(L);return[m(F,-1/0),m(F,1/0)]}function y(L,F){for(var O=new Array(F.length),P=0;P<F.length;++P){var I=F[P],k=L[I[0]],D=L[I[1]];O[P]=[m(Math.min(k[0],D[0]),-1/0),m(Math.min(k[1],D[1]),-1/0),m(Math.max(k[0],D[0]),1/0),m(Math.max(k[1],D[1]),1/0)]}return O}function M(L){for(var F=new Array(L.length),O=0;O<L.length;++O){var P=L[O];F[O]=[m(P[0],-1/0),m(P[1],-1/0),m(P[0],1/0),m(P[1],1/0)]}return F}function E(L,F,O){var P=[];return f(O,function(I,k){var D=F[I],z=F[k];if(!(D[0]===z[0]||D[0]===z[1]||D[1]===z[0]||D[1]===z[1])){var q=L[D[0]],j=L[D[1]],Q=L[z[0]],K=L[z[1]];s(q,j,Q,K)&&P.push([I,k])}}),P}function b(L,F,O,P){var I=[];return f(O,P,function(k,D){var z=F[k];if(!(z[0]===D||z[1]===D)){var q=L[D],j=L[z[0]],Q=L[z[1]];s(j,Q,q,q)&&I.push([k,D])}}),I}function T(L,F,O,P,I){var k,D,z=L.map(function(we){return[u(we[0]),u(we[1])]});for(k=0;k<O.length;++k){var q=O[k];D=q[0];var j=q[1],Q=F[D],K=F[j],G=w(x(L[Q[0]]),x(L[Q[1]]),x(L[K[0]]),x(L[K[1]]));if(G){var B=L.length;L.push([v(G[0]),v(G[1])]),z.push(G),P.push([D,B],[j,B])}}for(P.sort(function(we,De){if(we[0]!==De[0])return we[0]-De[0];var Re=z[we[1]],Ae=z[De[1]];return c(Re[0],Ae[0])||c(Re[1],Ae[1])}),k=P.length-1;k>=0;--k){var Z=P[k];D=Z[0];var ie=F[D],J=ie[0],le=ie[1],te=L[J],V=L[le];if((te[0]-V[0]||te[1]-V[1])<0){var ne=J;J=le,le=ne}ie[0]=J;var Y=ie[1]=Z[1],oe;for(I&&(oe=ie[2]);k>0&&P[k-1][0]===D;){var Z=P[--k],pe=Z[1];I?F.push([Y,pe,oe]):F.push([Y,pe]),Y=pe}I?F.push([Y,le,oe]):F.push([Y,le])}return z}function p(L,F,O){for(var P=F.length,I=new l(P),k=[],D=0;D<F.length;++D){var z=F[D],q=A(z[0]),j=A(z[1]);k.push([m(q[0],-1/0),m(j[0],-1/0),m(q[1],1/0),m(j[1],1/0)])}f(k,function(Z,ie){I.link(Z,ie)});for(var Q=!0,K=new Array(P),D=0;D<P;++D){var G=I.find(D);G!==D&&(Q=!1,L[G]=[Math.min(L[D][0],L[G][0]),Math.min(L[D][1],L[G][1])])}if(Q)return null;for(var B=0,D=0;D<P;++D){var G=I.find(D);G===D?(K[D]=B,L[B++]=L[D]):K[D]=-1}L.length=B;for(var D=0;D<P;++D)K[D]<0&&(K[D]=K[I.find(D)]);return K}function _(L,F){return L[0]-F[0]||L[1]-F[1]}function g(L,F){var O=L[0]-F[0]||L[1]-F[1];return O||(L[2]<F[2]?-1:L[2]>F[2]?1:0)}function h(L,F,O){if(L.length!==0){if(F)for(var P=0;P<L.length;++P){var I=L[P],k=F[I[0]],D=F[I[1]];I[0]=Math.min(k,D),I[1]=Math.max(k,D)}else for(var P=0;P<L.length;++P){var I=L[P],k=I[0],D=I[1];I[0]=Math.min(k,D),I[1]=Math.max(k,D)}O?L.sort(g):L.sort(_);for(var z=1,P=1;P<L.length;++P){var q=L[P-1],j=L[P];j[0]===q[0]&&j[1]===q[1]&&(!O||j[2]===q[2])||(L[z++]=j)}L.length=z}}function S(L,F,O){var P=p(L,[],M(L));return h(F,P,O),!!P}function d(L,F,O){var P=y(L,F),I=E(L,F,P),k=M(L),D=b(L,F,P,k),z=T(L,F,I,D,O),q=p(L,z,k);return h(F,q,O),q?!0:I.length>0||D.length>0}function R(L,F,O){var P;if(O){P=F;for(var I=new Array(F.length),k=0;k<F.length;++k){var D=F[k];I[k]=[D[0],D[1],O[k]]}F=I}for(var z=S(L,F,!!O);d(L,F,!!O);)z=!0;if(O&&z){P.length=0,O.length=0;for(var k=0;k<F.length;++k){var D=F[k];P.push([D[0],D[1]]),O.push(D[2])}}return z}},3637:function(a,o,i){"use strict";a.exports=w;var l=i(6504),f=i(8697),s=i(5572),u=i(7721),c=i(544),v=i(2653),x=i(8987);function m(A,y){return s(l(A[0],y[1]),l(A[1],y[0]))}function w(A,y,M,E){var b=c(y,A),T=c(E,M),p=m(b,T);if(u(p)===0)return null;var _=c(A,M),g=m(T,_),h=f(g,p),S=x(b,h),d=v(A,S);return d}},3642:function(a){a.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(a,o,i){"use strict";var l=i(3642),f=i(395);a.exports=s;function s(x){var m,w,A,y,M,E,b,T,h,p,_;if(x||(x={}),T=(x.nshades||72)-1,b=x.format||"hex",E=x.colormap,E||(E="jet"),typeof E=="string"){if(E=E.toLowerCase(),!l[E])throw Error(E+" not a supported colorscale");M=l[E]}else if(Array.isArray(E))M=E.slice();else throw Error("unsupported colormap option",E);if(M.length>T+1)throw new Error(E+" map requires nshades to be at least size "+M.length);Array.isArray(x.alpha)?x.alpha.length!==2?p=[1,1]:p=x.alpha.slice():typeof x.alpha=="number"?p=[x.alpha,x.alpha]:p=[1,1],m=M.map(function(R){return Math.round(R.index*T)}),p[0]=Math.min(Math.max(p[0],0),1),p[1]=Math.min(Math.max(p[1],0),1);var g=M.map(function(R,L){var F=M[L].index,O=M[L].rgb.slice();return O.length===4&&O[3]>=0&&O[3]<=1||(O[3]=p[0]+(p[1]-p[0])*F),O}),h=[];for(_=0;_<m.length-1;++_){y=m[_+1]-m[_],w=g[_],A=g[_+1];for(var S=0;S<y;S++){var d=S/y;h.push([Math.round(f(w[0],A[0],d)),Math.round(f(w[1],A[1],d)),Math.round(f(w[2],A[2],d)),f(w[3],A[3],d)])}}return h.push(M[M.length-1].rgb.concat(p[1])),b==="hex"?h=h.map(c):b==="rgbaString"?h=h.map(v):b==="float"&&(h=h.map(u)),h}function u(x){return[x[0]/255,x[1]/255,x[2]/255,x[3]]}function c(x){for(var m,w="#",A=0;A<3;++A)m=x[A],m=m.toString(16),w+=("00"+m).substr(m.length);return w}function v(x){return"rgba("+x.join(",")+")"}},3140:function(a,o,i){"use strict";a.exports=x;var l=i(3250),f=i(8572),s=i(9362),u=i(5382),c=i(8210);function v(m,w,A){var y=s(m[0],-w[0]),M=s(m[1],-w[1]),E=s(A[0],-w[0]),b=s(A[1],-w[1]),T=c(u(y,E),u(M,b));return T[T.length-1]>=0}function x(m,w,A,y){var M=l(w,A,y);if(M===0){var E=f(l(m,w,A)),b=f(l(m,w,y));if(E===b){if(E===0){var T=v(m,w,A),p=v(m,w,y);return T===p?0:T?1:-1}return 0}else{if(b===0)return E>0||v(m,w,y)?-1:1;if(E===0)return b>0||v(m,w,A)?1:-1}return f(b-E)}var _=l(m,w,A);if(_>0)return M>0&&l(m,w,y)>0?1:-1;if(_<0)return M>0||l(m,w,y)>0?1:-1;var g=l(m,w,y);return g>0||v(m,w,A)?1:-1}},8572:function(a){"use strict";a.exports=function(i){return i<0?-1:i>0?1:0}},8507:function(a){a.exports=l;var o=Math.min;function i(f,s){return f-s}function l(f,s){var u=f.length,c=f.length-s.length;if(c)return c;switch(u){case 0:return 0;case 1:return f[0]-s[0];case 2:return f[0]+f[1]-s[0]-s[1]||o(f[0],f[1])-o(s[0],s[1]);case 3:var v=f[0]+f[1],x=s[0]+s[1];if(c=v+f[2]-(x+s[2]),c)return c;var m=o(f[0],f[1]),w=o(s[0],s[1]);return o(m,f[2])-o(w,s[2])||o(m+f[2],v)-o(w+s[2],x);case 4:var A=f[0],y=f[1],M=f[2],E=f[3],b=s[0],T=s[1],p=s[2],_=s[3];return A+y+M+E-(b+T+p+_)||o(A,y,M,E)-o(b,T,p,_,b)||o(A+y,A+M,A+E,y+M,y+E,M+E)-o(b+T,b+p,b+_,T+p,T+_,p+_)||o(A+y+M,A+y+E,A+M+E,y+M+E)-o(b+T+p,b+T+_,b+p+_,T+p+_);default:for(var g=f.slice().sort(i),h=s.slice().sort(i),S=0;S<u;++S)if(c=g[S]-h[S],c)return c;return 0}}},3788:function(a,o,i){"use strict";var l=i(8507),f=i(2419);a.exports=s;function s(u,c){return l(u,c)||f(u)-f(c)}},7352:function(a,o,i){"use strict";var l=i(5721),f=i(4750),s=i(2690);a.exports=u;function u(c){var v=c.length;if(v===0)return[];if(v===1)return[[0]];var x=c[0].length;return x===0?[]:x===1?l(c):x===2?f(c):s(c,x)}},5721:function(a){"use strict";a.exports=o;function o(i){for(var l=0,f=0,s=1;s<i.length;++s)i[s][0]<i[l][0]&&(l=s),i[s][0]>i[f][0]&&(f=s);return l<f?[[l],[f]]:l>f?[[f],[l]]:[[l]]}},4750:function(a,o,i){"use strict";a.exports=f;var l=i(3090);function f(s){var u=l(s),c=u.length;if(c<=2)return[];for(var v=new Array(c),x=u[c-1],m=0;m<c;++m){var w=u[m];v[m]=[x,w],x=w}return v}},2690:function(a,o,i){"use strict";a.exports=c;var l=i(8954),f=i(3952);function s(v,x){for(var m=v.length,w=new Array(m),A=0;A<x.length;++A)w[A]=v[x[A]];for(var y=x.length,A=0;A<m;++A)x.indexOf(A)<0&&(w[y++]=v[A]);return w}function u(v,x){for(var m=v.length,w=x.length,A=0;A<m;++A)for(var y=v[A],M=0;M<y.length;++M){var E=y[M];if(E<w)y[M]=x[E];else{E=E-w;for(var b=0;b<w;++b)E>=x[b]&&(E+=1);y[M]=E}}return v}function c(v,x){try{return l(v,!0)}catch(y){var m=f(v);if(m.length<=x)return[];var w=s(v,m),A=l(w,!0);return u(A,m)}}},4769:function(a){"use strict";function o(l,f,s,u,c,v){var x=6*c*c-6*c,m=3*c*c-4*c+1,w=-6*c*c+6*c,A=3*c*c-2*c;if(l.length){v||(v=new Array(l.length));for(var y=l.length-1;y>=0;--y)v[y]=x*l[y]+m*f[y]+w*s[y]+A*u[y];return v}return x*l+m*f+w*s[y]+A*u}function i(l,f,s,u,c,v){var x=c-1,m=c*c,w=x*x,A=(1+2*c)*w,y=c*w,M=m*(3-2*c),E=m*x;if(l.length){v||(v=new Array(l.length));for(var b=l.length-1;b>=0;--b)v[b]=A*l[b]+y*f[b]+M*s[b]+E*u[b];return v}return A*l+y*f+M*s+E*u}a.exports=i,a.exports.derivative=o},7642:function(a,o,i){"use strict";var l=i(8954),f=i(1682);a.exports=v;function s(x,m){this.point=x,this.index=m}function u(x,m){for(var w=x.point,A=m.point,y=w.length,M=0;M<y;++M){var E=A[M]-w[M];if(E)return E}return 0}function c(x,m,w){if(x===1)return w?[[-1,0]]:[];var A=m.map(function(T,p){return[T[0],p]});A.sort(function(T,p){return T[0]-p[0]});for(var y=new Array(x-1),M=1;M<x;++M){var E=A[M-1],b=A[M];y[M-1]=[E[1],b[1]]}return w&&y.push([-1,y[0][1]],[y[x-1][1],-1]),y}function v(x,m){var w=x.length;if(w===0)return[];var A=x[0].length;if(A<1)return[];if(A===1)return c(w,x,m);for(var y=new Array(w),M=1,E=0;E<w;++E){for(var b=x[E],T=new Array(A+1),p=0,_=0;_<A;++_){var g=b[_];T[_]=g,p+=g*g}T[A]=p,y[E]=new s(T,E),M=Math.max(p,M)}f(y,u),w=y.length;for(var h=new Array(w+A+1),S=new Array(w+A+1),d=(A+1)*(A+1)*M,R=new Array(A+1),E=0;E<=A;++E)R[E]=0;R[A]=d,h[0]=R.slice(),S[0]=-1;for(var E=0;E<=A;++E){var T=R.slice();T[E]=1,h[E+1]=T,S[E+1]=-1}for(var E=0;E<w;++E){var L=y[E];h[E+A+1]=L.point,S[E+A+1]=L.index}var F=l(h,!1);if(m?F=F.filter(function(O){for(var P=0,I=0;I<=A;++I){var k=S[O[I]];if(k<0&&++P>=2)return!1;O[I]=k}return!0}):F=F.filter(function(O){for(var P=0;P<=A;++P){var I=S[O[P]];if(I<0)return!1;O[P]=I}return!0}),A&1)for(var E=0;E<F.length;++E){var L=F[E],T=L[0];L[0]=L[1],L[1]=T}return F}},2361:function(a){var o=!1;if(typeof Float64Array!="undefined"){var i=new Float64Array(1),l=new Uint32Array(i.buffer);if(i[0]=1,o=!0,l[1]===1072693248){let M=function(T,p){return l[0]=T,l[1]=p,i[0]},E=function(T){return i[0]=T,l[0]},b=function(T){return i[0]=T,l[1]};var s=M,u=E,c=b;a.exports=function(p){return i[0]=p,[l[0],l[1]]},a.exports.pack=M,a.exports.lo=E,a.exports.hi=b}else if(l[0]===1072693248){let M=function(T,p){return l[1]=T,l[0]=p,i[0]},E=function(T){return i[0]=T,l[1]},b=function(T){return i[0]=T,l[0]};var v=M,x=E,m=b;a.exports=function(p){return i[0]=p,[l[1],l[0]]},a.exports.pack=M,a.exports.lo=E,a.exports.hi=b}else o=!1}if(!o){let M=function(T,p){return f.writeUInt32LE(T,0,!0),f.writeUInt32LE(p,4,!0),f.readDoubleLE(0,!0)},E=function(T){return f.writeDoubleLE(T,0,!0),f.readUInt32LE(0,!0)},b=function(T){return f.writeDoubleLE(T,0,!0),f.readUInt32LE(4,!0)};var w=M,A=E,y=b,f=new Buffer(8);a.exports=function(p){return f.writeDoubleLE(p,0,!0),[f.readUInt32LE(0,!0),f.readUInt32LE(4,!0)]},a.exports.pack=M,a.exports.lo=E,a.exports.hi=b}a.exports.sign=function(M){return a.exports.hi(M)>>>31},a.exports.exponent=function(M){var E=a.exports.hi(M);return(E<<1>>>21)-1023},a.exports.fraction=function(M){var E=a.exports.lo(M),b=a.exports.hi(M),T=b&(1<<20)-1;return b&2146435072&&(T+=1048576),[E,T]},a.exports.denormalized=function(M){var E=a.exports.hi(M);return!(E&2146435072)}},1338:function(a){"use strict";function o(f,s,u){var c=f[u]|0;if(c<=0)return[];var v=new Array(c),x;if(u===f.length-1)for(x=0;x<c;++x)v[x]=s;else for(x=0;x<c;++x)v[x]=o(f,s,u+1);return v}function i(f,s){var u,c;for(u=new Array(f),c=0;c<f;++c)u[c]=s;return u}function l(f,s){switch(typeof s=="undefined"&&(s=0),typeof f){case"number":if(f>0)return i(f|0,s);break;case"object":if(typeof f.length=="number")return o(f,s,0);break}return[]}a.exports=l},3134:function(a,o,i){"use strict";a.exports=f;var l=i(1682);function f(s,u){var c=s.length;if(typeof u!="number"){u=0;for(var v=0;v<c;++v){var x=s[v];u=Math.max(u,x[0],x[1])}u=(u|0)+1}u=u|0;for(var m=new Array(u),v=0;v<u;++v)m[v]=[];for(var v=0;v<c;++v){var x=s[v];m[x[0]].push(x[1]),m[x[1]].push(x[0])}for(var w=0;w<u;++w)l(m[w],function(A,y){return A-y});return m}},5033:function(a){"use strict";a.exports=o;function o(i,l,f){var s=l||0,u=f||1;return[[i[12]+i[0],i[13]+i[1],i[14]+i[2],i[15]+i[3]],[i[12]-i[0],i[13]-i[1],i[14]-i[2],i[15]-i[3]],[i[12]+i[4],i[13]+i[5],i[14]+i[6],i[15]+i[7]],[i[12]-i[4],i[13]-i[5],i[14]-i[6],i[15]-i[7]],[s*i[12]+i[8],s*i[13]+i[9],s*i[14]+i[10],s*i[15]+i[11]],[u*i[12]-i[8],u*i[13]-i[9],u*i[14]-i[10],u*i[15]-i[11]]]}},9215:function(a,o,i){"use strict";a.exports=x;var l=i(4769),f=i(2478);function s(m,w,A){return Math.min(w,Math.max(m,A))}function u(m,w,A){this.dimension=m.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var y=0;y<this.dimension;++y)this.bounds[0][y]=-1/0,this.bounds[1][y]=1/0;this._state=m.slice().reverse(),this._velocity=w.slice().reverse(),this._time=[A],this._scratch=[m.slice(),m.slice(),m.slice(),m.slice(),m.slice()]}var c=u.prototype;c.flush=function(m){var w=f.gt(this._time,m)-1;w<=0||(this._time.splice(0,w),this._state.splice(0,w*this.dimension),this._velocity.splice(0,w*this.dimension))},c.curve=function(m){var w=this._time,A=w.length,y=f.le(w,m),M=this._scratch[0],E=this._state,b=this._velocity,T=this.dimension,p=this.bounds;if(y<0)for(var _=T-1,g=0;g<T;++g,--_)M[g]=E[_];else if(y>=A-1)for(var _=E.length-1,h=m-w[A-1],g=0;g<T;++g,--_)M[g]=E[_]+h*b[_];else{for(var _=T*(y+1)-1,S=w[y],d=w[y+1],R=d-S||1,L=this._scratch[1],F=this._scratch[2],O=this._scratch[3],P=this._scratch[4],I=!0,g=0;g<T;++g,--_)L[g]=E[_],O[g]=b[_]*R,F[g]=E[_+T],P[g]=b[_+T]*R,I=I&&L[g]===F[g]&&O[g]===P[g]&&O[g]===0;if(I)for(var g=0;g<T;++g)M[g]=L[g];else l(L,O,F,P,(m-S)/R,M)}for(var k=p[0],D=p[1],g=0;g<T;++g)M[g]=s(k[g],D[g],M[g]);return M},c.dcurve=function(m){var w=this._time,A=w.length,y=f.le(w,m),M=this._scratch[0],E=this._state,b=this._velocity,T=this.dimension;if(y>=A-1)for(var p=E.length-1,_=m-w[A-1],g=0;g<T;++g,--p)M[g]=b[p];else{for(var p=T*(y+1)-1,h=w[y],S=w[y+1],d=S-h||1,R=this._scratch[1],L=this._scratch[2],F=this._scratch[3],O=this._scratch[4],P=!0,g=0;g<T;++g,--p)R[g]=E[p],F[g]=b[p]*d,L[g]=E[p+T],O[g]=b[p+T]*d,P=P&&R[g]===L[g]&&F[g]===O[g]&&F[g]===0;if(P)for(var g=0;g<T;++g)M[g]=0;else{l.derivative(R,F,L,O,(m-h)/d,M);for(var g=0;g<T;++g)M[g]/=d}}return M},c.lastT=function(){var m=this._time;return m[m.length-1]},c.stable=function(){for(var m=this._velocity,w=m.length,A=this.dimension-1;A>=0;--A)if(m[--w])return!1;return!0},c.jump=function(m){var w=this.lastT(),A=this.dimension;if(!(m<w||arguments.length!==A+1)){var y=this._state,M=this._velocity,E=y.length-this.dimension,b=this.bounds,T=b[0],p=b[1];this._time.push(w,m);for(var _=0;_<2;++_)for(var g=0;g<A;++g)y.push(y[E++]),M.push(0);this._time.push(m);for(var g=A;g>0;--g)y.push(s(T[g-1],p[g-1],arguments[g])),M.push(0)}},c.push=function(m){var w=this.lastT(),A=this.dimension;if(!(m<w||arguments.length!==A+1)){var y=this._state,M=this._velocity,E=y.length-this.dimension,b=m-w,T=this.bounds,p=T[0],_=T[1],g=b>1e-6?1/b:0;this._time.push(m);for(var h=A;h>0;--h){var S=s(p[h-1],_[h-1],arguments[h]);y.push(S),M.push((S-y[E++])*g)}}},c.set=function(m){var w=this.dimension;if(!(m<this.lastT()||arguments.length!==w+1)){var A=this._state,y=this._velocity,M=this.bounds,E=M[0],b=M[1];this._time.push(m);for(var T=w;T>0;--T)A.push(s(E[T-1],b[T-1],arguments[T])),y.push(0)}},c.move=function(m){var w=this.lastT(),A=this.dimension;if(!(m<=w||arguments.length!==A+1)){var y=this._state,M=this._velocity,E=y.length-this.dimension,b=this.bounds,T=b[0],p=b[1],_=m-w,g=_>1e-6?1/_:0;this._time.push(m);for(var h=A;h>0;--h){var S=arguments[h];y.push(s(T[h-1],p[h-1],y[E++]+S)),M.push(S*g)}}},c.idle=function(m){var w=this.lastT();if(!(m<w)){var A=this.dimension,y=this._state,M=this._velocity,E=y.length-A,b=this.bounds,T=b[0],p=b[1],_=m-w;this._time.push(m);for(var g=A-1;g>=0;--g)y.push(s(T[g],p[g],y[E]+_*M[E])),M.push(0),E+=1}};function v(m){for(var w=new Array(m),A=0;A<m;++A)w[A]=0;return w}function x(m,w,A){switch(arguments.length){case 0:return new u([0],[0],0);case 1:if(typeof m=="number"){var y=v(m);return new u(y,y,0)}else return new u(m,v(m.length),0);case 2:if(typeof w=="number"){var y=v(m.length);return new u(m,y,+w)}else A=0;case 3:if(m.length!==w.length)throw new Error("state and velocity lengths must match");return new u(m,w,A)}}},3840:function(a){"use strict";a.exports=T;var o=0,i=1;function l(p,_,g,h,S,d){this._color=p,this.key=_,this.value=g,this.left=h,this.right=S,this._count=d}function f(p){return new l(p._color,p.key,p.value,p.left,p.right,p._count)}function s(p,_){return new l(p,_.key,_.value,_.left,_.right,_._count)}function u(p){p._count=1+(p.left?p.left._count:0)+(p.right?p.right._count:0)}function c(p,_){this._compare=p,this.root=_}var v=c.prototype;Object.defineProperty(v,"keys",{get:function(){var p=[];return this.forEach(function(_,g){p.push(_)}),p}}),Object.defineProperty(v,"values",{get:function(){var p=[];return this.forEach(function(_,g){p.push(g)}),p}}),Object.defineProperty(v,"length",{get:function(){return this.root?this.root._count:0}}),v.insert=function(p,_){for(var g=this._compare,h=this.root,S=[],d=[];h;){var R=g(p,h.key);S.push(h),d.push(R),R<=0?h=h.left:h=h.right}S.push(new l(o,p,_,null,null,1));for(var L=S.length-2;L>=0;--L){var h=S[L];d[L]<=0?S[L]=new l(h._color,h.key,h.value,S[L+1],h.right,h._count+1):S[L]=new l(h._color,h.key,h.value,h.left,S[L+1],h._count+1)}for(var L=S.length-1;L>1;--L){var F=S[L-1],h=S[L];if(F._color===i||h._color===i)break;var O=S[L-2];if(O.left===F)if(F.left===h){var P=O.right;if(P&&P._color===o)F._color=i,O.right=s(i,P),O._color=o,L-=1;else{if(O._color=o,O.left=F.right,F._color=i,F.right=O,S[L-2]=F,S[L-1]=h,u(O),u(F),L>=3){var I=S[L-3];I.left===O?I.left=F:I.right=F}break}}else{var P=O.right;if(P&&P._color===o)F._color=i,O.right=s(i,P),O._color=o,L-=1;else{if(F.right=h.left,O._color=o,O.left=h.right,h._color=i,h.left=F,h.right=O,S[L-2]=h,S[L-1]=F,u(O),u(F),u(h),L>=3){var I=S[L-3];I.left===O?I.left=h:I.right=h}break}}else if(F.right===h){var P=O.left;if(P&&P._color===o)F._color=i,O.left=s(i,P),O._color=o,L-=1;else{if(O._color=o,O.right=F.left,F._color=i,F.left=O,S[L-2]=F,S[L-1]=h,u(O),u(F),L>=3){var I=S[L-3];I.right===O?I.right=F:I.left=F}break}}else{var P=O.left;if(P&&P._color===o)F._color=i,O.left=s(i,P),O._color=o,L-=1;else{if(F.left=h.right,O._color=o,O.right=h.left,h._color=i,h.right=F,h.left=O,S[L-2]=h,S[L-1]=F,u(O),u(F),u(h),L>=3){var I=S[L-3];I.right===O?I.right=h:I.left=h}break}}}return S[0]._color=i,new c(g,S[0])};function x(p,_){if(_.left){var g=x(p,_.left);if(g)return g}var g=p(_.key,_.value);if(g)return g;if(_.right)return x(p,_.right)}function m(p,_,g,h){var S=_(p,h.key);if(S<=0){if(h.left){var d=m(p,_,g,h.left);if(d)return d}var d=g(h.key,h.value);if(d)return d}if(h.right)return m(p,_,g,h.right)}function w(p,_,g,h,S){var d=g(p,S.key),R=g(_,S.key),L;if(d<=0&&(S.left&&(L=w(p,_,g,h,S.left),L)||R>0&&(L=h(S.key,S.value),L)))return L;if(R>0&&S.right)return w(p,_,g,h,S.right)}v.forEach=function(_,g,h){if(this.root)switch(arguments.length){case 1:return x(_,this.root);case 2:return m(g,this._compare,_,this.root);case 3:return this._compare(g,h)>=0?void 0:w(g,h,this._compare,_,this.root)}},Object.defineProperty(v,"begin",{get:function(){for(var p=[],_=this.root;_;)p.push(_),_=_.left;return new A(this,p)}}),Object.defineProperty(v,"end",{get:function(){for(var p=[],_=this.root;_;)p.push(_),_=_.right;return new A(this,p)}}),v.at=function(p){if(p<0)return new A(this,[]);for(var _=this.root,g=[];;){if(g.push(_),_.left){if(p<_.left._count){_=_.left;continue}p-=_.left._count}if(!p)return new A(this,g);if(p-=1,_.right){if(p>=_.right._count)break;_=_.right}else break}return new A(this,[])},v.ge=function(p){for(var _=this._compare,g=this.root,h=[],S=0;g;){var d=_(p,g.key);h.push(g),d<=0&&(S=h.length),d<=0?g=g.left:g=g.right}return h.length=S,new A(this,h)},v.gt=function(p){for(var _=this._compare,g=this.root,h=[],S=0;g;){var d=_(p,g.key);h.push(g),d<0&&(S=h.length),d<0?g=g.left:g=g.right}return h.length=S,new A(this,h)},v.lt=function(p){for(var _=this._compare,g=this.root,h=[],S=0;g;){var d=_(p,g.key);h.push(g),d>0&&(S=h.length),d<=0?g=g.left:g=g.right}return h.length=S,new A(this,h)},v.le=function(p){for(var _=this._compare,g=this.root,h=[],S=0;g;){var d=_(p,g.key);h.push(g),d>=0&&(S=h.length),d<0?g=g.left:g=g.right}return h.length=S,new A(this,h)},v.find=function(p){for(var _=this._compare,g=this.root,h=[];g;){var S=_(p,g.key);if(h.push(g),S===0)return new A(this,h);S<=0?g=g.left:g=g.right}return new A(this,[])},v.remove=function(p){var _=this.find(p);return _?_.remove():this},v.get=function(p){for(var _=this._compare,g=this.root;g;){var h=_(p,g.key);if(h===0)return g.value;h<=0?g=g.left:g=g.right}};function A(p,_){this.tree=p,this._stack=_}var y=A.prototype;Object.defineProperty(y,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(y,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),y.clone=function(){return new A(this.tree,this._stack.slice())};function M(p,_){p.key=_.key,p.value=_.value,p.left=_.left,p.right=_.right,p._color=_._color,p._count=_._count}function E(p){for(var _,g,h,S,d=p.length-1;d>=0;--d){if(_=p[d],d===0){_._color=i;return}if(g=p[d-1],g.left===_){if(h=g.right,h.right&&h.right._color===o){if(h=g.right=f(h),S=h.right=f(h.right),g.right=h.left,h.left=g,h.right=S,h._color=g._color,_._color=i,g._color=i,S._color=i,u(g),u(h),d>1){var R=p[d-2];R.left===g?R.left=h:R.right=h}p[d-1]=h;return}else if(h.left&&h.left._color===o){if(h=g.right=f(h),S=h.left=f(h.left),g.right=S.left,h.left=S.right,S.left=g,S.right=h,S._color=g._color,g._color=i,h._color=i,_._color=i,u(g),u(h),u(S),d>1){var R=p[d-2];R.left===g?R.left=S:R.right=S}p[d-1]=S;return}if(h._color===i)if(g._color===o){g._color=i,g.right=s(o,h);return}else{g.right=s(o,h);continue}else{if(h=f(h),g.right=h.left,h.left=g,h._color=g._color,g._color=o,u(g),u(h),d>1){var R=p[d-2];R.left===g?R.left=h:R.right=h}p[d-1]=h,p[d]=g,d+1<p.length?p[d+1]=_:p.push(_),d=d+2}}else{if(h=g.left,h.left&&h.left._color===o){if(h=g.left=f(h),S=h.left=f(h.left),g.left=h.right,h.right=g,h.left=S,h._color=g._color,_._color=i,g._color=i,S._color=i,u(g),u(h),d>1){var R=p[d-2];R.right===g?R.right=h:R.left=h}p[d-1]=h;return}else if(h.right&&h.right._color===o){if(h=g.left=f(h),S=h.right=f(h.right),g.left=S.right,h.right=S.left,S.right=g,S.left=h,S._color=g._color,g._color=i,h._color=i,_._color=i,u(g),u(h),u(S),d>1){var R=p[d-2];R.right===g?R.right=S:R.left=S}p[d-1]=S;return}if(h._color===i)if(g._color===o){g._color=i,g.left=s(o,h);return}else{g.left=s(o,h);continue}else{if(h=f(h),g.left=h.right,h.right=g,h._color=g._color,g._color=o,u(g),u(h),d>1){var R=p[d-2];R.right===g?R.right=h:R.left=h}p[d-1]=h,p[d]=g,d+1<p.length?p[d+1]=_:p.push(_),d=d+2}}}}y.remove=function(){var p=this._stack;if(p.length===0)return this.tree;var _=new Array(p.length),g=p[p.length-1];_[_.length-1]=new l(g._color,g.key,g.value,g.left,g.right,g._count);for(var h=p.length-2;h>=0;--h){var g=p[h];g.left===p[h+1]?_[h]=new l(g._color,g.key,g.value,_[h+1],g.right,g._count):_[h]=new l(g._color,g.key,g.value,g.left,_[h+1],g._count)}if(g=_[_.length-1],g.left&&g.right){var S=_.length;for(g=g.left;g.right;)_.push(g),g=g.right;var d=_[S-1];_.push(new l(g._color,d.key,d.value,g.left,g.right,g._count)),_[S-1].key=g.key,_[S-1].value=g.value;for(var h=_.length-2;h>=S;--h)g=_[h],_[h]=new l(g._color,g.key,g.value,g.left,_[h+1],g._count);_[S-1].left=_[S]}if(g=_[_.length-1],g._color===o){var R=_[_.length-2];R.left===g?R.left=null:R.right===g&&(R.right=null),_.pop();for(var h=0;h<_.length;++h)_[h]._count--;return new c(this.tree._compare,_[0])}else if(g.left||g.right){g.left?M(g,g.left):g.right&&M(g,g.right),g._color=i;for(var h=0;h<_.length-1;++h)_[h]._count--;return new c(this.tree._compare,_[0])}else{if(_.length===1)return new c(this.tree._compare,null);for(var h=0;h<_.length;++h)_[h]._count--;var L=_[_.length-2];E(_),L.left===g?L.left=null:L.right=null}return new c(this.tree._compare,_[0])},Object.defineProperty(y,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(y,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(y,"index",{get:function(){var p=0,_=this._stack;if(_.length===0){var g=this.tree.root;return g?g._count:0}else _[_.length-1].left&&(p=_[_.length-1].left._count);for(var h=_.length-2;h>=0;--h)_[h+1]===_[h].right&&(++p,_[h].left&&(p+=_[h].left._count));return p},enumerable:!0}),y.next=function(){var p=this._stack;if(p.length!==0){var _=p[p.length-1];if(_.right)for(_=_.right;_;)p.push(_),_=_.left;else for(p.pop();p.length>0&&p[p.length-1].right===_;)_=p[p.length-1],p.pop()}},Object.defineProperty(y,"hasNext",{get:function(){var p=this._stack;if(p.length===0)return!1;if(p[p.length-1].right)return!0;for(var _=p.length-1;_>0;--_)if(p[_-1].left===p[_])return!0;return!1}}),y.update=function(p){var _=this._stack;if(_.length===0)throw new Error("Can't update empty node!");var g=new Array(_.length),h=_[_.length-1];g[g.length-1]=new l(h._color,h.key,p,h.left,h.right,h._count);for(var S=_.length-2;S>=0;--S)h=_[S],h.left===_[S+1]?g[S]=new l(h._color,h.key,h.value,g[S+1],h.right,h._count):g[S]=new l(h._color,h.key,h.value,h.left,g[S+1],h._count);return new c(this.tree._compare,g[0])},y.prev=function(){var p=this._stack;if(p.length!==0){var _=p[p.length-1];if(_.left)for(_=_.left;_;)p.push(_),_=_.right;else for(p.pop();p.length>0&&p[p.length-1].left===_;)_=p[p.length-1],p.pop()}},Object.defineProperty(y,"hasPrev",{get:function(){var p=this._stack;if(p.length===0)return!1;if(p[p.length-1].left)return!0;for(var _=p.length-1;_>0;--_)if(p[_-1].right===p[_])return!0;return!1}});function b(p,_){return p<_?-1:p>_?1:0}function T(p){return new c(p||b,null)}},3837:function(a,o,i){"use strict";a.exports=L;var l=i(4935),f=i(501),s=i(5304),u=i(6429),c=i(6444),v=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),x=ArrayBuffer,m=DataView;function w(F){return x.isView(F)&&!(F instanceof m)}function A(F){return Array.isArray(F)||w(F)}function y(F,O){return F[0]=O[0],F[1]=O[1],F[2]=O[2],F}function M(F){this.gl=F,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=s(F)}var E=M.prototype;E.update=function(F){F=F||{};function O(J,le,te){if(te in F){var V=F[te],ne=this[te],Y;(J?A(V)&&A(V[0]):A(V))?this[te]=Y=[le(V[0]),le(V[1]),le(V[2])]:this[te]=Y=[le(V),le(V),le(V)];for(var oe=0;oe<3;++oe)if(Y[oe]!==ne[oe])return!0}return!1}var P=O.bind(this,!1,Number),I=O.bind(this,!1,Boolean),k=O.bind(this,!1,String),D=O.bind(this,!0,function(J){if(A(J)){if(J.length===3)return[+J[0],+J[1],+J[2],1];if(J.length===4)return[+J[0],+J[1],+J[2],+J[3]]}return[0,0,0,1]}),z,q=!1,j=!1;if("bounds"in F)for(var Q=F.bounds,K=0;K<2;++K)for(var G=0;G<3;++G)Q[K][G]!==this.bounds[K][G]&&(j=!0),this.bounds[K][G]=Q[K][G];if("ticks"in F){z=F.ticks,q=!0,this.autoTicks=!1;for(var K=0;K<3;++K)this.tickSpacing[K]=0}else P("tickSpacing")&&(this.autoTicks=!0,j=!0);if(this._firstInit&&("ticks"in F||"tickSpacing"in F||(this.autoTicks=!0),j=!0,q=!0,this._firstInit=!1),j&&this.autoTicks&&(z=c.create(this.bounds,this.tickSpacing),q=!0),q){for(var K=0;K<3;++K)z[K].sort(function(le,te){return le.x-te.x});c.equal(z,this.ticks)?q=!1:this.ticks=z}I("tickEnable"),k("tickFont")&&(q=!0),k("tickFontStyle")&&(q=!0),k("tickFontWeight")&&(q=!0),k("tickFontVariant")&&(q=!0),P("tickSize"),P("tickAngle"),P("tickPad"),D("tickColor");var B=k("labels");k("labelFont")&&(B=!0),k("labelFontStyle")&&(B=!0),k("labelFontWeight")&&(B=!0),k("labelFontVariant")&&(B=!0),I("labelEnable"),P("labelSize"),P("labelPad"),D("labelColor"),I("lineEnable"),I("lineMirror"),P("lineWidth"),D("lineColor"),I("lineTickEnable"),I("lineTickMirror"),P("lineTickLength"),P("lineTickWidth"),D("lineTickColor"),I("gridEnable"),P("gridWidth"),D("gridColor"),I("zeroEnable"),D("zeroLineColor"),P("zeroLineWidth"),I("backgroundEnable"),D("backgroundColor");var Z=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],ie=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(B||q)&&this._text.update(this.bounds,this.labels,Z,this.ticks,ie):this._text=l(this.gl,this.bounds,this.labels,Z,this.ticks,ie),this._lines&&q&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=f(this.gl,this.bounds,this.ticks))};function b(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var T=[new b,new b,new b];function p(F,O,P,I,k){for(var D=F.primalOffset,z=F.primalMinor,q=F.mirrorOffset,j=F.mirrorMinor,Q=I[O],K=0;K<3;++K)if(O!==K){var G=D,B=q,Z=z,ie=j;Q&1<<K&&(G=q,B=D,Z=j,ie=z),G[K]=P[0][K],B[K]=P[1][K],k[K]>0?(Z[K]=-1,ie[K]=0):(Z[K]=0,ie[K]=1)}}var _=[0,0,0],g={model:v,view:v,projection:v,_ortho:!1};E.isOpaque=function(){return!0},E.isTransparent=function(){return!1},E.drawTransparent=function(F){};var h=0,S=[0,0,0],d=[0,0,0],R=[0,0,0];E.draw=function(F){F=F||g;for(var te=this.gl,O=F.model||v,P=F.view||v,I=F.projection||v,k=this.bounds,D=F._ortho||!1,z=u(O,P,I,k,D),q=z.cubeEdges,j=z.axis,Q=P[12],K=P[13],G=P[14],B=P[15],Z=D?2:1,ie=Z*this.pixelRatio*(I[3]*Q+I[7]*K+I[11]*G+I[15]*B)/te.drawingBufferHeight,J=0;J<3;++J)this.lastCubeProps.cubeEdges[J]=q[J],this.lastCubeProps.axis[J]=j[J];for(var le=T,J=0;J<3;++J)p(T[J],J,this.bounds,q,j);for(var te=this.gl,V=_,J=0;J<3;++J)this.backgroundEnable[J]?V[J]=j[J]:V[J]=0;this._background.draw(O,P,I,k,V,this.backgroundColor),this._lines.bind(O,P,I,this);for(var J=0;J<3;++J){var ne=[0,0,0];j[J]>0?ne[J]=k[1][J]:ne[J]=k[0][J];for(var Y=0;Y<2;++Y){var oe=(J+1+Y)%3,pe=(J+1+(Y^1))%3;this.gridEnable[oe]&&this._lines.drawGrid(oe,pe,this.bounds,ne,this.gridColor[oe],this.gridWidth[oe]*this.pixelRatio)}for(var Y=0;Y<2;++Y){var oe=(J+1+Y)%3,pe=(J+1+(Y^1))%3;this.zeroEnable[pe]&&Math.min(k[0][pe],k[1][pe])<=0&&Math.max(k[0][pe],k[1][pe])>=0&&this._lines.drawZero(oe,pe,this.bounds,ne,this.zeroLineColor[pe],this.zeroLineWidth[pe]*this.pixelRatio)}}for(var J=0;J<3;++J){this.lineEnable[J]&&this._lines.drawAxisLine(J,this.bounds,le[J].primalOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio),this.lineMirror[J]&&this._lines.drawAxisLine(J,this.bounds,le[J].mirrorOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio);for(var we=y(S,le[J].primalMinor),De=y(d,le[J].mirrorMinor),Re=this.lineTickLength,Y=0;Y<3;++Y){var Ae=ie/O[5*Y];we[Y]*=Re[Y]*Ae,De[Y]*=Re[Y]*Ae}this.lineTickEnable[J]&&this._lines.drawAxisTicks(J,le[J].primalOffset,we,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio),this.lineTickMirror[J]&&this._lines.drawAxisTicks(J,le[J].mirrorOffset,De,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio)}this._lines.unbind(),this._text.bind(O,P,I,this.pixelRatio);var Ie,Be=.5,je,Ne;function Qe(kr){Ne=[0,0,0],Ne[kr]=1}function pr(kr,Ue,He){var Xe=(kr+1)%3,fr=(kr+2)%3,Mr=Ue[Xe],qr=Ue[fr],et=He[Xe],jr=He[fr];if(Mr>0&&jr>0){Qe(Xe);return}else if(Mr>0&&jr<0){Qe(Xe);return}else if(Mr<0&&jr>0){Qe(Xe);return}else if(Mr<0&&jr<0){Qe(Xe);return}else if(qr>0&&et>0){Qe(fr);return}else if(qr>0&&et<0){Qe(fr);return}else if(qr<0&&et>0){Qe(fr);return}else if(qr<0&&et<0){Qe(fr);return}}for(var J=0;J<3;++J){for(var Se=le[J].primalMinor,Fe=le[J].mirrorMinor,hr=y(R,le[J].primalOffset),Y=0;Y<3;++Y)this.lineTickEnable[J]&&(hr[Y]+=ie*Se[Y]*Math.max(this.lineTickLength[Y],0)/O[5*Y]);var dr=[0,0,0];if(dr[J]=1,this.tickEnable[J]){this.tickAngle[J]===-3600?(this.tickAngle[J]=0,this.tickAlign[J]="auto"):this.tickAlign[J]=-1,je=1,Ie=[this.tickAlign[J],Be,je],Ie[0]==="auto"?Ie[0]=h:Ie[0]=parseInt(""+Ie[0]),Ne=[0,0,0],pr(J,Se,Fe);for(var Y=0;Y<3;++Y)hr[Y]+=ie*Se[Y]*this.tickPad[Y]/O[5*Y];this._text.drawTicks(J,this.tickSize[J],this.tickAngle[J],hr,this.tickColor[J],dr,Ne,Ie)}if(this.labelEnable[J]){je=0,Ne=[0,0,0],this.labels[J].length>4&&(Qe(J),je=1),Ie=[this.labelAlign[J],Be,je],Ie[0]==="auto"?Ie[0]=h:Ie[0]=parseInt(""+Ie[0]);for(var Y=0;Y<3;++Y)hr[Y]+=ie*Se[Y]*this.labelPad[Y]/O[5*Y];hr[J]+=.5*(k[0][J]+k[1][J]),this._text.drawLabel(J,this.labelSize[J],this.labelAngle[J],hr,this.labelColor[J],[0,0,0],Ne,Ie)}}this._text.unbind()},E.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function L(F,O){var P=new M(F);return P.update(O),P}},5304:function(a,o,i){"use strict";a.exports=v;var l=i(2762),f=i(8116),s=i(1879).bg;function u(x,m,w,A){this.gl=x,this.buffer=m,this.vao=w,this.shader=A}var c=u.prototype;c.draw=function(x,m,w,A,y,M){for(var E=!1,b=0;b<3;++b)E=E||y[b];if(E){var T=this.gl;T.enable(T.POLYGON_OFFSET_FILL),T.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:x,view:m,projection:w,bounds:A,enable:y,colors:M},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),T.disable(T.POLYGON_OFFSET_FILL)}},c.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function v(x){for(var m=[],w=[],A=0,y=0;y<3;++y)for(var M=(y+1)%3,E=(y+2)%3,b=[0,0,0],T=[0,0,0],p=-1;p<=1;p+=2){w.push(A,A+2,A+1,A+1,A+2,A+3),b[y]=p,T[y]=p;for(var _=-1;_<=1;_+=2){b[M]=_;for(var g=-1;g<=1;g+=2)b[E]=g,m.push(b[0],b[1],b[2],T[0],T[1],T[2]),A+=1}var h=M;M=E,E=h}var S=l(x,new Float32Array(m)),d=l(x,new Uint16Array(w),x.ELEMENT_ARRAY_BUFFER),R=f(x,[{buffer:S,type:x.FLOAT,size:3,offset:0,stride:24},{buffer:S,type:x.FLOAT,size:3,offset:12,stride:24}],d),L=s(x);return L.attributes.position.location=0,L.attributes.normal.location=1,new u(x,S,R,L)}},6429:function(a,o,i){"use strict";a.exports=p;var l=i(8828),f=i(6760),s=i(5202),u=i(3250),c=new Array(16),v=new Array(8),x=new Array(8),m=new Array(3),w=[0,0,0];(function(){for(var _=0;_<8;++_)v[_]=[1,1,1,1],x[_]=[1,1,1]})();function A(_,g,h){for(var S=0;S<4;++S){_[S]=h[12+S];for(var d=0;d<3;++d)_[S]+=g[d]*h[4*d+S]}}var y=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function M(_){for(var g=0;g<y.length;++g)if(_=s.positive(_,y[g]),_.length<3)return 0;for(var h=_[0],S=h[0]/h[3],d=h[1]/h[3],R=0,g=1;g+1<_.length;++g){var L=_[g],F=_[g+1],O=L[0]/L[3],P=L[1]/L[3],I=F[0]/F[3],k=F[1]/F[3],D=O-S,z=P-d,q=I-S,j=k-d;R+=Math.abs(D*j-z*q)}return R}var E=[1,1,1],b=[0,0,0],T={cubeEdges:E,axis:b};function p(_,g,h,S,d){f(c,g,_),f(c,h,c);for(var R=0,L=0;L<2;++L){m[2]=S[L][2];for(var F=0;F<2;++F){m[1]=S[F][1];for(var O=0;O<2;++O)m[0]=S[O][0],A(v[R],m,c),R+=1}}for(var P=-1,L=0;L<8;++L){for(var I=v[L][3],k=0;k<3;++k)x[L][k]=v[L][k]/I;d&&(x[L][2]*=-1),I<0&&(P<0||x[L][2]<x[P][2])&&(P=L)}if(P<0){P=0;for(var D=0;D<3;++D){for(var z=(D+2)%3,q=(D+1)%3,j=-1,Q=-1,K=0;K<2;++K){var G=K<<D,B=G+(K<<z)+(1-K<<q),Z=G+(1-K<<z)+(K<<q);u(x[G],x[B],x[Z],w)<0||(K?j=1:Q=1)}if(j<0||Q<0){Q>j&&(P|=1<<D);continue}for(var K=0;K<2;++K){var G=K<<D,B=G+(K<<z)+(1-K<<q),Z=G+(1-K<<z)+(K<<q),ie=M([v[G],v[B],v[Z],v[G+(1<<z)+(1<<q)]]);K?j=ie:Q=ie}if(Q>j){P|=1<<D;continue}}}for(var J=7^P,le=-1,L=0;L<8;++L)L===P||L===J||(le<0||x[le][1]>x[L][1])&&(le=L);for(var te=-1,L=0;L<3;++L){var V=le^1<<L;if(!(V===P||V===J)){te<0&&(te=V);var q=x[V];q[0]<x[te][0]&&(te=V)}}for(var ne=-1,L=0;L<3;++L){var V=le^1<<L;if(!(V===P||V===J||V===te)){ne<0&&(ne=V);var q=x[V];q[0]>x[ne][0]&&(ne=V)}}var Y=E;Y[0]=Y[1]=Y[2]=0,Y[l.log2(te^le)]=le&te,Y[l.log2(le^ne)]=le&ne;var oe=ne^7;oe===P||oe===J?(oe=te^7,Y[l.log2(ne^oe)]=oe&ne):Y[l.log2(te^oe)]=oe&te;for(var pe=b,we=P,D=0;D<3;++D)we&1<<D?pe[D]=-1:pe[D]=1;return T}},501:function(a,o,i){"use strict";a.exports=E;var l=i(2762),f=i(8116),s=i(1879).n,u=[0,0,0],c=[0,0,0],v=[0,0,0],x=[0,0,0],m=[1,1];function w(b){return b[0]=b[1]=b[2]=0,b}function A(b,T){return b[0]=T[0],b[1]=T[1],b[2]=T[2],b}function y(b,T,p,_,g,h,S,d){this.gl=b,this.vertBuffer=T,this.vao=p,this.shader=_,this.tickCount=g,this.tickOffset=h,this.gridCount=S,this.gridOffset=d}var M=y.prototype;M.bind=function(b,T,p){this.shader.bind(),this.shader.uniforms.model=b,this.shader.uniforms.view=T,this.shader.uniforms.projection=p,m[0]=this.gl.drawingBufferWidth,m[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=m,this.vao.bind()},M.unbind=function(){this.vao.unbind()},M.drawAxisLine=function(b,T,p,_,g){var h=w(c);this.shader.uniforms.majorAxis=c,h[b]=T[1][b]-T[0][b],this.shader.uniforms.minorAxis=h;var S=A(x,p);S[b]+=T[0][b],this.shader.uniforms.offset=S,this.shader.uniforms.lineWidth=g,this.shader.uniforms.color=_;var d=w(v);d[(b+2)%3]=1,this.shader.uniforms.screenAxis=d,this.vao.draw(this.gl.TRIANGLES,6);var d=w(v);d[(b+1)%3]=1,this.shader.uniforms.screenAxis=d,this.vao.draw(this.gl.TRIANGLES,6)},M.drawAxisTicks=function(b,T,p,_,g){if(this.tickCount[b]){var h=w(u);h[b]=1,this.shader.uniforms.majorAxis=h,this.shader.uniforms.offset=T,this.shader.uniforms.minorAxis=p,this.shader.uniforms.color=_,this.shader.uniforms.lineWidth=g;var S=w(v);S[b]=1,this.shader.uniforms.screenAxis=S,this.vao.draw(this.gl.TRIANGLES,this.tickCount[b],this.tickOffset[b])}},M.drawGrid=function(b,T,p,_,g,h){if(this.gridCount[b]){var S=w(c);S[T]=p[1][T]-p[0][T],this.shader.uniforms.minorAxis=S;var d=A(x,_);d[T]+=p[0][T],this.shader.uniforms.offset=d;var R=w(u);R[b]=1,this.shader.uniforms.majorAxis=R;var L=w(v);L[b]=1,this.shader.uniforms.screenAxis=L,this.shader.uniforms.lineWidth=h,this.shader.uniforms.color=g,this.vao.draw(this.gl.TRIANGLES,this.gridCount[b],this.gridOffset[b])}},M.drawZero=function(b,T,p,_,g,h){var S=w(c);this.shader.uniforms.majorAxis=S,S[b]=p[1][b]-p[0][b],this.shader.uniforms.minorAxis=S;var d=A(x,_);d[b]+=p[0][b],this.shader.uniforms.offset=d;var R=w(v);R[T]=1,this.shader.uniforms.screenAxis=R,this.shader.uniforms.lineWidth=h,this.shader.uniforms.color=g,this.vao.draw(this.gl.TRIANGLES,6)},M.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function E(b,T,p){var _=[],g=[0,0,0],h=[0,0,0],S=[0,0,0],d=[0,0,0];_.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var R=0;R<3;++R){for(var O=_.length/3|0,L=0;L<p[R].length;++L){var F=+p[R][L].x;_.push(F,0,1,F,1,1,F,0,-1,F,0,-1,F,1,1,F,1,-1)}var I=_.length/3|0;g[R]=O,h[R]=I-O;for(var O=_.length/3|0,P=0;P<p[R].length;++P){var F=+p[R][P].x;_.push(F,0,1,F,1,1,F,0,-1,F,0,-1,F,1,1,F,1,-1)}var I=_.length/3|0;S[R]=O,d[R]=I-O}var k=l(b,new Float32Array(_)),D=f(b,[{buffer:k,type:b.FLOAT,size:3,stride:0,offset:0}]),z=s(b);return z.attributes.position.location=0,new y(b,k,D,z,h,g,d,S)}},1879:function(a,o,i){"use strict";var l=i(3236),f=i(9405),s=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),u=l([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);o.n=function(w){return f(w,s,u,null,[{name:"position",type:"vec3"}])};var c=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}
`]),v=l([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);o.Q=function(w){return f(w,c,v,null,[{name:"position",type:"vec3"}])};var x=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * (view * (model * vec4(nPosition, 1.0)));
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}
`]),m=l([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);o.bg=function(w){return f(w,x,m,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(a,o,i){"use strict";a.exports=M;var l=i(2762),f=i(8116),s=i(4359),u=i(1879).Q,c=window||process.global||{},v=c.__TEXT_CACHE||{};c.__TEXT_CACHE={};var x=3;function m(E,b,T,p){this.gl=E,this.shader=b,this.buffer=T,this.vao=p,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var w=m.prototype,A=[0,0];w.bind=function(E,b,T,p){this.vao.bind(),this.shader.bind();var _=this.shader.uniforms;_.model=E,_.view=b,_.projection=T,_.pixelScale=p,A[0]=this.gl.drawingBufferWidth,A[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=A},w.unbind=function(){this.vao.unbind()},w.update=function(E,b,T,p,_){var g=[];function h(D,z,q,j,Q,K){var G=[q.style,q.weight,q.variant,q.family].join("_"),B=v[G];B||(B=v[G]={});var Z=B[z];Z||(Z=B[z]=y(z,{triangles:!0,font:q.family,fontStyle:q.style,fontWeight:q.weight,fontVariant:q.variant,textAlign:"center",textBaseline:"middle",lineSpacing:Q,styletags:K}));for(var ie=(j||12)/12,J=Z.positions,le=Z.cells,te=0,V=le.length;te<V;++te)for(var ne=le[te],Y=2;Y>=0;--Y){var oe=J[ne[Y]];g.push(ie*oe[0],-ie*oe[1],D)}}for(var S=[0,0,0],d=[0,0,0],R=[0,0,0],L=[0,0,0],F=1.25,O={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},P=0;P<3;++P){R[P]=g.length/x|0,h(.5*(E[0][P]+E[1][P]),b[P],T[P],12,F,O),L[P]=(g.length/x|0)-R[P],S[P]=g.length/x|0;for(var I=0;I<p[P].length;++I)if(p[P][I].text){var k={family:p[P][I].font||_[P].family,style:_[P].fontStyle||_[P].style,weight:_[P].fontWeight||_[P].weight,variant:_[P].fontVariant||_[P].variant};h(p[P][I].x,p[P][I].text,k,p[P][I].fontSize||12,F,O)}d[P]=(g.length/x|0)-S[P]}this.buffer.update(g),this.tickOffset=S,this.tickCount=d,this.labelOffset=R,this.labelCount=L},w.drawTicks=function(E,b,T,p,_,g,h,S){this.tickCount[E]&&(this.shader.uniforms.axis=g,this.shader.uniforms.color=_,this.shader.uniforms.angle=T,this.shader.uniforms.scale=b,this.shader.uniforms.offset=p,this.shader.uniforms.alignDir=h,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.tickCount[E],this.tickOffset[E]))},w.drawLabel=function(E,b,T,p,_,g,h,S){this.labelCount[E]&&(this.shader.uniforms.axis=g,this.shader.uniforms.color=_,this.shader.uniforms.angle=T,this.shader.uniforms.scale=b,this.shader.uniforms.offset=p,this.shader.uniforms.alignDir=h,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.labelCount[E],this.labelOffset[E]))},w.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function y(E,b){try{return s(E,b)}catch(T){return console.warn('error vectorizing text:"'+E+'" error:',T),{cells:[],positions:[]}}}function M(E,b,T,p,_,g){var h=l(E),S=f(E,[{buffer:h,size:3}]),d=u(E);d.attributes.position.location=0;var R=new m(E,d,h,S);return R.update(b,T,p,_,g),R}},6444:function(a,o){"use strict";o.create=l,o.equal=f;function i(s,u){var c=s+"",v=c.indexOf("."),x=0;v>=0&&(x=c.length-v-1);var m=Math.pow(10,x),w=Math.round(s*u*m),A=w+"";if(A.indexOf("e")>=0)return A;var y=w/m,M=w%m;w<0?(y=-Math.ceil(y)|0,M=-M|0):(y=Math.floor(y)|0,M=M|0);var E=""+y;if(w<0&&(E="-"+E),x){for(var b=""+M;b.length<x;)b="0"+b;return E+"."+b}else return E}function l(s,u){for(var c=[],v=0;v<3;++v){for(var x=[],m=.5*(s[0][v]+s[1][v]),w=0;w*u[v]<=s[1][v];++w)x.push({x:w*u[v],text:i(u[v],w)});for(var w=-1;w*u[v]>=s[0][v];--w)x.push({x:w*u[v],text:i(u[v],w)});c.push(x)}return c}function f(s,u){for(var c=0;c<3;++c){if(s[c].length!==u[c].length)return!1;for(var v=0;v<s[c].length;++v){var x=s[c][v],m=u[c][v];if(x.x!==m.x||x.text!==m.text||x.font!==m.font||x.fontColor!==m.fontColor||x.fontSize!==m.fontSize||x.dx!==m.dx||x.dy!==m.dy)return!1}}return!0}},5445:function(a,o,i){"use strict";a.exports=T;var l=i(5033),f=i(5202),s=i(6429),u=i(6760),c=i(5665),v=i(5352),x=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),m=new Float32Array(16);function w(p,_,g){this.lo=p,this.hi=_,this.pixelsPerDataUnit=g}var A=[0,0,0,1],y=[0,0,0,1];function M(p,_,g,h,S){for(var d=0;d<3;++d){for(var R=A,L=y,F=0;F<3;++F)L[F]=R[F]=g[F];L[3]=R[3]=1,L[d]+=1,v(L,L,_),L[3]<0&&(p[d]=1/0),R[d]-=1,v(R,R,_),R[3]<0&&(p[d]=1/0);var O=(R[0]/R[3]-L[0]/L[3])*h,P=(R[1]/R[3]-L[1]/L[3])*S;p[d]=.25*Math.sqrt(O*O+P*P)}return p}var E=[new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0)],b=[0,0,0];function T(p,_,g,h,P){var d=_.model||x,R=_.view||x,L=_.projection||x,F=_._ortho||!1,O=p.bounds,P=P||s(d,R,L,O,F),I=P.axis;u(m,R,d),u(m,L,m);for(var k=E,D=0;D<3;++D)k[D].lo=1/0,k[D].hi=-1/0,k[D].pixelsPerDataUnit=1/0;var z=l(c(m,m));c(m,m);for(var q=0;q<3;++q){var j=(q+1)%3,Q=(q+2)%3,K=b;e:for(var D=0;D<2;++D){var G=[];if(I[q]<0!=!!D){K[q]=O[D][q];for(var B=0;B<2;++B){K[j]=O[B^D][j];for(var Z=0;Z<2;++Z)K[Q]=O[Z^B^D][Q],G.push(K.slice())}for(var ie=F?5:4,B=ie;B===ie;++B){if(G.length===0)continue e;G=f.positive(G,z[B])}for(var B=0;B<G.length;++B)for(var Q=G[B],J=M(b,m,Q,g,h),Z=0;Z<3;++Z)k[Z].lo=Math.min(k[Z].lo,Q[Z]),k[Z].hi=Math.max(k[Z].hi,Q[Z]),Z!==q&&(k[Z].pixelsPerDataUnit=Math.min(k[Z].pixelsPerDataUnit,Math.abs(J[Z])))}}}return k}},2762:function(a,o,i){"use strict";var l=i(1888),f=i(5298),s=i(9618),u=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function c(y,M,E,b,T){this.gl=y,this.type=M,this.handle=E,this.length=b,this.usage=T}var v=c.prototype;v.bind=function(){this.gl.bindBuffer(this.type,this.handle)},v.unbind=function(){this.gl.bindBuffer(this.type,null)},v.dispose=function(){this.gl.deleteBuffer(this.handle)};function x(y,M,E,b,T,p){var _=T.length*T.BYTES_PER_ELEMENT;if(p<0)return y.bufferData(M,T,b),_;if(_+p>E)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return y.bufferSubData(M,p,T),E}function m(y,M){for(var E=l.malloc(y.length,M),b=y.length,T=0;T<b;++T)E[T]=y[T];return E}function w(y,M){for(var E=1,b=M.length-1;b>=0;--b){if(M[b]!==E)return!1;E*=y[b]}return!0}v.update=function(y,M){if(typeof M!="number"&&(M=-1),this.bind(),typeof y=="object"&&typeof y.shape!="undefined"){var E=y.dtype;if(u.indexOf(E)<0&&(E="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var b=gl.getExtension("OES_element_index_uint");b&&E!=="uint16"?E="uint32":E="uint16"}if(E===y.dtype&&w(y.shape,y.stride))y.offset===0&&y.data.length===y.shape[0]?this.length=x(this.gl,this.type,this.length,this.usage,y.data,M):this.length=x(this.gl,this.type,this.length,this.usage,y.data.subarray(y.offset,y.shape[0]),M);else{var T=l.malloc(y.size,E),p=s(T,y.shape);f.assign(p,y),M<0?this.length=x(this.gl,this.type,this.length,this.usage,T,M):this.length=x(this.gl,this.type,this.length,this.usage,T.subarray(0,y.size),M),l.free(T)}}else if(Array.isArray(y)){var _;this.type===this.gl.ELEMENT_ARRAY_BUFFER?_=m(y,"uint16"):_=m(y,"float32"),M<0?this.length=x(this.gl,this.type,this.length,this.usage,_,M):this.length=x(this.gl,this.type,this.length,this.usage,_.subarray(0,y.length),M),l.free(_)}else if(typeof y=="object"&&typeof y.length=="number")this.length=x(this.gl,this.type,this.length,this.usage,y,M);else if(typeof y=="number"||y===void 0){if(M>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");y=y|0,y<=0&&(y=1),this.gl.bufferData(this.type,y|0,this.usage),this.length=y}else throw new Error("gl-buffer: Invalid data type")};function A(y,M,E,b){if(E=E||y.ARRAY_BUFFER,b=b||y.DYNAMIC_DRAW,E!==y.ARRAY_BUFFER&&E!==y.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(b!==y.DYNAMIC_DRAW&&b!==y.STATIC_DRAW&&b!==y.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var T=y.createBuffer(),p=new c(y,E,T,0,b);return p.update(M),p}a.exports=A},6405:function(a,o,i){"use strict";var l=i(2931);a.exports=function(s,u){var c=s.positions,v=s.vectors,x={positions:[],vertexIntensity:[],vertexIntensityBounds:s.vertexIntensityBounds,vectors:[],cells:[],coneOffset:s.coneOffset,colormap:s.colormap};if(s.positions.length===0)return u&&(u[0]=[0,0,0],u[1]=[0,0,0]),x;for(var m=0,w=1/0,A=-1/0,y=1/0,M=-1/0,E=1/0,b=-1/0,T=null,p=null,_=[],g=1/0,h=!1,S=s.coneSizemode==="raw",d=0;d<c.length;d++){var R=c[d];w=Math.min(R[0],w),A=Math.max(R[0],A),y=Math.min(R[1],y),M=Math.max(R[1],M),E=Math.min(R[2],E),b=Math.max(R[2],b);var L=v[d];if(l.length(L)>m&&(m=l.length(L)),d&&!S){var F=2*l.distance(T,R)/(l.length(p)+l.length(L));F?(g=Math.min(g,F),h=!1):h=!0}h||(T=R,p=L),_.push(L)}var O=[w,y,E],P=[A,M,b];u&&(u[0]=O,u[1]=P),m===0&&(m=1);var I=1/m;isFinite(g)||(g=1),x.vectorScale=g;var k=s.coneSize||(S?1:.5);s.absoluteConeSize&&(k=s.absoluteConeSize*I),x.coneScale=k;for(var d=0,D=0;d<c.length;d++)for(var R=c[d],z=R[0],q=R[1],j=R[2],Q=_[d],K=l.length(Q)*I,G=0,B=8;G<B;G++){x.positions.push([z,q,j,D++]),x.positions.push([z,q,j,D++]),x.positions.push([z,q,j,D++]),x.positions.push([z,q,j,D++]),x.positions.push([z,q,j,D++]),x.positions.push([z,q,j,D++]),x.vectors.push(Q),x.vectors.push(Q),x.vectors.push(Q),x.vectors.push(Q),x.vectors.push(Q),x.vectors.push(Q),x.vertexIntensity.push(K,K,K),x.vertexIntensity.push(K,K,K);var Z=x.positions.length;x.cells.push([Z-6,Z-5,Z-4],[Z-3,Z-2,Z-1])}return x};var f=i(614);a.exports.createMesh=i(9060),a.exports.createConeMesh=function(s,u){return a.exports.createMesh(s,u,{shaders:f,traceType:"cone"})}},9060:function(a,o,i){"use strict";var l=i(9405),f=i(2762),s=i(8116),u=i(7766),c=i(6760),v=i(7608),x=i(9618),m=i(6729),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function A(_,g,h,S,d,R,L,F,O,P,I){this.gl=_,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=g,this.dirty=!0,this.triShader=h,this.pickShader=S,this.trianglePositions=d,this.triangleVectors=R,this.triangleColors=F,this.triangleUVs=O,this.triangleIds=L,this.triangleVAO=P,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=I,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=w,this._view=w,this._projection=w,this._resolution=[1,1]}var y=A.prototype;y.isOpaque=function(){return this.opacity>=1},y.isTransparent=function(){return this.opacity<1},y.pickSlots=1,y.setPickBase=function(_){this.pickId=_};function M(_){for(var g=m({colormap:_,nshades:256,format:"rgba"}),h=new Uint8Array(256*4),S=0;S<256;++S){for(var d=g[S],R=0;R<3;++R)h[4*S+R]=d[R];h[4*S+3]=d[3]*255}return x(h,[256,256,4],[4,0,1])}function E(_){for(var g=_.length,h=new Array(g),S=0;S<g;++S)h[S]=_[S][2];return h}y.update=function(_){_=_||{};var g=this.gl;this.dirty=!0,"lightPosition"in _&&(this.lightPosition=_.lightPosition),"opacity"in _&&(this.opacity=_.opacity),"ambient"in _&&(this.ambientLight=_.ambient),"diffuse"in _&&(this.diffuseLight=_.diffuse),"specular"in _&&(this.specularLight=_.specular),"roughness"in _&&(this.roughness=_.roughness),"fresnel"in _&&(this.fresnel=_.fresnel),_.tubeScale!==void 0&&(this.tubeScale=_.tubeScale),_.vectorScale!==void 0&&(this.vectorScale=_.vectorScale),_.coneScale!==void 0&&(this.coneScale=_.coneScale),_.coneOffset!==void 0&&(this.coneOffset=_.coneOffset),_.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=g.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=g.LINEAR,this.texture.setPixels(M(_.colormap)),this.texture.generateMipmap());var h=_.cells,S=_.positions,d=_.vectors;if(!(!S||!h||!d)){var R=[],L=[],F=[],O=[],P=[];this.cells=h,this.positions=S,this.vectors=d;var I=_.meshColor||[1,1,1,1],k=_.vertexIntensity,D=1/0,z=-1/0;if(k)if(_.vertexIntensityBounds)D=+_.vertexIntensityBounds[0],z=+_.vertexIntensityBounds[1];else for(var q=0;q<k.length;++q){var j=k[q];D=Math.min(D,j),z=Math.max(z,j)}else for(var q=0;q<S.length;++q){var j=S[q][2];D=Math.min(D,j),z=Math.max(z,j)}k?this.intensity=k:this.intensity=E(S),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var q=0;q<S.length;++q)for(var Q=S[q],K=0;K<3;++K)isNaN(Q[K])||!isFinite(Q[K])||(this.bounds[0][K]=Math.min(this.bounds[0][K],Q[K]),this.bounds[1][K]=Math.max(this.bounds[1][K],Q[K]));var G=0;e:for(var q=0;q<h.length;++q){var B=h[q];switch(B.length){case 3:for(var K=0;K<3;++K)for(var Z=B[K],Q=S[Z],ie=0;ie<3;++ie)if(isNaN(Q[ie])||!isFinite(Q[ie]))continue e;for(var K=0;K<3;++K){var Z=B[2-K],Q=S[Z];R.push(Q[0],Q[1],Q[2],Q[3]);var J=d[Z];L.push(J[0],J[1],J[2],J[3]||0);var le=I;le.length===3?F.push(le[0],le[1],le[2],1):F.push(le[0],le[1],le[2],le[3]);var te;k?te=[(k[Z]-D)/(z-D),0]:te=[(Q[2]-D)/(z-D),0],O.push(te[0],te[1]),P.push(q)}G+=1;break;default:break}}this.triangleCount=G,this.trianglePositions.update(R),this.triangleVectors.update(L),this.triangleColors.update(F),this.triangleUVs.update(O),this.triangleIds.update(new Uint32Array(P))}},y.drawTransparent=y.draw=function(_){_=_||{};for(var g=this.gl,h=_.model||w,S=_.view||w,d=_.projection||w,R=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],L=0;L<3;++L)R[0][L]=Math.max(R[0][L],this.clipBounds[0][L]),R[1][L]=Math.min(R[1][L],this.clipBounds[1][L]);var F={model:h,view:S,projection:d,inverseModel:w.slice(),clipBounds:R,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};F.inverseModel=v(F.inverseModel,F.model),g.disable(g.CULL_FACE),this.texture.bind(0);var O=new Array(16);c(O,F.view,F.model),c(O,F.projection,O),v(O,O);for(var L=0;L<3;++L)F.eyePosition[L]=O[12+L]/O[15];for(var P=O[15],L=0;L<3;++L)P+=this.lightPosition[L]*O[4*L+3];for(var L=0;L<3;++L){for(var I=O[12+L],k=0;k<3;++k)I+=O[4*k+L]*this.lightPosition[k];F.lightPosition[L]=I/P}if(this.triangleCount>0){var D=this.triShader;D.bind(),D.uniforms=F,this.triangleVAO.bind(),g.drawArrays(g.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},y.drawPick=function(_){_=_||{};for(var g=this.gl,h=_.model||w,S=_.view||w,d=_.projection||w,R=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],L=0;L<3;++L)R[0][L]=Math.max(R[0][L],this.clipBounds[0][L]),R[1][L]=Math.min(R[1][L],this.clipBounds[1][L]);this._model=[].slice.call(h),this._view=[].slice.call(S),this._projection=[].slice.call(d),this._resolution=[g.drawingBufferWidth,g.drawingBufferHeight];var F={model:h,view:S,projection:d,clipBounds:R,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},O=this.pickShader;O.bind(),O.uniforms=F,this.triangleCount>0&&(this.triangleVAO.bind(),g.drawArrays(g.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},y.pick=function(_){if(!_||_.id!==this.pickId)return null;var g=_.value[0]+256*_.value[1]+65536*_.value[2],h=this.cells[g],S=this.positions[h[1]].slice(0,3),d={position:S,dataCoordinate:S,index:Math.floor(h[1]/48)};return this.traceType==="cone"?d.index=Math.floor(h[1]/48):this.traceType==="streamtube"&&(d.intensity=this.intensity[h[1]],d.velocity=this.vectors[h[1]].slice(0,3),d.divergence=this.vectors[h[1]][3],d.index=g),d},y.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function b(_,g){var h=l(_,g.meshShader.vertex,g.meshShader.fragment,null,g.meshShader.attributes);return h.attributes.position.location=0,h.attributes.color.location=2,h.attributes.uv.location=3,h.attributes.vector.location=4,h}function T(_,g){var h=l(_,g.pickShader.vertex,g.pickShader.fragment,null,g.pickShader.attributes);return h.attributes.position.location=0,h.attributes.id.location=1,h.attributes.vector.location=4,h}function p(_,g,h){var S=h.shaders;arguments.length===1&&(g=_,_=g.gl);var d=b(_,S),R=T(_,S),L=u(_,x(new Uint8Array([255,255,255,255]),[1,1,4]));L.generateMipmap(),L.minFilter=_.LINEAR_MIPMAP_LINEAR,L.magFilter=_.LINEAR;var F=f(_),O=f(_),P=f(_),I=f(_),k=f(_),D=s(_,[{buffer:F,type:_.FLOAT,size:4},{buffer:k,type:_.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:P,type:_.FLOAT,size:4},{buffer:I,type:_.FLOAT,size:2},{buffer:O,type:_.FLOAT,size:4}]),z=new A(_,L,d,R,F,O,k,P,I,D,h.traceType||"cone");return z.update(g),z}a.exports=p},614:function(a,o,i){var l=i(3236),f=l([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),s=l([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),u=l([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * (view * conePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),c=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);o.meshShader={vertex:f,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},o.pickShader={vertex:u,fragment:c,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(a){a.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(a,o,i){var l=i(737);a.exports=function(s){return l[s]}},9165:function(a,o,i){"use strict";a.exports=A;var l=i(2762),f=i(8116),s=i(3436),u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(y,M,E,b){this.gl=y,this.shader=b,this.buffer=M,this.vao=E,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var v=c.prototype;v.isOpaque=function(){return!this.hasAlpha},v.isTransparent=function(){return this.hasAlpha},v.drawTransparent=v.draw=function(y){var M=this.gl,E=this.shader.uniforms;this.shader.bind();var b=E.view=y.view||u,T=E.projection=y.projection||u;E.model=y.model||u,E.clipBounds=this.clipBounds,E.opacity=this.opacity;var p=b[12],_=b[13],g=b[14],h=b[15],S=y._ortho||!1,d=S?2:1,R=d*this.pixelRatio*(T[3]*p+T[7]*_+T[11]*g+T[15]*h)/M.drawingBufferHeight;this.vao.bind();for(var L=0;L<3;++L)M.lineWidth(this.lineWidth[L]*this.pixelRatio),E.capSize=this.capSize[L]*R,this.lineCount[L]&&M.drawArrays(M.LINES,this.lineOffset[L],this.lineCount[L]);this.vao.unbind()};function x(y,M){for(var E=0;E<3;++E)y[0][E]=Math.min(y[0][E],M[E]),y[1][E]=Math.max(y[1][E],M[E])}var m=function(){for(var y=new Array(3),M=0;M<3;++M){for(var E=[],b=1;b<=2;++b)for(var T=-1;T<=1;T+=2){var p=(b+M)%3,_=[0,0,0];_[p]=T,E.push(_)}y[M]=E}return y}();function w(y,M,E,b){for(var T=m[b],p=0;p<T.length;++p){var _=T[p];y.push(M[0],M[1],M[2],E[0],E[1],E[2],E[3],_[0],_[1],_[2])}return T.length}v.update=function(y){y=y||{},"lineWidth"in y&&(this.lineWidth=y.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in y&&(this.capSize=y.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in y&&(this.opacity=+y.opacity,this.opacity<1&&(this.hasAlpha=!0));var M=y.color||[[0,0,0],[0,0,0],[0,0,0]],E=y.position,b=y.error;if(Array.isArray(M[0])||(M=[M,M,M]),E&&b){var T=[],p=E.length,_=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var g=0;g<3;++g){this.lineOffset[g]=_;e:for(var h=0;h<p;++h){for(var S=E[h],d=0;d<3;++d)if(isNaN(S[d])||!isFinite(S[d]))continue e;var R=b[h],L=M[g];if(Array.isArray(L[0])&&(L=M[h]),L.length===3?L=[L[0],L[1],L[2],1]:L.length===4&&(L=[L[0],L[1],L[2],L[3]],!this.hasAlpha&&L[3]<1&&(this.hasAlpha=!0)),!(isNaN(R[0][g])||isNaN(R[1][g]))){if(R[0][g]<0){var F=S.slice();F[g]+=R[0][g],T.push(S[0],S[1],S[2],L[0],L[1],L[2],L[3],0,0,0,F[0],F[1],F[2],L[0],L[1],L[2],L[3],0,0,0),x(this.bounds,F),_+=2+w(T,F,L,g)}if(R[1][g]>0){var F=S.slice();F[g]+=R[1][g],T.push(S[0],S[1],S[2],L[0],L[1],L[2],L[3],0,0,0,F[0],F[1],F[2],L[0],L[1],L[2],L[3],0,0,0),x(this.bounds,F),_+=2+w(T,F,L,g)}}}this.lineCount[g]=_-this.lineOffset[g]}this.buffer.update(T)}},v.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function A(y){var M=y.gl,E=l(M),b=f(M,[{buffer:E,type:M.FLOAT,size:3,offset:0,stride:40},{buffer:E,type:M.FLOAT,size:4,offset:12,stride:40},{buffer:E,type:M.FLOAT,size:3,offset:28,stride:40}]),T=s(M);T.attributes.position.location=0,T.attributes.color.location=1,T.attributes.offset.location=2;var p=new c(M,E,b,T);return p.update(y),p}},3436:function(a,o,i){"use strict";var l=i(3236),f=i(9405),s=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * (view * worldPosition);
  fragColor           = color;
  fragPosition        = position;
}`]),u=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);a.exports=function(c){return f(c,s,u,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(a,o,i){"use strict";var l=i(7766);a.exports=_;var f=null,s,u,c,v;function x(g){var h=g.getParameter(g.FRAMEBUFFER_BINDING),S=g.getParameter(g.RENDERBUFFER_BINDING),d=g.getParameter(g.TEXTURE_BINDING_2D);return[h,S,d]}function m(g,h){g.bindFramebuffer(g.FRAMEBUFFER,h[0]),g.bindRenderbuffer(g.RENDERBUFFER,h[1]),g.bindTexture(g.TEXTURE_2D,h[2])}function w(g,h){var S=g.getParameter(h.MAX_COLOR_ATTACHMENTS_WEBGL);f=new Array(S+1);for(var d=0;d<=S;++d){for(var R=new Array(S),L=0;L<d;++L)R[L]=g.COLOR_ATTACHMENT0+L;for(var L=d;L<S;++L)R[L]=g.NONE;f[d]=R}}function A(g){switch(g){case s:throw new Error("gl-fbo: Framebuffer unsupported");case u:throw new Error("gl-fbo: Framebuffer incomplete attachment");case c:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case v:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function y(g,h,S,d,R,L){if(!d)return null;var F=l(g,h,S,R,d);return F.magFilter=g.NEAREST,F.minFilter=g.NEAREST,F.mipSamples=1,F.bind(),g.framebufferTexture2D(g.FRAMEBUFFER,L,g.TEXTURE_2D,F.handle,0),F}function M(g,h,S,d,R){var L=g.createRenderbuffer();return g.bindRenderbuffer(g.RENDERBUFFER,L),g.renderbufferStorage(g.RENDERBUFFER,d,h,S),g.framebufferRenderbuffer(g.FRAMEBUFFER,R,g.RENDERBUFFER,L),L}function E(g){var h=x(g.gl),S=g.gl,d=g.handle=S.createFramebuffer(),R=g._shape[0],L=g._shape[1],F=g.color.length,O=g._ext,P=g._useStencil,I=g._useDepth,k=g._colorType;S.bindFramebuffer(S.FRAMEBUFFER,d);for(var D=0;D<F;++D)g.color[D]=y(S,R,L,k,S.RGBA,S.COLOR_ATTACHMENT0+D);F===0?(g._color_rb=M(S,R,L,S.RGBA4,S.COLOR_ATTACHMENT0),O&&O.drawBuffersWEBGL(f[0])):F>1&&O.drawBuffersWEBGL(f[F]);var z=S.getExtension("WEBGL_depth_texture");z?P?g.depth=y(S,R,L,z.UNSIGNED_INT_24_8_WEBGL,S.DEPTH_STENCIL,S.DEPTH_STENCIL_ATTACHMENT):I&&(g.depth=y(S,R,L,S.UNSIGNED_SHORT,S.DEPTH_COMPONENT,S.DEPTH_ATTACHMENT)):I&&P?g._depth_rb=M(S,R,L,S.DEPTH_STENCIL,S.DEPTH_STENCIL_ATTACHMENT):I?g._depth_rb=M(S,R,L,S.DEPTH_COMPONENT16,S.DEPTH_ATTACHMENT):P&&(g._depth_rb=M(S,R,L,S.STENCIL_INDEX,S.STENCIL_ATTACHMENT));var q=S.checkFramebufferStatus(S.FRAMEBUFFER);if(q!==S.FRAMEBUFFER_COMPLETE){g._destroyed=!0,S.bindFramebuffer(S.FRAMEBUFFER,null),S.deleteFramebuffer(g.handle),g.handle=null,g.depth&&(g.depth.dispose(),g.depth=null),g._depth_rb&&(S.deleteRenderbuffer(g._depth_rb),g._depth_rb=null);for(var D=0;D<g.color.length;++D)g.color[D].dispose(),g.color[D]=null;g._color_rb&&(S.deleteRenderbuffer(g._color_rb),g._color_rb=null),m(S,h),A(q)}m(S,h)}function b(g,h,S,d,R,L,F,O){this.gl=g,this._shape=[h|0,S|0],this._destroyed=!1,this._ext=O,this.color=new Array(R);for(var P=0;P<R;++P)this.color[P]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=d,this._useDepth=L,this._useStencil=F;var I=this,k=[h|0,S|0];Object.defineProperties(k,{0:{get:function(){return I._shape[0]},set:function(D){return I.width=D}},1:{get:function(){return I._shape[1]},set:function(D){return I.height=D}}}),this._shapeVector=k,E(this)}var T=b.prototype;function p(g,h,S){if(g._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(g._shape[0]===h&&g._shape[1]===S)){var d=g.gl,R=d.getParameter(d.MAX_RENDERBUFFER_SIZE);if(h<0||h>R||S<0||S>R)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");g._shape[0]=h,g._shape[1]=S;for(var L=x(d),F=0;F<g.color.length;++F)g.color[F].shape=g._shape;g._color_rb&&(d.bindRenderbuffer(d.RENDERBUFFER,g._color_rb),d.renderbufferStorage(d.RENDERBUFFER,d.RGBA4,g._shape[0],g._shape[1])),g.depth&&(g.depth.shape=g._shape),g._depth_rb&&(d.bindRenderbuffer(d.RENDERBUFFER,g._depth_rb),g._useDepth&&g._useStencil?d.renderbufferStorage(d.RENDERBUFFER,d.DEPTH_STENCIL,g._shape[0],g._shape[1]):g._useDepth?d.renderbufferStorage(d.RENDERBUFFER,d.DEPTH_COMPONENT16,g._shape[0],g._shape[1]):g._useStencil&&d.renderbufferStorage(d.RENDERBUFFER,d.STENCIL_INDEX,g._shape[0],g._shape[1])),d.bindFramebuffer(d.FRAMEBUFFER,g.handle);var O=d.checkFramebufferStatus(d.FRAMEBUFFER);O!==d.FRAMEBUFFER_COMPLETE&&(g.dispose(),m(d,L),A(O)),m(d,L)}}Object.defineProperties(T,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(g){if(Array.isArray(g)||(g=[g|0,g|0]),g.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var h=g[0]|0,S=g[1]|0;return p(this,h,S),[h,S]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(g){return g=g|0,p(this,g,this._shape[1]),g},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(g){return g=g|0,p(this,this._shape[0],g),g},enumerable:!1}}),T.bind=function(){if(!this._destroyed){var g=this.gl;g.bindFramebuffer(g.FRAMEBUFFER,this.handle),g.viewport(0,0,this._shape[0],this._shape[1])}},T.dispose=function(){if(!this._destroyed){this._destroyed=!0;var g=this.gl;g.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(g.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var h=0;h<this.color.length;++h)this.color[h].dispose(),this.color[h]=null;this._color_rb&&(g.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function _(g,h,S,d){s||(s=g.FRAMEBUFFER_UNSUPPORTED,u=g.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,c=g.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,v=g.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var R=g.getExtension("WEBGL_draw_buffers");if(!f&&R&&w(g,R),Array.isArray(h)&&(d=S,S=h[1]|0,h=h[0]|0),typeof h!="number")throw new Error("gl-fbo: Missing shape parameter");var L=g.getParameter(g.MAX_RENDERBUFFER_SIZE);if(h<0||h>L||S<0||S>L)throw new Error("gl-fbo: Parameters are too large for FBO");d=d||{};var F=1;if("color"in d){if(F=Math.max(d.color|0,0),F<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(F>1)if(R){if(F>g.getParameter(R.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+F+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var O=g.UNSIGNED_BYTE,P=g.getExtension("OES_texture_float");if(d.float&&F>0){if(!P)throw new Error("gl-fbo: Context does not support floating point textures");O=g.FLOAT}else d.preferFloat&&F>0&&P&&(O=g.FLOAT);var I=!0;"depth"in d&&(I=!!d.depth);var k=!1;return"stencil"in d&&(k=!!d.stencil),new b(g,h,S,O,F,I,k,R)}},2992:function(a,o,i){var l=i(3387).sprintf,f=i(5171),s=i(1848),u=i(1085);a.exports=c;function c(v,x,m){"use strict";var w=s(x)||"of unknown name (see npm glsl-shader-name)",A="unknown type";m!==void 0&&(A=m===f.FRAGMENT_SHADER?"fragment":"vertex");for(var y=l(`Error compiling %s shader %s:
`,A,w),M=l("%s%s",y,v),E=v.split(`
`),b={},T=0;T<E.length;T++){var p=E[T];if(!(p===""||p==="\0")){var _=parseInt(p.split(":")[2]);if(isNaN(_))throw new Error(l("Could not parse error: %s",p));b[_]=p}}for(var g=u(x).split(`
`),T=0;T<g.length;T++)if(!(!b[T+3]&&!b[T+2]&&!b[T+1])){var h=g[T];if(y+=h+`
`,b[T+1]){var S=b[T+1];S=S.substr(S.split(":",3).join(":").length+1).trim(),y+=l(`^^^ %s

`,S)}}return{long:y.trim(),short:M.trim()}}},7319:function(a,o,i){var l=i(3236),f=i(9405),s=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),u=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),c=l([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),v=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];o.createShader=function(x){return f(x,s,u,null,v)},o.createPickShader=function(x){return f(x,s,c,null,v)}},5714:function(a,o,i){"use strict";a.exports=g;var l=i(2762),f=i(8116),s=i(7766),u=new Uint8Array(4),c=new Float32Array(u.buffer);function v(h,S,d,R){return u[0]=R,u[1]=d,u[2]=S,u[3]=h,c[0]}var x=i(2478),m=i(9618),w=i(7319),A=w.createShader,y=w.createPickShader,M=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function E(h,S){for(var d=0,R=0;R<3;++R){var L=h[R]-S[R];d+=L*L}return Math.sqrt(d)}function b(h){for(var S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],d=0;d<3;++d)S[0][d]=Math.max(h[0][d],S[0][d]),S[1][d]=Math.min(h[1][d],S[1][d]);return S}function T(h,S,d,R){this.arcLength=h,this.position=S,this.index=d,this.dataCoordinate=R}function p(h,S,d,R,L,F){this.gl=h,this.shader=S,this.pickShader=d,this.buffer=R,this.vao=L,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=F,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var _=p.prototype;_.isTransparent=function(){return this.hasAlpha},_.isOpaque=function(){return!this.hasAlpha},_.pickSlots=1,_.setPickBase=function(h){this.pickId=h},_.drawTransparent=_.draw=function(h){if(this.vertexCount){var S=this.gl,d=this.shader,R=this.vao;d.bind(),d.uniforms={model:h.model||M,view:h.view||M,projection:h.projection||M,clipBounds:b(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[S.drawingBufferWidth,S.drawingBufferHeight],pixelRatio:this.pixelRatio},R.bind(),R.draw(S.TRIANGLE_STRIP,this.vertexCount),R.unbind()}},_.drawPick=function(h){if(this.vertexCount){var S=this.gl,d=this.pickShader,R=this.vao;d.bind(),d.uniforms={model:h.model||M,view:h.view||M,projection:h.projection||M,pickId:this.pickId,clipBounds:b(this.clipBounds),screenShape:[S.drawingBufferWidth,S.drawingBufferHeight],pixelRatio:this.pixelRatio},R.bind(),R.draw(S.TRIANGLE_STRIP,this.vertexCount),R.unbind()}},_.update=function(h){var S,d;this.dirty=!0;var R=!!h.connectGaps;"dashScale"in h&&(this.dashScale=h.dashScale),this.hasAlpha=!1,"opacity"in h&&(this.opacity=+h.opacity,this.opacity<1&&(this.hasAlpha=!0));var L=[],F=[],O=[],P=0,I=0,k=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],D=h.position||h.positions;if(D){var z=h.color||h.colors||[0,0,0,1],q=h.lineWidth||1,j=!1;e:for(S=1;S<D.length;++S){var Q=D[S-1],K=D[S];for(F.push(P),O.push(Q.slice()),d=0;d<3;++d){if(isNaN(Q[d])||isNaN(K[d])||!isFinite(Q[d])||!isFinite(K[d])){if(!R&&L.length>0){for(var G=0;G<24;++G)L.push(L[L.length-12]);I+=2,j=!0}continue e}k[0][d]=Math.min(k[0][d],Q[d],K[d]),k[1][d]=Math.max(k[1][d],Q[d],K[d])}var B,Z;Array.isArray(z[0])?(B=z.length>S-1?z[S-1]:z.length>0?z[z.length-1]:[0,0,0,1],Z=z.length>S?z[S]:z.length>0?z[z.length-1]:[0,0,0,1]):B=Z=z,B.length===3&&(B=[B[0],B[1],B[2],1]),Z.length===3&&(Z=[Z[0],Z[1],Z[2],1]),!this.hasAlpha&&B[3]<1&&(this.hasAlpha=!0);var ie;Array.isArray(q)?ie=q.length>S-1?q[S-1]:q.length>0?q[q.length-1]:[0,0,0,1]:ie=q;var J=P;if(P+=E(Q,K),j){for(d=0;d<2;++d)L.push(Q[0],Q[1],Q[2],K[0],K[1],K[2],J,ie,B[0],B[1],B[2],B[3]);I+=2,j=!1}L.push(Q[0],Q[1],Q[2],K[0],K[1],K[2],J,ie,B[0],B[1],B[2],B[3],Q[0],Q[1],Q[2],K[0],K[1],K[2],J,-ie,B[0],B[1],B[2],B[3],K[0],K[1],K[2],Q[0],Q[1],Q[2],P,-ie,Z[0],Z[1],Z[2],Z[3],K[0],K[1],K[2],Q[0],Q[1],Q[2],P,ie,Z[0],Z[1],Z[2],Z[3]),I+=4}}if(this.buffer.update(L),F.push(P),O.push(D[D.length-1].slice()),this.bounds=k,this.vertexCount=I,this.points=O,this.arcLength=F,"dashes"in h){var le=h.dashes,te=le.slice();for(te.unshift(0),S=1;S<te.length;++S)te[S]=te[S-1]+te[S];var V=m(new Array(256*4),[256,1,4]);for(S=0;S<256;++S){for(d=0;d<4;++d)V.set(S,0,d,0);x.le(te,te[te.length-1]*S/255)&1?V.set(S,0,0,0):V.set(S,0,0,255)}this.texture.setPixels(V)}},_.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},_.pick=function(h){if(!h||h.id!==this.pickId)return null;var S=v(h.value[0],h.value[1],h.value[2],0),d=x.le(this.arcLength,S);if(d<0)return null;if(d===this.arcLength.length-1)return new T(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),d);for(var R=this.points[d],L=this.points[Math.min(d+1,this.points.length-1)],F=(S-this.arcLength[d])/(this.arcLength[d+1]-this.arcLength[d]),O=1-F,P=[0,0,0],I=0;I<3;++I)P[I]=O*R[I]+F*L[I];var k=Math.min(F<.5?d:d+1,this.points.length-1);return new T(S,P,k,this.points[k])};function g(h){var S=h.gl||h.scene&&h.scene.gl,d=A(S);d.attributes.position.location=0,d.attributes.nextPosition.location=1,d.attributes.arcLength.location=2,d.attributes.lineWidth.location=3,d.attributes.color.location=4;var R=y(S);R.attributes.position.location=0,R.attributes.nextPosition.location=1,R.attributes.arcLength.location=2,R.attributes.lineWidth.location=3,R.attributes.color.location=4;for(var L=l(S),F=f(S,[{buffer:L,size:3,offset:0,stride:48},{buffer:L,size:3,offset:12,stride:48},{buffer:L,size:1,offset:24,stride:48},{buffer:L,size:1,offset:28,stride:48},{buffer:L,size:4,offset:32,stride:48}]),O=m(new Array(256*4),[256,1,4]),P=0;P<1024;++P)O.data[P]=255;var I=s(S,O);I.wrap=S.REPEAT;var k=new p(S,d,R,L,F,I);return k.update(h),k}},1903:function(a){a.exports=o;function o(i){var l=new Float32Array(16);return l[0]=i[0],l[1]=i[1],l[2]=i[2],l[3]=i[3],l[4]=i[4],l[5]=i[5],l[6]=i[6],l[7]=i[7],l[8]=i[8],l[9]=i[9],l[10]=i[10],l[11]=i[11],l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15],l}},6864:function(a){a.exports=o;function o(){var i=new Float32Array(16);return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}},9921:function(a){a.exports=o;function o(i){var l=i[0],f=i[1],s=i[2],u=i[3],c=i[4],v=i[5],x=i[6],m=i[7],w=i[8],A=i[9],y=i[10],M=i[11],E=i[12],b=i[13],T=i[14],p=i[15],_=l*v-f*c,g=l*x-s*c,h=l*m-u*c,S=f*x-s*v,d=f*m-u*v,R=s*m-u*x,L=w*b-A*E,F=w*T-y*E,O=w*p-M*E,P=A*T-y*b,I=A*p-M*b,k=y*p-M*T;return _*k-g*I+h*P+S*O-d*F+R*L}},7399:function(a){a.exports=o;function o(i,l){var f=l[0],s=l[1],u=l[2],c=l[3],v=f+f,x=s+s,m=u+u,w=f*v,A=s*v,y=s*x,M=u*v,E=u*x,b=u*m,T=c*v,p=c*x,_=c*m;return i[0]=1-y-b,i[1]=A+_,i[2]=M-p,i[3]=0,i[4]=A-_,i[5]=1-w-b,i[6]=E+T,i[7]=0,i[8]=M+p,i[9]=E-T,i[10]=1-w-y,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}},6743:function(a){a.exports=o;function o(i,l,f){var s=l[0],u=l[1],c=l[2],v=l[3],x=s+s,m=u+u,w=c+c,A=s*x,y=s*m,M=s*w,E=u*m,b=u*w,T=c*w,p=v*x,_=v*m,g=v*w;return i[0]=1-(E+T),i[1]=y+g,i[2]=M-_,i[3]=0,i[4]=y-g,i[5]=1-(A+T),i[6]=b+p,i[7]=0,i[8]=M+_,i[9]=b-p,i[10]=1-(A+E),i[11]=0,i[12]=f[0],i[13]=f[1],i[14]=f[2],i[15]=1,i}},7894:function(a){a.exports=o;function o(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}},7608:function(a){a.exports=o;function o(i,l){var f=l[0],s=l[1],u=l[2],c=l[3],v=l[4],x=l[5],m=l[6],w=l[7],A=l[8],y=l[9],M=l[10],E=l[11],b=l[12],T=l[13],p=l[14],_=l[15],g=f*x-s*v,h=f*m-u*v,S=f*w-c*v,d=s*m-u*x,R=s*w-c*x,L=u*w-c*m,F=A*T-y*b,O=A*p-M*b,P=A*_-E*b,I=y*p-M*T,k=y*_-E*T,D=M*_-E*p,z=g*D-h*k+S*I+d*P-R*O+L*F;return z?(z=1/z,i[0]=(x*D-m*k+w*I)*z,i[1]=(u*k-s*D-c*I)*z,i[2]=(T*L-p*R+_*d)*z,i[3]=(M*R-y*L-E*d)*z,i[4]=(m*P-v*D-w*O)*z,i[5]=(f*D-u*P+c*O)*z,i[6]=(p*S-b*L-_*h)*z,i[7]=(A*L-M*S+E*h)*z,i[8]=(v*k-x*P+w*F)*z,i[9]=(s*P-f*k-c*F)*z,i[10]=(b*R-T*S+_*g)*z,i[11]=(y*S-A*R-E*g)*z,i[12]=(x*O-v*I-m*F)*z,i[13]=(f*I-s*O+u*F)*z,i[14]=(T*h-b*d-p*g)*z,i[15]=(A*d-y*h+M*g)*z,i):null}},6582:function(a,o,i){var l=i(7894);a.exports=f;function f(s,u,c,v){var x,m,w,A,y,M,E,b,T,p,_=u[0],g=u[1],h=u[2],S=v[0],d=v[1],R=v[2],L=c[0],F=c[1],O=c[2];return Math.abs(_-L)<1e-6&&Math.abs(g-F)<1e-6&&Math.abs(h-O)<1e-6?l(s):(E=_-L,b=g-F,T=h-O,p=1/Math.sqrt(E*E+b*b+T*T),E*=p,b*=p,T*=p,x=d*T-R*b,m=R*E-S*T,w=S*b-d*E,p=Math.sqrt(x*x+m*m+w*w),p?(p=1/p,x*=p,m*=p,w*=p):(x=0,m=0,w=0),A=b*w-T*m,y=T*x-E*w,M=E*m-b*x,p=Math.sqrt(A*A+y*y+M*M),p?(p=1/p,A*=p,y*=p,M*=p):(A=0,y=0,M=0),s[0]=x,s[1]=A,s[2]=E,s[3]=0,s[4]=m,s[5]=y,s[6]=b,s[7]=0,s[8]=w,s[9]=M,s[10]=T,s[11]=0,s[12]=-(x*_+m*g+w*h),s[13]=-(A*_+y*g+M*h),s[14]=-(E*_+b*g+T*h),s[15]=1,s)}},6760:function(a){a.exports=o;function o(i,l,f){var s=l[0],u=l[1],c=l[2],v=l[3],x=l[4],m=l[5],w=l[6],A=l[7],y=l[8],M=l[9],E=l[10],b=l[11],T=l[12],p=l[13],_=l[14],g=l[15],h=f[0],S=f[1],d=f[2],R=f[3];return i[0]=h*s+S*x+d*y+R*T,i[1]=h*u+S*m+d*M+R*p,i[2]=h*c+S*w+d*E+R*_,i[3]=h*v+S*A+d*b+R*g,h=f[4],S=f[5],d=f[6],R=f[7],i[4]=h*s+S*x+d*y+R*T,i[5]=h*u+S*m+d*M+R*p,i[6]=h*c+S*w+d*E+R*_,i[7]=h*v+S*A+d*b+R*g,h=f[8],S=f[9],d=f[10],R=f[11],i[8]=h*s+S*x+d*y+R*T,i[9]=h*u+S*m+d*M+R*p,i[10]=h*c+S*w+d*E+R*_,i[11]=h*v+S*A+d*b+R*g,h=f[12],S=f[13],d=f[14],R=f[15],i[12]=h*s+S*x+d*y+R*T,i[13]=h*u+S*m+d*M+R*p,i[14]=h*c+S*w+d*E+R*_,i[15]=h*v+S*A+d*b+R*g,i}},4040:function(a){a.exports=o;function o(i,l,f,s,u,c,v){var x=1/(l-f),m=1/(s-u),w=1/(c-v);return i[0]=-2*x,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*m,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2*w,i[11]=0,i[12]=(l+f)*x,i[13]=(u+s)*m,i[14]=(v+c)*w,i[15]=1,i}},4772:function(a){a.exports=o;function o(i,l,f,s,u){var c=1/Math.tan(l/2),v=1/(s-u);return i[0]=c/f,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=c,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=(u+s)*v,i[11]=-1,i[12]=0,i[13]=0,i[14]=2*u*s*v,i[15]=0,i}},6079:function(a){a.exports=o;function o(i,l,f,s){var u=s[0],c=s[1],v=s[2],x=Math.sqrt(u*u+c*c+v*v),m,w,A,y,M,E,b,T,p,_,g,h,S,d,R,L,F,O,P,I,k,D,z,q;return Math.abs(x)<1e-6?null:(x=1/x,u*=x,c*=x,v*=x,m=Math.sin(f),w=Math.cos(f),A=1-w,y=l[0],M=l[1],E=l[2],b=l[3],T=l[4],p=l[5],_=l[6],g=l[7],h=l[8],S=l[9],d=l[10],R=l[11],L=u*u*A+w,F=c*u*A+v*m,O=v*u*A-c*m,P=u*c*A-v*m,I=c*c*A+w,k=v*c*A+u*m,D=u*v*A+c*m,z=c*v*A-u*m,q=v*v*A+w,i[0]=y*L+T*F+h*O,i[1]=M*L+p*F+S*O,i[2]=E*L+_*F+d*O,i[3]=b*L+g*F+R*O,i[4]=y*P+T*I+h*k,i[5]=M*P+p*I+S*k,i[6]=E*P+_*I+d*k,i[7]=b*P+g*I+R*k,i[8]=y*D+T*z+h*q,i[9]=M*D+p*z+S*q,i[10]=E*D+_*z+d*q,i[11]=b*D+g*z+R*q,l!==i&&(i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15]),i)}},5567:function(a){a.exports=o;function o(i,l,f){var s=Math.sin(f),u=Math.cos(f),c=l[4],v=l[5],x=l[6],m=l[7],w=l[8],A=l[9],y=l[10],M=l[11];return l!==i&&(i[0]=l[0],i[1]=l[1],i[2]=l[2],i[3]=l[3],i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15]),i[4]=c*u+w*s,i[5]=v*u+A*s,i[6]=x*u+y*s,i[7]=m*u+M*s,i[8]=w*u-c*s,i[9]=A*u-v*s,i[10]=y*u-x*s,i[11]=M*u-m*s,i}},2408:function(a){a.exports=o;function o(i,l,f){var s=Math.sin(f),u=Math.cos(f),c=l[0],v=l[1],x=l[2],m=l[3],w=l[8],A=l[9],y=l[10],M=l[11];return l!==i&&(i[4]=l[4],i[5]=l[5],i[6]=l[6],i[7]=l[7],i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15]),i[0]=c*u-w*s,i[1]=v*u-A*s,i[2]=x*u-y*s,i[3]=m*u-M*s,i[8]=c*s+w*u,i[9]=v*s+A*u,i[10]=x*s+y*u,i[11]=m*s+M*u,i}},7089:function(a){a.exports=o;function o(i,l,f){var s=Math.sin(f),u=Math.cos(f),c=l[0],v=l[1],x=l[2],m=l[3],w=l[4],A=l[5],y=l[6],M=l[7];return l!==i&&(i[8]=l[8],i[9]=l[9],i[10]=l[10],i[11]=l[11],i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15]),i[0]=c*u+w*s,i[1]=v*u+A*s,i[2]=x*u+y*s,i[3]=m*u+M*s,i[4]=w*u-c*s,i[5]=A*u-v*s,i[6]=y*u-x*s,i[7]=M*u-m*s,i}},2504:function(a){a.exports=o;function o(i,l,f){var s=f[0],u=f[1],c=f[2];return i[0]=l[0]*s,i[1]=l[1]*s,i[2]=l[2]*s,i[3]=l[3]*s,i[4]=l[4]*u,i[5]=l[5]*u,i[6]=l[6]*u,i[7]=l[7]*u,i[8]=l[8]*c,i[9]=l[9]*c,i[10]=l[10]*c,i[11]=l[11]*c,i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15],i}},7656:function(a){a.exports=o;function o(i,l,f){var s=f[0],u=f[1],c=f[2],v,x,m,w,A,y,M,E,b,T,p,_;return l===i?(i[12]=l[0]*s+l[4]*u+l[8]*c+l[12],i[13]=l[1]*s+l[5]*u+l[9]*c+l[13],i[14]=l[2]*s+l[6]*u+l[10]*c+l[14],i[15]=l[3]*s+l[7]*u+l[11]*c+l[15]):(v=l[0],x=l[1],m=l[2],w=l[3],A=l[4],y=l[5],M=l[6],E=l[7],b=l[8],T=l[9],p=l[10],_=l[11],i[0]=v,i[1]=x,i[2]=m,i[3]=w,i[4]=A,i[5]=y,i[6]=M,i[7]=E,i[8]=b,i[9]=T,i[10]=p,i[11]=_,i[12]=v*s+A*u+b*c+l[12],i[13]=x*s+y*u+T*c+l[13],i[14]=m*s+M*u+p*c+l[14],i[15]=w*s+E*u+_*c+l[15]),i}},5665:function(a){a.exports=o;function o(i,l){if(i===l){var f=l[1],s=l[2],u=l[3],c=l[6],v=l[7],x=l[11];i[1]=l[4],i[2]=l[8],i[3]=l[12],i[4]=f,i[6]=l[9],i[7]=l[13],i[8]=s,i[9]=c,i[11]=l[14],i[12]=u,i[13]=v,i[14]=x}else i[0]=l[0],i[1]=l[4],i[2]=l[8],i[3]=l[12],i[4]=l[1],i[5]=l[5],i[6]=l[9],i[7]=l[13],i[8]=l[2],i[9]=l[6],i[10]=l[10],i[11]=l[14],i[12]=l[3],i[13]=l[7],i[14]=l[11],i[15]=l[15];return i}},7626:function(a,o,i){"use strict";var l=i(2642),f=i(9346);a.exports=x;function s(m,w){for(var A=[0,0,0,0],y=0;y<4;++y)for(var M=0;M<4;++M)A[M]+=m[4*y+M]*w[y];return A}function u(m,w,A,y,M){for(var E=s(y,s(A,s(w,[m[0],m[1],m[2],1]))),b=0;b<3;++b)E[b]/=E[3];return[.5*M[0]*(1+E[0]),.5*M[1]*(1-E[1])]}function c(m,w){if(m.length===2){for(var A=0,y=0,M=0;M<2;++M)A+=Math.pow(w[M]-m[0][M],2),y+=Math.pow(w[M]-m[1][M],2);return A=Math.sqrt(A),y=Math.sqrt(y),A+y<1e-6?[1,0]:[y/(A+y),A/(y+A)]}else if(m.length===3){var E=[0,0];return f(m[0],m[1],m[2],w,E),l(m,E)}return[]}function v(m,w){for(var A=[0,0,0],y=0;y<m.length;++y)for(var M=m[y],E=w[y],b=0;b<3;++b)A[b]+=E*M[b];return A}function x(m,w,A,y,M,E){if(m.length===1)return[0,m[0].slice()];for(var b=new Array(m.length),T=0;T<m.length;++T)b[T]=u(m[T],A,y,M,E);for(var p=0,_=1/0,T=0;T<b.length;++T){for(var g=0,h=0;h<2;++h)g+=Math.pow(b[T][h]-w[h],2);g<_&&(_=g,p=T)}for(var S=c(b,w),d=0,T=0;T<3;++T){if(S[T]<-.001||S[T]>1.0001)return null;d+=S[T]}return Math.abs(d-1)>.001?null:[p,v(m,S),S]}},840:function(a,o,i){var l=i(3236),f=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),s=l([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),u=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),c=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),v=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * (view * (model * vec4(position, 1.0)));
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),x=l([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),m=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_id        = id;
  f_position  = position;
}`]),w=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),A=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * (view * (model * vec4(position, 1.0)));
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),y=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
}`]),M=l([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);o.meshShader={vertex:f,fragment:s,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},o.wireShader={vertex:u,fragment:c,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},o.pointShader={vertex:v,fragment:x,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},o.pickShader={vertex:m,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},o.pointPickShader={vertex:A,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},o.contourShader={vertex:y,fragment:M,attributes:[{name:"position",type:"vec3"}]}},7201:function(a,o,i){"use strict";var l=1e-6,f=1e-6,s=i(9405),u=i(2762),c=i(8116),v=i(7766),x=i(8406),m=i(6760),w=i(7608),A=i(9618),y=i(6729),M=i(7765),E=i(1888),b=i(840),T=i(7626),p=b.meshShader,_=b.wireShader,g=b.pointShader,h=b.pickShader,S=b.pointPickShader,d=b.contourShader,R=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function L(G,B,Z,ie,J,le,te,V,ne,Y,oe,pe,we,De,Re,Ae,Ie,Be,je,Ne,Qe,pr,Se,Fe,hr,dr,kr){this.gl=G,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=B,this.dirty=!0,this.triShader=Z,this.lineShader=ie,this.pointShader=J,this.pickShader=le,this.pointPickShader=te,this.contourShader=V,this.trianglePositions=ne,this.triangleColors=oe,this.triangleNormals=we,this.triangleUVs=pe,this.triangleIds=Y,this.triangleVAO=De,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Re,this.edgeColors=Ie,this.edgeUVs=Be,this.edgeIds=Ae,this.edgeVAO=je,this.edgeCount=0,this.pointPositions=Ne,this.pointColors=pr,this.pointUVs=Se,this.pointSizes=Fe,this.pointIds=Qe,this.pointVAO=hr,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=dr,this.contourVAO=kr,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=R,this._view=R,this._projection=R,this._resolution=[1,1]}var F=L.prototype;F.isOpaque=function(){return!this.hasAlpha},F.isTransparent=function(){return this.hasAlpha},F.pickSlots=1,F.setPickBase=function(G){this.pickId=G};function O(G,B){if(!B||!B.length)return 1;for(var Z=0;Z<B.length;++Z){if(B.length<2)return 1;if(B[Z][0]===G)return B[Z][1];if(B[Z][0]>G&&Z>0){var ie=(B[Z][0]-G)/(B[Z][0]-B[Z-1][0]);return B[Z][1]*(1-ie)+ie*B[Z-1][1]}}return 1}function P(G,B){for(var Z=y({colormap:G,nshades:256,format:"rgba"}),ie=new Uint8Array(256*4),J=0;J<256;++J){for(var le=Z[J],te=0;te<3;++te)ie[4*J+te]=le[te];B?ie[4*J+3]=255*O(J/255,B):ie[4*J+3]=255*le[3]}return A(ie,[256,256,4],[4,0,1])}function I(G){for(var B=G.length,Z=new Array(B),ie=0;ie<B;++ie)Z[ie]=G[ie][2];return Z}F.highlight=function(G){if(!G||!this.contourEnable){this.contourCount=0;return}for(var B=M(this.cells,this.intensity,G.intensity),Z=B.cells,ie=B.vertexIds,J=B.vertexWeights,le=Z.length,te=E.mallocFloat32(2*3*le),V=0,ne=0;ne<le;++ne)for(var Y=Z[ne],oe=0;oe<2;++oe){var pe=Y[0];Y.length===2&&(pe=Y[oe]);for(var we=ie[pe][0],De=ie[pe][1],Re=J[pe],Ae=1-Re,Ie=this.positions[we],Be=this.positions[De],je=0;je<3;++je)te[V++]=Re*Ie[je]+Ae*Be[je]}this.contourCount=V/3|0,this.contourPositions.update(te.subarray(0,V)),E.free(te)},F.update=function(G){G=G||{};var B=this.gl;this.dirty=!0,"contourEnable"in G&&(this.contourEnable=G.contourEnable),"contourColor"in G&&(this.contourColor=G.contourColor),"lineWidth"in G&&(this.lineWidth=G.lineWidth),"lightPosition"in G&&(this.lightPosition=G.lightPosition),this.hasAlpha=!1,"opacity"in G&&(this.opacity=G.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in G&&(this.opacityscale=G.opacityscale,this.hasAlpha=!0),"ambient"in G&&(this.ambientLight=G.ambient),"diffuse"in G&&(this.diffuseLight=G.diffuse),"specular"in G&&(this.specularLight=G.specular),"roughness"in G&&(this.roughness=G.roughness),"fresnel"in G&&(this.fresnel=G.fresnel),G.texture?(this.texture.dispose(),this.texture=v(B,G.texture)):G.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=B.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=B.LINEAR,this.texture.setPixels(P(G.colormap,this.opacityscale)),this.texture.generateMipmap());var Z=G.cells,ie=G.positions;if(!(!ie||!Z)){var J=[],le=[],te=[],V=[],ne=[],Y=[],oe=[],pe=[],we=[],De=[],Re=[],Ae=[],Ie=[],Be=[];this.cells=Z,this.positions=ie;var je=G.vertexNormals,Ne=G.cellNormals,Qe=G.vertexNormalsEpsilon===void 0?l:G.vertexNormalsEpsilon,pr=G.faceNormalsEpsilon===void 0?f:G.faceNormalsEpsilon;G.useFacetNormals&&!Ne&&(Ne=x.faceNormals(Z,ie,pr)),!Ne&&!je&&(je=x.vertexNormals(Z,ie,Qe));var Se=G.vertexColors,Fe=G.cellColors,hr=G.meshColor||[1,1,1,1],dr=G.vertexUVs,kr=G.vertexIntensity,Ue=G.cellUVs,He=G.cellIntensity,Xe=1/0,fr=-1/0;if(!dr&&!Ue)if(kr)if(G.vertexIntensityBounds)Xe=+G.vertexIntensityBounds[0],fr=+G.vertexIntensityBounds[1];else for(var Mr=0;Mr<kr.length;++Mr){var qr=kr[Mr];Xe=Math.min(Xe,qr),fr=Math.max(fr,qr)}else if(He)if(G.cellIntensityBounds)Xe=+G.cellIntensityBounds[0],fr=+G.cellIntensityBounds[1];else for(var Mr=0;Mr<He.length;++Mr){var qr=He[Mr];Xe=Math.min(Xe,qr),fr=Math.max(fr,qr)}else for(var Mr=0;Mr<ie.length;++Mr){var qr=ie[Mr][2];Xe=Math.min(Xe,qr),fr=Math.max(fr,qr)}kr?this.intensity=kr:He?this.intensity=He:this.intensity=I(ie),this.pickVertex=!(He||Fe);var et=G.pointSizes,jr=G.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Mr=0;Mr<ie.length;++Mr)for(var Or=ie[Mr],_r=0;_r<3;++_r)isNaN(Or[_r])||!isFinite(Or[_r])||(this.bounds[0][_r]=Math.min(this.bounds[0][_r],Or[_r]),this.bounds[1][_r]=Math.max(this.bounds[1][_r],Or[_r]));var qe=0,nr=0,Te=0;e:for(var Mr=0;Mr<Z.length;++Mr){var be=Z[Mr];switch(be.length){case 1:for(var Ge=be[0],Or=ie[Ge],_r=0;_r<3;++_r)if(isNaN(Or[_r])||!isFinite(Or[_r]))continue e;De.push(Or[0],Or[1],Or[2]);var ae;Se?ae=Se[Ge]:Fe?ae=Fe[Mr]:ae=hr,this.opacityscale&&kr?le.push(ae[0],ae[1],ae[2],this.opacity*O((kr[Ge]-Xe)/(fr-Xe),this.opacityscale)):ae.length===3?Re.push(ae[0],ae[1],ae[2],this.opacity):(Re.push(ae[0],ae[1],ae[2],ae[3]*this.opacity),ae[3]<1&&(this.hasAlpha=!0));var W;dr?W=dr[Ge]:kr?W=[(kr[Ge]-Xe)/(fr-Xe),0]:Ue?W=Ue[Mr]:He?W=[(He[Mr]-Xe)/(fr-Xe),0]:W=[(Or[2]-Xe)/(fr-Xe),0],Ae.push(W[0],W[1]),et?Ie.push(et[Ge]):Ie.push(jr),Be.push(Mr),Te+=1;break;case 2:for(var _r=0;_r<2;++_r)for(var Ge=be[_r],Or=ie[Ge],re=0;re<3;++re)if(isNaN(Or[re])||!isFinite(Or[re]))continue e;for(var _r=0;_r<2;++_r){var Ge=be[_r],Or=ie[Ge];Y.push(Or[0],Or[1],Or[2]);var ae;Se?ae=Se[Ge]:Fe?ae=Fe[Mr]:ae=hr,this.opacityscale&&kr?le.push(ae[0],ae[1],ae[2],this.opacity*O((kr[Ge]-Xe)/(fr-Xe),this.opacityscale)):ae.length===3?oe.push(ae[0],ae[1],ae[2],this.opacity):(oe.push(ae[0],ae[1],ae[2],ae[3]*this.opacity),ae[3]<1&&(this.hasAlpha=!0));var W;dr?W=dr[Ge]:kr?W=[(kr[Ge]-Xe)/(fr-Xe),0]:Ue?W=Ue[Mr]:He?W=[(He[Mr]-Xe)/(fr-Xe),0]:W=[(Or[2]-Xe)/(fr-Xe),0],pe.push(W[0],W[1]),we.push(Mr)}nr+=1;break;case 3:for(var _r=0;_r<3;++_r)for(var Ge=be[_r],Or=ie[Ge],re=0;re<3;++re)if(isNaN(Or[re])||!isFinite(Or[re]))continue e;for(var _r=0;_r<3;++_r){var Ge=be[2-_r],Or=ie[Ge];J.push(Or[0],Or[1],Or[2]);var ae;Se?ae=Se[Ge]:Fe?ae=Fe[Mr]:ae=hr,ae?this.opacityscale&&kr?le.push(ae[0],ae[1],ae[2],this.opacity*O((kr[Ge]-Xe)/(fr-Xe),this.opacityscale)):ae.length===3?le.push(ae[0],ae[1],ae[2],this.opacity):(le.push(ae[0],ae[1],ae[2],ae[3]*this.opacity),ae[3]<1&&(this.hasAlpha=!0)):le.push(.5,.5,.5,1);var W;dr?W=dr[Ge]:kr?W=[(kr[Ge]-Xe)/(fr-Xe),0]:Ue?W=Ue[Mr]:He?W=[(He[Mr]-Xe)/(fr-Xe),0]:W=[(Or[2]-Xe)/(fr-Xe),0],V.push(W[0],W[1]);var Ee;je?Ee=je[Ge]:Ee=Ne[Mr],te.push(Ee[0],Ee[1],Ee[2]),ne.push(Mr)}qe+=1;break;default:break}}this.pointCount=Te,this.edgeCount=nr,this.triangleCount=qe,this.pointPositions.update(De),this.pointColors.update(Re),this.pointUVs.update(Ae),this.pointSizes.update(Ie),this.pointIds.update(new Uint32Array(Be)),this.edgePositions.update(Y),this.edgeColors.update(oe),this.edgeUVs.update(pe),this.edgeIds.update(new Uint32Array(we)),this.trianglePositions.update(J),this.triangleColors.update(le),this.triangleUVs.update(V),this.triangleNormals.update(te),this.triangleIds.update(new Uint32Array(ne))}},F.drawTransparent=F.draw=function(G){G=G||{};for(var B=this.gl,Z=G.model||R,ie=G.view||R,J=G.projection||R,le=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],te=0;te<3;++te)le[0][te]=Math.max(le[0][te],this.clipBounds[0][te]),le[1][te]=Math.min(le[1][te],this.clipBounds[1][te]);var V={model:Z,view:ie,projection:J,inverseModel:R.slice(),clipBounds:le,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};V.inverseModel=w(V.inverseModel,V.model),B.disable(B.CULL_FACE),this.texture.bind(0);var ne=new Array(16);m(ne,V.view,V.model),m(ne,V.projection,ne),w(ne,ne);for(var te=0;te<3;++te)V.eyePosition[te]=ne[12+te]/ne[15];for(var Y=ne[15],te=0;te<3;++te)Y+=this.lightPosition[te]*ne[4*te+3];for(var te=0;te<3;++te){for(var oe=ne[12+te],pe=0;pe<3;++pe)oe+=ne[4*pe+te]*this.lightPosition[pe];V.lightPosition[te]=oe/Y}if(this.triangleCount>0){var we=this.triShader;we.bind(),we.uniforms=V,this.triangleVAO.bind(),B.drawArrays(B.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var we=this.lineShader;we.bind(),we.uniforms=V,this.edgeVAO.bind(),B.lineWidth(this.lineWidth*this.pixelRatio),B.drawArrays(B.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var we=this.pointShader;we.bind(),we.uniforms=V,this.pointVAO.bind(),B.drawArrays(B.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var we=this.contourShader;we.bind(),we.uniforms=V,this.contourVAO.bind(),B.drawArrays(B.LINES,0,this.contourCount),this.contourVAO.unbind()}},F.drawPick=function(G){G=G||{};for(var B=this.gl,Z=G.model||R,ie=G.view||R,J=G.projection||R,le=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],te=0;te<3;++te)le[0][te]=Math.max(le[0][te],this.clipBounds[0][te]),le[1][te]=Math.min(le[1][te],this.clipBounds[1][te]);this._model=[].slice.call(Z),this._view=[].slice.call(ie),this._projection=[].slice.call(J),this._resolution=[B.drawingBufferWidth,B.drawingBufferHeight];var V={model:Z,view:ie,projection:J,clipBounds:le,pickId:this.pickId/255},ne=this.pickShader;if(ne.bind(),ne.uniforms=V,this.triangleCount>0&&(this.triangleVAO.bind(),B.drawArrays(B.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),B.lineWidth(this.lineWidth*this.pixelRatio),B.drawArrays(B.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var ne=this.pointPickShader;ne.bind(),ne.uniforms=V,this.pointVAO.bind(),B.drawArrays(B.POINTS,0,this.pointCount),this.pointVAO.unbind()}},F.pick=function(G){if(!G||G.id!==this.pickId)return null;for(var B=G.value[0]+256*G.value[1]+65536*G.value[2],Z=this.cells[B],ie=this.positions,J=new Array(Z.length),le=0;le<Z.length;++le)J[le]=ie[Z[le]];var te=G.coord[0],V=G.coord[1];if(!this.pickVertex){var ne=this.positions[Z[0]],Y=this.positions[Z[1]],oe=this.positions[Z[2]],pe=[(ne[0]+Y[0]+oe[0])/3,(ne[1]+Y[1]+oe[1])/3,(ne[2]+Y[2]+oe[2])/3];return{_cellCenter:!0,position:[te,V],index:B,cell:Z,cellId:B,intensity:this.intensity[B],dataCoordinate:pe}}var we=T(J,[te*this.pixelRatio,this._resolution[1]-V*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!we)return null;for(var De=we[2],Re=0,le=0;le<Z.length;++le)Re+=De[le]*this.intensity[Z[le]];return{position:we[1],index:Z[we[0]],cell:Z,cellId:B,intensity:Re,dataCoordinate:this.positions[Z[we[0]]]}},F.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function k(G){var B=s(G,p.vertex,p.fragment);return B.attributes.position.location=0,B.attributes.color.location=2,B.attributes.uv.location=3,B.attributes.normal.location=4,B}function D(G){var B=s(G,_.vertex,_.fragment);return B.attributes.position.location=0,B.attributes.color.location=2,B.attributes.uv.location=3,B}function z(G){var B=s(G,g.vertex,g.fragment);return B.attributes.position.location=0,B.attributes.color.location=2,B.attributes.uv.location=3,B.attributes.pointSize.location=4,B}function q(G){var B=s(G,h.vertex,h.fragment);return B.attributes.position.location=0,B.attributes.id.location=1,B}function j(G){var B=s(G,S.vertex,S.fragment);return B.attributes.position.location=0,B.attributes.id.location=1,B.attributes.pointSize.location=4,B}function Q(G){var B=s(G,d.vertex,d.fragment);return B.attributes.position.location=0,B}function K(G,B){arguments.length===1&&(B=G,G=B.gl);var Z=G.getExtension("OES_standard_derivatives")||G.getExtension("MOZ_OES_standard_derivatives")||G.getExtension("WEBKIT_OES_standard_derivatives");if(!Z)throw new Error("derivatives not supported");var ie=k(G),J=D(G),le=z(G),te=q(G),V=j(G),ne=Q(G),Y=v(G,A(new Uint8Array([255,255,255,255]),[1,1,4]));Y.generateMipmap(),Y.minFilter=G.LINEAR_MIPMAP_LINEAR,Y.magFilter=G.LINEAR;var oe=u(G),pe=u(G),we=u(G),De=u(G),Re=u(G),Ae=c(G,[{buffer:oe,type:G.FLOAT,size:3},{buffer:Re,type:G.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:pe,type:G.FLOAT,size:4},{buffer:we,type:G.FLOAT,size:2},{buffer:De,type:G.FLOAT,size:3}]),Ie=u(G),Be=u(G),je=u(G),Ne=u(G),Qe=c(G,[{buffer:Ie,type:G.FLOAT,size:3},{buffer:Ne,type:G.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Be,type:G.FLOAT,size:4},{buffer:je,type:G.FLOAT,size:2}]),pr=u(G),Se=u(G),Fe=u(G),hr=u(G),dr=u(G),kr=c(G,[{buffer:pr,type:G.FLOAT,size:3},{buffer:dr,type:G.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Se,type:G.FLOAT,size:4},{buffer:Fe,type:G.FLOAT,size:2},{buffer:hr,type:G.FLOAT,size:1}]),Ue=u(G),He=c(G,[{buffer:Ue,type:G.FLOAT,size:3}]),Xe=new L(G,Y,ie,J,le,te,V,ne,oe,Re,pe,we,De,Ae,Ie,Ne,Be,je,Qe,pr,dr,Se,Fe,hr,kr,Ue,He);return Xe.update(B),Xe}a.exports=K},4437:function(a,o,i){"use strict";a.exports=x;var l=i(3025),f=i(6296),s=i(351),u=i(8512),c=i(24),v=i(7520);function x(m,w){m=m||document.body,w=w||{};var A=[.01,1/0];"distanceLimits"in w&&(A[0]=w.distanceLimits[0],A[1]=w.distanceLimits[1]),"zoomMin"in w&&(A[0]=w.zoomMin),"zoomMax"in w&&(A[1]=w.zoomMax);var y=f({center:w.center||[0,0,0],up:w.up||[0,1,0],eye:w.eye||[0,0,10],mode:w.mode||"orbit",distanceLimits:A}),M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],E=0,b=m.clientWidth,T=m.clientHeight,p={keyBindingMode:"rotate",enableWheel:!0,view:y,element:m,delay:w.delay||16,rotateSpeed:w.rotateSpeed||1,zoomSpeed:w.zoomSpeed||1,translateSpeed:w.translateSpeed||1,flipX:!!w.flipX,flipY:!!w.flipY,modes:y.modes,_ortho:w._ortho||w.projection&&w.projection.type==="orthographic"||!1,tick:function(){var _=l(),g=this.delay,h=_-2*g;y.idle(_-g),y.recalcMatrix(h),y.flush(_-(100+g*2));for(var S=!0,d=y.computedMatrix,R=0;R<16;++R)S=S&&M[R]===d[R],M[R]=d[R];var L=m.clientWidth===b&&m.clientHeight===T;return b=m.clientWidth,T=m.clientHeight,S?!L:(E=Math.exp(y.computedRadius[0]),!0)},lookAt:function(_,g,h){y.lookAt(y.lastT(),_,g,h)},rotate:function(_,g,h){y.rotate(y.lastT(),_,g,h)},pan:function(_,g,h){y.pan(y.lastT(),_,g,h)},translate:function(_,g,h){y.translate(y.lastT(),_,g,h)}};return Object.defineProperties(p,{matrix:{get:function(){return y.computedMatrix},set:function(_){return y.setMatrix(y.lastT(),_),y.computedMatrix},enumerable:!0},mode:{get:function(){return y.getMode()},set:function(_){var g=y.computedUp.slice(),h=y.computedEye.slice(),S=y.computedCenter.slice();if(y.setMode(_),_==="turntable"){var d=l();y._active.lookAt(d,h,S,g),y._active.lookAt(d+500,h,S,[0,0,1]),y._active.flush(d)}return y.getMode()},enumerable:!0},center:{get:function(){return y.computedCenter},set:function(_){return y.lookAt(y.lastT(),null,_),y.computedCenter},enumerable:!0},eye:{get:function(){return y.computedEye},set:function(_){return y.lookAt(y.lastT(),_),y.computedEye},enumerable:!0},up:{get:function(){return y.computedUp},set:function(_){return y.lookAt(y.lastT(),null,null,_),y.computedUp},enumerable:!0},distance:{get:function(){return E},set:function(_){return y.setDistance(y.lastT(),_),_},enumerable:!0},distanceLimits:{get:function(){return y.getDistanceLimits(A)},set:function(_){return y.setDistanceLimits(_),_},enumerable:!0}}),m.addEventListener("contextmenu",function(_){return _.preventDefault(),!1}),p._lastX=-1,p._lastY=-1,p._lastMods={shift:!1,control:!1,alt:!1,meta:!1},p.enableMouseListeners=function(){p.mouseListener=s(m,_),m.addEventListener("touchstart",function(g){var h=c(g.changedTouches[0],m);_(0,h[0],h[1],p._lastMods),_(1,h[0],h[1],p._lastMods)},v?{passive:!0}:!1),m.addEventListener("touchmove",function(g){var h=c(g.changedTouches[0],m);_(1,h[0],h[1],p._lastMods),g.preventDefault()},v?{passive:!1}:!1),m.addEventListener("touchend",function(g){_(0,p._lastX,p._lastY,p._lastMods)},v?{passive:!0}:!1);function _(g,h,S,d){var R=p.keyBindingMode;if(R!==!1){var L=R==="rotate",F=R==="pan",O=R==="zoom",P=!!d.control,I=!!d.alt,k=!!d.shift,D=!!(g&1),z=!!(g&2),q=!!(g&4),j=1/m.clientHeight,Q=j*(h-p._lastX),K=j*(S-p._lastY),G=p.flipX?1:-1,B=p.flipY?1:-1,Z=Math.PI*p.rotateSpeed,ie=l();if(p._lastX!==-1&&p._lastY!==-1&&((L&&D&&!P&&!I&&!k||D&&!P&&!I&&k)&&y.rotate(ie,G*Z*Q,-B*Z*K,0),(F&&D&&!P&&!I&&!k||z||D&&P&&!I&&!k)&&y.pan(ie,-p.translateSpeed*Q*E,p.translateSpeed*K*E,0),O&&D&&!P&&!I&&!k||q||D&&!P&&I&&!k)){var J=-p.zoomSpeed*K/window.innerHeight*(ie-y.lastT())*100;y.pan(ie,0,0,E*(Math.exp(J)-1))}return p._lastX=h,p._lastY=S,p._lastMods=d,!0}}p.wheelListener=u(m,function(g,h){if(p.keyBindingMode!==!1&&p.enableWheel){var S=p.flipX?1:-1,d=p.flipY?1:-1,R=l();if(Math.abs(g)>Math.abs(h))y.rotate(R,0,0,-g*S*Math.PI*p.rotateSpeed/window.innerWidth);else if(!p._ortho){var L=-p.zoomSpeed*d*h/window.innerHeight*(R-y.lastT())/20;y.pan(R,0,0,E*(Math.exp(L)-1))}}},!0)},p.enableMouseListeners(),p}},799:function(a,o,i){var l=i(3236),f=i(9405),s=l([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),u=l([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);a.exports=function(c){return f(c,s,u,null,[{name:"position",type:"vec2"}])}},4100:function(a,o,i){"use strict";var l=i(4437),f=i(3837),s=i(5445),u=i(4449),c=i(3589),v=i(2260),x=i(7169),m=i(351),w=i(4772),A=i(4040),y=i(799),M=i(9216)({tablet:!0,featureDetect:!0});a.exports={createScene:_,createCamera:l};function E(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function b(h,S){var d=null;try{d=h.getContext("webgl",S),d||(d=h.getContext("experimental-webgl",S))}catch(R){return null}return d}function T(h){var S=Math.round(Math.log(Math.abs(h))/Math.log(10));if(S<0){var d=Math.round(Math.pow(10,-S));return Math.ceil(h*d)/d}else if(S>0){var d=Math.round(Math.pow(10,S));return Math.ceil(h/d)*d}return Math.ceil(h)}function p(h){return typeof h=="boolean"?h:!0}function _(h){h=h||{},h.camera=h.camera||{};var S=h.canvas;if(!S)if(S=document.createElement("canvas"),h.container){var d=h.container;d.appendChild(S)}else document.body.appendChild(S);var R=h.gl;if(R||(h.glOptions&&(M=!!h.glOptions.preserveDrawingBuffer),R=b(S,h.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:M})),!R)throw new Error("webgl not supported");var L=h.bounds||[[-10,-10,-10],[10,10,10]],F=new E,O=v(R,R.drawingBufferWidth,R.drawingBufferHeight,{preferFloat:!M}),P=y(R),I=h.cameraObject&&h.cameraObject._ortho===!0||h.camera.projection&&h.camera.projection.type==="orthographic"||!1,k={eye:h.camera.eye||[2,0,0],center:h.camera.center||[0,0,0],up:h.camera.up||[0,1,0],zoomMin:h.camera.zoomMax||.1,zoomMax:h.camera.zoomMin||100,mode:h.camera.mode||"turntable",_ortho:I},D=h.axes||{},z=f(R,D);z.enable=!D.disable;var q=h.spikes||{},j=u(R,q),Q=[],K=[],G=[],B=[],Z=!0,te=!0,ie=new Array(16),J=new Array(16),le={view:null,projection:ie,model:J,_ortho:!1},te=!0,V=[R.drawingBufferWidth,R.drawingBufferHeight],ne=h.cameraObject||l(S,k),Y={gl:R,contextLost:!1,pixelRatio:h.pixelRatio||1,canvas:S,selection:F,camera:ne,axes:z,axesPixels:null,spikes:j,bounds:L,objects:Q,shape:V,aspect:h.aspectRatio||[1,1,1],pickRadius:h.pickRadius||10,zNear:h.zNear||.01,zFar:h.zFar||1e3,fovy:h.fovy||Math.PI/4,clearColor:h.clearColor||[0,0,0,0],autoResize:p(h.autoResize),autoBounds:p(h.autoBounds),autoScale:!!h.autoScale,autoCenter:p(h.autoCenter),clipToBounds:p(h.clipToBounds),snapToData:!!h.snapToData,onselect:h.onselect||null,onrender:h.onrender||null,onclick:h.onclick||null,cameraParams:le,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ne){this.aspect[0]=Ne.x,this.aspect[1]=Ne.y,this.aspect[2]=Ne.z,te=!0},setBounds:function(Ne,Qe){this.bounds[0][Ne]=Qe.min,this.bounds[1][Ne]=Qe.max},setClearColor:function(Ne){this.clearColor=Ne},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},oe=[R.drawingBufferWidth/Y.pixelRatio|0,R.drawingBufferHeight/Y.pixelRatio|0];function pe(){if(!Y._stopped&&Y.autoResize){var Ne=S.parentNode,Qe=1,pr=1;Ne&&Ne!==document.body?(Qe=Ne.clientWidth,pr=Ne.clientHeight):(Qe=window.innerWidth,pr=window.innerHeight);var Se=Math.ceil(Qe*Y.pixelRatio)|0,Fe=Math.ceil(pr*Y.pixelRatio)|0;if(Se!==S.width||Fe!==S.height){S.width=Se,S.height=Fe;var hr=S.style;hr.position=hr.position||"absolute",hr.left="0px",hr.top="0px",hr.width=Qe+"px",hr.height=pr+"px",Z=!0}}}Y.autoResize&&pe(),window.addEventListener("resize",pe);function we(){for(var Ne=Q.length,Qe=B.length,pr=0;pr<Qe;++pr)G[pr]=0;e:for(var pr=0;pr<Ne;++pr){var Se=Q[pr],Fe=Se.pickSlots;if(!Fe){K[pr]=-1;continue}for(var hr=0;hr<Qe;++hr)if(G[hr]+Fe<255){K[pr]=hr,Se.setPickBase(G[hr]+1),G[hr]+=Fe;continue e}var dr=c(R,V);K[pr]=Qe,B.push(dr),G.push(Fe),Se.setPickBase(1),Qe+=1}for(;Qe>0&&G[Qe-1]===0;)G.pop(),B.pop().dispose()}Y.update=function(Ne){Y._stopped||(Ne=Ne||{},Z=!0,te=!0)},Y.add=function(Ne){Y._stopped||(Ne.axes=z,Q.push(Ne),K.push(-1),Z=!0,te=!0,we())},Y.remove=function(Ne){if(!Y._stopped){var Qe=Q.indexOf(Ne);Qe<0||(Q.splice(Qe,1),K.pop(),Z=!0,te=!0,we())}},Y.dispose=function(){if(!Y._stopped&&(Y._stopped=!0,window.removeEventListener("resize",pe),S.removeEventListener("webglcontextlost",De),Y.mouseListener.enabled=!1,!Y.contextLost)){z.dispose(),j.dispose();for(var Ne=0;Ne<Q.length;++Ne)Q[Ne].dispose();O.dispose();for(var Ne=0;Ne<B.length;++Ne)B[Ne].dispose();P.dispose(),R=null,z=null,j=null,Q=[]}},Y._mouseRotating=!1,Y._prevButtons=0,Y.enableMouseListeners=function(){Y.mouseListener=m(S,function(Ne,Qe,pr){if(!Y._stopped){var Se=B.length,Fe=Q.length,hr=F.object;F.distance=1/0,F.mouse[0]=Qe,F.mouse[1]=pr,F.object=null,F.screen=null,F.dataCoordinate=F.dataPosition=null;var dr=!1;if(Ne&&Y._prevButtons)Y._mouseRotating=!0;else{Y._mouseRotating&&(te=!0),Y._mouseRotating=!1;for(var kr=0;kr<Se;++kr){var Ue=B[kr].query(Qe,oe[1]-pr-1,Y.pickRadius);if(Ue){if(Ue.distance>F.distance)continue;for(var He=0;He<Fe;++He){var Xe=Q[He];if(K[He]===kr){var fr=Xe.pick(Ue);fr&&(F.buttons=Ne,F.screen=Ue.coord,F.distance=Ue.distance,F.object=Xe,F.index=fr.distance,F.dataPosition=fr.position,F.dataCoordinate=fr.dataCoordinate,F.data=fr,dr=!0)}}}}}hr&&hr!==F.object&&(hr.highlight&&hr.highlight(null),Z=!0),F.object&&(F.object.highlight&&F.object.highlight(F.data),Z=!0),dr=dr||F.object!==hr,dr&&Y.onselect&&Y.onselect(F),Ne&1&&!(Y._prevButtons&1)&&Y.onclick&&Y.onclick(F),Y._prevButtons=Ne}})};function De(){if(Y.contextLost)return!0;R.isContextLost()&&(Y.contextLost=!0,Y.mouseListener.enabled=!1,Y.selection.object=null,Y.oncontextloss&&Y.oncontextloss())}S.addEventListener("webglcontextlost",De);function Re(){if(!De()){R.colorMask(!0,!0,!0,!0),R.depthMask(!0),R.disable(R.BLEND),R.enable(R.DEPTH_TEST),R.depthFunc(R.LEQUAL);for(var Ne=Q.length,Qe=B.length,pr=0;pr<Qe;++pr){var Se=B[pr];Se.shape=oe,Se.begin();for(var Fe=0;Fe<Ne;++Fe)if(K[Fe]===pr){var hr=Q[Fe];hr.drawPick&&(hr.pixelRatio=1,hr.drawPick(le))}Se.end()}}}var Ae=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ie=[Ae[0].slice(),Ae[1].slice()];function Be(){if(!De()){pe();var Ne=Y.camera.tick();le.view=Y.camera.matrix,Z=Z||Ne,te=te||Ne,z.pixelRatio=Y.pixelRatio,j.pixelRatio=Y.pixelRatio;var Qe=Q.length,pr=Ae[0],Se=Ae[1];pr[0]=pr[1]=pr[2]=1/0,Se[0]=Se[1]=Se[2]=-1/0;for(var Fe=0;Fe<Qe;++Fe){var hr=Q[Fe];hr.pixelRatio=Y.pixelRatio,hr.axes=Y.axes,Z=Z||!!hr.dirty,te=te||!!hr.dirty;var dr=hr.bounds;if(dr)for(var kr=dr[0],Ue=dr[1],He=0;He<3;++He)pr[He]=Math.min(pr[He],kr[He]),Se[He]=Math.max(Se[He],Ue[He])}var Xe=Y.bounds;if(Y.autoBounds)for(var He=0;He<3;++He){if(Se[He]<pr[He])pr[He]=-1,Se[He]=1;else{pr[He]===Se[He]&&(pr[He]-=1,Se[He]+=1);var fr=.05*(Se[He]-pr[He]);pr[He]=pr[He]-fr,Se[He]=Se[He]+fr}Xe[0][He]=pr[He],Xe[1][He]=Se[He]}for(var Mr=!1,He=0;He<3;++He)Mr=Mr||Ie[0][He]!==Xe[0][He]||Ie[1][He]!==Xe[1][He],Ie[0][He]=Xe[0][He],Ie[1][He]=Xe[1][He];if(te=te||Mr,Z=Z||Mr,!!Z){if(Mr){for(var qr=[0,0,0],Fe=0;Fe<3;++Fe)qr[Fe]=T((Xe[1][Fe]-Xe[0][Fe])/10);z.autoTicks?z.update({bounds:Xe,tickSpacing:qr}):z.update({bounds:Xe})}var et=R.drawingBufferWidth,jr=R.drawingBufferHeight;V[0]=et,V[1]=jr,oe[0]=Math.max(et/Y.pixelRatio,1)|0,oe[1]=Math.max(jr/Y.pixelRatio,1)|0,g(Y,I);for(var Fe=0;Fe<Qe;++Fe){var hr=Q[Fe];hr.axesBounds=Xe,Y.clipToBounds&&(hr.clipBounds=Xe)}F.object&&(Y.snapToData?j.position=F.dataCoordinate:j.position=F.dataPosition,j.bounds=Xe),te&&(te=!1,Re()),Y.axesPixels=s(Y.axes,le,et,jr),Y.onrender&&Y.onrender(),R.bindFramebuffer(R.FRAMEBUFFER,null),R.viewport(0,0,et,jr),Y.clearRGBA(),R.depthMask(!0),R.colorMask(!0,!0,!0,!0),R.enable(R.DEPTH_TEST),R.depthFunc(R.LEQUAL),R.disable(R.BLEND),R.disable(R.CULL_FACE);var Or=!1;z.enable&&(Or=Or||z.isTransparent(),z.draw(le)),j.axes=z,F.object&&j.draw(le),R.disable(R.CULL_FACE);for(var Fe=0;Fe<Qe;++Fe){var hr=Q[Fe];hr.axes=z,hr.pixelRatio=Y.pixelRatio,hr.isOpaque&&hr.isOpaque()&&hr.draw(le),hr.isTransparent&&hr.isTransparent()&&(Or=!0)}if(Or){O.shape=V,O.bind(),R.clear(R.DEPTH_BUFFER_BIT),R.colorMask(!1,!1,!1,!1),R.depthMask(!0),R.depthFunc(R.LESS),z.enable&&z.isTransparent()&&z.drawTransparent(le);for(var Fe=0;Fe<Qe;++Fe){var hr=Q[Fe];hr.isOpaque&&hr.isOpaque()&&hr.draw(le)}R.enable(R.BLEND),R.blendEquation(R.FUNC_ADD),R.blendFunc(R.ONE,R.ONE_MINUS_SRC_ALPHA),R.colorMask(!0,!0,!0,!0),R.depthMask(!1),R.clearColor(0,0,0,0),R.clear(R.COLOR_BUFFER_BIT),z.isTransparent()&&z.drawTransparent(le);for(var Fe=0;Fe<Qe;++Fe){var hr=Q[Fe];hr.isTransparent&&hr.isTransparent()&&hr.drawTransparent(le)}R.bindFramebuffer(R.FRAMEBUFFER,null),R.blendFunc(R.ONE,R.ONE_MINUS_SRC_ALPHA),R.disable(R.DEPTH_TEST),P.bind(),O.color[0].bind(0),P.uniforms.accumBuffer=0,x(R),R.disable(R.BLEND)}Z=!1;for(var Fe=0;Fe<Qe;++Fe)Q[Fe].dirty=!1}}}function je(){Y._stopped||Y.contextLost||(Be(),requestAnimationFrame(je))}return Y.enableMouseListeners(),je(),Y.redraw=function(){Y._stopped||(Z=!0,Be())},Y}function g(h,S){var d=h.bounds,R=h.cameraParams,L=R.projection,F=R.model,O=h.gl.drawingBufferWidth,P=h.gl.drawingBufferHeight,I=h.zNear,k=h.zFar,D=h.fovy,z=O/P;S?(A(L,-z,z,-1,1,I,k),R._ortho=!0):(w(L,D,z,I,k),R._ortho=!1);for(var q=0;q<16;++q)F[q]=0;F[15]=1;for(var j=0,q=0;q<3;++q)j=Math.max(j,d[1][q]-d[0][q]);for(var q=0;q<3;++q)h.autoScale?F[5*q]=h.aspect[q]/(d[1][q]-d[0][q]):F[5*q]=1/j,h.autoCenter&&(F[12+q]=-F[5*q]*.5*(d[0][q]+d[1][q]))}},783:function(a){a.exports=o;function o(i,l,f,s){var u=l[0],c=l[1],v=l[2],x=l[3],m=f[0],w=f[1],A=f[2],y=f[3],M,E,b,T,p;return E=u*m+c*w+v*A+x*y,E<0&&(E=-E,m=-m,w=-w,A=-A,y=-y),1-E>1e-6?(M=Math.acos(E),b=Math.sin(M),T=Math.sin((1-s)*M)/b,p=Math.sin(s*M)/b):(T=1-s,p=s),i[0]=T*u+p*m,i[1]=T*c+p*w,i[2]=T*v+p*A,i[3]=T*x+p*y,i}},5964:function(a){"use strict";a.exports=function(o){return!o&&o!==0?"":o.toString()}},9366:function(a,o,i){"use strict";var l=i(4359);a.exports=s;var f={};function s(u,c,v){var x=[c.style,c.weight,c.variant,c.family].join("_"),m=f[x];if(m||(m=f[x]={}),u in m)return m[u];var w={textAlign:"center",textBaseline:"middle",lineHeight:1,font:c.family,fontStyle:c.style,fontWeight:c.weight,fontVariant:c.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};w.triangles=!0;var A=l(u,w);w.triangles=!1;var y=l(u,w),M,E;if(v&&v!==1){for(M=0;M<A.positions.length;++M)for(E=0;E<A.positions[M].length;++E)A.positions[M][E]/=v;for(M=0;M<y.positions.length;++M)for(E=0;E<y.positions[M].length;++E)y.positions[M][E]/=v}var b=[[1/0,1/0],[-1/0,-1/0]],T=y.positions.length;for(M=0;M<T;++M){var p=y.positions[M];for(E=0;E<2;++E)b[0][E]=Math.min(b[0][E],p[E]),b[1][E]=Math.max(b[1][E],p[E])}return m[u]=[A,y,b]}},1283:function(a,o,i){var l=i(9405),f=i(3236),s=f([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),u=f([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),c=f([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * (view * (model * vec4(position, 1)));
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * (view * (model * vec4(dataPosition, 1)));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),v=f([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),x=f([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),m=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],w={vertex:s,fragment:v,attributes:m},A={vertex:u,fragment:v,attributes:m},y={vertex:c,fragment:v,attributes:m},M={vertex:s,fragment:x,attributes:m},E={vertex:u,fragment:x,attributes:m},b={vertex:c,fragment:x,attributes:m};function T(p,_){var g=l(p,_),h=g.attributes;return h.position.location=0,h.color.location=1,h.glyph.location=2,h.id.location=3,g}o.createPerspective=function(p){return T(p,w)},o.createOrtho=function(p){return T(p,A)},o.createProject=function(p){return T(p,y)},o.createPickPerspective=function(p){return T(p,M)},o.createPickOrtho=function(p){return T(p,E)},o.createPickProject=function(p){return T(p,b)}},8418:function(a,o,i){"use strict";var l=i(5219),f=i(2762),s=i(8116),u=i(1888),c=i(6760),v=i(1283),x=i(9366),m=i(5964),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],A=ArrayBuffer,y=DataView;function M(J){return A.isView(J)&&!(J instanceof y)}function E(J){return Array.isArray(J)||M(J)}a.exports=ie;function b(J,le){var te=J[0],V=J[1],ne=J[2],Y=J[3];return J[0]=le[0]*te+le[4]*V+le[8]*ne+le[12]*Y,J[1]=le[1]*te+le[5]*V+le[9]*ne+le[13]*Y,J[2]=le[2]*te+le[6]*V+le[10]*ne+le[14]*Y,J[3]=le[3]*te+le[7]*V+le[11]*ne+le[15]*Y,J}function T(J,le,te,V){return b(V,V,te),b(V,V,le),b(V,V,J)}function p(J,le){this.index=J,this.dataCoordinate=this.position=le}function _(J){return J===!0||J>1?1:J}function g(J,le,te,V,ne,Y,oe,pe,we,De,Re,Ae){this.gl=J,this.pixelRatio=1,this.shader=le,this.orthoShader=te,this.projectShader=V,this.pointBuffer=ne,this.colorBuffer=Y,this.glyphBuffer=oe,this.idBuffer=pe,this.vao=we,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=De,this.pickOrthoShader=Re,this.pickProjectShader=Ae,this.points=[],this._selectResult=new p(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var h=g.prototype;h.pickSlots=1,h.setPickBase=function(J){this.pickId=J},h.isTransparent=function(){if(this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&this.projectHasAlpha)return!0;return!1},h.isOpaque=function(){if(!this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&!this.projectHasAlpha)return!0;return!1};var S=[0,0],d=[0,0,0],R=[0,0,0],L=[0,0,0,1],F=[0,0,0,1],O=w.slice(),P=[0,0,0],I=[[0,0,0],[0,0,0]];function k(J){return J[0]=J[1]=J[2]=0,J}function D(J,le){return J[0]=le[0],J[1]=le[1],J[2]=le[2],J[3]=1,J}function z(J,le,te,V){return J[0]=le[0],J[1]=le[1],J[2]=le[2],J[te]=V,J}function q(J){for(var le=I,te=0;te<2;++te)for(var V=0;V<3;++V)le[te][V]=Math.max(Math.min(J[te][V],1e8),-1e8);return le}function j(J,le,te,V){var ne=le.axesProject,Y=le.gl,oe=J.uniforms,pe=te.model||w,we=te.view||w,De=te.projection||w,Re=le.axesBounds,Ae=q(le.clipBounds),Ie;le.axes&&le.axes.lastCubeProps?Ie=le.axes.lastCubeProps.axis:Ie=[1,1,1],S[0]=2/Y.drawingBufferWidth,S[1]=2/Y.drawingBufferHeight,J.bind(),oe.view=we,oe.projection=De,oe.screenSize=S,oe.highlightId=le.highlightId,oe.highlightScale=le.highlightScale,oe.clipBounds=Ae,oe.pickGroup=le.pickId/255,oe.pixelRatio=V;for(var Be=0;Be<3;++Be)if(ne[Be]){oe.scale=le.projectScale[Be],oe.opacity=le.projectOpacity[Be];for(var je=O,Ne=0;Ne<16;++Ne)je[Ne]=0;for(var Ne=0;Ne<4;++Ne)je[5*Ne]=1;je[5*Be]=0,Ie[Be]<0?je[12+Be]=Re[0][Be]:je[12+Be]=Re[1][Be],c(je,pe,je),oe.model=je;var Qe=(Be+1)%3,pr=(Be+2)%3,Se=k(d),Fe=k(R);Se[Qe]=1,Fe[pr]=1;var hr=T(De,we,pe,D(L,Se)),dr=T(De,we,pe,D(F,Fe));if(Math.abs(hr[1])>Math.abs(dr[1])){var kr=hr;hr=dr,dr=kr,kr=Se,Se=Fe,Fe=kr;var Ue=Qe;Qe=pr,pr=Ue}hr[0]<0&&(Se[Qe]=-1),dr[1]>0&&(Fe[pr]=-1);for(var He=0,Xe=0,Ne=0;Ne<4;++Ne)He+=Math.pow(pe[4*Qe+Ne],2),Xe+=Math.pow(pe[4*pr+Ne],2);Se[Qe]/=Math.sqrt(He),Fe[pr]/=Math.sqrt(Xe),oe.axes[0]=Se,oe.axes[1]=Fe,oe.fragClipBounds[0]=z(P,Ae[0],Be,-1e8),oe.fragClipBounds[1]=z(P,Ae[1],Be,1e8),le.vao.bind(),le.vao.draw(Y.TRIANGLES,le.vertexCount),le.lineWidth>0&&(Y.lineWidth(le.lineWidth*V),le.vao.draw(Y.LINES,le.lineVertexCount,le.vertexCount)),le.vao.unbind()}}var Q=[-1e8,-1e8,-1e8],K=[1e8,1e8,1e8],G=[Q,K];function B(J,le,te,V,ne,Y,oe){var pe=te.gl;if((Y===te.projectHasAlpha||oe)&&j(le,te,V,ne),Y===te.hasAlpha||oe){J.bind();var we=J.uniforms;we.model=V.model||w,we.view=V.view||w,we.projection=V.projection||w,S[0]=2/pe.drawingBufferWidth,S[1]=2/pe.drawingBufferHeight,we.screenSize=S,we.highlightId=te.highlightId,we.highlightScale=te.highlightScale,we.fragClipBounds=G,we.clipBounds=te.axes.bounds,we.opacity=te.opacity,we.pickGroup=te.pickId/255,we.pixelRatio=ne,te.vao.bind(),te.vao.draw(pe.TRIANGLES,te.vertexCount),te.lineWidth>0&&(pe.lineWidth(te.lineWidth*ne),te.vao.draw(pe.LINES,te.lineVertexCount,te.vertexCount)),te.vao.unbind()}}h.draw=function(J){var le=this.useOrtho?this.orthoShader:this.shader;B(le,this.projectShader,this,J,this.pixelRatio,!1,!1)},h.drawTransparent=function(J){var le=this.useOrtho?this.orthoShader:this.shader;B(le,this.projectShader,this,J,this.pixelRatio,!0,!1)},h.drawPick=function(J){var le=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;B(le,this.pickProjectShader,this,J,1,!0,!0)},h.pick=function(J){if(!J||J.id!==this.pickId)return null;var le=J.value[2]+(J.value[1]<<8)+(J.value[0]<<16);if(le>=this.pointCount||le<0)return null;var te=this.points[le],V=this._selectResult;V.index=le;for(var ne=0;ne<3;++ne)V.position[ne]=V.dataCoordinate[ne]=te[ne];return V},h.highlight=function(J){if(!J)this.highlightId=[1,1,1,1];else{var le=J.index,te=le&255,V=le>>8&255,ne=le>>16&255;this.highlightId=[te/255,V/255,ne/255,0]}};function Z(J,le,te,V){var ne;E(J)?le<J.length?ne=J[le]:ne=void 0:ne=J,ne=m(ne);var Y=!0;l(ne)&&(ne="\u25BC",Y=!1),te||(te={});var oe=te.family;E(oe)&&(oe=oe[le]),oe||(oe="normal");var pe=te.weight;E(pe)&&(pe=pe[le]),pe||(pe="normal");var we=te.style;E(we)&&(we=we[le]),we||(we="normal");var De=te.variant;E(De)&&(De=De[le]),De||(De="normal");var Re=x(ne,{family:oe,weight:pe,style:we,variant:De},V),Re=x(ne,te,V);return{mesh:Re[0],lines:Re[1],bounds:Re[2],visible:Y}}h.update=function(J){if(J=J||{},"perspective"in J&&(this.useOrtho=!J.perspective),"orthographic"in J&&(this.useOrtho=!!J.orthographic),"lineWidth"in J&&(this.lineWidth=J.lineWidth),"project"in J)if(E(J.project))this.axesProject=J.project;else{var le=!!J.project;this.axesProject=[le,le,le]}if("projectScale"in J)if(E(J.projectScale))this.projectScale=J.projectScale.slice();else{var te=+J.projectScale;this.projectScale=[te,te,te]}if(this.projectHasAlpha=!1,"projectOpacity"in J){if(E(J.projectOpacity))this.projectOpacity=J.projectOpacity.slice();else{var te=+J.projectOpacity;this.projectOpacity=[te,te,te]}for(var V=0;V<3;++V)this.projectOpacity[V]=_(this.projectOpacity[V]),this.projectOpacity[V]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in J&&(this.opacity=_(J.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var ne=J.position,Y={family:J.font||"normal",style:J.fontStyle||"normal",weight:J.fontWeight||"normal",variant:J.fontVariant||"normal"},oe=J.alignment||[0,0],pe,we;if(oe.length===2)pe=oe[0],we=oe[1];else{pe=[],we=[];for(var V=0;V<oe.length;++V)pe[V]=oe[V][0],we[V]=oe[V][1]}var De=[1/0,1/0,1/0],Re=[-1/0,-1/0,-1/0],Ae=J.glyph,Ie=J.color,Be=J.size,je=J.angle,Ne=J.lineColor,Qe=-1,pr=0,Se=0,Fe=0;if(ne.length){Fe=ne.length;e:for(var V=0;V<Fe;++V){for(var hr=ne[V],dr=0;dr<3;++dr)if(isNaN(hr[dr])||!isFinite(hr[dr]))continue e;var kr=Z(Ae,V,Y,this.pixelRatio),Ue=kr.mesh,He=kr.lines,Xe=kr.bounds;pr+=Ue.cells.length*3,Se+=He.edges.length*2}}var fr=pr+Se,Mr=u.mallocFloat(3*fr),qr=u.mallocFloat(4*fr),et=u.mallocFloat(2*fr),jr=u.mallocUint32(fr);if(fr>0){var Or=0,_r=pr,qe=[0,0,0,1],nr=[0,0,0,1],Te=E(Ie)&&E(Ie[0]),be=E(Ne)&&E(Ne[0]);e:for(var V=0;V<Fe;++V){Qe+=1;for(var hr=ne[V],dr=0;dr<3;++dr){if(isNaN(hr[dr])||!isFinite(hr[dr]))continue e;Re[dr]=Math.max(Re[dr],hr[dr]),De[dr]=Math.min(De[dr],hr[dr])}var kr=Z(Ae,V,Y,this.pixelRatio),Ue=kr.mesh,He=kr.lines,Xe=kr.bounds,Ge=kr.visible;if(!Ge)qe=[1,1,1,0];else if(E(Ie)){var ae;if(Te?V<Ie.length?ae=Ie[V]:ae=[0,0,0,0]:ae=Ie,ae.length===3){for(var dr=0;dr<3;++dr)qe[dr]=ae[dr];qe[3]=1}else if(ae.length===4){for(var dr=0;dr<4;++dr)qe[dr]=ae[dr];!this.hasAlpha&&ae[3]<1&&(this.hasAlpha=!0)}}else qe[0]=qe[1]=qe[2]=0,qe[3]=1;if(!Ge)nr=[1,1,1,0];else if(E(Ne)){var ae;if(be?V<Ne.length?ae=Ne[V]:ae=[0,0,0,0]:ae=Ne,ae.length===3){for(var dr=0;dr<3;++dr)nr[dr]=ae[dr];nr[dr]=1}else if(ae.length===4){for(var dr=0;dr<4;++dr)nr[dr]=ae[dr];!this.hasAlpha&&ae[3]<1&&(this.hasAlpha=!0)}}else nr[0]=nr[1]=nr[2]=0,nr[3]=1;var W=.5;Ge?E(Be)?V<Be.length?W=+Be[V]:W=12:Be?W=+Be:this.useOrtho&&(W=12):W=0;var re=0;E(je)?V<je.length?re=+je[V]:re=0:je&&(re=+je);for(var Ee=Math.cos(re),We=Math.sin(re),hr=ne[V],dr=0;dr<3;++dr)Re[dr]=Math.max(Re[dr],hr[dr]),De[dr]=Math.min(De[dr],hr[dr]);var lr=pe,sr=we,lr=0;E(pe)?V<pe.length?lr=pe[V]:lr=0:pe&&(lr=pe);var sr=0;E(we)?V<we.length?sr=we[V]:sr=0:we&&(sr=we),lr*=lr>0?1-Xe[0][0]:lr<0?1+Xe[1][0]:1,sr*=sr>0?1-Xe[0][1]:sr<0?1+Xe[1][1]:1;for(var Yr=[lr,sr],qt=Ue.cells||[],Nt=Ue.positions||[],dr=0;dr<qt.length;++dr)for(var rt=qt[dr],zr=0;zr<3;++zr){for(var vt=0;vt<3;++vt)Mr[3*Or+vt]=hr[vt];for(var vt=0;vt<4;++vt)qr[4*Or+vt]=qe[vt];jr[Or]=Qe;var dt=Nt[rt[zr]];et[2*Or]=W*(Ee*dt[0]-We*dt[1]+Yr[0]),et[2*Or+1]=W*(We*dt[0]+Ee*dt[1]+Yr[1]),Or+=1}for(var qt=He.edges,Nt=He.positions,dr=0;dr<qt.length;++dr)for(var rt=qt[dr],zr=0;zr<2;++zr){for(var vt=0;vt<3;++vt)Mr[3*_r+vt]=hr[vt];for(var vt=0;vt<4;++vt)qr[4*_r+vt]=nr[vt];jr[_r]=Qe;var dt=Nt[rt[zr]];et[2*_r]=W*(Ee*dt[0]-We*dt[1]+Yr[0]),et[2*_r+1]=W*(We*dt[0]+Ee*dt[1]+Yr[1]),_r+=1}}}this.bounds=[De,Re],this.points=ne,this.pointCount=ne.length,this.vertexCount=pr,this.lineVertexCount=Se,this.pointBuffer.update(Mr),this.colorBuffer.update(qr),this.glyphBuffer.update(et),this.idBuffer.update(jr),u.free(Mr),u.free(qr),u.free(et),u.free(jr)},h.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function ie(J){var le=J.gl,te=v.createPerspective(le),V=v.createOrtho(le),ne=v.createProject(le),Y=v.createPickPerspective(le),oe=v.createPickOrtho(le),pe=v.createPickProject(le),we=f(le),De=f(le),Re=f(le),Ae=f(le),Ie=s(le,[{buffer:we,size:3,type:le.FLOAT},{buffer:De,size:4,type:le.FLOAT},{buffer:Re,size:2,type:le.FLOAT},{buffer:Ae,size:4,type:le.UNSIGNED_BYTE,normalized:!0}]),Be=new g(le,te,V,ne,we,De,Re,Ae,Ie,Y,oe,pe);return Be.update(J),Be}},3589:function(a,o,i){"use strict";a.exports=w;var l=i(2260),f=i(1888),s=i(9618),u=i(8828).nextPow2,c=function(A,y,M){for(var E=1e8,b=-1,T=-1,p=A.shape[0],_=A.shape[1],g=0;g<p;g++)for(var h=0;h<_;h++){var S=A.get(g,h,0),d=A.get(g,h,1),R=A.get(g,h,2),L=A.get(g,h,3);if(S<255||d<255||R<255||L<255){var F=y-g,O=M-h,P=F*F+O*O;P<E&&(E=P,b=g,T=h)}}return[b,T,E]};function v(A,y,M,E,b){this.coord=[A,y],this.id=M,this.value=E,this.distance=b}function x(A,y,M){this.gl=A,this.fbo=y,this.buffer=M,this._readTimeout=null;var E=this;this._readCallback=function(){E.gl&&(y.bind(),A.readPixels(0,0,y.shape[0],y.shape[1],A.RGBA,A.UNSIGNED_BYTE,E.buffer),E._readTimeout=null)}}var m=x.prototype;Object.defineProperty(m,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(A){if(this.gl){this.fbo.shape=A;var y=this.fbo.shape[0],M=this.fbo.shape[1];if(M*y*4>this.buffer.length){f.free(this.buffer);for(var E=this.buffer=f.mallocUint8(u(M*y*4)),b=0;b<M*y*4;++b)E[b]=255}return A}}}),m.begin=function(){var A=this.gl,y=this.shape;A&&(this.fbo.bind(),A.clearColor(1,1,1,1),A.clear(A.COLOR_BUFFER_BIT|A.DEPTH_BUFFER_BIT))},m.end=function(){var A=this.gl;A&&(A.bindFramebuffer(A.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},m.query=function(A,y,M){if(!this.gl)return null;var E=this.fbo.shape.slice();A=A|0,y=y|0,typeof M!="number"&&(M=1);var b=Math.min(Math.max(A-M,0),E[0])|0,T=Math.min(Math.max(A+M,0),E[0])|0,p=Math.min(Math.max(y-M,0),E[1])|0,_=Math.min(Math.max(y+M,0),E[1])|0;if(T<=b||_<=p)return null;var g=[T-b,_-p],h=s(this.buffer,[g[0],g[1],4],[4,E[0]*4,1],4*(b+E[0]*p)),S=c(h.hi(g[0],g[1],1),M,M),d=S[0],R=S[1];if(d<0||Math.pow(this.radius,2)<S[2])return null;var L=h.get(d,R,0),F=h.get(d,R,1),O=h.get(d,R,2),P=h.get(d,R,3);return new v(d+b|0,R+p|0,L,[F,O,P],Math.sqrt(S[2]))},m.dispose=function(){this.gl&&(this.fbo.dispose(),f.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function w(A,y){var M=y[0],E=y[1],b={},T=l(A,M,E,b),p=f.mallocUint8(M*E*4);return new x(A,T,p)}},9405:function(a,o,i){"use strict";var l=i(3327),f=i(8731),s=i(216),u=i(5091),c=i(2145),v=i(8866);function x(y){this.gl=y,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var m=x.prototype;m.bind=function(){this.program||this._relink();var y,M=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),E=this.gl.lastAttribCount;if(M>E)for(y=E;y<M;y++)this.gl.enableVertexAttribArray(y);else if(E>M)for(y=M;y<E;y++)this.gl.disableVertexAttribArray(y);this.gl.lastAttribCount=M,this.gl.useProgram(this.program)},m.dispose=function(){for(var y=this.gl.lastAttribCount,M=0;M<y;M++)this.gl.disableVertexAttribArray(M);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function w(y,M){return y.name<M.name?-1:1}m.update=function(y,M,E,b){if(!M||arguments.length===1){var T=y;y=T.vertex,M=T.fragment,E=T.uniforms,b=T.attributes}var p=this,_=p.gl,g=p._vref;p._vref=u.shader(_,_.VERTEX_SHADER,y),g&&g.dispose(),p.vertShader=p._vref.shader;var h=this._fref;if(p._fref=u.shader(_,_.FRAGMENT_SHADER,M),h&&h.dispose(),p.fragShader=p._fref.shader,!E||!b){var S=_.createProgram();if(_.attachShader(S,p.fragShader),_.attachShader(S,p.vertShader),_.linkProgram(S),!_.getProgramParameter(S,_.LINK_STATUS)){var d=_.getProgramInfoLog(S);throw new v(d,"Error linking program:"+d)}E=E||c.uniforms(_,S),b=b||c.attributes(_,S),_.deleteProgram(S)}b=b.slice(),b.sort(w);var R=[],L=[],F=[],O;for(O=0;O<b.length;++O){var P=b[O];if(P.type.indexOf("mat")>=0){for(var I=P.type.charAt(P.type.length-1)|0,k=new Array(I),D=0;D<I;++D)k[D]=F.length,L.push(P.name+"["+D+"]"),typeof P.location=="number"?F.push(P.location+D):Array.isArray(P.location)&&P.location.length===I&&typeof P.location[D]=="number"?F.push(P.location[D]|0):F.push(-1);R.push({name:P.name,type:P.type,locations:k})}else R.push({name:P.name,type:P.type,locations:[F.length]}),L.push(P.name),typeof P.location=="number"?F.push(P.location|0):F.push(-1)}var z=0;for(O=0;O<F.length;++O)if(F[O]<0){for(;F.indexOf(z)>=0;)z+=1;F[O]=z}var q=new Array(E.length);function j(){p.program=u.program(_,p._vref,p._fref,L,F);for(var Q=0;Q<E.length;++Q)q[Q]=_.getUniformLocation(p.program,E[Q].name)}j(),p._relink=j,p.types={uniforms:s(E),attributes:s(b)},p.attributes=f(_,p,R,F),Object.defineProperty(p,"uniforms",l(_,p,E,q))};function A(y,M,E,b,T){var p=new x(y);return p.update(M,E,b,T),p}a.exports=A},8866:function(a){function o(i,l,f){this.shortMessage=l||"",this.longMessage=f||"",this.rawError=i||"",this.message="gl-shader: "+(l||i||"")+(f?`
`+f:""),this.stack=new Error().stack}o.prototype=new Error,o.prototype.name="GLError",o.prototype.constructor=o,a.exports=o},8731:function(a,o,i){"use strict";a.exports=x;var l=i(8866);function f(m,w,A,y,M,E){this._gl=m,this._wrapper=w,this._index=A,this._locations=y,this._dimension=M,this._constFunc=E}var s=f.prototype;s.pointer=function(w,A,y,M){var E=this,b=E._gl,T=E._locations[E._index];b.vertexAttribPointer(T,E._dimension,w||b.FLOAT,!!A,y||0,M||0),b.enableVertexAttribArray(T)},s.set=function(m,w,A,y){return this._constFunc(this._locations[this._index],m,w,A,y)},Object.defineProperty(s,"location",{get:function(){return this._locations[this._index]},set:function(m){return m!==this._locations[this._index]&&(this._locations[this._index]=m|0,this._wrapper.program=null),m|0}});var u=[function(m,w,A){return A.length===void 0?m.vertexAttrib1f(w,A):m.vertexAttrib1fv(w,A)},function(m,w,A,y){return A.length===void 0?m.vertexAttrib2f(w,A,y):m.vertexAttrib2fv(w,A)},function(m,w,A,y,M){return A.length===void 0?m.vertexAttrib3f(w,A,y,M):m.vertexAttrib3fv(w,A)},function(m,w,A,y,M,E){return A.length===void 0?m.vertexAttrib4f(w,A,y,M,E):m.vertexAttrib4fv(w,A)}];function c(m,w,A,y,M,E,b){var T=u[M],p=new f(m,w,A,y,M,T);Object.defineProperty(E,b,{set:function(_){return m.disableVertexAttribArray(y[A]),T(m,y[A],_),_},get:function(){return p},enumerable:!0})}function v(m,w,A,y,M,E,b){for(var T=new Array(M),p=new Array(M),_=0;_<M;++_)c(m,w,A[_],y,M,T,_),p[_]=T[_];Object.defineProperty(T,"location",{set:function(S){if(Array.isArray(S))for(var d=0;d<M;++d)p[d].location=S[d];else for(var d=0;d<M;++d)p[d].location=S+d;return S},get:function(){for(var S=new Array(M),d=0;d<M;++d)S[d]=y[A[d]];return S},enumerable:!0}),T.pointer=function(S,d,R,L){S=S||m.FLOAT,d=!!d,R=R||M*M,L=L||0;for(var F=0;F<M;++F){var O=y[A[F]];m.vertexAttribPointer(O,M,S,d,R,L+F*M),m.enableVertexAttribArray(O)}};var g=new Array(M),h=m["vertexAttrib"+M+"fv"];Object.defineProperty(E,b,{set:function(S){for(var d=0;d<M;++d){var R=y[A[d]];if(m.disableVertexAttribArray(R),Array.isArray(S[0]))h.call(m,R,S[d]);else{for(var L=0;L<M;++L)g[L]=S[M*d+L];h.call(m,R,g)}}return S},get:function(){return T},enumerable:!0})}function x(m,w,A,y){for(var M={},E=0,b=A.length;E<b;++E){var T=A[E],p=T.name,_=T.type,g=T.locations;switch(_){case"bool":case"int":case"float":c(m,w,g[0],y,1,M,p);break;default:if(_.indexOf("vec")>=0){var h=_.charCodeAt(_.length-1)-48;if(h<2||h>4)throw new l("","Invalid data type for attribute "+p+": "+_);c(m,w,g[0],y,h,M,p)}else if(_.indexOf("mat")>=0){var h=_.charCodeAt(_.length-1)-48;if(h<2||h>4)throw new l("","Invalid data type for attribute "+p+": "+_);v(m,w,g,y,h,M,p)}else throw new l("","Unknown data type for attribute "+p+": "+_);break}}return M}},3327:function(a,o,i){"use strict";var l=i(216),f=i(8866);a.exports=c;function s(v){return function(){return v}}function u(v,x){for(var m=new Array(v),w=0;w<v;++w)m[w]=x;return m}function c(v,x,m,w){function A(_){return function(g,h,S){return g.getUniform(h.program,S[_])}}function y(_){return function(h){for(var S=M("",_),d=0;d<S.length;++d){var R=S[d],L=R[0],F=R[1];if(w[F]){var O=h;if(typeof L=="string"&&(L.indexOf(".")===0||L.indexOf("[")===0)){var P=L;if(L.indexOf(".")===0&&(P=L.slice(1)),P.indexOf("]")===P.length-1){var I=P.indexOf("["),k=P.slice(0,I),D=P.slice(I+1,P.length-1);O=k?h[k][D]:h[D]}else O=h[P]}var z=m[F].type,q;switch(z){case"bool":case"int":case"sampler2D":case"samplerCube":v.uniform1i(w[F],O);break;case"float":v.uniform1f(w[F],O);break;default:var j=z.indexOf("vec");if(0<=j&&j<=1&&z.length===4+j){if(q=z.charCodeAt(z.length-1)-48,q<2||q>4)throw new f("","Invalid data type");switch(z.charAt(0)){case"b":case"i":v["uniform"+q+"iv"](w[F],O);break;case"v":v["uniform"+q+"fv"](w[F],O);break;default:throw new f("","Unrecognized data type for vector "+name+": "+z)}}else if(z.indexOf("mat")===0&&z.length===4){if(q=z.charCodeAt(z.length-1)-48,q<2||q>4)throw new f("","Invalid uniform dimension type for matrix "+name+": "+z);v["uniformMatrix"+q+"fv"](w[F],!1,O);break}else throw new f("","Unknown uniform data type for "+name+": "+z)}}}}}function M(_,g){if(typeof g!="object")return[[_,g]];var h=[];for(var S in g){var d=g[S],R=_;parseInt(S)+""===S?R+="["+S+"]":R+="."+S,typeof d=="object"?h.push.apply(h,M(R,d)):h.push([R,d])}return h}function E(_){switch(_){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var g=_.indexOf("vec");if(0<=g&&g<=1&&_.length===4+g){var h=_.charCodeAt(_.length-1)-48;if(h<2||h>4)throw new f("","Invalid data type");return _.charAt(0)==="b"?u(h,!1):u(h,0)}else if(_.indexOf("mat")===0&&_.length===4){var h=_.charCodeAt(_.length-1)-48;if(h<2||h>4)throw new f("","Invalid uniform dimension type for matrix "+name+": "+_);return u(h*h,0)}else throw new f("","Unknown uniform data type for "+name+": "+_)}}function b(_,g,h){if(typeof h=="object"){var S=T(h);Object.defineProperty(_,g,{get:s(S),set:y(h),enumerable:!0,configurable:!1})}else w[h]?Object.defineProperty(_,g,{get:A(h),set:y(h),enumerable:!0,configurable:!1}):_[g]=E(m[h].type)}function T(_){var g;if(Array.isArray(_)){g=new Array(_.length);for(var h=0;h<_.length;++h)b(g,h,_[h])}else{g={};for(var S in _)b(g,S,_[S])}return g}var p=l(m,!0);return{get:s(T(p)),set:y(p),enumerable:!0,configurable:!0}}},216:function(a){"use strict";a.exports=o;function o(i,l){for(var f={},s=0;s<i.length;++s)for(var u=i[s].name,c=u.split("."),v=f,x=0;x<c.length;++x){var m=c[x].split("[");if(m.length>1){m[0]in v||(v[m[0]]=[]),v=v[m[0]];for(var w=1;w<m.length;++w){var A=parseInt(m[w]);w<m.length-1||x<c.length-1?(A in v||(w<m.length-1?v[A]=[]:v[A]={}),v=v[A]):l?v[A]=s:v[A]=i[s].type}}else x<c.length-1?(m[0]in v||(v[m[0]]={}),v=v[m[0]]):l?v[m[0]]=s:v[m[0]]=i[s].type}return f}},2145:function(a,o){"use strict";o.uniforms=s,o.attributes=u;var i={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},l=null;function f(c,v){if(!l){var x=Object.keys(i);l={};for(var m=0;m<x.length;++m){var w=x[m];l[c[w]]=i[w]}}return l[v]}function s(c,v){for(var x=c.getProgramParameter(v,c.ACTIVE_UNIFORMS),m=[],w=0;w<x;++w){var A=c.getActiveUniform(v,w);if(A){var y=f(c,A.type);if(A.size>1)for(var M=0;M<A.size;++M)m.push({name:A.name.replace("[0]","["+M+"]"),type:y});else m.push({name:A.name,type:y})}}return m}function u(c,v){for(var x=c.getProgramParameter(v,c.ACTIVE_ATTRIBUTES),m=[],w=0;w<x;++w){var A=c.getActiveAttrib(v,w);A&&m.push({name:A.name,type:f(c,A.type)})}return m}},5091:function(a,o,i){"use strict";o.shader=M,o.program=E;var l=i(8866),f=i(2992),s=typeof WeakMap=="undefined"?i(606):WeakMap,u=new s,c=0;function v(b,T,p,_,g,h,S){this.id=b,this.src=T,this.type=p,this.shader=_,this.count=h,this.programs=[],this.cache=S}v.prototype.dispose=function(){if(--this.count===0){for(var b=this.cache,T=b.gl,p=this.programs,_=0,g=p.length;_<g;++_){var h=b.programs[p[_]];h&&(delete b.programs[_],T.deleteProgram(h))}T.deleteShader(this.shader),delete b.shaders[this.type===T.FRAGMENT_SHADER|0][this.src]}};function x(b){this.gl=b,this.shaders=[{},{}],this.programs={}}var m=x.prototype;function w(b,T,p){var _=b.createShader(T);if(b.shaderSource(_,p),b.compileShader(_),!b.getShaderParameter(_,b.COMPILE_STATUS)){var g=b.getShaderInfoLog(_);try{var h=f(g,p,T)}catch(S){throw console.warn("Failed to format compiler error: "+S),new l(g,`Error compiling shader:
`+g)}throw new l(g,h.short,h.long)}return _}m.getShaderReference=function(b,T){var p=this.gl,_=this.shaders[b===p.FRAGMENT_SHADER|0],g=_[T];if(!g||!p.isShader(g.shader)){var h=w(p,b,T);g=_[T]=new v(c++,T,b,h,[],1,this)}else g.count+=1;return g};function A(b,T,p,_,g){var h=b.createProgram();b.attachShader(h,T),b.attachShader(h,p);for(var S=0;S<_.length;++S)b.bindAttribLocation(h,g[S],_[S]);if(b.linkProgram(h),!b.getProgramParameter(h,b.LINK_STATUS)){var d=b.getProgramInfoLog(h);throw new l(d,"Error linking program: "+d)}return h}m.getProgram=function(b,T,p,_){var g=[b.id,T.id,p.join(":"),_.join(":")].join("@"),h=this.programs[g];return(!h||!this.gl.isProgram(h))&&(this.programs[g]=h=A(this.gl,b.shader,T.shader,p,_),b.programs.push(g),T.programs.push(g)),h};function y(b){var T=u.get(b);return T||(T=new x(b),u.set(b,T)),T}function M(b,T,p){return y(b).getShaderReference(T,p)}function E(b,T,p,_,g){return y(b).getProgram(T,p,_,g)}},1493:function(a,o,i){"use strict";var l=i(3236),f=i(9405),s=l([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * (view * (model * vec4(vertexPosition, 1.0)));
  vec2 clipOffset = (projection * (view * (model * vec4(color, 0.0)))).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),u=l([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);a.exports=function(c){return f(c,s,u,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(a,o,i){"use strict";var l=i(2762),f=i(8116),s=i(1493);a.exports=A;var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(y,M,E,b){this.gl=y,this.buffer=M,this.vao=E,this.shader=b,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var v=c.prototype,x=[0,0,0],m=[0,0,0],w=[0,0];v.isTransparent=function(){return!1},v.drawTransparent=function(y){},v.draw=function(y){var M=this.gl,E=this.vao,b=this.shader;E.bind(),b.bind();var T=y.model||u,p=y.view||u,_=y.projection||u,g;this.axes&&(g=this.axes.lastCubeProps.axis);for(var h=x,S=m,d=0;d<3;++d)g&&g[d]<0?(h[d]=this.bounds[0][d],S[d]=this.bounds[1][d]):(h[d]=this.bounds[1][d],S[d]=this.bounds[0][d]);w[0]=M.drawingBufferWidth,w[1]=M.drawingBufferHeight,b.uniforms.model=T,b.uniforms.view=p,b.uniforms.projection=_,b.uniforms.coordinates=[this.position,h,S],b.uniforms.colors=this.colors,b.uniforms.screenShape=w;for(var d=0;d<3;++d)b.uniforms.lineWidth=this.lineWidth[d]*this.pixelRatio,this.enabled[d]&&(E.draw(M.TRIANGLES,6,6*d),this.drawSides[d]&&E.draw(M.TRIANGLES,12,18+12*d));E.unbind()},v.update=function(y){y&&("bounds"in y&&(this.bounds=y.bounds),"position"in y&&(this.position=y.position),"lineWidth"in y&&(this.lineWidth=y.lineWidth),"colors"in y&&(this.colors=y.colors),"enabled"in y&&(this.enabled=y.enabled),"drawSides"in y&&(this.drawSides=y.drawSides))},v.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function A(y,M){var E=[];function b(h,S,d,R,L,F){var O=[h,S,d,0,0,0,1];O[R+3]=1,O[R]=L,E.push.apply(E,O),O[6]=-1,E.push.apply(E,O),O[R]=F,E.push.apply(E,O),E.push.apply(E,O),O[6]=1,E.push.apply(E,O),O[R]=L,E.push.apply(E,O)}b(0,0,0,0,0,1),b(0,0,0,1,0,1),b(0,0,0,2,0,1),b(1,0,0,1,-1,1),b(1,0,0,2,-1,1),b(0,1,0,0,-1,1),b(0,1,0,2,-1,1),b(0,0,1,0,-1,1),b(0,0,1,1,-1,1);var T=l(y,E),p=f(y,[{type:y.FLOAT,buffer:T,size:3,offset:0,stride:28},{type:y.FLOAT,buffer:T,size:3,offset:12,stride:28},{type:y.FLOAT,buffer:T,size:1,offset:24,stride:28}]),_=s(y);_.attributes.position.location=0,_.attributes.color.location=1,_.attributes.weight.location=2;var g=new c(y,T,p,_);return g.update(M),g}},6740:function(a,o,i){var l=i(3236),f=l([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),s=l([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),u=l([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * (view * tubePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),c=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);o.meshShader={vertex:f,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},o.pickShader={vertex:u,fragment:c,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(a,o,i){"use strict";var l=i(2931),f=i(9970),s=["xyz","xzy","yxz","yzx","zxy","zyx"],u=function(b,T,p,_){for(var g=b.points,h=b.velocities,S=b.divergences,d=[],R=[],L=[],F=[],O=[],P=[],I=0,k=0,D=f.create(),z=f.create(),q=8,j=0;j<g.length;j++){var Q=g[j],K=h[j],G=S[j];T===0&&(G=p*.05),k=l.length(K)/_,D=f.create(),l.copy(D,K),D[3]=G;for(var B=0;B<q;B++)O[B]=[Q[0],Q[1],Q[2],B];if(F.length>0)for(var B=0;B<q;B++){var Z=(B+1)%q;d.push(F[B],O[B],O[Z],O[Z],F[Z],F[B]),L.push(z,D,D,D,z,z),P.push(I,k,k,k,I,I);var ie=d.length;R.push([ie-6,ie-5,ie-4],[ie-3,ie-2,ie-1])}var J=F;F=O,O=J;var le=z;z=D,D=le;var te=I;I=k,k=te}return{positions:d,cells:R,vectors:L,vertexIntensity:P}},c=function(b,T,p,_){for(var g=0,h=0;h<b.length;h++)for(var S=b[h].velocities,d=0;d<S.length;d++)g=Math.max(g,l.length(S[d]));for(var R=b.map(function(j){return u(j,p,_,g)}),L=[],F=[],O=[],P=[],h=0;h<R.length;h++){var I=R[h],k=L.length;L=L.concat(I.positions),O=O.concat(I.vectors),P=P.concat(I.vertexIntensity);for(var d=0;d<I.cells.length;d++){var D=I.cells[d],z=[];F.push(z);for(var q=0;q<D.length;q++)z.push(D[q]+k)}}return{positions:L,cells:F,vectors:O,vertexIntensity:P,colormap:T}},v=function(b,T){var p=b.length,_;for(_=0;_<p;_++){var g=b[_];if(g===T)return _;if(g>T)return _-1}return _},x=function(b,T,p){return b<T?T:b>p?p:b},m=function(b,T,p){var _=T.vectors,g=T.meshgrid,h=b[0],S=b[1],d=b[2],R=g[0].length,L=g[1].length,F=g[2].length,O=v(g[0],h),P=v(g[1],S),I=v(g[2],d),k=O+1,D=P+1,z=I+1;if(O=x(O,0,R-1),k=x(k,0,R-1),P=x(P,0,L-1),D=x(D,0,L-1),I=x(I,0,F-1),z=x(z,0,F-1),O<0||P<0||I<0||k>R-1||D>L-1||z>F-1)return l.create();var q=g[0][O],j=g[0][k],Q=g[1][P],K=g[1][D],G=g[2][I],B=g[2][z],Z=(h-q)/(j-q),ie=(S-Q)/(K-Q),J=(d-G)/(B-G);isFinite(Z)||(Z=.5),isFinite(ie)||(ie=.5),isFinite(J)||(J=.5);var le,te,V,ne,Y,oe;switch(p.reversedX&&(O=R-1-O,k=R-1-k),p.reversedY&&(P=L-1-P,D=L-1-D),p.reversedZ&&(I=F-1-I,z=F-1-z),p.filled){case 5:Y=I,oe=z,V=P*F,ne=D*F,le=O*F*L,te=k*F*L;break;case 4:Y=I,oe=z,le=O*F,te=k*F,V=P*F*R,ne=D*F*R;break;case 3:V=P,ne=D,Y=I*L,oe=z*L,le=O*L*F,te=k*L*F;break;case 2:V=P,ne=D,le=O*L,te=k*L,Y=I*L*R,oe=z*L*R;break;case 1:le=O,te=k,Y=I*R,oe=z*R,V=P*R*F,ne=D*R*F;break;default:le=O,te=k,V=P*R,ne=D*R,Y=I*R*L,oe=z*R*L;break}var pe=_[le+V+Y],we=_[le+V+oe],De=_[le+ne+Y],Re=_[le+ne+oe],Ae=_[te+V+Y],Ie=_[te+V+oe],Be=_[te+ne+Y],je=_[te+ne+oe],Ne=l.create(),Qe=l.create(),pr=l.create(),Se=l.create();l.lerp(Ne,pe,Ae,Z),l.lerp(Qe,we,Ie,Z),l.lerp(pr,De,Be,Z),l.lerp(Se,Re,je,Z);var Fe=l.create(),hr=l.create();l.lerp(Fe,Ne,pr,ie),l.lerp(hr,Qe,Se,ie);var dr=l.create();return l.lerp(dr,Fe,hr,J),dr},w=function(b,T){var p=T[0],_=T[1],g=T[2];return b[0]=p<0?-p:p,b[1]=_<0?-_:_,b[2]=g<0?-g:g,b},A=function(b){var T=1/0;b.sort(function(h,S){return h-S});for(var p=b.length,_=1;_<p;_++){var g=Math.abs(b[_]-b[_-1]);g<T&&(T=g)}return T},y=function(b){for(var T=[],p=[],_=[],g={},h={},S={},d=b.length,R=0;R<d;R++){var L=b[R],F=L[0],O=L[1],P=L[2];g[F]||(T.push(F),g[F]=!0),h[O]||(p.push(O),h[O]=!0),S[P]||(_.push(P),S[P]=!0)}var I=A(T),k=A(p),D=A(_),z=Math.min(I,k,D);return isFinite(z)?z:1};a.exports=function(b,T){var p=b.startingPositions,_=b.maxLength||1e3,g=b.tubeSize||1,h=b.absoluteTubeSize,S=b.gridFill||"+x+y+z",d={};S.indexOf("-x")!==-1&&(d.reversedX=!0),S.indexOf("-y")!==-1&&(d.reversedY=!0),S.indexOf("-z")!==-1&&(d.reversedZ=!0),d.filled=s.indexOf(S.replace(/-/g,"").replace(/\+/g,""));var R=b.getVelocity||function(Ie){return m(Ie,b,d)},L=b.getDivergence||function(Ie,Be){var je=l.create(),Ne=1e-4;l.add(je,Ie,[Ne,0,0]);var Qe=R(je);l.subtract(Qe,Qe,Be),l.scale(Qe,Qe,1/Ne),l.add(je,Ie,[0,Ne,0]);var pr=R(je);l.subtract(pr,pr,Be),l.scale(pr,pr,1/Ne),l.add(je,Ie,[0,0,Ne]);var Se=R(je);return l.subtract(Se,Se,Be),l.scale(Se,Se,1/Ne),l.add(je,Qe,pr),l.add(je,je,Se),je},F=[],O=T[0][0],P=T[0][1],I=T[0][2],k=T[1][0],D=T[1][1],z=T[1][2],q=function(Ie){var Be=Ie[0],je=Ie[1],Ne=Ie[2];return!(Be<O||Be>k||je<P||je>D||Ne<I||Ne>z)},j=l.distance(T[0],T[1]),Q=10*j/_,K=Q*Q,G=1,B=0,Z=p.length;Z>1&&(G=y(p));for(var ie=0;ie<Z;ie++){var J=l.create();l.copy(J,p[ie]);var le=[J],te=[],V=R(J),ne=J;te.push(V);var Y=[],oe=L(J,V),pe=l.length(oe);isFinite(pe)&&pe>B&&(B=pe),Y.push(pe),F.push({points:le,velocities:te,divergences:Y});for(var we=0;we<_*100&&le.length<_&&q(J);){we++;var De=l.clone(V),Re=l.squaredLength(De);if(Re===0)break;if(Re>K&&l.scale(De,De,Q/Math.sqrt(Re)),l.add(De,De,J),V=R(De),l.squaredDistance(ne,De)-K>-1e-4*K){le.push(De),ne=De,te.push(V);var oe=L(De,V),pe=l.length(oe);isFinite(pe)&&pe>B&&(B=pe),Y.push(pe)}J=De}}var Ae=c(F,b.colormap,B,G);return h?Ae.tubeScale=h:(B===0&&(B=1),Ae.tubeScale=g*.5*G/B),Ae};var M=i(6740),E=i(6405).createMesh;a.exports.createTubeMesh=function(b,T){return E(b,T,{shaders:M,traceType:"streamtube"})}},990:function(a,o,i){var l=i(9405),f=i(3236),s=f([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(localCoordinate, 1.0);
  vec4 clipPosition = projection * (view * worldPosition);
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),u=f([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color \u2014 in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),c=f([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(dataCoordinate, 1.0);

  vec4 clipPosition = projection * (view * worldPosition);
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),v=f([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);o.createShader=function(x){var m=l(x,s,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return m.attributes.uv.location=0,m.attributes.f.location=1,m.attributes.normal.location=2,m},o.createPickShader=function(x){var m=l(x,s,v,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return m.attributes.uv.location=0,m.attributes.f.location=1,m.attributes.normal.location=2,m},o.createContourShader=function(x){var m=l(x,c,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return m.attributes.uv.location=0,m.attributes.f.location=1,m},o.createPickContourShader=function(x){var m=l(x,c,v,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return m.attributes.uv.location=0,m.attributes.f.location=1,m}},9499:function(a,o,i){"use strict";a.exports=le;var l=i(8828),f=i(2762),s=i(8116),u=i(7766),c=i(1888),v=i(6729),x=i(5298),m=i(9994),w=i(9618),A=i(3711),y=i(6760),M=i(7608),E=i(2478),b=i(6199),T=i(990),p=T.createShader,_=T.createContourShader,g=T.createPickShader,h=T.createPickContourShader,S=4*10,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],R=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],L=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var te=0;te<3;++te){var V=L[te],ne=(te+1)%3,Y=(te+2)%3;V[ne+0]=1,V[Y+3]=1,V[te+6]=1}})();function F(te,V,ne,Y,oe){this.position=te,this.index=V,this.uv=ne,this.level=Y,this.dataCoordinate=oe}var O=256;function P(te,V,ne,Y,oe,pe,we,De,Re,Ae,Ie,Be,je,Ne,Qe){this.gl=te,this.shape=V,this.bounds=ne,this.objectOffset=Qe,this.intensityBounds=[],this._shader=Y,this._pickShader=oe,this._coordinateBuffer=pe,this._vao=we,this._colorMap=De,this._contourShader=Re,this._contourPickShader=Ae,this._contourBuffer=Ie,this._contourVAO=Be,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new F([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=je,this._dynamicVAO=Ne,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[w(c.mallocFloat(1024),[0,0]),w(c.mallocFloat(1024),[0,0]),w(c.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var I=P.prototype;I.genColormap=function(te,V){var ne=!1,Y=m([v({colormap:te,nshades:O,format:"rgba"}).map(function(oe,pe){var we=V?k(pe/255,V):oe[3];return we<1&&(ne=!0),[oe[0],oe[1],oe[2],255*we]})]);return x.divseq(Y,255),this.hasAlphaScale=ne,Y},I.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},I.isOpaque=function(){return!this.isTransparent()},I.pickSlots=1,I.setPickBase=function(te){this.pickId=te};function k(te,V){if(!V||!V.length)return 1;for(var ne=0;ne<V.length;++ne){if(V.length<2)return 1;if(V[ne][0]===te)return V[ne][1];if(V[ne][0]>te&&ne>0){var Y=(V[ne][0]-te)/(V[ne][0]-V[ne-1][0]);return V[ne][1]*(1-Y)+Y*V[ne-1][1]}}return 1}var D=[0,0,0],z={showSurface:!1,showContour:!1,projections:[d.slice(),d.slice(),d.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function q(te,V){var ne,Y,oe,pe=V.axes&&V.axes.lastCubeProps.axis||D,we=V.showSurface,De=V.showContour;for(ne=0;ne<3;++ne)for(we=we||V.surfaceProject[ne],Y=0;Y<3;++Y)De=De||V.contourProject[ne][Y];for(ne=0;ne<3;++ne){var Re=z.projections[ne];for(Y=0;Y<16;++Y)Re[Y]=0;for(Y=0;Y<4;++Y)Re[5*Y]=1;Re[5*ne]=0,Re[12+ne]=V.axesBounds[+(pe[ne]>0)][ne],y(Re,te.model,Re);var Ae=z.clipBounds[ne];for(oe=0;oe<2;++oe)for(Y=0;Y<3;++Y)Ae[oe][Y]=te.clipBounds[oe][Y];Ae[0][ne]=-1e8,Ae[1][ne]=1e8}return z.showSurface=we,z.showContour=De,z}var j={model:d,view:d,projection:d,inverseModel:d.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},Q=d.slice(),K=[1,0,0,0,1,0,0,0,1];function G(te,V){te=te||{};var ne=this.gl;ne.disable(ne.CULL_FACE),this._colorMap.bind(0);var Y=j;Y.model=te.model||d,Y.view=te.view||d,Y.projection=te.projection||d,Y.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],Y.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],Y.objectOffset=this.objectOffset,Y.contourColor=this.contourColor[0],Y.inverseModel=M(Y.inverseModel,Y.model);for(var oe=0;oe<2;++oe)for(var pe=Y.clipBounds[oe],we=0;we<3;++we)pe[we]=Math.min(Math.max(this.clipBounds[oe][we],-1e8),1e8);Y.kambient=this.ambientLight,Y.kdiffuse=this.diffuseLight,Y.kspecular=this.specularLight,Y.roughness=this.roughness,Y.fresnel=this.fresnel,Y.opacity=this.opacity,Y.height=0,Y.permutation=K,Y.vertexColor=this.vertexColor;var De=Q;for(y(De,Y.view,Y.model),y(De,Y.projection,De),M(De,De),oe=0;oe<3;++oe)Y.eyePosition[oe]=De[12+oe]/De[15];var Re=De[15];for(oe=0;oe<3;++oe)Re+=this.lightPosition[oe]*De[4*oe+3];for(oe=0;oe<3;++oe){var Ae=De[12+oe];for(we=0;we<3;++we)Ae+=De[4*we+oe]*this.lightPosition[we];Y.lightPosition[oe]=Ae/Re}var Ie=q(Y,this);if(Ie.showSurface){for(this._shader.bind(),this._shader.uniforms=Y,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(ne.TRIANGLES,this._vertexCount),oe=0;oe<3;++oe)!this.surfaceProject[oe]||!this.vertexCount||(this._shader.uniforms.model=Ie.projections[oe],this._shader.uniforms.clipBounds=Ie.clipBounds[oe],this._vao.draw(ne.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ie.showContour){var Be=this._contourShader;Y.kambient=1,Y.kdiffuse=0,Y.kspecular=0,Y.opacity=1,Be.bind(),Be.uniforms=Y;var je=this._contourVAO;for(je.bind(),oe=0;oe<3;++oe)for(Be.uniforms.permutation=L[oe],ne.lineWidth(this.contourWidth[oe]*this.pixelRatio),we=0;we<this.contourLevels[oe].length;++we)we===this.highlightLevel[oe]?(Be.uniforms.contourColor=this.highlightColor[oe],Be.uniforms.contourTint=this.highlightTint[oe]):(we===0||we-1===this.highlightLevel[oe])&&(Be.uniforms.contourColor=this.contourColor[oe],Be.uniforms.contourTint=this.contourTint[oe]),this._contourCounts[oe][we]&&(Be.uniforms.height=this.contourLevels[oe][we],je.draw(ne.LINES,this._contourCounts[oe][we],this._contourOffsets[oe][we]));for(oe=0;oe<3;++oe)for(Be.uniforms.model=Ie.projections[oe],Be.uniforms.clipBounds=Ie.clipBounds[oe],we=0;we<3;++we)if(this.contourProject[oe][we]){Be.uniforms.permutation=L[we],ne.lineWidth(this.contourWidth[we]*this.pixelRatio);for(var Ne=0;Ne<this.contourLevels[we].length;++Ne)Ne===this.highlightLevel[we]?(Be.uniforms.contourColor=this.highlightColor[we],Be.uniforms.contourTint=this.highlightTint[we]):(Ne===0||Ne-1===this.highlightLevel[we])&&(Be.uniforms.contourColor=this.contourColor[we],Be.uniforms.contourTint=this.contourTint[we]),this._contourCounts[we][Ne]&&(Be.uniforms.height=this.contourLevels[we][Ne],je.draw(ne.LINES,this._contourCounts[we][Ne],this._contourOffsets[we][Ne]))}for(je.unbind(),je=this._dynamicVAO,je.bind(),oe=0;oe<3;++oe)if(this._dynamicCounts[oe]!==0)for(Be.uniforms.model=Y.model,Be.uniforms.clipBounds=Y.clipBounds,Be.uniforms.permutation=L[oe],ne.lineWidth(this.dynamicWidth[oe]*this.pixelRatio),Be.uniforms.contourColor=this.dynamicColor[oe],Be.uniforms.contourTint=this.dynamicTint[oe],Be.uniforms.height=this.dynamicLevel[oe],je.draw(ne.LINES,this._dynamicCounts[oe],this._dynamicOffsets[oe]),we=0;we<3;++we)this.contourProject[we][oe]&&(Be.uniforms.model=Ie.projections[we],Be.uniforms.clipBounds=Ie.clipBounds[we],je.draw(ne.LINES,this._dynamicCounts[oe],this._dynamicOffsets[oe]));je.unbind()}}I.draw=function(te){return G.call(this,te,!1)},I.drawTransparent=function(te){return G.call(this,te,!0)};var B={model:d,view:d,projection:d,inverseModel:d,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};I.drawPick=function(te){te=te||{};var V=this.gl;V.disable(V.CULL_FACE);var ne=B;ne.model=te.model||d,ne.view=te.view||d,ne.projection=te.projection||d,ne.shape=this._field[2].shape,ne.pickId=this.pickId/255,ne.lowerBound=this.bounds[0],ne.upperBound=this.bounds[1],ne.objectOffset=this.objectOffset,ne.permutation=K;for(var Y=0;Y<2;++Y)for(var oe=ne.clipBounds[Y],pe=0;pe<3;++pe)oe[pe]=Math.min(Math.max(this.clipBounds[Y][pe],-1e8),1e8);var we=q(ne,this);if(we.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=ne,this._vao.bind(),this._vao.draw(V.TRIANGLES,this._vertexCount),Y=0;Y<3;++Y)this.surfaceProject[Y]&&(this._pickShader.uniforms.model=we.projections[Y],this._pickShader.uniforms.clipBounds=we.clipBounds[Y],this._vao.draw(V.TRIANGLES,this._vertexCount));this._vao.unbind()}if(we.showContour){var De=this._contourPickShader;De.bind(),De.uniforms=ne;var Re=this._contourVAO;for(Re.bind(),pe=0;pe<3;++pe)for(V.lineWidth(this.contourWidth[pe]*this.pixelRatio),De.uniforms.permutation=L[pe],Y=0;Y<this.contourLevels[pe].length;++Y)this._contourCounts[pe][Y]&&(De.uniforms.height=this.contourLevels[pe][Y],Re.draw(V.LINES,this._contourCounts[pe][Y],this._contourOffsets[pe][Y]));for(Y=0;Y<3;++Y)for(De.uniforms.model=we.projections[Y],De.uniforms.clipBounds=we.clipBounds[Y],pe=0;pe<3;++pe)if(this.contourProject[Y][pe]){De.uniforms.permutation=L[pe],V.lineWidth(this.contourWidth[pe]*this.pixelRatio);for(var Ae=0;Ae<this.contourLevels[pe].length;++Ae)this._contourCounts[pe][Ae]&&(De.uniforms.height=this.contourLevels[pe][Ae],Re.draw(V.LINES,this._contourCounts[pe][Ae],this._contourOffsets[pe][Ae]))}Re.unbind()}},I.pick=function(te){if(!te||te.id!==this.pickId)return null;var V=this._field[2].shape,ne=this._pickResult,Y=V[0]*(te.value[0]+(te.value[2]>>4)/16)/255,oe=Math.floor(Y),pe=Y-oe,we=V[1]*(te.value[1]+(te.value[2]&15)/16)/255,De=Math.floor(we),Re=we-De;oe+=1,De+=1;var Ae=ne.position;Ae[0]=Ae[1]=Ae[2]=0;for(var Ie=0;Ie<2;++Ie)for(var Be=Ie?pe:1-pe,je=0;je<2;++je)for(var Ne=je?Re:1-Re,Qe=oe+Ie,pr=De+je,Se=Be*Ne,Fe=0;Fe<3;++Fe)Ae[Fe]+=this._field[Fe].get(Qe,pr)*Se;for(var hr=this._pickResult.level,dr=0;dr<3;++dr)if(hr[dr]=E.le(this.contourLevels[dr],Ae[dr]),hr[dr]<0)this.contourLevels[dr].length>0&&(hr[dr]=0);else if(hr[dr]<this.contourLevels[dr].length-1){var kr=this.contourLevels[dr][hr[dr]],Ue=this.contourLevels[dr][hr[dr]+1];Math.abs(kr-Ae[dr])>Math.abs(Ue-Ae[dr])&&(hr[dr]+=1)}for(ne.index[0]=pe<.5?oe:oe+1,ne.index[1]=Re<.5?De:De+1,ne.uv[0]=Y/V[0],ne.uv[1]=we/V[1],Fe=0;Fe<3;++Fe)ne.dataCoordinate[Fe]=this._field[Fe].get(ne.index[0],ne.index[1]);return ne},I.padField=function(te,V){var ne=V.shape.slice(),Y=te.shape.slice();x.assign(te.lo(1,1).hi(ne[0],ne[1]),V),x.assign(te.lo(1).hi(ne[0],1),V.hi(ne[0],1)),x.assign(te.lo(1,Y[1]-1).hi(ne[0],1),V.lo(0,ne[1]-1).hi(ne[0],1)),x.assign(te.lo(0,1).hi(1,ne[1]),V.hi(1)),x.assign(te.lo(Y[0]-1,1).hi(1,ne[1]),V.lo(ne[0]-1)),te.set(0,0,V.get(0,0)),te.set(0,Y[1]-1,V.get(0,ne[1]-1)),te.set(Y[0]-1,0,V.get(ne[0]-1,0)),te.set(Y[0]-1,Y[1]-1,V.get(ne[0]-1,ne[1]-1))};function Z(te,V){return Array.isArray(te)?[V(te[0]),V(te[1]),V(te[2])]:[V(te),V(te),V(te)]}function ie(te){return Array.isArray(te)?te.length===3?[te[0],te[1],te[2],1]:[te[0],te[1],te[2],te[3]]:[0,0,0,1]}function J(te){if(Array.isArray(te)){if(Array.isArray(te))return[ie(te[0]),ie(te[1]),ie(te[2])];var V=ie(te);return[V.slice(),V.slice(),V.slice()]}}I.update=function(te){te=te||{},this.objectOffset=te.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in te&&(this.contourWidth=Z(te.contourWidth,Number)),"showContour"in te&&(this.showContour=Z(te.showContour,Boolean)),"showSurface"in te&&(this.showSurface=!!te.showSurface),"contourTint"in te&&(this.contourTint=Z(te.contourTint,Boolean)),"contourColor"in te&&(this.contourColor=J(te.contourColor)),"contourProject"in te&&(this.contourProject=Z(te.contourProject,function(To){return Z(To,Boolean)})),"surfaceProject"in te&&(this.surfaceProject=te.surfaceProject),"dynamicColor"in te&&(this.dynamicColor=J(te.dynamicColor)),"dynamicTint"in te&&(this.dynamicTint=Z(te.dynamicTint,Number)),"dynamicWidth"in te&&(this.dynamicWidth=Z(te.dynamicWidth,Number)),"opacity"in te&&(this.opacity=te.opacity),"opacityscale"in te&&(this.opacityscale=te.opacityscale),"colorBounds"in te&&(this.colorBounds=te.colorBounds),"vertexColor"in te&&(this.vertexColor=te.vertexColor?1:0),"colormap"in te&&this._colorMap.setPixels(this.genColormap(te.colormap,this.opacityscale));var V=te.field||te.coords&&te.coords[2]||null,ne=!1;if(V||(this._field[2].shape[0]||this._field[2].shape[2]?V=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):V=this._field[2].hi(0,0)),"field"in te||"coords"in te){var Y=(V.shape[0]+2)*(V.shape[1]+2);Y>this._field[2].data.length&&(c.freeFloat(this._field[2].data),this._field[2].data=c.mallocFloat(l.nextPow2(Y))),this._field[2]=w(this._field[2].data,[V.shape[0]+2,V.shape[1]+2]),this.padField(this._field[2],V),this.shape=V.shape.slice();for(var oe=this.shape,pe=0;pe<2;++pe)this._field[2].size>this._field[pe].data.length&&(c.freeFloat(this._field[pe].data),this._field[pe].data=c.mallocFloat(this._field[2].size)),this._field[pe]=w(this._field[pe].data,[oe[0]+2,oe[1]+2]);if(te.coords){var we=te.coords;if(!Array.isArray(we)||we.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(pe=0;pe<2;++pe){var De=we[pe];for(je=0;je<2;++je)if(De.shape[je]!==oe[je])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[pe],De)}}else if(te.ticks){var Re=te.ticks;if(!Array.isArray(Re)||Re.length!==2)throw new Error("gl-surface: invalid ticks");for(pe=0;pe<2;++pe){var Ae=Re[pe];if((Array.isArray(Ae)||Ae.length)&&(Ae=w(Ae)),Ae.shape[0]!==oe[pe])throw new Error("gl-surface: invalid tick length");var Ie=w(Ae.data,oe);Ie.stride[pe]=Ae.stride[0],Ie.stride[pe^1]=0,this.padField(this._field[pe],Ie)}}else{for(pe=0;pe<2;++pe){var Be=[0,0];Be[pe]=1,this._field[pe]=w(this._field[pe].data,[oe[0]+2,oe[1]+2],Be,0)}this._field[0].set(0,0,0);for(var je=0;je<oe[0];++je)this._field[0].set(je+1,0,je);for(this._field[0].set(oe[0]+1,0,oe[0]-1),this._field[1].set(0,0,0),je=0;je<oe[1];++je)this._field[1].set(0,je+1,je);this._field[1].set(0,oe[1]+1,oe[1]-1)}var Ne=this._field,Qe=w(c.mallocFloat(Ne[2].size*3*2),[3,oe[0]+2,oe[1]+2,2]);for(pe=0;pe<3;++pe)b(Qe.pick(pe),Ne[pe],"mirror");var pr=w(c.mallocFloat(Ne[2].size*3),[oe[0]+2,oe[1]+2,3]);for(pe=0;pe<oe[0]+2;++pe)for(je=0;je<oe[1]+2;++je){var Se=Qe.get(0,pe,je,0),Fe=Qe.get(0,pe,je,1),hr=Qe.get(1,pe,je,0),dr=Qe.get(1,pe,je,1),kr=Qe.get(2,pe,je,0),Ue=Qe.get(2,pe,je,1),He=hr*Ue-dr*kr,Xe=kr*Fe-Ue*Se,fr=Se*dr-Fe*hr,Mr=Math.sqrt(He*He+Xe*Xe+fr*fr);Mr<1e-8?(Mr=Math.max(Math.abs(He),Math.abs(Xe),Math.abs(fr)),Mr<1e-8?(fr=1,Xe=He=0,Mr=1):Mr=1/Mr):Mr=1/Math.sqrt(Mr),pr.set(pe,je,0,He*Mr),pr.set(pe,je,1,Xe*Mr),pr.set(pe,je,2,fr*Mr)}c.free(Qe.data);var qr=[1/0,1/0,1/0],et=[-1/0,-1/0,-1/0],jr=1/0,Or=-1/0,_r=(oe[0]-1)*(oe[1]-1)*6,qe=c.mallocFloat(l.nextPow2(10*_r)),nr=0,Te=0;for(pe=0;pe<oe[0]-1;++pe)e:for(je=0;je<oe[1]-1;++je){for(var be=0;be<2;++be)for(var Ge=0;Ge<2;++Ge)for(var ae=0;ae<3;++ae){var W=this._field[ae].get(1+pe+be,1+je+Ge);if(isNaN(W)||!isFinite(W))continue e}for(ae=0;ae<6;++ae){var re=pe+R[ae][0],Ee=je+R[ae][1],We=this._field[0].get(re+1,Ee+1),lr=this._field[1].get(re+1,Ee+1);W=this._field[2].get(re+1,Ee+1),He=pr.get(re+1,Ee+1,0),Xe=pr.get(re+1,Ee+1,1),fr=pr.get(re+1,Ee+1,2),te.intensity&&(sr=te.intensity.get(re,Ee));var sr=te.intensity?te.intensity.get(re,Ee):W+this.objectOffset[2];qe[nr++]=re,qe[nr++]=Ee,qe[nr++]=We,qe[nr++]=lr,qe[nr++]=W,qe[nr++]=0,qe[nr++]=sr,qe[nr++]=He,qe[nr++]=Xe,qe[nr++]=fr,qr[0]=Math.min(qr[0],We+this.objectOffset[0]),qr[1]=Math.min(qr[1],lr+this.objectOffset[1]),qr[2]=Math.min(qr[2],W+this.objectOffset[2]),jr=Math.min(jr,sr),et[0]=Math.max(et[0],We+this.objectOffset[0]),et[1]=Math.max(et[1],lr+this.objectOffset[1]),et[2]=Math.max(et[2],W+this.objectOffset[2]),Or=Math.max(Or,sr),Te+=1}}for(te.intensityBounds&&(jr=+te.intensityBounds[0],Or=+te.intensityBounds[1]),pe=6;pe<nr;pe+=10)qe[pe]=(qe[pe]-jr)/(Or-jr);this._vertexCount=Te,this._coordinateBuffer.update(qe.subarray(0,nr)),c.freeFloat(qe),c.free(pr.data),this.bounds=[qr,et],this.intensity=te.intensity||this._field[2],(this.intensityBounds[0]!==jr||this.intensityBounds[1]!==Or)&&(ne=!0),this.intensityBounds=[jr,Or]}if("levels"in te){var Yr=te.levels;for(Array.isArray(Yr[0])?Yr=Yr.slice():Yr=[[],[],Yr],pe=0;pe<3;++pe)Yr[pe]=Yr[pe].slice(),Yr[pe].sort(function(To,Ci){return To-Ci});for(pe=0;pe<3;++pe)for(je=0;je<Yr[pe].length;++je)Yr[pe][je]-=this.objectOffset[pe];e:for(pe=0;pe<3;++pe){if(Yr[pe].length!==this.contourLevels[pe].length){ne=!0;break}for(je=0;je<Yr[pe].length;++je)if(Yr[pe][je]!==this.contourLevels[pe][je]){ne=!0;break e}}this.contourLevels=Yr}if(ne){Ne=this._field,oe=this.shape;for(var rt=[],zr=0;zr<3;++zr){var vt=this.contourLevels[zr],dt=[],qt=[],Nt=[0,0,0];for(pe=0;pe<vt.length;++pe){var _t=A(this._field[zr],vt[pe]);dt.push(rt.length/5|0),Te=0;e:for(je=0;je<_t.cells.length;++je){var Jt=_t.cells[je];for(ae=0;ae<2;++ae){var Ut=_t.positions[Jt[ae]],$t=Ut[0],cn=Math.floor($t)|0,jt=$t-cn,Kt=Ut[1],_n=Math.floor(Kt)|0,Cn=Kt-_n,ua=!1;r:for(var ra=0;ra<3;++ra){Nt[ra]=0;var la=(zr+ra+1)%3;for(be=0;be<2;++be){var Mn=be?jt:1-jt;for(re=Math.min(Math.max(cn+be,0),oe[0])|0,Ge=0;Ge<2;++Ge){var Ea=Ge?Cn:1-Cn;if(Ee=Math.min(Math.max(_n+Ge,0),oe[1])|0,ra<2?W=this._field[la].get(re,Ee):W=(this.intensity.get(re,Ee)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(W)||isNaN(W)){ua=!0;break r}var oo=Mn*Ea;Nt[ra]+=oo*W}}}if(!ua)rt.push(Nt[0],Nt[1],Ut[0],Ut[1],Nt[2]),Te+=1;else{if(ae>0){for(var Zi=0;Zi<5;++Zi)rt.pop();Te-=1}continue e}}}qt.push(Te)}this._contourOffsets[zr]=dt,this._contourCounts[zr]=qt}var Si=c.mallocFloat(rt.length);for(pe=0;pe<rt.length;++pe)Si[pe]=rt[pe];this._contourBuffer.update(Si),c.freeFloat(Si)}},I.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var te=0;te<3;++te)c.freeFloat(this._field[te].data)},I.highlight=function(te){var V;if(!te){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(V=0;V<3;++V)this.enableHighlight[V]?this.highlightLevel[V]=te.level[V]:this.highlightLevel[V]=-1;var ne;for(this.snapToData?ne=te.dataCoordinate:ne=te.position,V=0;V<3;++V)ne[V]-=this.objectOffset[V];if(!((!this.enableDynamic[0]||ne[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||ne[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||ne[2]===this.dynamicLevel[2]))){for(var Y=0,oe=this.shape,pe=c.mallocFloat(12*oe[0]*oe[1]),we=0;we<3;++we){if(!this.enableDynamic[we]){this.dynamicLevel[we]=NaN,this._dynamicCounts[we]=0;continue}this.dynamicLevel[we]=ne[we];var De=(we+1)%3,Re=(we+2)%3,Ae=this._field[we],Ie=this._field[De],Be=this._field[Re],je=A(Ae,ne[we]),Ne=je.cells,Qe=je.positions;for(this._dynamicOffsets[we]=Y,V=0;V<Ne.length;++V)for(var pr=Ne[V],Se=0;Se<2;++Se){var Fe=Qe[pr[Se]],hr=+Fe[0],dr=hr|0,kr=Math.min(dr+1,oe[0])|0,Ue=hr-dr,He=1-Ue,Xe=+Fe[1],fr=Xe|0,Mr=Math.min(fr+1,oe[1])|0,qr=Xe-fr,et=1-qr,jr=He*et,Or=He*qr,_r=Ue*et,qe=Ue*qr,nr=jr*Ie.get(dr,fr)+Or*Ie.get(dr,Mr)+_r*Ie.get(kr,fr)+qe*Ie.get(kr,Mr),Te=jr*Be.get(dr,fr)+Or*Be.get(dr,Mr)+_r*Be.get(kr,fr)+qe*Be.get(kr,Mr);if(isNaN(nr)||isNaN(Te)){Se&&(Y-=1);break}pe[2*Y+0]=nr,pe[2*Y+1]=Te,Y+=1}this._dynamicCounts[we]=Y-this._dynamicOffsets[we]}this._dynamicBuffer.update(pe.subarray(0,2*Y)),c.freeFloat(pe)}};function le(te){var V=te.gl,ne=p(V),Y=g(V),oe=_(V),pe=h(V),we=f(V),De=s(V,[{buffer:we,size:4,stride:S,offset:0},{buffer:we,size:3,stride:S,offset:16},{buffer:we,size:3,stride:S,offset:28}]),Re=f(V),Ae=s(V,[{buffer:Re,size:4,stride:20,offset:0},{buffer:Re,size:1,stride:20,offset:16}]),Ie=f(V),Be=s(V,[{buffer:Ie,size:2,type:V.FLOAT}]),je=u(V,1,O,V.RGBA,V.UNSIGNED_BYTE);je.minFilter=V.LINEAR,je.magFilter=V.LINEAR;var Ne=new P(V,[0,0],[[0,0,0],[0,0,0]],ne,Y,we,De,je,oe,pe,Re,Ae,Ie,Be,[0,0,0]),Qe={levels:[[],[],[]]};for(var pr in te)Qe[pr]=te[pr];return Qe.colormap=Qe.colormap||"jet",Ne.update(Qe),Ne}},7766:function(a,o,i){"use strict";var l=i(9618),f=i(5298),s=i(1888);a.exports=h;var u=null,c=null,v=null;function x(S){u=[S.LINEAR,S.NEAREST_MIPMAP_LINEAR,S.LINEAR_MIPMAP_NEAREST,S.LINEAR_MIPMAP_NEAREST],c=[S.NEAREST,S.LINEAR,S.NEAREST_MIPMAP_NEAREST,S.NEAREST_MIPMAP_LINEAR,S.LINEAR_MIPMAP_NEAREST,S.LINEAR_MIPMAP_LINEAR],v=[S.REPEAT,S.CLAMP_TO_EDGE,S.MIRRORED_REPEAT]}function m(S){return typeof HTMLCanvasElement!="undefined"&&S instanceof HTMLCanvasElement||typeof HTMLImageElement!="undefined"&&S instanceof HTMLImageElement||typeof HTMLVideoElement!="undefined"&&S instanceof HTMLVideoElement||typeof ImageData!="undefined"&&S instanceof ImageData}var w=function(S,d){f.muls(S,d,255)};function A(S,d,R){var L=S.gl,F=L.getParameter(L.MAX_TEXTURE_SIZE);if(d<0||d>F||R<0||R>F)throw new Error("gl-texture2d: Invalid texture size");return S._shape=[d,R],S.bind(),L.texImage2D(L.TEXTURE_2D,0,S.format,d,R,0,S.format,S.type,null),S._mipLevels=[0],S}function y(S,d,R,L,F,O){this.gl=S,this.handle=d,this.format=F,this.type=O,this._shape=[R,L],this._mipLevels=[0],this._magFilter=S.NEAREST,this._minFilter=S.NEAREST,this._wrapS=S.CLAMP_TO_EDGE,this._wrapT=S.CLAMP_TO_EDGE,this._anisoSamples=1;var P=this,I=[this._wrapS,this._wrapT];Object.defineProperties(I,[{get:function(){return P._wrapS},set:function(D){return P.wrapS=D}},{get:function(){return P._wrapT},set:function(D){return P.wrapT=D}}]),this._wrapVector=I;var k=[this._shape[0],this._shape[1]];Object.defineProperties(k,[{get:function(){return P._shape[0]},set:function(D){return P.width=D}},{get:function(){return P._shape[1]},set:function(D){return P.height=D}}]),this._shapeVector=k}var M=y.prototype;Object.defineProperties(M,{minFilter:{get:function(){return this._minFilter},set:function(S){this.bind();var d=this.gl;if(this.type===d.FLOAT&&u.indexOf(S)>=0&&(d.getExtension("OES_texture_float_linear")||(S=d.NEAREST)),c.indexOf(S)<0)throw new Error("gl-texture2d: Unknown filter mode "+S);return d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,S),this._minFilter=S}},magFilter:{get:function(){return this._magFilter},set:function(S){this.bind();var d=this.gl;if(this.type===d.FLOAT&&u.indexOf(S)>=0&&(d.getExtension("OES_texture_float_linear")||(S=d.NEAREST)),c.indexOf(S)<0)throw new Error("gl-texture2d: Unknown filter mode "+S);return d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,S),this._magFilter=S}},mipSamples:{get:function(){return this._anisoSamples},set:function(S){var d=this._anisoSamples;if(this._anisoSamples=Math.max(S,1)|0,d!==this._anisoSamples){var R=this.gl.getExtension("EXT_texture_filter_anisotropic");R&&this.gl.texParameterf(this.gl.TEXTURE_2D,R.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(S){if(this.bind(),v.indexOf(S)<0)throw new Error("gl-texture2d: Unknown wrap mode "+S);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,S),this._wrapS=S}},wrapT:{get:function(){return this._wrapT},set:function(S){if(this.bind(),v.indexOf(S)<0)throw new Error("gl-texture2d: Unknown wrap mode "+S);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,S),this._wrapT=S}},wrap:{get:function(){return this._wrapVector},set:function(S){if(Array.isArray(S)||(S=[S,S]),S.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var d=0;d<2;++d)if(v.indexOf(S[d])<0)throw new Error("gl-texture2d: Unknown wrap mode "+S);this._wrapS=S[0],this._wrapT=S[1];var R=this.gl;return this.bind(),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_S,this._wrapS),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_T,this._wrapT),S}},shape:{get:function(){return this._shapeVector},set:function(S){if(!Array.isArray(S))S=[S|0,S|0];else if(S.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return A(this,S[0]|0,S[1]|0),[S[0]|0,S[1]|0]}},width:{get:function(){return this._shape[0]},set:function(S){return S=S|0,A(this,S,this._shape[1]),S}},height:{get:function(){return this._shape[1]},set:function(S){return S=S|0,A(this,this._shape[0],S),S}}}),M.bind=function(S){var d=this.gl;return S!==void 0&&d.activeTexture(d.TEXTURE0+(S|0)),d.bindTexture(d.TEXTURE_2D,this.handle),S!==void 0?S|0:d.getParameter(d.ACTIVE_TEXTURE)-d.TEXTURE0},M.dispose=function(){this.gl.deleteTexture(this.handle)},M.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var S=Math.min(this._shape[0],this._shape[1]),d=0;S>0;++d,S>>>=1)this._mipLevels.indexOf(d)<0&&this._mipLevels.push(d)},M.setPixels=function(S,d,R,L){var F=this.gl;this.bind(),Array.isArray(d)?(L=R,R=d[1]|0,d=d[0]|0):(d=d||0,R=R||0),L=L||0;var O=m(S)?S:S.raw;if(O){var P=this._mipLevels.indexOf(L)<0;P?(F.texImage2D(F.TEXTURE_2D,0,this.format,this.format,this.type,O),this._mipLevels.push(L)):F.texSubImage2D(F.TEXTURE_2D,L,d,R,this.format,this.type,O)}else if(S.shape&&S.stride&&S.data){if(S.shape.length<2||d+S.shape[1]>this._shape[1]>>>L||R+S.shape[0]>this._shape[0]>>>L||d<0||R<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");b(F,d,R,L,this.format,this.type,this._mipLevels,S)}else throw new Error("gl-texture2d: Unsupported data type")};function E(S,d){return S.length===3?d[2]===1&&d[1]===S[0]*S[2]&&d[0]===S[2]:d[0]===1&&d[1]===S[0]}function b(S,d,R,L,F,O,P,I){var k=I.dtype,D=I.shape.slice();if(D.length<2||D.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var z=0,q=0,j=E(D,I.stride.slice());k==="float32"?z=S.FLOAT:k==="float64"?(z=S.FLOAT,j=!1,k="float32"):k==="uint8"?z=S.UNSIGNED_BYTE:(z=S.UNSIGNED_BYTE,j=!1,k="uint8");var Q=1;if(D.length===2)q=S.LUMINANCE,D=[D[0],D[1],1],I=l(I.data,D,[I.stride[0],I.stride[1],1],I.offset);else if(D.length===3){if(D[2]===1)q=S.ALPHA;else if(D[2]===2)q=S.LUMINANCE_ALPHA;else if(D[2]===3)q=S.RGB;else if(D[2]===4)q=S.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");Q=D[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((q===S.LUMINANCE||q===S.ALPHA)&&(F===S.LUMINANCE||F===S.ALPHA)&&(q=F),q!==F)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var K=I.size,G=P.indexOf(L)<0;if(G&&P.push(L),z===O&&j)I.offset===0&&I.data.length===K?G?S.texImage2D(S.TEXTURE_2D,L,F,D[0],D[1],0,F,O,I.data):S.texSubImage2D(S.TEXTURE_2D,L,d,R,D[0],D[1],F,O,I.data):G?S.texImage2D(S.TEXTURE_2D,L,F,D[0],D[1],0,F,O,I.data.subarray(I.offset,I.offset+K)):S.texSubImage2D(S.TEXTURE_2D,L,d,R,D[0],D[1],F,O,I.data.subarray(I.offset,I.offset+K));else{var B;O===S.FLOAT?B=s.mallocFloat32(K):B=s.mallocUint8(K);var Z=l(B,D,[D[2],D[2]*D[0],1]);z===S.FLOAT&&O===S.UNSIGNED_BYTE?w(Z,I):f.assign(Z,I),G?S.texImage2D(S.TEXTURE_2D,L,F,D[0],D[1],0,F,O,B.subarray(0,K)):S.texSubImage2D(S.TEXTURE_2D,L,d,R,D[0],D[1],F,O,B.subarray(0,K)),O===S.FLOAT?s.freeFloat32(B):s.freeUint8(B)}}function T(S){var d=S.createTexture();return S.bindTexture(S.TEXTURE_2D,d),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.NEAREST),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.NEAREST),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),d}function p(S,d,R,L,F){var O=S.getParameter(S.MAX_TEXTURE_SIZE);if(d<0||d>O||R<0||R>O)throw new Error("gl-texture2d: Invalid texture shape");if(F===S.FLOAT&&!S.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var P=T(S);return S.texImage2D(S.TEXTURE_2D,0,L,d,R,0,L,F,null),new y(S,P,d,R,L,F)}function _(S,d,R,L,F,O){var P=T(S);return S.texImage2D(S.TEXTURE_2D,0,F,F,O,d),new y(S,P,R,L,F,O)}function g(S,d){var R=d.dtype,L=d.shape.slice(),F=S.getParameter(S.MAX_TEXTURE_SIZE);if(L[0]<0||L[0]>F||L[1]<0||L[1]>F)throw new Error("gl-texture2d: Invalid texture size");var O=E(L,d.stride.slice()),P=0;R==="float32"?P=S.FLOAT:R==="float64"?(P=S.FLOAT,O=!1,R="float32"):R==="uint8"?P=S.UNSIGNED_BYTE:(P=S.UNSIGNED_BYTE,O=!1,R="uint8");var I=0;if(L.length===2)I=S.LUMINANCE,L=[L[0],L[1],1],d=l(d.data,L,[d.stride[0],d.stride[1],1],d.offset);else if(L.length===3)if(L[2]===1)I=S.ALPHA;else if(L[2]===2)I=S.LUMINANCE_ALPHA;else if(L[2]===3)I=S.RGB;else if(L[2]===4)I=S.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");P===S.FLOAT&&!S.getExtension("OES_texture_float")&&(P=S.UNSIGNED_BYTE,O=!1);var k,D,z=d.size;if(O)d.offset===0&&d.data.length===z?k=d.data:k=d.data.subarray(d.offset,d.offset+z);else{var q=[L[2],L[2]*L[0],1];D=s.malloc(z,R);var j=l(D,L,q,0);(R==="float32"||R==="float64")&&P===S.UNSIGNED_BYTE?w(j,d):f.assign(j,d),k=D.subarray(0,z)}var Q=T(S);return S.texImage2D(S.TEXTURE_2D,0,I,L[0],L[1],0,I,P,k),O||s.free(D),new y(S,Q,L[0],L[1],I,P)}function h(S){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(u||x(S),typeof arguments[1]=="number")return p(S,arguments[1],arguments[2],arguments[3]||S.RGBA,arguments[4]||S.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return p(S,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||S.RGBA,arguments[3]||S.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var d=arguments[1],R=m(d)?d:d.raw;if(R)return _(S,R,d.width|0,d.height|0,arguments[2]||S.RGBA,arguments[3]||S.UNSIGNED_BYTE);if(d.shape&&d.data&&d.stride)return g(S,d)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},1433:function(a){"use strict";function o(i,l,f){l?l.bind():i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,null);var s=i.getParameter(i.MAX_VERTEX_ATTRIBS)|0;if(f){if(f.length>s)throw new Error("gl-vao: Too many vertex attributes");for(var u=0;u<f.length;++u){var c=f[u];if(c.buffer){var v=c.buffer,x=c.size||4,m=c.type||i.FLOAT,w=!!c.normalized,A=c.stride||0,y=c.offset||0;v.bind(),i.enableVertexAttribArray(u),i.vertexAttribPointer(u,x,m,w,A,y)}else{if(typeof c=="number")i.vertexAttrib1f(u,c);else if(c.length===1)i.vertexAttrib1f(u,c[0]);else if(c.length===2)i.vertexAttrib2f(u,c[0],c[1]);else if(c.length===3)i.vertexAttrib3f(u,c[0],c[1],c[2]);else if(c.length===4)i.vertexAttrib4f(u,c[0],c[1],c[2],c[3]);else throw new Error("gl-vao: Invalid vertex attribute");i.disableVertexAttribArray(u)}}for(;u<s;++u)i.disableVertexAttribArray(u)}else{i.bindBuffer(i.ARRAY_BUFFER,null);for(var u=0;u<s;++u)i.disableVertexAttribArray(u)}}a.exports=o},870:function(a,o,i){"use strict";var l=i(1433);function f(u){this.gl=u,this._elements=null,this._attributes=null,this._elementsType=u.UNSIGNED_SHORT}f.prototype.bind=function(){l(this.gl,this._elements,this._attributes)},f.prototype.update=function(u,c,v){this._elements=c,this._attributes=u,this._elementsType=v||this.gl.UNSIGNED_SHORT},f.prototype.dispose=function(){},f.prototype.unbind=function(){},f.prototype.draw=function(u,c,v){v=v||0;var x=this.gl;this._elements?x.drawElements(u,c,this._elementsType,v):x.drawArrays(u,v,c)};function s(u){return new f(u)}a.exports=s},7518:function(a,o,i){"use strict";var l=i(1433);function f(c,v,x,m,w,A){this.location=c,this.dimension=v,this.a=x,this.b=m,this.c=w,this.d=A}f.prototype.bind=function(c){switch(this.dimension){case 1:c.vertexAttrib1f(this.location,this.a);break;case 2:c.vertexAttrib2f(this.location,this.a,this.b);break;case 3:c.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:c.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function s(c,v,x){this.gl=c,this._ext=v,this.handle=x,this._attribs=[],this._useElements=!1,this._elementsType=c.UNSIGNED_SHORT}s.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var c=0;c<this._attribs.length;++c)this._attribs[c].bind(this.gl)},s.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},s.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},s.prototype.update=function(c,v,x){if(this.bind(),l(this.gl,v,c),this.unbind(),this._attribs.length=0,c)for(var m=0;m<c.length;++m){var w=c[m];typeof w=="number"?this._attribs.push(new f(m,1,w)):Array.isArray(w)&&this._attribs.push(new f(m,w.length,w[0],w[1],w[2],w[3]))}this._useElements=!!v,this._elementsType=x||this.gl.UNSIGNED_SHORT},s.prototype.draw=function(c,v,x){x=x||0;var m=this.gl;this._useElements?m.drawElements(c,v,this._elementsType,x):m.drawArrays(c,x,v)};function u(c,v){return new s(c,v,v.createVertexArrayOES())}a.exports=u},8116:function(a,o,i){"use strict";var l=i(7518),f=i(870);function s(c){this.bindVertexArrayOES=c.bindVertexArray.bind(c),this.createVertexArrayOES=c.createVertexArray.bind(c),this.deleteVertexArrayOES=c.deleteVertexArray.bind(c)}function u(c,v,x,m){var w=c.createVertexArray?new s(c):c.getExtension("OES_vertex_array_object"),A;return w?A=l(c,w):A=f(c),A.update(v,x,m),A}a.exports=u},5632:function(a){a.exports=o;function o(i,l,f){return i[0]=l[0]+f[0],i[1]=l[1]+f[1],i[2]=l[2]+f[2],i}},8192:function(a,o,i){a.exports=u;var l=i(2825),f=i(3536),s=i(244);function u(c,v){var x=l(c[0],c[1],c[2]),m=l(v[0],v[1],v[2]);f(x,x),f(m,m);var w=s(x,m);return w>1?0:Math.acos(w)}},9226:function(a){a.exports=o;function o(i,l){return i[0]=Math.ceil(l[0]),i[1]=Math.ceil(l[1]),i[2]=Math.ceil(l[2]),i}},3126:function(a){a.exports=o;function o(i){var l=new Float32Array(3);return l[0]=i[0],l[1]=i[1],l[2]=i[2],l}},3990:function(a){a.exports=o;function o(i,l){return i[0]=l[0],i[1]=l[1],i[2]=l[2],i}},1091:function(a){a.exports=o;function o(){var i=new Float32Array(3);return i[0]=0,i[1]=0,i[2]=0,i}},5911:function(a){a.exports=o;function o(i,l,f){var s=l[0],u=l[1],c=l[2],v=f[0],x=f[1],m=f[2];return i[0]=u*m-c*x,i[1]=c*v-s*m,i[2]=s*x-u*v,i}},5455:function(a,o,i){a.exports=i(7056)},7056:function(a){a.exports=o;function o(i,l){var f=l[0]-i[0],s=l[1]-i[1],u=l[2]-i[2];return Math.sqrt(f*f+s*s+u*u)}},4008:function(a,o,i){a.exports=i(6690)},6690:function(a){a.exports=o;function o(i,l,f){return i[0]=l[0]/f[0],i[1]=l[1]/f[1],i[2]=l[2]/f[2],i}},244:function(a){a.exports=o;function o(i,l){return i[0]*l[0]+i[1]*l[1]+i[2]*l[2]}},2613:function(a){a.exports=1e-6},9922:function(a,o,i){a.exports=f;var l=i(2613);function f(s,u){var c=s[0],v=s[1],x=s[2],m=u[0],w=u[1],A=u[2];return Math.abs(c-m)<=l*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(v-w)<=l*Math.max(1,Math.abs(v),Math.abs(w))&&Math.abs(x-A)<=l*Math.max(1,Math.abs(x),Math.abs(A))}},9265:function(a){a.exports=o;function o(i,l){return i[0]===l[0]&&i[1]===l[1]&&i[2]===l[2]}},2681:function(a){a.exports=o;function o(i,l){return i[0]=Math.floor(l[0]),i[1]=Math.floor(l[1]),i[2]=Math.floor(l[2]),i}},5137:function(a,o,i){a.exports=f;var l=i(1091)();function f(s,u,c,v,x,m){var w,A;for(u||(u=3),c||(c=0),v?A=Math.min(v*u+c,s.length):A=s.length,w=c;w<A;w+=u)l[0]=s[w],l[1]=s[w+1],l[2]=s[w+2],x(l,l,m),s[w]=l[0],s[w+1]=l[1],s[w+2]=l[2];return s}},2825:function(a){a.exports=o;function o(i,l,f){var s=new Float32Array(3);return s[0]=i,s[1]=l,s[2]=f,s}},2931:function(a,o,i){a.exports={EPSILON:i(2613),create:i(1091),clone:i(3126),angle:i(8192),fromValues:i(2825),copy:i(3990),set:i(1463),equals:i(9922),exactEquals:i(9265),add:i(5632),subtract:i(6843),sub:i(2229),multiply:i(5847),mul:i(4505),divide:i(6690),div:i(4008),min:i(8107),max:i(7417),floor:i(2681),ceil:i(9226),round:i(2447),scale:i(6621),scaleAndAdd:i(8489),distance:i(7056),dist:i(5455),squaredDistance:i(2953),sqrDist:i(6141),length:i(1387),len:i(868),squaredLength:i(3066),sqrLen:i(5486),negate:i(5093),inverse:i(811),normalize:i(3536),dot:i(244),cross:i(5911),lerp:i(6658),random:i(7636),transformMat4:i(5673),transformMat3:i(492),transformQuat:i(264),rotateX:i(6894),rotateY:i(109),rotateZ:i(8692),forEach:i(5137)}},811:function(a){a.exports=o;function o(i,l){return i[0]=1/l[0],i[1]=1/l[1],i[2]=1/l[2],i}},868:function(a,o,i){a.exports=i(1387)},1387:function(a){a.exports=o;function o(i){var l=i[0],f=i[1],s=i[2];return Math.sqrt(l*l+f*f+s*s)}},6658:function(a){a.exports=o;function o(i,l,f,s){var u=l[0],c=l[1],v=l[2];return i[0]=u+s*(f[0]-u),i[1]=c+s*(f[1]-c),i[2]=v+s*(f[2]-v),i}},7417:function(a){a.exports=o;function o(i,l,f){return i[0]=Math.max(l[0],f[0]),i[1]=Math.max(l[1],f[1]),i[2]=Math.max(l[2],f[2]),i}},8107:function(a){a.exports=o;function o(i,l,f){return i[0]=Math.min(l[0],f[0]),i[1]=Math.min(l[1],f[1]),i[2]=Math.min(l[2],f[2]),i}},4505:function(a,o,i){a.exports=i(5847)},5847:function(a){a.exports=o;function o(i,l,f){return i[0]=l[0]*f[0],i[1]=l[1]*f[1],i[2]=l[2]*f[2],i}},5093:function(a){a.exports=o;function o(i,l){return i[0]=-l[0],i[1]=-l[1],i[2]=-l[2],i}},3536:function(a){a.exports=o;function o(i,l){var f=l[0],s=l[1],u=l[2],c=f*f+s*s+u*u;return c>0&&(c=1/Math.sqrt(c),i[0]=l[0]*c,i[1]=l[1]*c,i[2]=l[2]*c),i}},7636:function(a){a.exports=o;function o(i,l){l=l||1;var f=Math.random()*2*Math.PI,s=Math.random()*2-1,u=Math.sqrt(1-s*s)*l;return i[0]=Math.cos(f)*u,i[1]=Math.sin(f)*u,i[2]=s*l,i}},6894:function(a){a.exports=o;function o(i,l,f,s){var u=f[1],c=f[2],v=l[1]-u,x=l[2]-c,m=Math.sin(s),w=Math.cos(s);return i[0]=l[0],i[1]=u+v*w-x*m,i[2]=c+v*m+x*w,i}},109:function(a){a.exports=o;function o(i,l,f,s){var u=f[0],c=f[2],v=l[0]-u,x=l[2]-c,m=Math.sin(s),w=Math.cos(s);return i[0]=u+x*m+v*w,i[1]=l[1],i[2]=c+x*w-v*m,i}},8692:function(a){a.exports=o;function o(i,l,f,s){var u=f[0],c=f[1],v=l[0]-u,x=l[1]-c,m=Math.sin(s),w=Math.cos(s);return i[0]=u+v*w-x*m,i[1]=c+v*m+x*w,i[2]=l[2],i}},2447:function(a){a.exports=o;function o(i,l){return i[0]=Math.round(l[0]),i[1]=Math.round(l[1]),i[2]=Math.round(l[2]),i}},6621:function(a){a.exports=o;function o(i,l,f){return i[0]=l[0]*f,i[1]=l[1]*f,i[2]=l[2]*f,i}},8489:function(a){a.exports=o;function o(i,l,f,s){return i[0]=l[0]+f[0]*s,i[1]=l[1]+f[1]*s,i[2]=l[2]+f[2]*s,i}},1463:function(a){a.exports=o;function o(i,l,f,s){return i[0]=l,i[1]=f,i[2]=s,i}},6141:function(a,o,i){a.exports=i(2953)},5486:function(a,o,i){a.exports=i(3066)},2953:function(a){a.exports=o;function o(i,l){var f=l[0]-i[0],s=l[1]-i[1],u=l[2]-i[2];return f*f+s*s+u*u}},3066:function(a){a.exports=o;function o(i){var l=i[0],f=i[1],s=i[2];return l*l+f*f+s*s}},2229:function(a,o,i){a.exports=i(6843)},6843:function(a){a.exports=o;function o(i,l,f){return i[0]=l[0]-f[0],i[1]=l[1]-f[1],i[2]=l[2]-f[2],i}},492:function(a){a.exports=o;function o(i,l,f){var s=l[0],u=l[1],c=l[2];return i[0]=s*f[0]+u*f[3]+c*f[6],i[1]=s*f[1]+u*f[4]+c*f[7],i[2]=s*f[2]+u*f[5]+c*f[8],i}},5673:function(a){a.exports=o;function o(i,l,f){var s=l[0],u=l[1],c=l[2],v=f[3]*s+f[7]*u+f[11]*c+f[15];return v=v||1,i[0]=(f[0]*s+f[4]*u+f[8]*c+f[12])/v,i[1]=(f[1]*s+f[5]*u+f[9]*c+f[13])/v,i[2]=(f[2]*s+f[6]*u+f[10]*c+f[14])/v,i}},264:function(a){a.exports=o;function o(i,l,f){var s=l[0],u=l[1],c=l[2],v=f[0],x=f[1],m=f[2],w=f[3],A=w*s+x*c-m*u,y=w*u+m*s-v*c,M=w*c+v*u-x*s,E=-v*s-x*u-m*c;return i[0]=A*w+E*-v+y*-m-M*-x,i[1]=y*w+E*-x+M*-v-A*-m,i[2]=M*w+E*-m+A*-x-y*-v,i}},4361:function(a){a.exports=o;function o(i,l,f){return i[0]=l[0]+f[0],i[1]=l[1]+f[1],i[2]=l[2]+f[2],i[3]=l[3]+f[3],i}},2335:function(a){a.exports=o;function o(i){var l=new Float32Array(4);return l[0]=i[0],l[1]=i[1],l[2]=i[2],l[3]=i[3],l}},2933:function(a){a.exports=o;function o(i,l){return i[0]=l[0],i[1]=l[1],i[2]=l[2],i[3]=l[3],i}},7536:function(a){a.exports=o;function o(){var i=new Float32Array(4);return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i}},4691:function(a){a.exports=o;function o(i,l){var f=l[0]-i[0],s=l[1]-i[1],u=l[2]-i[2],c=l[3]-i[3];return Math.sqrt(f*f+s*s+u*u+c*c)}},1373:function(a){a.exports=o;function o(i,l,f){return i[0]=l[0]/f[0],i[1]=l[1]/f[1],i[2]=l[2]/f[2],i[3]=l[3]/f[3],i}},3750:function(a){a.exports=o;function o(i,l){return i[0]*l[0]+i[1]*l[1]+i[2]*l[2]+i[3]*l[3]}},3390:function(a){a.exports=o;function o(i,l,f,s){var u=new Float32Array(4);return u[0]=i,u[1]=l,u[2]=f,u[3]=s,u}},9970:function(a,o,i){a.exports={create:i(7536),clone:i(2335),fromValues:i(3390),copy:i(2933),set:i(4578),add:i(4361),subtract:i(6860),multiply:i(3576),divide:i(1373),min:i(2334),max:i(160),scale:i(9288),scaleAndAdd:i(4844),distance:i(4691),squaredDistance:i(7960),length:i(6808),squaredLength:i(483),negate:i(1498),inverse:i(4494),normalize:i(5177),dot:i(3750),lerp:i(2573),random:i(9131),transformMat4:i(5352),transformQuat:i(4041)}},4494:function(a){a.exports=o;function o(i,l){return i[0]=1/l[0],i[1]=1/l[1],i[2]=1/l[2],i[3]=1/l[3],i}},6808:function(a){a.exports=o;function o(i){var l=i[0],f=i[1],s=i[2],u=i[3];return Math.sqrt(l*l+f*f+s*s+u*u)}},2573:function(a){a.exports=o;function o(i,l,f,s){var u=l[0],c=l[1],v=l[2],x=l[3];return i[0]=u+s*(f[0]-u),i[1]=c+s*(f[1]-c),i[2]=v+s*(f[2]-v),i[3]=x+s*(f[3]-x),i}},160:function(a){a.exports=o;function o(i,l,f){return i[0]=Math.max(l[0],f[0]),i[1]=Math.max(l[1],f[1]),i[2]=Math.max(l[2],f[2]),i[3]=Math.max(l[3],f[3]),i}},2334:function(a){a.exports=o;function o(i,l,f){return i[0]=Math.min(l[0],f[0]),i[1]=Math.min(l[1],f[1]),i[2]=Math.min(l[2],f[2]),i[3]=Math.min(l[3],f[3]),i}},3576:function(a){a.exports=o;function o(i,l,f){return i[0]=l[0]*f[0],i[1]=l[1]*f[1],i[2]=l[2]*f[2],i[3]=l[3]*f[3],i}},1498:function(a){a.exports=o;function o(i,l){return i[0]=-l[0],i[1]=-l[1],i[2]=-l[2],i[3]=-l[3],i}},5177:function(a){a.exports=o;function o(i,l){var f=l[0],s=l[1],u=l[2],c=l[3],v=f*f+s*s+u*u+c*c;return v>0&&(v=1/Math.sqrt(v),i[0]=f*v,i[1]=s*v,i[2]=u*v,i[3]=c*v),i}},9131:function(a,o,i){var l=i(5177),f=i(9288);a.exports=s;function s(u,c){return c=c||1,u[0]=Math.random(),u[1]=Math.random(),u[2]=Math.random(),u[3]=Math.random(),l(u,u),f(u,u,c),u}},9288:function(a){a.exports=o;function o(i,l,f){return i[0]=l[0]*f,i[1]=l[1]*f,i[2]=l[2]*f,i[3]=l[3]*f,i}},4844:function(a){a.exports=o;function o(i,l,f,s){return i[0]=l[0]+f[0]*s,i[1]=l[1]+f[1]*s,i[2]=l[2]+f[2]*s,i[3]=l[3]+f[3]*s,i}},4578:function(a){a.exports=o;function o(i,l,f,s,u){return i[0]=l,i[1]=f,i[2]=s,i[3]=u,i}},7960:function(a){a.exports=o;function o(i,l){var f=l[0]-i[0],s=l[1]-i[1],u=l[2]-i[2],c=l[3]-i[3];return f*f+s*s+u*u+c*c}},483:function(a){a.exports=o;function o(i){var l=i[0],f=i[1],s=i[2],u=i[3];return l*l+f*f+s*s+u*u}},6860:function(a){a.exports=o;function o(i,l,f){return i[0]=l[0]-f[0],i[1]=l[1]-f[1],i[2]=l[2]-f[2],i[3]=l[3]-f[3],i}},5352:function(a){a.exports=o;function o(i,l,f){var s=l[0],u=l[1],c=l[2],v=l[3];return i[0]=f[0]*s+f[4]*u+f[8]*c+f[12]*v,i[1]=f[1]*s+f[5]*u+f[9]*c+f[13]*v,i[2]=f[2]*s+f[6]*u+f[10]*c+f[14]*v,i[3]=f[3]*s+f[7]*u+f[11]*c+f[15]*v,i}},4041:function(a){a.exports=o;function o(i,l,f){var s=l[0],u=l[1],c=l[2],v=f[0],x=f[1],m=f[2],w=f[3],A=w*s+x*c-m*u,y=w*u+m*s-v*c,M=w*c+v*u-x*s,E=-v*s-x*u-m*c;return i[0]=A*w+E*-v+y*-m-M*-x,i[1]=y*w+E*-x+M*-v-A*-m,i[2]=M*w+E*-m+A*-x-y*-v,i[3]=l[3],i}},1848:function(a,o,i){var l=i(4905),f=i(6468);a.exports=s;function s(u){for(var c=Array.isArray(u)?u:l(u),v=0;v<c.length;v++){var x=c[v];if(x.type==="preprocessor"){var m=x.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(m&&m[2]){var w=m[1],A=m[2];return(w?f(A):A).trim()}}}}},5874:function(a,o,i){a.exports=d;var l=i(620),f=i(7827),s=i(6852),u=i(7932),c=i(3508),v=999,x=9999,m=0,w=1,A=2,y=3,M=4,E=5,b=6,T=7,p=8,_=9,g=10,h=11,S=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function d(R){var L=0,F=0,O=v,P,I,k=[],D=[],z=0,q=0,j=1,Q=0,K=0,G=!1,B=!1,Z="",ie;R=R||{};var J=s,le=l;R.version==="300 es"&&(J=c,le=u);for(var te={},V={},L=0;L<J.length;L++)te[J[L]]=!0;for(var L=0;L<le.length;L++)V[le[L]]=!0;return function(Se){return D=[],Se!==null?Y(Se):oe()};function ne(Se){Se.length&&D.push({type:S[O],data:Se,position:K,line:j,column:Q})}function Y(Se){L=0,Se.toString&&(Se=Se.toString()),Z+=Se.replace(/\r\n/g,`
`),ie=Z.length;for(var Fe;P=Z[L],L<ie;){switch(Fe=L,O){case m:L=Ae();break;case w:L=Re();break;case A:L=De();break;case y:L=Ie();break;case M:L=Ne();break;case h:L=je();break;case E:L=Qe();break;case x:L=pr();break;case _:L=we();break;case v:L=pe();break}if(Fe!==L)switch(Z[Fe]){case`
`:Q=0,++j;break;default:++Q;break}}return F+=L,Z=Z.slice(L),D}function oe(Se){return k.length&&ne(k.join("")),O=g,ne("(eof)"),D}function pe(){return k=k.length?[]:k,I==="/"&&P==="*"?(K=F+L-1,O=m,I=P,L+1):I==="/"&&P==="/"?(K=F+L-1,O=w,I=P,L+1):P==="#"?(O=A,K=F+L,L):/\s/.test(P)?(O=_,K=F+L,L):(G=/\d/.test(P),B=/[^\w_]/.test(P),K=F+L,O=G?M:B?y:x,L)}function we(){return/[^\s]/g.test(P)?(ne(k.join("")),O=v,L):(k.push(P),I=P,L+1)}function De(){return(P==="\r"||P===`
`)&&I!=="\\"?(ne(k.join("")),O=v,L):(k.push(P),I=P,L+1)}function Re(){return De()}function Ae(){return P==="/"&&I==="*"?(k.push(P),ne(k.join("")),O=v,L+1):(k.push(P),I=P,L+1)}function Ie(){if(I==="."&&/\d/.test(P))return O=E,L;if(I==="/"&&P==="*")return O=m,L;if(I==="/"&&P==="/")return O=w,L;if(P==="."&&k.length){for(;Be(k););return O=E,L}if(P===";"||P===")"||P==="("){if(k.length)for(;Be(k););return ne(P),O=v,L+1}var Se=k.length===2&&P!=="=";if(/[\w_\d\s]/.test(P)||Se){for(;Be(k););return O=v,L}return k.push(P),I=P,L+1}function Be(Se){var Fe=0,hr,dr;do{if(hr=f.indexOf(Se.slice(0,Se.length+Fe).join("")),dr=f[hr],hr===-1){if(Fe--+Se.length>0)continue;dr=Se.slice(0,1).join("")}return ne(dr),K+=dr.length,k=k.slice(dr.length),k.length}while(!0)}function je(){return/[^a-fA-F0-9]/.test(P)?(ne(k.join("")),O=v,L):(k.push(P),I=P,L+1)}function Ne(){return P==="."||/[eE]/.test(P)?(k.push(P),O=E,I=P,L+1):P==="x"&&k.length===1&&k[0]==="0"?(O=h,k.push(P),I=P,L+1):/[^\d]/.test(P)?(ne(k.join("")),O=v,L):(k.push(P),I=P,L+1)}function Qe(){return P==="f"&&(k.push(P),I=P,L+=1),/[eE]/.test(P)||(P==="-"||P==="+")&&/[eE]/.test(I)?(k.push(P),I=P,L+1):/[^\d]/.test(P)?(ne(k.join("")),O=v,L):(k.push(P),I=P,L+1)}function pr(){if(/[^\d\w_]/.test(P)){var Se=k.join("");return V[Se]?O=p:te[Se]?O=T:O=b,ne(k.join("")),O=v,L}return k.push(P),I=P,L+1}}},3508:function(a,o,i){var l=i(6852);l=l.slice().filter(function(f){return!/^(gl\_|texture)/.test(f)}),a.exports=l.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(a){a.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(a,o,i){var l=i(620);a.exports=l.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(a){a.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(a){a.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(a,o,i){var l=i(5874);a.exports=f;function f(s,u){var c=l(u),v=[];return v=v.concat(c(s)),v=v.concat(c(null)),v}},3236:function(a){a.exports=function(o){typeof o=="string"&&(o=[o]);for(var i=[].slice.call(arguments,1),l=[],f=0;f<o.length-1;f++)l.push(o[f],i[f]||"");return l.push(o[f]),l.join("")}},7520:function(a,o,i){"use strict";var l=i(9507);function f(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,u),window.removeEventListener("test",null,u)}catch(c){s=!1}return s}a.exports=l&&f()},3778:function(a,o){o.read=function(i,l,f,s,u){var c,v,x=u*8-s-1,m=(1<<x)-1,w=m>>1,A=-7,y=f?u-1:0,M=f?-1:1,E=i[l+y];for(y+=M,c=E&(1<<-A)-1,E>>=-A,A+=x;A>0;c=c*256+i[l+y],y+=M,A-=8);for(v=c&(1<<-A)-1,c>>=-A,A+=s;A>0;v=v*256+i[l+y],y+=M,A-=8);if(c===0)c=1-w;else{if(c===m)return v?NaN:(E?-1:1)*(1/0);v=v+Math.pow(2,s),c=c-w}return(E?-1:1)*v*Math.pow(2,c-s)},o.write=function(i,l,f,s,u,c){var v,x,m,w=c*8-u-1,A=(1<<w)-1,y=A>>1,M=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=s?0:c-1,b=s?1:-1,T=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(x=isNaN(l)?1:0,v=A):(v=Math.floor(Math.log(l)/Math.LN2),l*(m=Math.pow(2,-v))<1&&(v--,m*=2),v+y>=1?l+=M/m:l+=M*Math.pow(2,1-y),l*m>=2&&(v++,m/=2),v+y>=A?(x=0,v=A):v+y>=1?(x=(l*m-1)*Math.pow(2,u),v=v+y):(x=l*Math.pow(2,y-1)*Math.pow(2,u),v=0));u>=8;i[f+E]=x&255,E+=b,x/=256,u-=8);for(v=v<<u|x,w+=u;w>0;i[f+E]=v&255,E+=b,v/=256,w-=8);i[f+E-b]|=T*128}},8954:function(a,o,i){"use strict";a.exports=y;var l=i(3250),f=i(6803).Fw;function s(M,E,b){this.vertices=M,this.adjacent=E,this.boundary=b,this.lastVisited=-1}s.prototype.flip=function(){var M=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=M;var E=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=E};function u(M,E,b){this.vertices=M,this.cell=E,this.index=b}function c(M,E){return f(M.vertices,E.vertices)}function v(M){return function(){var E=this.tuple;return M.apply(this,E)}}function x(M){var E=l[M+1];return E||(E=l),v(E)}var m=[];function w(M,E,b){this.dimension=M,this.vertices=E,this.simplices=b,this.interior=b.filter(function(_){return!_.boundary}),this.tuple=new Array(M+1);for(var T=0;T<=M;++T)this.tuple[T]=this.vertices[T];var p=m[M];p||(p=m[M]=x(M)),this.orient=p}var A=w.prototype;A.handleBoundaryDegeneracy=function(M,E){var b=this.dimension,T=this.vertices.length-1,p=this.tuple,_=this.vertices,g=[M];for(M.lastVisited=-T;g.length>0;){M=g.pop();for(var h=M.adjacent,S=0;S<=b;++S){var d=h[S];if(!(!d.boundary||d.lastVisited<=-T)){for(var R=d.vertices,L=0;L<=b;++L){var F=R[L];F<0?p[L]=E:p[L]=_[F]}var O=this.orient();if(O>0)return d;d.lastVisited=-T,O===0&&g.push(d)}}}return null},A.walk=function(M,E){var b=this.vertices.length-1,T=this.dimension,p=this.vertices,_=this.tuple,g=E?this.interior.length*Math.random()|0:this.interior.length-1,h=this.interior[g];e:for(;!h.boundary;){for(var S=h.vertices,d=h.adjacent,R=0;R<=T;++R)_[R]=p[S[R]];h.lastVisited=b;for(var R=0;R<=T;++R){var L=d[R];if(!(L.lastVisited>=b)){var F=_[R];_[R]=M;var O=this.orient();if(_[R]=F,O<0){h=L;continue e}else L.boundary?L.lastVisited=-b:L.lastVisited=b}}return}return h},A.addPeaks=function(M,E){var b=this.vertices.length-1,T=this.dimension,p=this.vertices,_=this.tuple,g=this.interior,h=this.simplices,S=[E];E.lastVisited=b,E.vertices[E.vertices.indexOf(-1)]=b,E.boundary=!1,g.push(E);for(var d=[];S.length>0;){var E=S.pop(),R=E.vertices,L=E.adjacent,F=R.indexOf(b);if(!(F<0)){for(var O=0;O<=T;++O)if(O!==F){var P=L[O];if(!(!P.boundary||P.lastVisited>=b)){var I=P.vertices;if(P.lastVisited!==-b){for(var k=0,D=0;D<=T;++D)I[D]<0?(k=D,_[D]=M):_[D]=p[I[D]];var z=this.orient();if(z>0){I[k]=b,P.boundary=!1,g.push(P),S.push(P),P.lastVisited=b;continue}else P.lastVisited=-b}var q=P.adjacent,j=R.slice(),Q=L.slice(),K=new s(j,Q,!0);h.push(K);var G=q.indexOf(E);if(!(G<0)){q[G]=K,Q[F]=P,j[O]=-1,Q[O]=E,L[O]=K,K.flip();for(var D=0;D<=T;++D){var B=j[D];if(!(B<0||B===b)){for(var Z=new Array(T-1),ie=0,J=0;J<=T;++J){var le=j[J];le<0||J===D||(Z[ie++]=le)}d.push(new u(Z,K,D))}}}}}}}d.sort(c);for(var O=0;O+1<d.length;O+=2){var te=d[O],V=d[O+1],ne=te.index,Y=V.index;ne<0||Y<0||(te.cell.adjacent[te.index]=V.cell,V.cell.adjacent[V.index]=te.cell)}},A.insert=function(M,E){var b=this.vertices;b.push(M);var T=this.walk(M,E);if(T){for(var p=this.dimension,_=this.tuple,g=0;g<=p;++g){var h=T.vertices[g];h<0?_[g]=M:_[g]=b[h]}var S=this.orient(_);S<0||S===0&&(T=this.handleBoundaryDegeneracy(T,M),!T)||this.addPeaks(M,T)}},A.boundary=function(){for(var M=this.dimension,E=[],b=this.simplices,T=b.length,p=0;p<T;++p){var _=b[p];if(_.boundary){for(var g=new Array(M),h=_.vertices,S=0,d=0,R=0;R<=M;++R)h[R]>=0?g[S++]=h[R]:d=R&1;if(d===(M&1)){var L=g[0];g[0]=g[1],g[1]=L}E.push(g)}}return E};function y(M,E){var b=M.length;if(b===0)throw new Error("Must have at least d+1 points");var T=M[0].length;if(b<=T)throw new Error("Must input at least d+1 points");var p=M.slice(0,T+1),_=l.apply(void 0,p);if(_===0)throw new Error("Input not in general position");for(var g=new Array(T+1),h=0;h<=T;++h)g[h]=h;_<0&&(g[0]=1,g[1]=0);for(var S=new s(g,new Array(T+1),!1),d=S.adjacent,R=new Array(T+2),h=0;h<=T;++h){for(var L=g.slice(),F=0;F<=T;++F)F===h&&(L[F]=-1);var O=L[0];L[0]=L[1],L[1]=O;var P=new s(L,new Array(T+1),!0);d[h]=P,R[h]=P}R[T+1]=S;for(var h=0;h<=T;++h)for(var L=d[h].vertices,I=d[h].adjacent,F=0;F<=T;++F){var k=L[F];if(k<0){I[F]=S;continue}for(var D=0;D<=T;++D)d[D].vertices.indexOf(k)<0&&(I[F]=d[D])}for(var z=new w(T,p,R),q=!!E,h=T+1;h<b;++h)z.insert(M[h],q);return z.boundary()}},3352:function(a,o,i){"use strict";var l=i(2478),f=0,s=1,u=2;a.exports=S;function c(d,R,L,F,O){this.mid=d,this.left=R,this.right=L,this.leftPoints=F,this.rightPoints=O,this.count=(R?R.count:0)+(L?L.count:0)+F.length}var v=c.prototype;function x(d,R){d.mid=R.mid,d.left=R.left,d.right=R.right,d.leftPoints=R.leftPoints,d.rightPoints=R.rightPoints,d.count=R.count}function m(d,R){var L=_(R);d.mid=L.mid,d.left=L.left,d.right=L.right,d.leftPoints=L.leftPoints,d.rightPoints=L.rightPoints,d.count=L.count}function w(d,R){var L=d.intervals([]);L.push(R),m(d,L)}function A(d,R){var L=d.intervals([]),F=L.indexOf(R);return F<0?f:(L.splice(F,1),m(d,L),s)}v.intervals=function(d){return d.push.apply(d,this.leftPoints),this.left&&this.left.intervals(d),this.right&&this.right.intervals(d),d},v.insert=function(d){var R=this.count-this.leftPoints.length;if(this.count+=1,d[1]<this.mid)this.left?4*(this.left.count+1)>3*(R+1)?w(this,d):this.left.insert(d):this.left=_([d]);else if(d[0]>this.mid)this.right?4*(this.right.count+1)>3*(R+1)?w(this,d):this.right.insert(d):this.right=_([d]);else{var L=l.ge(this.leftPoints,d,T),F=l.ge(this.rightPoints,d,p);this.leftPoints.splice(L,0,d),this.rightPoints.splice(F,0,d)}},v.remove=function(d){var R=this.count-this.leftPoints;if(d[1]<this.mid){if(!this.left)return f;var L=this.right?this.right.count:0;if(4*L>3*(R-1))return A(this,d);var F=this.left.remove(d);return F===u?(this.left=null,this.count-=1,s):(F===s&&(this.count-=1),F)}else if(d[0]>this.mid){if(!this.right)return f;var O=this.left?this.left.count:0;if(4*O>3*(R-1))return A(this,d);var F=this.right.remove(d);return F===u?(this.right=null,this.count-=1,s):(F===s&&(this.count-=1),F)}else{if(this.count===1)return this.leftPoints[0]===d?u:f;if(this.leftPoints.length===1&&this.leftPoints[0]===d){if(this.left&&this.right){for(var P=this,I=this.left;I.right;)P=I,I=I.right;if(P===this)I.right=this.right;else{var k=this.left,F=this.right;P.count-=I.count,P.right=I.left,I.left=k,I.right=F}x(this,I),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?x(this,this.left):x(this,this.right);return s}for(var k=l.ge(this.leftPoints,d,T);k<this.leftPoints.length&&this.leftPoints[k][0]===d[0];++k)if(this.leftPoints[k]===d){this.count-=1,this.leftPoints.splice(k,1);for(var F=l.ge(this.rightPoints,d,p);F<this.rightPoints.length&&this.rightPoints[F][1]===d[1];++F)if(this.rightPoints[F]===d)return this.rightPoints.splice(F,1),s}return f}};function y(d,R,L){for(var F=0;F<d.length&&d[F][0]<=R;++F){var O=L(d[F]);if(O)return O}}function M(d,R,L){for(var F=d.length-1;F>=0&&d[F][1]>=R;--F){var O=L(d[F]);if(O)return O}}function E(d,R){for(var L=0;L<d.length;++L){var F=R(d[L]);if(F)return F}}v.queryPoint=function(d,R){if(d<this.mid){if(this.left){var L=this.left.queryPoint(d,R);if(L)return L}return y(this.leftPoints,d,R)}else if(d>this.mid){if(this.right){var L=this.right.queryPoint(d,R);if(L)return L}return M(this.rightPoints,d,R)}else return E(this.leftPoints,R)},v.queryInterval=function(d,R,L){if(d<this.mid&&this.left){var F=this.left.queryInterval(d,R,L);if(F)return F}if(R>this.mid&&this.right){var F=this.right.queryInterval(d,R,L);if(F)return F}return R<this.mid?y(this.leftPoints,R,L):d>this.mid?M(this.rightPoints,d,L):E(this.leftPoints,L)};function b(d,R){return d-R}function T(d,R){var L=d[0]-R[0];return L||d[1]-R[1]}function p(d,R){var L=d[1]-R[1];return L||d[0]-R[0]}function _(d){if(d.length===0)return null;for(var R=[],L=0;L<d.length;++L)R.push(d[L][0],d[L][1]);R.sort(b);for(var F=R[R.length>>1],O=[],P=[],I=[],L=0;L<d.length;++L){var k=d[L];k[1]<F?O.push(k):F<k[0]?P.push(k):I.push(k)}var D=I,z=I.slice();return D.sort(T),z.sort(p),new c(F,_(O),_(P),D,z)}function g(d){this.root=d}var h=g.prototype;h.insert=function(d){this.root?this.root.insert(d):this.root=new c(d[0],null,null,[d],[d])},h.remove=function(d){if(this.root){var R=this.root.remove(d);return R===u&&(this.root=null),R!==f}return!1},h.queryPoint=function(d,R){if(this.root)return this.root.queryPoint(d,R)},h.queryInterval=function(d,R,L){if(d<=R&&this.root)return this.root.queryInterval(d,R,L)},Object.defineProperty(h,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(h,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function S(d){return!d||d.length===0?new g(null):new g(_(d))}},9507:function(a){a.exports=!0},7163:function(a){a.exports=function(l){return l!=null&&(o(l)||i(l)||!!l._isBuffer)};function o(l){return!!l.constructor&&typeof l.constructor.isBuffer=="function"&&l.constructor.isBuffer(l)}function i(l){return typeof l.readFloatLE=="function"&&typeof l.slice=="function"&&o(l.slice(0,0))}},5219:function(a){"use strict";a.exports=function(o){for(var i=o.length,l,f=0;f<i;f++)if(l=o.charCodeAt(f),(l<9||l>13)&&l!==32&&l!==133&&l!==160&&l!==5760&&l!==6158&&(l<8192||l>8205)&&l!==8232&&l!==8233&&l!==8239&&l!==8287&&l!==8288&&l!==12288&&l!==65279)return!1;return!0}},395:function(a){function o(i,l,f){return i*(1-f)+l*f}a.exports=o},2652:function(a,o,i){var l=i(4335),f=i(6864),s=i(1903),u=i(9921),c=i(7608),v=i(5665),x={length:i(1387),normalize:i(3536),dot:i(244),cross:i(5911)},m=f(),w=f(),A=[0,0,0,0],y=[[0,0,0],[0,0,0],[0,0,0]],M=[0,0,0];a.exports=function(_,g,h,S,d,R){if(g||(g=[0,0,0]),h||(h=[0,0,0]),S||(S=[0,0,0]),d||(d=[0,0,0,1]),R||(R=[0,0,0,1]),!l(m,_)||(s(w,m),w[3]=0,w[7]=0,w[11]=0,w[15]=1,Math.abs(u(w)<1e-8)))return!1;var L=m[3],F=m[7],O=m[11],P=m[12],I=m[13],k=m[14],D=m[15];if(L!==0||F!==0||O!==0){A[0]=L,A[1]=F,A[2]=O,A[3]=D;var z=c(w,w);if(!z)return!1;v(w,w),E(d,A,w)}else d[0]=d[1]=d[2]=0,d[3]=1;if(g[0]=P,g[1]=I,g[2]=k,b(y,m),h[0]=x.length(y[0]),x.normalize(y[0],y[0]),S[0]=x.dot(y[0],y[1]),T(y[1],y[1],y[0],1,-S[0]),h[1]=x.length(y[1]),x.normalize(y[1],y[1]),S[0]/=h[1],S[1]=x.dot(y[0],y[2]),T(y[2],y[2],y[0],1,-S[1]),S[2]=x.dot(y[1],y[2]),T(y[2],y[2],y[1],1,-S[2]),h[2]=x.length(y[2]),x.normalize(y[2],y[2]),S[1]/=h[2],S[2]/=h[2],x.cross(M,y[1],y[2]),x.dot(y[0],M)<0)for(var q=0;q<3;q++)h[q]*=-1,y[q][0]*=-1,y[q][1]*=-1,y[q][2]*=-1;return R[0]=.5*Math.sqrt(Math.max(1+y[0][0]-y[1][1]-y[2][2],0)),R[1]=.5*Math.sqrt(Math.max(1-y[0][0]+y[1][1]-y[2][2],0)),R[2]=.5*Math.sqrt(Math.max(1-y[0][0]-y[1][1]+y[2][2],0)),R[3]=.5*Math.sqrt(Math.max(1+y[0][0]+y[1][1]+y[2][2],0)),y[2][1]>y[1][2]&&(R[0]=-R[0]),y[0][2]>y[2][0]&&(R[1]=-R[1]),y[1][0]>y[0][1]&&(R[2]=-R[2]),!0};function E(p,_,g){var h=_[0],S=_[1],d=_[2],R=_[3];return p[0]=g[0]*h+g[4]*S+g[8]*d+g[12]*R,p[1]=g[1]*h+g[5]*S+g[9]*d+g[13]*R,p[2]=g[2]*h+g[6]*S+g[10]*d+g[14]*R,p[3]=g[3]*h+g[7]*S+g[11]*d+g[15]*R,p}function b(p,_){p[0][0]=_[0],p[0][1]=_[1],p[0][2]=_[2],p[1][0]=_[4],p[1][1]=_[5],p[1][2]=_[6],p[2][0]=_[8],p[2][1]=_[9],p[2][2]=_[10]}function T(p,_,g,h,S){p[0]=_[0]*h+g[0]*S,p[1]=_[1]*h+g[1]*S,p[2]=_[2]*h+g[2]*S}},4335:function(a){a.exports=function(i,l){var f=l[15];if(f===0)return!1;for(var s=1/f,u=0;u<16;u++)i[u]=l[u]*s;return!0}},7442:function(a,o,i){var l=i(6658),f=i(7182),s=i(2652),u=i(9921),c=i(8648),v=A(),x=A(),m=A();a.exports=w;function w(E,b,T,p){if(u(b)===0||u(T)===0)return!1;var _=s(b,v.translate,v.scale,v.skew,v.perspective,v.quaternion),g=s(T,x.translate,x.scale,x.skew,x.perspective,x.quaternion);return!_||!g?!1:(l(m.translate,v.translate,x.translate,p),l(m.skew,v.skew,x.skew,p),l(m.scale,v.scale,x.scale,p),l(m.perspective,v.perspective,x.perspective,p),c(m.quaternion,v.quaternion,x.quaternion,p),f(E,m.translate,m.scale,m.skew,m.perspective,m.quaternion),!0)}function A(){return{translate:y(),scale:y(1),skew:y(),perspective:M(),quaternion:M()}}function y(E){return[E||0,E||0,E||0]}function M(){return[0,0,0,1]}},7182:function(a,o,i){var l={identity:i(7894),translate:i(7656),multiply:i(6760),create:i(6864),scale:i(2504),fromRotationTranslation:i(6743)},f=l.create(),s=l.create();a.exports=function(c,v,x,m,w,A){return l.identity(c),l.fromRotationTranslation(c,A,v),c[3]=w[0],c[7]=w[1],c[11]=w[2],c[15]=w[3],l.identity(s),m[2]!==0&&(s[9]=m[2],l.multiply(c,c,s)),m[1]!==0&&(s[9]=0,s[8]=m[1],l.multiply(c,c,s)),m[0]!==0&&(s[8]=0,s[4]=m[0],l.multiply(c,c,s)),l.scale(c,c,x),c}},1811:function(a,o,i){"use strict";var l=i(2478),f=i(7442),s=i(7608),u=i(5567),c=i(2408),v=i(7089),x=i(6582),m=i(7656),w=i(2504),A=i(3536),y=[0,0,0];a.exports=T;function M(p){this._components=p.slice(),this._time=[0],this.prevMatrix=p.slice(),this.nextMatrix=p.slice(),this.computedMatrix=p.slice(),this.computedInverse=p.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var E=M.prototype;E.recalcMatrix=function(p){var _=this._time,g=l.le(_,p),h=this.computedMatrix;if(!(g<0)){var S=this._components;if(g===_.length-1)for(var d=16*g,R=0;R<16;++R)h[R]=S[d++];else{for(var L=_[g+1]-_[g],d=16*g,F=this.prevMatrix,O=!0,R=0;R<16;++R)F[R]=S[d++];for(var P=this.nextMatrix,R=0;R<16;++R)P[R]=S[d++],O=O&&F[R]===P[R];if(L<1e-6||O)for(var R=0;R<16;++R)h[R]=F[R];else f(h,F,P,(p-_[g])/L)}var I=this.computedUp;I[0]=h[1],I[1]=h[5],I[2]=h[9],A(I,I);var k=this.computedInverse;s(k,h);var D=this.computedEye,z=k[15];D[0]=k[12]/z,D[1]=k[13]/z,D[2]=k[14]/z;for(var q=this.computedCenter,j=Math.exp(this.computedRadius[0]),R=0;R<3;++R)q[R]=D[R]-h[2+4*R]*j}},E.idle=function(p){if(!(p<this.lastT())){for(var _=this._components,g=_.length-16,h=0;h<16;++h)_.push(_[g++]);this._time.push(p)}},E.flush=function(p){var _=l.gt(this._time,p)-2;_<0||(this._time.splice(0,_),this._components.splice(0,16*_))},E.lastT=function(){return this._time[this._time.length-1]},E.lookAt=function(p,_,g,h){this.recalcMatrix(p),_=_||this.computedEye,g=g||y,h=h||this.computedUp,this.setMatrix(p,x(this.computedMatrix,_,g,h));for(var S=0,d=0;d<3;++d)S+=Math.pow(g[d]-_[d],2);S=Math.log(Math.sqrt(S)),this.computedRadius[0]=S},E.rotate=function(p,_,g,h){this.recalcMatrix(p);var S=this.computedInverse;_&&c(S,S,_),g&&u(S,S,g),h&&v(S,S,h),this.setMatrix(p,s(this.computedMatrix,S))};var b=[0,0,0];E.pan=function(p,_,g,h){b[0]=-(_||0),b[1]=-(g||0),b[2]=-(h||0),this.recalcMatrix(p);var S=this.computedInverse;m(S,S,b),this.setMatrix(p,s(S,S))},E.translate=function(p,_,g,h){b[0]=_||0,b[1]=g||0,b[2]=h||0,this.recalcMatrix(p);var S=this.computedMatrix;m(S,S,b),this.setMatrix(p,S)},E.setMatrix=function(p,_){if(!(p<this.lastT())){this._time.push(p);for(var g=0;g<16;++g)this._components.push(_[g])}},E.setDistance=function(p,_){this.computedRadius[0]=_},E.setDistanceLimits=function(p,_){var g=this._limits;g[0]=p,g[1]=_},E.getDistanceLimits=function(p){var _=this._limits;return p?(p[0]=_[0],p[1]=_[1],p):_};function T(p){p=p||{};var _=p.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new M(_)}},3090:function(a,o,i){"use strict";a.exports=f;var l=i(3250)[3];function f(s){var u=s.length;if(u<3){for(var M=new Array(u),c=0;c<u;++c)M[c]=c;return u===2&&s[0][0]===s[1][0]&&s[0][1]===s[1][1]?[0]:M}for(var v=new Array(u),c=0;c<u;++c)v[c]=c;v.sort(function(p,_){var g=s[p][0]-s[_][0];return g||s[p][1]-s[_][1]});for(var x=[v[0],v[1]],m=[v[0],v[1]],c=2;c<u;++c){for(var w=v[c],A=s[w],y=x.length;y>1&&l(s[x[y-2]],s[x[y-1]],A)<=0;)y-=1,x.pop();for(x.push(w),y=m.length;y>1&&l(s[m[y-2]],s[m[y-1]],A)>=0;)y-=1,m.pop();m.push(w)}for(var M=new Array(m.length+x.length-2),E=0,c=0,b=x.length;c<b;++c)M[E++]=x[c];for(var T=m.length-2;T>0;--T)M[E++]=m[T];return M}},351:function(a,o,i){"use strict";a.exports=f;var l=i(4687);function f(s,u){u||(u=s,s=window);var c=0,v=0,x=0,m={shift:!1,alt:!1,control:!1,meta:!1},w=!1;function A(d){var R=!1;return"altKey"in d&&(R=R||d.altKey!==m.alt,m.alt=!!d.altKey),"shiftKey"in d&&(R=R||d.shiftKey!==m.shift,m.shift=!!d.shiftKey),"ctrlKey"in d&&(R=R||d.ctrlKey!==m.control,m.control=!!d.ctrlKey),"metaKey"in d&&(R=R||d.metaKey!==m.meta,m.meta=!!d.metaKey),R}function y(d,R){var L=l.x(R),F=l.y(R);"buttons"in R&&(d=R.buttons|0),(d!==c||L!==v||F!==x||A(R))&&(c=d|0,v=L||0,x=F||0,u&&u(c,v,x,m))}function M(d){y(0,d)}function E(){(c||v||x||m.shift||m.alt||m.meta||m.control)&&(v=x=0,c=0,m.shift=m.alt=m.control=m.meta=!1,u&&u(0,0,0,m))}function b(d){A(d)&&u&&u(c,v,x,m)}function T(d){l.buttons(d)===0?y(0,d):y(c,d)}function p(d){y(c|l.buttons(d),d)}function _(d){y(c&~l.buttons(d),d)}function g(){w||(w=!0,s.addEventListener("mousemove",T),s.addEventListener("mousedown",p),s.addEventListener("mouseup",_),s.addEventListener("mouseleave",M),s.addEventListener("mouseenter",M),s.addEventListener("mouseout",M),s.addEventListener("mouseover",M),s.addEventListener("blur",E),s.addEventListener("keyup",b),s.addEventListener("keydown",b),s.addEventListener("keypress",b),s!==window&&(window.addEventListener("blur",E),window.addEventListener("keyup",b),window.addEventListener("keydown",b),window.addEventListener("keypress",b)))}function h(){w&&(w=!1,s.removeEventListener("mousemove",T),s.removeEventListener("mousedown",p),s.removeEventListener("mouseup",_),s.removeEventListener("mouseleave",M),s.removeEventListener("mouseenter",M),s.removeEventListener("mouseout",M),s.removeEventListener("mouseover",M),s.removeEventListener("blur",E),s.removeEventListener("keyup",b),s.removeEventListener("keydown",b),s.removeEventListener("keypress",b),s!==window&&(window.removeEventListener("blur",E),window.removeEventListener("keyup",b),window.removeEventListener("keydown",b),window.removeEventListener("keypress",b)))}g();var S={element:s};return Object.defineProperties(S,{enabled:{get:function(){return w},set:function(d){d?g():h()},enumerable:!0},buttons:{get:function(){return c},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return x},enumerable:!0},mods:{get:function(){return m},enumerable:!0}}),S}},24:function(a){var o={left:0,top:0};a.exports=i;function i(f,s,u){s=s||f.currentTarget||f.srcElement,Array.isArray(u)||(u=[0,0]);var c=f.clientX||0,v=f.clientY||0,x=l(s);return u[0]=c-x.left,u[1]=v-x.top,u}function l(f){return f===window||f===document||f===document.body?o:f.getBoundingClientRect()}},4687:function(a,o){"use strict";function i(u){if(typeof u=="object"){if("buttons"in u)return u.buttons;if("which"in u){var c=u.which;if(c===2)return 4;if(c===3)return 2;if(c>0)return 1<<c-1}else if("button"in u){var c=u.button;if(c===1)return 4;if(c===2)return 2;if(c>=0)return 1<<c}}return 0}o.buttons=i;function l(u){return u.target||u.srcElement||window}o.element=l;function f(u){if(typeof u=="object"){if("offsetX"in u)return u.offsetX;var c=l(u),v=c.getBoundingClientRect();return u.clientX-v.left}return 0}o.x=f;function s(u){if(typeof u=="object"){if("offsetY"in u)return u.offsetY;var c=l(u),v=c.getBoundingClientRect();return u.clientY-v.top}return 0}o.y=s},8512:function(a,o,i){"use strict";var l=i(665);a.exports=f;function f(s,u,c){typeof s=="function"&&(c=!!u,u=s,s=window);var v=l("ex",s),x=function(m){c&&m.preventDefault();var w=m.deltaX||0,A=m.deltaY||0,y=m.deltaZ||0,M=m.deltaMode,E=1;switch(M){case 1:E=v;break;case 2:E=window.innerHeight;break}if(w*=E,A*=E,y*=E,w||A||y)return u(w,A,y,m)};return s.addEventListener("wheel",x),x}},2640:function(a,o,i){"use strict";var l=i(1888);a.exports=u;var f={"false,0,1":function(v,x,m,w,A){return function(M,E,b,T){var p=M.shape[0]|0,_=M.shape[1]|0,g=M.data,h=M.offset|0,S=M.stride[0]|0,d=M.stride[1]|0,R=h,L,F=-S|0,O=0,P=-d|0,I=0,k=-S-d|0,D=0,z=S|0,q=d-S*p|0,j=0,Q=0,K=0,G=2*p|0,B=w(G),Z=w(G),ie=0,J=0,le=-1,te=-1,V=0,ne=-p|0,Y=p|0,oe=0,pe=-p-1|0,we=p-1|0,De=0,Re=0,Ae=0;for(j=0;j<p;++j)B[ie++]=m(g[R],E,b,T),R+=z;if(R+=q,_>0){if(Q=1,B[ie++]=m(g[R],E,b,T),R+=z,p>0)for(j=1,L=g[R],J=B[ie]=m(L,E,b,T),V=B[ie+le],oe=B[ie+ne],De=B[ie+pe],(J!==V||J!==oe||J!==De)&&(O=g[R+F],I=g[R+P],D=g[R+k],v(j,Q,L,O,I,D,J,V,oe,De,E,b,T),Re=Z[ie]=K++),ie+=1,R+=z,j=2;j<p;++j)L=g[R],J=B[ie]=m(L,E,b,T),V=B[ie+le],oe=B[ie+ne],De=B[ie+pe],(J!==V||J!==oe||J!==De)&&(O=g[R+F],I=g[R+P],D=g[R+k],v(j,Q,L,O,I,D,J,V,oe,De,E,b,T),Re=Z[ie]=K++,De!==V&&x(Z[ie+le],Re,D,O,De,V,E,b,T)),ie+=1,R+=z;for(R+=q,ie=0,Ae=le,le=te,te=Ae,Ae=ne,ne=Y,Y=Ae,Ae=pe,pe=we,we=Ae,Q=2;Q<_;++Q){if(B[ie++]=m(g[R],E,b,T),R+=z,p>0)for(j=1,L=g[R],J=B[ie]=m(L,E,b,T),V=B[ie+le],oe=B[ie+ne],De=B[ie+pe],(J!==V||J!==oe||J!==De)&&(O=g[R+F],I=g[R+P],D=g[R+k],v(j,Q,L,O,I,D,J,V,oe,De,E,b,T),Re=Z[ie]=K++,De!==oe&&x(Z[ie+ne],Re,I,D,oe,De,E,b,T)),ie+=1,R+=z,j=2;j<p;++j)L=g[R],J=B[ie]=m(L,E,b,T),V=B[ie+le],oe=B[ie+ne],De=B[ie+pe],(J!==V||J!==oe||J!==De)&&(O=g[R+F],I=g[R+P],D=g[R+k],v(j,Q,L,O,I,D,J,V,oe,De,E,b,T),Re=Z[ie]=K++,De!==oe&&x(Z[ie+ne],Re,I,D,oe,De,E,b,T),De!==V&&x(Z[ie+le],Re,D,O,De,V,E,b,T)),ie+=1,R+=z;Q&1&&(ie=0),Ae=le,le=te,te=Ae,Ae=ne,ne=Y,Y=Ae,Ae=pe,pe=we,we=Ae,R+=q}}A(Z),A(B)}},"false,1,0":function(v,x,m,w,A){return function(M,E,b,T){var p=M.shape[0]|0,_=M.shape[1]|0,g=M.data,h=M.offset|0,S=M.stride[0]|0,d=M.stride[1]|0,R=h,L,F=-S|0,O=0,P=-d|0,I=0,k=-S-d|0,D=0,z=d|0,q=S-d*_|0,j=0,Q=0,K=0,G=2*_|0,B=w(G),Z=w(G),ie=0,J=0,le=-1,te=-1,V=0,ne=-_|0,Y=_|0,oe=0,pe=-_-1|0,we=_-1|0,De=0,Re=0,Ae=0;for(Q=0;Q<_;++Q)B[ie++]=m(g[R],E,b,T),R+=z;if(R+=q,p>0){if(j=1,B[ie++]=m(g[R],E,b,T),R+=z,_>0)for(Q=1,L=g[R],J=B[ie]=m(L,E,b,T),oe=B[ie+ne],V=B[ie+le],De=B[ie+pe],(J!==oe||J!==V||J!==De)&&(O=g[R+F],I=g[R+P],D=g[R+k],v(j,Q,L,O,I,D,J,oe,V,De,E,b,T),Re=Z[ie]=K++),ie+=1,R+=z,Q=2;Q<_;++Q)L=g[R],J=B[ie]=m(L,E,b,T),oe=B[ie+ne],V=B[ie+le],De=B[ie+pe],(J!==oe||J!==V||J!==De)&&(O=g[R+F],I=g[R+P],D=g[R+k],v(j,Q,L,O,I,D,J,oe,V,De,E,b,T),Re=Z[ie]=K++,De!==V&&x(Z[ie+le],Re,I,D,V,De,E,b,T)),ie+=1,R+=z;for(R+=q,ie=0,Ae=ne,ne=Y,Y=Ae,Ae=le,le=te,te=Ae,Ae=pe,pe=we,we=Ae,j=2;j<p;++j){if(B[ie++]=m(g[R],E,b,T),R+=z,_>0)for(Q=1,L=g[R],J=B[ie]=m(L,E,b,T),oe=B[ie+ne],V=B[ie+le],De=B[ie+pe],(J!==oe||J!==V||J!==De)&&(O=g[R+F],I=g[R+P],D=g[R+k],v(j,Q,L,O,I,D,J,oe,V,De,E,b,T),Re=Z[ie]=K++,De!==oe&&x(Z[ie+ne],Re,D,O,De,oe,E,b,T)),ie+=1,R+=z,Q=2;Q<_;++Q)L=g[R],J=B[ie]=m(L,E,b,T),oe=B[ie+ne],V=B[ie+le],De=B[ie+pe],(J!==oe||J!==V||J!==De)&&(O=g[R+F],I=g[R+P],D=g[R+k],v(j,Q,L,O,I,D,J,oe,V,De,E,b,T),Re=Z[ie]=K++,De!==V&&x(Z[ie+le],Re,I,D,V,De,E,b,T),De!==oe&&x(Z[ie+ne],Re,D,O,De,oe,E,b,T)),ie+=1,R+=z;j&1&&(ie=0),Ae=ne,ne=Y,Y=Ae,Ae=le,le=te,te=Ae,Ae=pe,pe=we,we=Ae,R+=q}}A(Z),A(B)}}};function s(c,v,x,m,w,A){var y=[A,w].join(","),M=f[y];return M(c,v,x,l.mallocUint32,l.freeUint32)}function u(c){function v(E){throw new Error("ndarray-extract-contour: "+E)}typeof c!="object"&&v("Must specify arguments");var x=c.order;Array.isArray(x)||v("Must specify order");var m=c.arrayArguments||1;m<1&&v("Must have at least one array argument");var w=c.scalarArguments||0;w<0&&v("Scalar arg count must be > 0"),typeof c.vertex!="function"&&v("Must specify vertex creation function"),typeof c.cell!="function"&&v("Must specify cell creation function"),typeof c.phase!="function"&&v("Must specify phase function");for(var A=c.getters||[],y=new Array(m),M=0;M<m;++M)A.indexOf(M)>=0?y[M]=!0:y[M]=!1;return s(c.vertex,c.cell,c.phase,w,x,y)}},6199:function(a,o,i){"use strict";var l=i(1338),f={zero:function(T,p,_,g){var h=T[0],S=_[0];g|=0;var d=0,R=S;for(d=0;d<h;++d)p[g]=0,g+=R},fdTemplate1:function(T,p,_,g,h,S,d){var R=T[0],L=_[0],F=S[0],O=-1*L,P=L;g|=0,d|=0;var I=0,k=L,D=F;for(I=0;I<R;++I)h[d]=.5*(p[g+O]-p[g+P]),g+=k,d+=D},fdTemplate2:function(T,p,_,g,h,S,d,R,L,F){var O=T[0],P=T[1],I=_[0],k=_[1],D=S[0],z=S[1],q=L[0],j=L[1],Q=-1*I,K=I,G=-1*k,B=k;g|=0,d|=0,F|=0;var Z=0,ie=0,J=k,le=I-P*k,te=z,V=D-P*z,ne=j,Y=q-P*j;for(ie=0;ie<O;++ie){for(Z=0;Z<P;++Z)h[d]=.5*(p[g+Q]-p[g+K]),R[F]=.5*(p[g+G]-p[g+B]),g+=J,d+=te,F+=ne;g+=le,d+=V,F+=Y}}},s={cdiff:function(T){var p={};return function(g,h,S){var d=g.dtype,R=g.order,L=h.dtype,F=h.order,O=S.dtype,P=S.order,I=[d,R.join(),L,F.join(),O,P.join()].join(),k=p[I];return k||(p[I]=k=T([d,R,L,F,O,P])),k(g.shape.slice(0),g.data,g.stride,g.offset|0,h.data,h.stride,h.offset|0,S.data,S.stride,S.offset|0)}},zero:function(T){var p={};return function(g){var h=g.dtype,S=g.order,d=[h,S.join()].join(),R=p[d];return R||(p[d]=R=T([h,S])),R(g.shape.slice(0),g.data,g.stride,g.offset|0)}},fdTemplate1:function(T){var p={};return function(g,h){var S=g.dtype,d=g.order,R=h.dtype,L=h.order,F=[S,d.join(),R,L.join()].join(),O=p[F];return O||(p[F]=O=T([S,d,R,L])),O(g.shape.slice(0),g.data,g.stride,g.offset|0,h.data,h.stride,h.offset|0)}},fdTemplate2:function(T){var p={};return function(g,h,S){var d=g.dtype,R=g.order,L=h.dtype,F=h.order,O=S.dtype,P=S.order,I=[d,R.join(),L,F.join(),O,P.join()].join(),k=p[I];return k||(p[I]=k=T([d,R,L,F,O,P])),k(g.shape.slice(0),g.data,g.stride,g.offset|0,h.data,h.stride,h.offset|0,S.data,S.stride,S.offset|0)}}};function u(T){var p=s[T.funcName];return p(c.bind(void 0,T))}function c(T){return f[T.funcName]}function v(T){return u({funcName:T.funcName})}var x={},m={},w={body:"",args:[],thisVars:[],localVars:[]},A=v({funcName:"cdiff"}),y=v({funcName:"zero"});function M(T){return T in x?x[T]:x[T]=v({funcName:"fdTemplate"+T})}function E(T,p,_,g){return function(h,S){var d=S.shape.slice();return d[0]>2&&d[1]>2&&g(S.pick(-1,-1).lo(1,1).hi(d[0]-2,d[1]-2),h.pick(-1,-1,0).lo(1,1).hi(d[0]-2,d[1]-2),h.pick(-1,-1,1).lo(1,1).hi(d[0]-2,d[1]-2)),d[1]>2&&(_(S.pick(0,-1).lo(1).hi(d[1]-2),h.pick(0,-1,1).lo(1).hi(d[1]-2)),p(h.pick(0,-1,0).lo(1).hi(d[1]-2))),d[1]>2&&(_(S.pick(d[0]-1,-1).lo(1).hi(d[1]-2),h.pick(d[0]-1,-1,1).lo(1).hi(d[1]-2)),p(h.pick(d[0]-1,-1,0).lo(1).hi(d[1]-2))),d[0]>2&&(_(S.pick(-1,0).lo(1).hi(d[0]-2),h.pick(-1,0,0).lo(1).hi(d[0]-2)),p(h.pick(-1,0,1).lo(1).hi(d[0]-2))),d[0]>2&&(_(S.pick(-1,d[1]-1).lo(1).hi(d[0]-2),h.pick(-1,d[1]-1,0).lo(1).hi(d[0]-2)),p(h.pick(-1,d[1]-1,1).lo(1).hi(d[0]-2))),h.set(0,0,0,0),h.set(0,0,1,0),h.set(d[0]-1,0,0,0),h.set(d[0]-1,0,1,0),h.set(0,d[1]-1,0,0),h.set(0,d[1]-1,1,0),h.set(d[0]-1,d[1]-1,0,0),h.set(d[0]-1,d[1]-1,1,0),h}}function b(T){var p=T.join(),d=m[p];if(d)return d;for(var _=T.length,g=[A,y],h=1;h<=_;++h)g.push(M(h));var S=E,d=S.apply(void 0,g);return m[p]=d,d}a.exports=function(p,_,g){if(Array.isArray(g)||(typeof g=="string"?g=l(_.dimension,g):g=l(_.dimension,"clamp")),_.size===0)return p;if(_.dimension===0)return p.set(0),p;var h=b(g);return h(p,_)}},4317:function(a){"use strict";function o(u,c){var v=Math.floor(c),x=c-v,m=0<=v&&v<u.shape[0],w=0<=v+1&&v+1<u.shape[0],A=m?+u.get(v):0,y=w?+u.get(v+1):0;return(1-x)*A+x*y}function i(u,c,v){var x=Math.floor(c),m=c-x,w=0<=x&&x<u.shape[0],A=0<=x+1&&x+1<u.shape[0],y=Math.floor(v),M=v-y,E=0<=y&&y<u.shape[1],b=0<=y+1&&y+1<u.shape[1],T=w&&E?u.get(x,y):0,p=w&&b?u.get(x,y+1):0,_=A&&E?u.get(x+1,y):0,g=A&&b?u.get(x+1,y+1):0;return(1-M)*((1-m)*T+m*_)+M*((1-m)*p+m*g)}function l(u,c,v,x){var m=Math.floor(c),w=c-m,A=0<=m&&m<u.shape[0],y=0<=m+1&&m+1<u.shape[0],M=Math.floor(v),E=v-M,b=0<=M&&M<u.shape[1],T=0<=M+1&&M+1<u.shape[1],p=Math.floor(x),_=x-p,g=0<=p&&p<u.shape[2],h=0<=p+1&&p+1<u.shape[2],S=A&&b&&g?u.get(m,M,p):0,d=A&&T&&g?u.get(m,M+1,p):0,R=y&&b&&g?u.get(m+1,M,p):0,L=y&&T&&g?u.get(m+1,M+1,p):0,F=A&&b&&h?u.get(m,M,p+1):0,O=A&&T&&h?u.get(m,M+1,p+1):0,P=y&&b&&h?u.get(m+1,M,p+1):0,I=y&&T&&h?u.get(m+1,M+1,p+1):0;return(1-_)*((1-E)*((1-w)*S+w*R)+E*((1-w)*d+w*L))+_*((1-E)*((1-w)*F+w*P)+E*((1-w)*O+w*I))}function f(u){var c=u.shape.length|0,v=new Array(c),x=new Array(c),m=new Array(c),w=new Array(c),A,y;for(A=0;A<c;++A)y=+arguments[A+1],v[A]=Math.floor(y),x[A]=y-v[A],m[A]=0<=v[A]&&v[A]<u.shape[A],w[A]=0<=v[A]+1&&v[A]+1<u.shape[A];var M=0,E,b,T;e:for(A=0;A<1<<c;++A){for(b=1,T=u.offset,E=0;E<c;++E)if(A&1<<E){if(!w[E])continue e;b*=x[E],T+=u.stride[E]*(v[E]+1)}else{if(!m[E])continue e;b*=1-x[E],T+=u.stride[E]*v[E]}M+=b*u.data[T]}return M}function s(u,c,v,x){switch(u.shape.length){case 0:return 0;case 1:return o(u,c);case 2:return i(u,c,v);case 3:return l(u,c,v,x);default:return f.apply(void 0,arguments)}}a.exports=s,a.exports.d1=o,a.exports.d2=i,a.exports.d3=l},5298:function(a,o){"use strict";var i={"float64,2,1,0":function(){return function(m,w,A,y,M){var E=m[0],b=m[1],T=m[2],p=A[0],_=A[1],g=A[2];y|=0;var h=0,S=0,d=0,R=g,L=_-T*g,F=p-b*_;for(d=0;d<E;++d){for(S=0;S<b;++S){for(h=0;h<T;++h)w[y]/=M,y+=R;y+=L}y+=F}}},"uint8,2,0,1,float64,2,1,0":function(){return function(m,w,A,y,M,E,b,T){var p=m[0],_=m[1],g=m[2],h=A[0],S=A[1],d=A[2],R=E[0],L=E[1],F=E[2];y|=0,b|=0;for(var O=y,P=b,I=m[0]|0;I>0;){I<64?(p=I,I=0):(p=64,I-=64);for(var k=m[1]|0;k>0;){k<64?(_=k,k=0):(_=64,k-=64),y=O+I*h+k*S,b=P+I*R+k*L;var D=0,z=0,q=0,j=d,Q=h-g*d,K=S-p*h,G=F,B=R-g*F,Z=L-p*R;for(q=0;q<_;++q){for(z=0;z<p;++z){for(D=0;D<g;++D)w[y]=M[b]*T,y+=j,b+=G;y+=Q,b+=B}y+=K,b+=Z}}}}},"float32,1,0,float32,1,0":function(){return function(m,w,A,y,M,E,b){var T=m[0],p=m[1],_=A[0],g=A[1],h=E[0],S=E[1];y|=0,b|=0;var d=0,R=0,L=g,F=_-p*g,O=S,P=h-p*S;for(R=0;R<T;++R){for(d=0;d<p;++d)w[y]=M[b],y+=L,b+=O;y+=F,b+=P}}},"float32,1,0,float32,0,1":function(){return function(m,w,A,y,M,E,b){var T=m[0],p=m[1],_=A[0],g=A[1],h=E[0],S=E[1];y|=0,b|=0;for(var d=y,R=b,L=m[1]|0;L>0;){L<64?(p=L,L=0):(p=64,L-=64);for(var F=m[0]|0;F>0;){F<64?(T=F,F=0):(T=64,F-=64),y=d+L*g+F*_,b=R+L*S+F*h;var O=0,P=0,I=g,k=_-p*g,D=S,z=h-p*S;for(P=0;P<T;++P){for(O=0;O<p;++O)w[y]=M[b],y+=I,b+=D;y+=k,b+=z}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(m,w,A,y,M,E,b){var T=m[0],p=m[1],_=m[2],g=A[0],h=A[1],S=A[2],d=E[0],R=E[1],L=E[2];y|=0,b|=0;for(var F=y,O=b,P=m[2]|0;P>0;){P<64?(_=P,P=0):(_=64,P-=64);for(var I=m[0]|0;I>0;){I<64?(T=I,I=0):(T=64,I-=64);for(var k=m[1]|0;k>0;){k<64?(p=k,k=0):(p=64,k-=64),y=F+P*S+I*g+k*h,b=O+P*L+I*d+k*R;var D=0,z=0,q=0,j=S,Q=g-_*S,K=h-T*g,G=L,B=d-_*L,Z=R-T*d;for(q=0;q<p;++q){for(z=0;z<T;++z){for(D=0;D<_;++D)w[y]=M[b],y+=j,b+=G;y+=Q,b+=B}y+=K,b+=Z}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(m,w,A,y,M,E,b){var T=m[0],p=m[1],_=m[2],g=A[0],h=A[1],S=A[2],d=E[0],R=E[1],L=E[2];y|=0,b|=0;var F=0,O=0,P=0,I=S,k=g-_*S,D=h-T*g,z=L,q=d-_*L,j=R-T*d;for(P=0;P<p;++P){for(O=0;O<T;++O){for(F=0;F<_;++F)w[y]=M[b],y+=I,b+=z;y+=k,b+=q}y+=D,b+=j}}}};function l(x,m){var w=m.join(","),A=i[w];return A()}var f=l,s={mul:function(x){var m={};return function(A,y,M){var E=A.dtype,b=A.order,T=y.dtype,p=y.order,_=M.dtype,g=M.order,h=[E,b.join(),T,p.join(),_,g.join()].join(),S=m[h];return S||(m[h]=S=x([E,b,T,p,_,g])),S(A.shape.slice(0),A.data,A.stride,A.offset|0,y.data,y.stride,y.offset|0,M.data,M.stride,M.offset|0)}},muls:function(x){var m={};return function(A,y,M){var E=A.dtype,b=A.order,T=y.dtype,p=y.order,_=[E,b.join(),T,p.join()].join(),g=m[_];return g||(m[_]=g=x([E,b,T,p])),g(A.shape.slice(0),A.data,A.stride,A.offset|0,y.data,y.stride,y.offset|0,M)}},mulseq:function(x){var m={};return function(A,y){var M=A.dtype,E=A.order,b=[M,E.join()].join(),T=m[b];return T||(m[b]=T=x([M,E])),T(A.shape.slice(0),A.data,A.stride,A.offset|0,y)}},div:function(x){var m={};return function(A,y,M){var E=A.dtype,b=A.order,T=y.dtype,p=y.order,_=M.dtype,g=M.order,h=[E,b.join(),T,p.join(),_,g.join()].join(),S=m[h];return S||(m[h]=S=x([E,b,T,p,_,g])),S(A.shape.slice(0),A.data,A.stride,A.offset|0,y.data,y.stride,y.offset|0,M.data,M.stride,M.offset|0)}},divs:function(x){var m={};return function(A,y,M){var E=A.dtype,b=A.order,T=y.dtype,p=y.order,_=[E,b.join(),T,p.join()].join(),g=m[_];return g||(m[_]=g=x([E,b,T,p])),g(A.shape.slice(0),A.data,A.stride,A.offset|0,y.data,y.stride,y.offset|0,M)}},divseq:function(x){var m={};return function(A,y){var M=A.dtype,E=A.order,b=[M,E.join()].join(),T=m[b];return T||(m[b]=T=x([M,E])),T(A.shape.slice(0),A.data,A.stride,A.offset|0,y)}},assign:function(x){var m={};return function(A,y){var M=A.dtype,E=A.order,b=y.dtype,T=y.order,p=[M,E.join(),b,T.join()].join(),_=m[p];return _||(m[p]=_=x([M,E,b,T])),_(A.shape.slice(0),A.data,A.stride,A.offset|0,y.data,y.stride,y.offset|0)}}};function u(x){var m=s[x.funcName];return m(f.bind(void 0,x))}function c(x){return u({funcName:x.funcName})}var v={mul:"*",div:"/"};(function(){for(var x in v)o[x]=c({funcName:x}),o[x+"s"]=c({funcName:x+"s"}),o[x+"seq"]=c({funcName:x+"seq"})})(),o.assign=c({funcName:"assign"})},9994:function(a,o,i){"use strict";var l=i(9618),f=i(8277);a.exports=function(u,c){for(var v=[],x=u,m=1;Array.isArray(x);)v.push(x.length),m*=x.length,x=x[0];return v.length===0?l():(c||(c=l(new Float64Array(m),v)),f(c,u),c)}},8277:function(a){"use strict";function o(){return function(c,v,x,m,w){var A=c[0],y=c[1],M=c[2],E=x[0],b=x[1],T=x[2],p=[0,0,0];m|=0;var _=0,g=0,h=0,S=T,d=b-M*T,R=E-y*b;for(h=0;h<A;++h){for(g=0;g<y;++g){for(_=0;_<M;++_){{var L=w,F;for(F=0;F<p.length-1;++F)L=L[p[F]];v[m]=L[p[p.length-1]]}m+=S,++p[2]}m+=d,p[2]-=M,++p[1]}m+=R,p[1]-=y,++p[0]}}}function i(){return o()}var l=i;function f(c){var v={};return function(m,w){var A=m.dtype,y=m.order,M=[A,y.join()].join(),E=v[M];return E||(v[M]=E=c([A,y])),E(m.shape.slice(0),m.data,m.stride,m.offset|0,w)}}function s(c){return f(l.bind(void 0,c))}function u(c){return s({funcName:c.funcName})}a.exports=u({funcName:"convert"})},7640:function(a,o,i){"use strict";var l=i(1888);function f(w){switch(w){case"uint32":return[l.mallocUint32,l.freeUint32];default:return null}}var s={"uint32,1,0":function(w,A){return function(M,E,b,T,p,_,g,h,S,d,R){var L,F,O,P=M*p+T,I,k=w(h),D,z,q,j;for(L=M+1;L<=E;++L){for(F=L,P+=p,O=P,D=0,z=P,I=0;I<h;++I)k[D++]=b[z],z+=S;e:for(;F-- >M;){D=0,z=O-p;r:for(I=0;I<h;++I){if(q=b[z],j=k[D],q<j)break e;if(q>j)break r;z+=d,D+=R}for(D=O,z=O-p,I=0;I<h;++I)b[D]=b[z],D+=S,z+=S;O-=p}for(D=O,z=0,I=0;I<h;++I)b[D]=k[z++],D+=S}A(k)}}};function u(w,A){var y=f(A),M=[A,w].join(","),E=s[M];return y?E(y[0],y[1]):E()}var c={"uint32,1,0":function(w,A,y){return function M(E,b,T,p,_,g,h,S,d,R,L){var F=(b-E+1)/6|0,O=E+F,P=b-F,I=E+b>>1,k=I-F,D=I+F,z=O,q=k,j=I,Q=D,K=P,G=E+1,B=b-1,Z=!0,ie,J,le,te,V,ne,Y,oe,pe,we=0,De=0,Re=0,Ae,Ie,Be,je,Ne,Qe,pr,Se,Fe,hr,dr,kr,Ue,He,Xe,fr,Mr=S,qr=A(Mr),et=A(Mr);Ie=_*z,Be=_*q,fr=p;e:for(Ae=0;Ae<S;++Ae){if(Y=Ie+fr,oe=Be+fr,Re=T[Y]-T[oe],Re>0){J=z,z=q,q=J;break e}if(Re<0)break e;fr+=R}Ie=_*Q,Be=_*K,fr=p;e:for(Ae=0;Ae<S;++Ae){if(Y=Ie+fr,oe=Be+fr,Re=T[Y]-T[oe],Re>0){J=Q,Q=K,K=J;break e}if(Re<0)break e;fr+=R}Ie=_*z,Be=_*j,fr=p;e:for(Ae=0;Ae<S;++Ae){if(Y=Ie+fr,oe=Be+fr,Re=T[Y]-T[oe],Re>0){J=z,z=j,j=J;break e}if(Re<0)break e;fr+=R}Ie=_*q,Be=_*j,fr=p;e:for(Ae=0;Ae<S;++Ae){if(Y=Ie+fr,oe=Be+fr,Re=T[Y]-T[oe],Re>0){J=q,q=j,j=J;break e}if(Re<0)break e;fr+=R}Ie=_*z,Be=_*Q,fr=p;e:for(Ae=0;Ae<S;++Ae){if(Y=Ie+fr,oe=Be+fr,Re=T[Y]-T[oe],Re>0){J=z,z=Q,Q=J;break e}if(Re<0)break e;fr+=R}Ie=_*j,Be=_*Q,fr=p;e:for(Ae=0;Ae<S;++Ae){if(Y=Ie+fr,oe=Be+fr,Re=T[Y]-T[oe],Re>0){J=j,j=Q,Q=J;break e}if(Re<0)break e;fr+=R}Ie=_*q,Be=_*K,fr=p;e:for(Ae=0;Ae<S;++Ae){if(Y=Ie+fr,oe=Be+fr,Re=T[Y]-T[oe],Re>0){J=q,q=K,K=J;break e}if(Re<0)break e;fr+=R}Ie=_*q,Be=_*j,fr=p;e:for(Ae=0;Ae<S;++Ae){if(Y=Ie+fr,oe=Be+fr,Re=T[Y]-T[oe],Re>0){J=q,q=j,j=J;break e}if(Re<0)break e;fr+=R}Ie=_*Q,Be=_*K,fr=p;e:for(Ae=0;Ae<S;++Ae){if(Y=Ie+fr,oe=Be+fr,Re=T[Y]-T[oe],Re>0){J=Q,Q=K,K=J;break e}if(Re<0)break e;fr+=R}for(Ie=_*z,Be=_*q,je=_*j,Ne=_*Q,Qe=_*K,pr=_*O,Se=_*I,Fe=_*P,Xe=0,fr=p,Ae=0;Ae<S;++Ae)Y=Ie+fr,oe=Be+fr,pe=je+fr,hr=Ne+fr,dr=Qe+fr,kr=pr+fr,Ue=Se+fr,He=Fe+fr,qr[Xe]=T[oe],et[Xe]=T[hr],Z=Z&&qr[Xe]===et[Xe],le=T[Y],te=T[pe],V=T[dr],T[kr]=le,T[Ue]=te,T[He]=V,++Xe,fr+=d;for(Ie=_*k,Be=_*E,fr=p,Ae=0;Ae<S;++Ae)Y=Ie+fr,oe=Be+fr,T[Y]=T[oe],fr+=d;for(Ie=_*D,Be=_*b,fr=p,Ae=0;Ae<S;++Ae)Y=Ie+fr,oe=Be+fr,T[Y]=T[oe],fr+=d;if(Z)for(ne=G;ne<=B;++ne){Y=p+ne*_,Xe=0;e:for(Ae=0;Ae<S;++Ae){if(Re=T[Y]-qr[Xe],Re!==0)break e;Xe+=L,Y+=R}if(Re!==0)if(Re<0){if(ne!==G)for(Ie=_*ne,Be=_*G,fr=p,Ae=0;Ae<S;++Ae)Y=Ie+fr,oe=Be+fr,ie=T[Y],T[Y]=T[oe],T[oe]=ie,fr+=d;++G}else for(;;){Y=p+B*_,Xe=0;e:for(Ae=0;Ae<S;++Ae){if(Re=T[Y]-qr[Xe],Re!==0)break e;Xe+=L,Y+=R}if(Re>0)B--;else if(Re<0){for(Ie=_*ne,Be=_*G,je=_*B,fr=p,Ae=0;Ae<S;++Ae)Y=Ie+fr,oe=Be+fr,pe=je+fr,ie=T[Y],T[Y]=T[oe],T[oe]=T[pe],T[pe]=ie,fr+=d;++G,--B;break}else{for(Ie=_*ne,Be=_*B,fr=p,Ae=0;Ae<S;++Ae)Y=Ie+fr,oe=Be+fr,ie=T[Y],T[Y]=T[oe],T[oe]=ie,fr+=d;--B;break}}}else for(ne=G;ne<=B;++ne){Y=p+ne*_,Xe=0;e:for(Ae=0;Ae<S;++Ae){if(we=T[Y]-qr[Xe],we!==0)break e;Xe+=L,Y+=R}if(we<0){if(ne!==G)for(Ie=_*ne,Be=_*G,fr=p,Ae=0;Ae<S;++Ae)Y=Ie+fr,oe=Be+fr,ie=T[Y],T[Y]=T[oe],T[oe]=ie,fr+=d;++G}else{Y=p+ne*_,Xe=0;e:for(Ae=0;Ae<S;++Ae){if(De=T[Y]-et[Xe],De!==0)break e;Xe+=L,Y+=R}if(De>0)for(;;){Y=p+B*_,Xe=0;e:for(Ae=0;Ae<S;++Ae){if(Re=T[Y]-et[Xe],Re!==0)break e;Xe+=L,Y+=R}if(Re>0){if(--B<ne)break;continue}else{Y=p+B*_,Xe=0;e:for(Ae=0;Ae<S;++Ae){if(Re=T[Y]-qr[Xe],Re!==0)break e;Xe+=L,Y+=R}if(Re<0){for(Ie=_*ne,Be=_*G,je=_*B,fr=p,Ae=0;Ae<S;++Ae)Y=Ie+fr,oe=Be+fr,pe=je+fr,ie=T[Y],T[Y]=T[oe],T[oe]=T[pe],T[pe]=ie,fr+=d;++G,--B}else{for(Ie=_*ne,Be=_*B,fr=p,Ae=0;Ae<S;++Ae)Y=Ie+fr,oe=Be+fr,ie=T[Y],T[Y]=T[oe],T[oe]=ie,fr+=d;--B}break}}}}for(Ie=_*E,Be=_*(G-1),Xe=0,fr=p,Ae=0;Ae<S;++Ae)Y=Ie+fr,oe=Be+fr,T[Y]=T[oe],T[oe]=qr[Xe],++Xe,fr+=d;for(Ie=_*b,Be=_*(B+1),Xe=0,fr=p,Ae=0;Ae<S;++Ae)Y=Ie+fr,oe=Be+fr,T[Y]=T[oe],T[oe]=et[Xe],++Xe,fr+=d;if(G-2-E<=32?w(E,G-2,T,p,_,g,h,S,d,R,L):M(E,G-2,T,p,_,g,h,S,d,R,L),b-(B+2)<=32?w(B+2,b,T,p,_,g,h,S,d,R,L):M(B+2,b,T,p,_,g,h,S,d,R,L),Z){y(qr),y(et);return}if(G<O&&B>P){e:for(;;){for(Y=p+G*_,Xe=0,fr=p,Ae=0;Ae<S;++Ae){if(T[Y]!==qr[Xe])break e;++Xe,Y+=d}++G}e:for(;;){for(Y=p+B*_,Xe=0,fr=p,Ae=0;Ae<S;++Ae){if(T[Y]!==et[Xe])break e;++Xe,Y+=d}--B}for(ne=G;ne<=B;++ne){Y=p+ne*_,Xe=0;e:for(Ae=0;Ae<S;++Ae){if(we=T[Y]-qr[Xe],we!==0)break e;Xe+=L,Y+=R}if(we===0){if(ne!==G)for(Ie=_*ne,Be=_*G,fr=p,Ae=0;Ae<S;++Ae)Y=Ie+fr,oe=Be+fr,ie=T[Y],T[Y]=T[oe],T[oe]=ie,fr+=d;++G}else{Y=p+ne*_,Xe=0;e:for(Ae=0;Ae<S;++Ae){if(De=T[Y]-et[Xe],De!==0)break e;Xe+=L,Y+=R}if(De===0)for(;;){Y=p+B*_,Xe=0;e:for(Ae=0;Ae<S;++Ae){if(Re=T[Y]-et[Xe],Re!==0)break e;Xe+=L,Y+=R}if(Re===0){if(--B<ne)break;continue}else{Y=p+B*_,Xe=0;e:for(Ae=0;Ae<S;++Ae){if(Re=T[Y]-qr[Xe],Re!==0)break e;Xe+=L,Y+=R}if(Re<0){for(Ie=_*ne,Be=_*G,je=_*B,fr=p,Ae=0;Ae<S;++Ae)Y=Ie+fr,oe=Be+fr,pe=je+fr,ie=T[Y],T[Y]=T[oe],T[oe]=T[pe],T[pe]=ie,fr+=d;++G,--B}else{for(Ie=_*ne,Be=_*B,fr=p,Ae=0;Ae<S;++Ae)Y=Ie+fr,oe=Be+fr,ie=T[Y],T[Y]=T[oe],T[oe]=ie,fr+=d;--B}break}}}}}y(qr),y(et),B-G<=32?w(G,B,T,p,_,g,h,S,d,R,L):M(G,B,T,p,_,g,h,S,d,R,L)}}};function v(w,A,y){var M=f(A),E=[A,w].join(","),b=c[E];return w.length>1&&M?b(y,M[0],M[1]):b(y)}var x={"uint32,1,0":function(w,A){return function(y){var M=y.data,E=y.offset|0,b=y.shape,T=y.stride,p=T[0]|0,_=b[0]|0,g=T[1]|0,h=b[1]|0,S=g,d=g,R=1;_<=32?w(0,_-1,M,E,p,g,_,h,S,d,R):A(0,_-1,M,E,p,g,_,h,S,d,R)}}};function m(w,A){var y=[A,w].join(","),M=x[y],E=u(w,A),b=v(w,A,E);return M(E,b)}a.exports=m},446:function(a,o,i){"use strict";var l=i(7640),f={};function s(u){var c=u.order,v=u.dtype,x=[c,v],m=x.join(":"),w=f[m];return w||(f[m]=w=l(c,v)),w(u),u}a.exports=s},9618:function(a,o,i){var l=i(7163),f=typeof Float64Array!="undefined";function s(A,y){return A[0]-y[0]}function u(){var A=this.stride,y=new Array(A.length),M;for(M=0;M<y.length;++M)y[M]=[Math.abs(A[M]),M];y.sort(s);var E=new Array(y.length);for(M=0;M<E.length;++M)E[M]=y[M][1];return E}var c={T:function(A){function y(E){this.data=E}var M=y.prototype;return M.dtype=A,M.index=function(){return-1},M.size=0,M.dimension=-1,M.shape=M.stride=M.order=[],M.lo=M.hi=M.transpose=M.step=function(){return new y(this.data)},M.get=M.set=function(){},M.pick=function(){return null},function(b){return new y(b)}},0:function(A,y){function M(b,T){this.data=b,this.offset=T}var E=M.prototype;return E.dtype=A,E.index=function(){return this.offset},E.dimension=0,E.size=1,E.shape=E.stride=E.order=[],E.lo=E.hi=E.transpose=E.step=function(){return new M(this.data,this.offset)},E.pick=function(){return y(this.data)},E.valueOf=E.get=function(){return A==="generic"?this.data.get(this.offset):this.data[this.offset]},E.set=function(T){return A==="generic"?this.data.set(this.offset,T):this.data[this.offset]=T},function(T,p,_,g){return new M(T,g)}},1:function(A,y,M){function E(T,p,_,g){this.data=T,this.shape=[p],this.stride=[_],this.offset=g|0}var b=E.prototype;return b.dtype=A,b.dimension=1,Object.defineProperty(b,"size",{get:function(){return this.shape[0]}}),b.order=[0],b.set=function(p,_){return A==="generic"?this.data.set(this.offset+this.stride[0]*p,_):this.data[this.offset+this.stride[0]*p]=_},b.get=function(p){return A==="generic"?this.data.get(this.offset+this.stride[0]*p):this.data[this.offset+this.stride[0]*p]},b.index=function(p){return this.offset+this.stride[0]*p},b.hi=function(p){return new E(this.data,typeof p!="number"||p<0?this.shape[0]:p|0,this.stride[0],this.offset)},b.lo=function(p){var _=this.offset,g=0,h=this.shape[0],S=this.stride[0];return typeof p=="number"&&p>=0&&(g=p|0,_+=S*g,h-=g),new E(this.data,h,S,_)},b.step=function(p){var _=this.shape[0],g=this.stride[0],h=this.offset,S=0,d=Math.ceil;return typeof p=="number"&&(S=p|0,S<0?(h+=g*(_-1),_=d(-_/S)):_=d(_/S),g*=S),new E(this.data,_,g,h)},b.transpose=function(p){p=p===void 0?0:p|0;var _=this.shape,g=this.stride;return new E(this.data,_[p],g[p],this.offset)},b.pick=function(p){var _=[],g=[],h=this.offset;typeof p=="number"&&p>=0?h=h+this.stride[0]*p|0:(_.push(this.shape[0]),g.push(this.stride[0]));var S=y[_.length+1];return S(this.data,_,g,h)},function(p,_,g,h){return new E(p,_[0],g[0],h)}},2:function(A,y,M){function E(T,p,_,g,h,S){this.data=T,this.shape=[p,_],this.stride=[g,h],this.offset=S|0}var b=E.prototype;return b.dtype=A,b.dimension=2,Object.defineProperty(b,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(b,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),b.set=function(p,_,g){return A==="generic"?this.data.set(this.offset+this.stride[0]*p+this.stride[1]*_,g):this.data[this.offset+this.stride[0]*p+this.stride[1]*_]=g},b.get=function(p,_){return A==="generic"?this.data.get(this.offset+this.stride[0]*p+this.stride[1]*_):this.data[this.offset+this.stride[0]*p+this.stride[1]*_]},b.index=function(p,_){return this.offset+this.stride[0]*p+this.stride[1]*_},b.hi=function(p,_){return new E(this.data,typeof p!="number"||p<0?this.shape[0]:p|0,typeof _!="number"||_<0?this.shape[1]:_|0,this.stride[0],this.stride[1],this.offset)},b.lo=function(p,_){var g=this.offset,h=0,S=this.shape[0],d=this.shape[1],R=this.stride[0],L=this.stride[1];return typeof p=="number"&&p>=0&&(h=p|0,g+=R*h,S-=h),typeof _=="number"&&_>=0&&(h=_|0,g+=L*h,d-=h),new E(this.data,S,d,R,L,g)},b.step=function(p,_){var g=this.shape[0],h=this.shape[1],S=this.stride[0],d=this.stride[1],R=this.offset,L=0,F=Math.ceil;return typeof p=="number"&&(L=p|0,L<0?(R+=S*(g-1),g=F(-g/L)):g=F(g/L),S*=L),typeof _=="number"&&(L=_|0,L<0?(R+=d*(h-1),h=F(-h/L)):h=F(h/L),d*=L),new E(this.data,g,h,S,d,R)},b.transpose=function(p,_){p=p===void 0?0:p|0,_=_===void 0?1:_|0;var g=this.shape,h=this.stride;return new E(this.data,g[p],g[_],h[p],h[_],this.offset)},b.pick=function(p,_){var g=[],h=[],S=this.offset;typeof p=="number"&&p>=0?S=S+this.stride[0]*p|0:(g.push(this.shape[0]),h.push(this.stride[0])),typeof _=="number"&&_>=0?S=S+this.stride[1]*_|0:(g.push(this.shape[1]),h.push(this.stride[1]));var d=y[g.length+1];return d(this.data,g,h,S)},function(p,_,g,h){return new E(p,_[0],_[1],g[0],g[1],h)}},3:function(A,y,M){function E(T,p,_,g,h,S,d,R){this.data=T,this.shape=[p,_,g],this.stride=[h,S,d],this.offset=R|0}var b=E.prototype;return b.dtype=A,b.dimension=3,Object.defineProperty(b,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(b,"order",{get:function(){var p=Math.abs(this.stride[0]),_=Math.abs(this.stride[1]),g=Math.abs(this.stride[2]);return p>_?_>g?[2,1,0]:p>g?[1,2,0]:[1,0,2]:p>g?[2,0,1]:g>_?[0,1,2]:[0,2,1]}}),b.set=function(p,_,g,h){return A==="generic"?this.data.set(this.offset+this.stride[0]*p+this.stride[1]*_+this.stride[2]*g,h):this.data[this.offset+this.stride[0]*p+this.stride[1]*_+this.stride[2]*g]=h},b.get=function(p,_,g){return A==="generic"?this.data.get(this.offset+this.stride[0]*p+this.stride[1]*_+this.stride[2]*g):this.data[this.offset+this.stride[0]*p+this.stride[1]*_+this.stride[2]*g]},b.index=function(p,_,g){return this.offset+this.stride[0]*p+this.stride[1]*_+this.stride[2]*g},b.hi=function(p,_,g){return new E(this.data,typeof p!="number"||p<0?this.shape[0]:p|0,typeof _!="number"||_<0?this.shape[1]:_|0,typeof g!="number"||g<0?this.shape[2]:g|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},b.lo=function(p,_,g){var h=this.offset,S=0,d=this.shape[0],R=this.shape[1],L=this.shape[2],F=this.stride[0],O=this.stride[1],P=this.stride[2];return typeof p=="number"&&p>=0&&(S=p|0,h+=F*S,d-=S),typeof _=="number"&&_>=0&&(S=_|0,h+=O*S,R-=S),typeof g=="number"&&g>=0&&(S=g|0,h+=P*S,L-=S),new E(this.data,d,R,L,F,O,P,h)},b.step=function(p,_,g){var h=this.shape[0],S=this.shape[1],d=this.shape[2],R=this.stride[0],L=this.stride[1],F=this.stride[2],O=this.offset,P=0,I=Math.ceil;return typeof p=="number"&&(P=p|0,P<0?(O+=R*(h-1),h=I(-h/P)):h=I(h/P),R*=P),typeof _=="number"&&(P=_|0,P<0?(O+=L*(S-1),S=I(-S/P)):S=I(S/P),L*=P),typeof g=="number"&&(P=g|0,P<0?(O+=F*(d-1),d=I(-d/P)):d=I(d/P),F*=P),new E(this.data,h,S,d,R,L,F,O)},b.transpose=function(p,_,g){p=p===void 0?0:p|0,_=_===void 0?1:_|0,g=g===void 0?2:g|0;var h=this.shape,S=this.stride;return new E(this.data,h[p],h[_],h[g],S[p],S[_],S[g],this.offset)},b.pick=function(p,_,g){var h=[],S=[],d=this.offset;typeof p=="number"&&p>=0?d=d+this.stride[0]*p|0:(h.push(this.shape[0]),S.push(this.stride[0])),typeof _=="number"&&_>=0?d=d+this.stride[1]*_|0:(h.push(this.shape[1]),S.push(this.stride[1])),typeof g=="number"&&g>=0?d=d+this.stride[2]*g|0:(h.push(this.shape[2]),S.push(this.stride[2]));var R=y[h.length+1];return R(this.data,h,S,d)},function(p,_,g,h){return new E(p,_[0],_[1],_[2],g[0],g[1],g[2],h)}},4:function(A,y,M){function E(T,p,_,g,h,S,d,R,L,F){this.data=T,this.shape=[p,_,g,h],this.stride=[S,d,R,L],this.offset=F|0}var b=E.prototype;return b.dtype=A,b.dimension=4,Object.defineProperty(b,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(b,"order",{get:M}),b.set=function(p,_,g,h,S){return A==="generic"?this.data.set(this.offset+this.stride[0]*p+this.stride[1]*_+this.stride[2]*g+this.stride[3]*h,S):this.data[this.offset+this.stride[0]*p+this.stride[1]*_+this.stride[2]*g+this.stride[3]*h]=S},b.get=function(p,_,g,h){return A==="generic"?this.data.get(this.offset+this.stride[0]*p+this.stride[1]*_+this.stride[2]*g+this.stride[3]*h):this.data[this.offset+this.stride[0]*p+this.stride[1]*_+this.stride[2]*g+this.stride[3]*h]},b.index=function(p,_,g,h){return this.offset+this.stride[0]*p+this.stride[1]*_+this.stride[2]*g+this.stride[3]*h},b.hi=function(p,_,g,h){return new E(this.data,typeof p!="number"||p<0?this.shape[0]:p|0,typeof _!="number"||_<0?this.shape[1]:_|0,typeof g!="number"||g<0?this.shape[2]:g|0,typeof h!="number"||h<0?this.shape[3]:h|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},b.lo=function(p,_,g,h){var S=this.offset,d=0,R=this.shape[0],L=this.shape[1],F=this.shape[2],O=this.shape[3],P=this.stride[0],I=this.stride[1],k=this.stride[2],D=this.stride[3];return typeof p=="number"&&p>=0&&(d=p|0,S+=P*d,R-=d),typeof _=="number"&&_>=0&&(d=_|0,S+=I*d,L-=d),typeof g=="number"&&g>=0&&(d=g|0,S+=k*d,F-=d),typeof h=="number"&&h>=0&&(d=h|0,S+=D*d,O-=d),new E(this.data,R,L,F,O,P,I,k,D,S)},b.step=function(p,_,g,h){var S=this.shape[0],d=this.shape[1],R=this.shape[2],L=this.shape[3],F=this.stride[0],O=this.stride[1],P=this.stride[2],I=this.stride[3],k=this.offset,D=0,z=Math.ceil;return typeof p=="number"&&(D=p|0,D<0?(k+=F*(S-1),S=z(-S/D)):S=z(S/D),F*=D),typeof _=="number"&&(D=_|0,D<0?(k+=O*(d-1),d=z(-d/D)):d=z(d/D),O*=D),typeof g=="number"&&(D=g|0,D<0?(k+=P*(R-1),R=z(-R/D)):R=z(R/D),P*=D),typeof h=="number"&&(D=h|0,D<0?(k+=I*(L-1),L=z(-L/D)):L=z(L/D),I*=D),new E(this.data,S,d,R,L,F,O,P,I,k)},b.transpose=function(p,_,g,h){p=p===void 0?0:p|0,_=_===void 0?1:_|0,g=g===void 0?2:g|0,h=h===void 0?3:h|0;var S=this.shape,d=this.stride;return new E(this.data,S[p],S[_],S[g],S[h],d[p],d[_],d[g],d[h],this.offset)},b.pick=function(p,_,g,h){var S=[],d=[],R=this.offset;typeof p=="number"&&p>=0?R=R+this.stride[0]*p|0:(S.push(this.shape[0]),d.push(this.stride[0])),typeof _=="number"&&_>=0?R=R+this.stride[1]*_|0:(S.push(this.shape[1]),d.push(this.stride[1])),typeof g=="number"&&g>=0?R=R+this.stride[2]*g|0:(S.push(this.shape[2]),d.push(this.stride[2])),typeof h=="number"&&h>=0?R=R+this.stride[3]*h|0:(S.push(this.shape[3]),d.push(this.stride[3]));var L=y[S.length+1];return L(this.data,S,d,R)},function(p,_,g,h){return new E(p,_[0],_[1],_[2],_[3],g[0],g[1],g[2],g[3],h)}},5:function(y,M,E){function b(p,_,g,h,S,d,R,L,F,O,P,I){this.data=p,this.shape=[_,g,h,S,d],this.stride=[R,L,F,O,P],this.offset=I|0}var T=b.prototype;return T.dtype=y,T.dimension=5,Object.defineProperty(T,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(T,"order",{get:E}),T.set=function(_,g,h,S,d,R){return y==="generic"?this.data.set(this.offset+this.stride[0]*_+this.stride[1]*g+this.stride[2]*h+this.stride[3]*S+this.stride[4]*d,R):this.data[this.offset+this.stride[0]*_+this.stride[1]*g+this.stride[2]*h+this.stride[3]*S+this.stride[4]*d]=R},T.get=function(_,g,h,S,d){return y==="generic"?this.data.get(this.offset+this.stride[0]*_+this.stride[1]*g+this.stride[2]*h+this.stride[3]*S+this.stride[4]*d):this.data[this.offset+this.stride[0]*_+this.stride[1]*g+this.stride[2]*h+this.stride[3]*S+this.stride[4]*d]},T.index=function(_,g,h,S,d){return this.offset+this.stride[0]*_+this.stride[1]*g+this.stride[2]*h+this.stride[3]*S+this.stride[4]*d},T.hi=function(_,g,h,S,d){return new b(this.data,typeof _!="number"||_<0?this.shape[0]:_|0,typeof g!="number"||g<0?this.shape[1]:g|0,typeof h!="number"||h<0?this.shape[2]:h|0,typeof S!="number"||S<0?this.shape[3]:S|0,typeof d!="number"||d<0?this.shape[4]:d|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},T.lo=function(_,g,h,S,d){var R=this.offset,L=0,F=this.shape[0],O=this.shape[1],P=this.shape[2],I=this.shape[3],k=this.shape[4],D=this.stride[0],z=this.stride[1],q=this.stride[2],j=this.stride[3],Q=this.stride[4];return typeof _=="number"&&_>=0&&(L=_|0,R+=D*L,F-=L),typeof g=="number"&&g>=0&&(L=g|0,R+=z*L,O-=L),typeof h=="number"&&h>=0&&(L=h|0,R+=q*L,P-=L),typeof S=="number"&&S>=0&&(L=S|0,R+=j*L,I-=L),typeof d=="number"&&d>=0&&(L=d|0,R+=Q*L,k-=L),new b(this.data,F,O,P,I,k,D,z,q,j,Q,R)},T.step=function(_,g,h,S,d){var R=this.shape[0],L=this.shape[1],F=this.shape[2],O=this.shape[3],P=this.shape[4],I=this.stride[0],k=this.stride[1],D=this.stride[2],z=this.stride[3],q=this.stride[4],j=this.offset,Q=0,K=Math.ceil;return typeof _=="number"&&(Q=_|0,Q<0?(j+=I*(R-1),R=K(-R/Q)):R=K(R/Q),I*=Q),typeof g=="number"&&(Q=g|0,Q<0?(j+=k*(L-1),L=K(-L/Q)):L=K(L/Q),k*=Q),typeof h=="number"&&(Q=h|0,Q<0?(j+=D*(F-1),F=K(-F/Q)):F=K(F/Q),D*=Q),typeof S=="number"&&(Q=S|0,Q<0?(j+=z*(O-1),O=K(-O/Q)):O=K(O/Q),z*=Q),typeof d=="number"&&(Q=d|0,Q<0?(j+=q*(P-1),P=K(-P/Q)):P=K(P/Q),q*=Q),new b(this.data,R,L,F,O,P,I,k,D,z,q,j)},T.transpose=function(_,g,h,S,d){_=_===void 0?0:_|0,g=g===void 0?1:g|0,h=h===void 0?2:h|0,S=S===void 0?3:S|0,d=d===void 0?4:d|0;var R=this.shape,L=this.stride;return new b(this.data,R[_],R[g],R[h],R[S],R[d],L[_],L[g],L[h],L[S],L[d],this.offset)},T.pick=function(_,g,h,S,d){var R=[],L=[],F=this.offset;typeof _=="number"&&_>=0?F=F+this.stride[0]*_|0:(R.push(this.shape[0]),L.push(this.stride[0])),typeof g=="number"&&g>=0?F=F+this.stride[1]*g|0:(R.push(this.shape[1]),L.push(this.stride[1])),typeof h=="number"&&h>=0?F=F+this.stride[2]*h|0:(R.push(this.shape[2]),L.push(this.stride[2])),typeof S=="number"&&S>=0?F=F+this.stride[3]*S|0:(R.push(this.shape[3]),L.push(this.stride[3])),typeof d=="number"&&d>=0?F=F+this.stride[4]*d|0:(R.push(this.shape[4]),L.push(this.stride[4]));var O=M[R.length+1];return O(this.data,R,L,F)},function(_,g,h,S){return new b(_,g[0],g[1],g[2],g[3],g[4],h[0],h[1],h[2],h[3],h[4],S)}}};function v(A,y){var M=y===-1?"T":String(y),E=c[M];return y===-1?E(A):y===0?E(A,m[A][0]):E(A,m[A],u)}function x(A){if(l(A))return"buffer";if(f)switch(Object.prototype.toString.call(A)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(A)?"array":"generic"}var m={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function w(A,y,M,E){if(A===void 0){var h=m.array[0];return h([])}else typeof A=="number"&&(A=[A]);y===void 0&&(y=[A.length]);var b=y.length;if(M===void 0){M=new Array(b);for(var T=b-1,p=1;T>=0;--T)M[T]=p,p*=y[T]}if(E===void 0){E=0;for(var T=0;T<b;++T)M[T]<0&&(E-=(y[T]-1)*M[T])}for(var _=x(A),g=m[_];g.length<=b+1;)g.push(v(_,g.length-1));var h=g[b+1];return h(A,y,M,E)}a.exports=w},1278:function(a,o,i){"use strict";var l=i(2361),f=Math.pow(2,-1074),s=-1>>>0;a.exports=u;function u(c,v){if(isNaN(c)||isNaN(v))return NaN;if(c===v)return c;if(c===0)return v<0?-f:f;var x=l.hi(c),m=l.lo(c);return v>c==c>0?m===s?(x+=1,m=0):m+=1:m===0?(m=s,x-=1):m-=1,l.pack(m,x)}},8406:function(a,o){var i=1e-6,l=1e-6;o.vertexNormals=function(f,s,u){for(var c=s.length,v=new Array(c),x=u===void 0?i:u,m=0;m<c;++m)v[m]=[0,0,0];for(var m=0;m<f.length;++m)for(var w=f[m],A=0,y=w[w.length-1],M=w[0],E=0;E<w.length;++E){A=y,y=M,M=w[(E+1)%w.length];for(var b=s[A],T=s[y],p=s[M],_=new Array(3),g=0,h=new Array(3),S=0,d=0;d<3;++d)_[d]=b[d]-T[d],g+=_[d]*_[d],h[d]=p[d]-T[d],S+=h[d]*h[d];if(g*S>x)for(var R=v[y],L=1/Math.sqrt(g*S),d=0;d<3;++d){var F=(d+1)%3,O=(d+2)%3;R[d]+=L*(h[F]*_[O]-h[O]*_[F])}}for(var m=0;m<c;++m){for(var R=v[m],P=0,d=0;d<3;++d)P+=R[d]*R[d];if(P>x)for(var L=1/Math.sqrt(P),d=0;d<3;++d)R[d]*=L;else for(var d=0;d<3;++d)R[d]=0}return v},o.faceNormals=function(f,s,u){for(var c=f.length,v=new Array(c),x=u===void 0?l:u,m=0;m<c;++m){for(var w=f[m],A=new Array(3),y=0;y<3;++y)A[y]=s[w[y]];for(var M=new Array(3),E=new Array(3),y=0;y<3;++y)M[y]=A[1][y]-A[0][y],E[y]=A[2][y]-A[0][y];for(var b=new Array(3),T=0,y=0;y<3;++y){var p=(y+1)%3,_=(y+2)%3;b[y]=M[p]*E[_]-M[_]*E[p],T+=b[y]*b[y]}T>x?T=1/Math.sqrt(T):T=0;for(var y=0;y<3;++y)b[y]*=T;v[m]=b}return v}},4081:function(a){"use strict";a.exports=o;function o(i,l,f,s,u,c,v,x,m,w){var A=l+c+w;if(y>0){var y=Math.sqrt(A+1);i[0]=.5*(v-m)/y,i[1]=.5*(x-s)/y,i[2]=.5*(f-c)/y,i[3]=.5*y}else{var M=Math.max(l,c,w),y=Math.sqrt(2*M-A+1);l>=M?(i[0]=.5*y,i[1]=.5*(u+f)/y,i[2]=.5*(x+s)/y,i[3]=.5*(v-m)/y):c>=M?(i[0]=.5*(f+u)/y,i[1]=.5*y,i[2]=.5*(m+v)/y,i[3]=.5*(x-s)/y):(i[0]=.5*(s+x)/y,i[1]=.5*(v+m)/y,i[2]=.5*y,i[3]=.5*(f-u)/y)}return i}},9977:function(a,o,i){"use strict";a.exports=y;var l=i(9215),f=i(6582),s=i(7399),u=i(7608),c=i(4081);function v(M,E,b){return Math.sqrt(Math.pow(M,2)+Math.pow(E,2)+Math.pow(b,2))}function x(M,E,b,T){return Math.sqrt(Math.pow(M,2)+Math.pow(E,2)+Math.pow(b,2)+Math.pow(T,2))}function m(M,E){var b=E[0],T=E[1],p=E[2],_=E[3],g=x(b,T,p,_);g>1e-6?(M[0]=b/g,M[1]=T/g,M[2]=p/g,M[3]=_/g):(M[0]=M[1]=M[2]=0,M[3]=1)}function w(M,E,b){this.radius=l([b]),this.center=l(E),this.rotation=l(M),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var A=w.prototype;A.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},A.recalcMatrix=function(M){this.radius.curve(M),this.center.curve(M),this.rotation.curve(M);var E=this.computedRotation;m(E,E);var b=this.computedMatrix;s(b,E);var T=this.computedCenter,p=this.computedEye,_=this.computedUp,g=Math.exp(this.computedRadius[0]);p[0]=T[0]+g*b[2],p[1]=T[1]+g*b[6],p[2]=T[2]+g*b[10],_[0]=b[1],_[1]=b[5],_[2]=b[9];for(var h=0;h<3;++h){for(var S=0,d=0;d<3;++d)S+=b[h+4*d]*p[d];b[12+h]=-S}},A.getMatrix=function(M,E){this.recalcMatrix(M);var b=this.computedMatrix;if(E){for(var T=0;T<16;++T)E[T]=b[T];return E}return b},A.idle=function(M){this.center.idle(M),this.radius.idle(M),this.rotation.idle(M)},A.flush=function(M){this.center.flush(M),this.radius.flush(M),this.rotation.flush(M)},A.pan=function(M,E,b,T){E=E||0,b=b||0,T=T||0,this.recalcMatrix(M);var p=this.computedMatrix,_=p[1],g=p[5],h=p[9],S=v(_,g,h);_/=S,g/=S,h/=S;var d=p[0],R=p[4],L=p[8],F=d*_+R*g+L*h;d-=_*F,R-=g*F,L-=h*F;var O=v(d,R,L);d/=O,R/=O,L/=O;var P=p[2],I=p[6],k=p[10],D=P*_+I*g+k*h,z=P*d+I*R+k*L;P-=D*_+z*d,I-=D*g+z*R,k-=D*h+z*L;var q=v(P,I,k);P/=q,I/=q,k/=q;var j=d*E+_*b,Q=R*E+g*b,K=L*E+h*b;this.center.move(M,j,Q,K);var G=Math.exp(this.computedRadius[0]);G=Math.max(1e-4,G+T),this.radius.set(M,Math.log(G))},A.rotate=function(M,E,b,T){this.recalcMatrix(M),E=E||0,b=b||0;var p=this.computedMatrix,_=p[0],g=p[4],h=p[8],S=p[1],d=p[5],R=p[9],L=p[2],F=p[6],O=p[10],P=E*_+b*S,I=E*g+b*d,k=E*h+b*R,D=-(F*k-O*I),z=-(O*P-L*k),q=-(L*I-F*P),j=Math.sqrt(Math.max(0,1-Math.pow(D,2)-Math.pow(z,2)-Math.pow(q,2))),Q=x(D,z,q,j);Q>1e-6?(D/=Q,z/=Q,q/=Q,j/=Q):(D=z=q=0,j=1);var K=this.computedRotation,G=K[0],B=K[1],Z=K[2],ie=K[3],J=G*j+ie*D+B*q-Z*z,le=B*j+ie*z+Z*D-G*q,te=Z*j+ie*q+G*z-B*D,V=ie*j-G*D-B*z-Z*q;if(T){D=L,z=F,q=O;var ne=Math.sin(T)/v(D,z,q);D*=ne,z*=ne,q*=ne,j=Math.cos(E),J=J*j+V*D+le*q-te*z,le=le*j+V*z+te*D-J*q,te=te*j+V*q+J*z-le*D,V=V*j-J*D-le*z-te*q}var Y=x(J,le,te,V);Y>1e-6?(J/=Y,le/=Y,te/=Y,V/=Y):(J=le=te=0,V=1),this.rotation.set(M,J,le,te,V)},A.lookAt=function(M,E,b,T){this.recalcMatrix(M),b=b||this.computedCenter,E=E||this.computedEye,T=T||this.computedUp;var p=this.computedMatrix;f(p,E,b,T);var _=this.computedRotation;c(_,p[0],p[1],p[2],p[4],p[5],p[6],p[8],p[9],p[10]),m(_,_),this.rotation.set(M,_[0],_[1],_[2],_[3]);for(var g=0,h=0;h<3;++h)g+=Math.pow(b[h]-E[h],2);this.radius.set(M,.5*Math.log(Math.max(g,1e-6))),this.center.set(M,b[0],b[1],b[2])},A.translate=function(M,E,b,T){this.center.move(M,E||0,b||0,T||0)},A.setMatrix=function(M,E){var b=this.computedRotation;c(b,E[0],E[1],E[2],E[4],E[5],E[6],E[8],E[9],E[10]),m(b,b),this.rotation.set(M,b[0],b[1],b[2],b[3]);var T=this.computedMatrix;u(T,E);var p=T[15];if(Math.abs(p)>1e-6){var _=T[12]/p,g=T[13]/p,h=T[14]/p;this.recalcMatrix(M);var S=Math.exp(this.computedRadius[0]);this.center.set(M,_-T[2]*S,g-T[6]*S,h-T[10]*S),this.radius.idle(M)}else this.center.idle(M),this.radius.idle(M)},A.setDistance=function(M,E){E>0&&this.radius.set(M,Math.log(E))},A.setDistanceLimits=function(M,E){M>0?M=Math.log(M):M=-1/0,E>0?E=Math.log(E):E=1/0,E=Math.max(E,M),this.radius.bounds[0][0]=M,this.radius.bounds[1][0]=E},A.getDistanceLimits=function(M){var E=this.radius.bounds;return M?(M[0]=Math.exp(E[0][0]),M[1]=Math.exp(E[1][0]),M):[Math.exp(E[0][0]),Math.exp(E[1][0])]},A.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},A.fromJSON=function(M){var E=this.lastT(),b=M.center;b&&this.center.set(E,b[0],b[1],b[2]);var T=M.rotation;T&&this.rotation.set(E,T[0],T[1],T[2],T[3]);var p=M.distance;p&&p>0&&this.radius.set(E,Math.log(p)),this.setDistanceLimits(M.zoomMin,M.zoomMax)};function y(M){M=M||{};var E=M.center||[0,0,0],b=M.rotation||[0,0,0,1],T=M.radius||1;E=[].slice.call(E,0,3),b=[].slice.call(b,0,4),m(b,b);var p=new w(b,E,Math.log(T));return p.setDistanceLimits(M.zoomMin,M.zoomMax),("eye"in M||"up"in M)&&p.lookAt(0,M.eye,M.center,M.up),p}},1371:function(a,o,i){"use strict";var l=i(3233);a.exports=function(s,u,c){return c=typeof c!="undefined"?c+"":" ",l(c,u)+s}},3202:function(a){a.exports=function(i,l){l||(l=[0,""]),i=String(i);var f=parseFloat(i,10);return l[0]=f,l[1]=i.match(/[\d.\-\+]*\s*(.*)/)[1]||"",l}},3088:function(a,o,i){"use strict";a.exports=f;var l=i(3140);function f(s,u){for(var c=u.length|0,v=s.length,x=[new Array(c),new Array(c)],m=0;m<c;++m)x[0][m]=[],x[1][m]=[];for(var m=0;m<v;++m){var w=s[m];x[0][w[0]].push(w),x[1][w[1]].push(w)}for(var A=[],m=0;m<c;++m)x[0][m].length+x[1][m].length===0&&A.push([m]);function y(h,S){var d=x[S][h[S]];d.splice(d.indexOf(h),1)}function M(h,S,d){for(var R,L,F,O=0;O<2;++O)if(x[O][S].length>0){R=x[O][S][0],F=O;break}L=R[F^1];for(var P=0;P<2;++P)for(var I=x[P][S],k=0;k<I.length;++k){var D=I[k],z=D[P^1],q=l(u[h],u[S],u[L],u[z]);q>0&&(R=D,L=z,F=P)}return d||R&&y(R,F),L}function E(h,S){var d=x[S][h][0],R=[h];y(d,S);for(var L=d[S^1],F=S;;){for(;L!==h;)R.push(L),L=M(R[R.length-2],L,!1);if(x[0][h].length+x[1][h].length===0)break;var O=R[R.length-1],P=h,I=R[1],k=M(O,P,!0);if(l(u[O],u[P],u[I],u[k])<0)break;R.push(h),L=M(O,P)}return R}function b(h,S){return S[1]===S[S.length-1]}for(var m=0;m<c;++m)for(var T=0;T<2;++T){for(var p=[];x[T][m].length>0;){var _=x[0][m].length,g=E(m,T);b(p,g)?p.push.apply(p,g):(p.length>0&&A.push(p),p=g)}p.length>0&&A.push(p)}return A}},5609:function(a,o,i){"use strict";a.exports=f;var l=i(3134);function f(s,u){for(var c=l(s,u.length),v=new Array(u.length),x=new Array(u.length),m=[],w=0;w<u.length;++w){var A=c[w].length;x[w]=A,v[w]=!0,A<=1&&m.push(w)}for(;m.length>0;){var y=m.pop();v[y]=!1;for(var M=c[y],w=0;w<M.length;++w){var E=M[w];--x[E]===0&&m.push(E)}}for(var b=new Array(u.length),T=[],w=0;w<u.length;++w)if(v[w]){var y=T.length;b[w]=y,T.push(u[w])}else b[w]=-1;for(var p=[],w=0;w<s.length;++w){var _=s[w];v[_[0]]&&v[_[1]]&&p.push([b[_[0]],b[_[1]]])}return[p,T]}},2095:function(a,o,i){"use strict";a.exports=A;var l=i(3134),f=i(3088),s=i(5085),u=i(5250),c=i(8210),v=i(1682),x=i(5609);function m(y,M){for(var E=new Array(y),b=0;b<y;++b)E[b]=M;return E}function w(y){for(var M=new Array(y),E=0;E<y;++E)M[E]=[];return M}function A(y,M){var ne=x(y,M);y=ne[0],M=ne[1];for(var E=M.length,b=y.length,T=l(y,M.length),p=0;p<E;++p)if(T[p].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var _=f(y,M);function g(Ae){for(var Ie=Ae.length,Be=[0],je=0;je<Ie;++je){var Ne=M[Ae[je]],Qe=M[Ae[(je+1)%Ie]],pr=u(-Ne[0],Ne[1]),Se=u(-Ne[0],Qe[1]),Fe=u(Qe[0],Ne[1]),hr=u(Qe[0],Qe[1]);Be=c(Be,c(c(pr,Se),c(Fe,hr)))}return Be[Be.length-1]>0}_=_.filter(g);for(var h=_.length,S=new Array(h),d=new Array(h),p=0;p<h;++p){S[p]=p;var R=new Array(h),L=_[p].map(function(Ie){return M[Ie]}),F=s([L]),O=0;e:for(var P=0;P<h;++P)if(R[P]=0,p!==P){for(var I=_[P],k=I.length,D=0;D<k;++D){var z=F(M[I[D]]);if(z!==0){z<0&&(R[P]=1,O+=1);continue e}}R[P]=1,O+=1}d[p]=[O,p,R]}d.sort(function(Ae,Ie){return Ie[0]-Ae[0]});for(var p=0;p<h;++p)for(var R=d[p],q=R[1],j=R[2],P=0;P<h;++P)j[P]&&(S[P]=q);for(var Q=w(h),p=0;p<h;++p)Q[p].push(S[p]),Q[S[p]].push(p);for(var K={},G=m(E,!1),p=0;p<h;++p)for(var I=_[p],k=I.length,P=0;P<k;++P){var B=I[P],Z=I[(P+1)%k],ie=Math.min(B,Z)+":"+Math.max(B,Z);if(ie in K){var J=K[ie];Q[J].push(p),Q[p].push(J),G[B]=G[Z]=!0}else K[ie]=p}function le(Ae){for(var Ie=Ae.length,Be=0;Be<Ie;++Be)if(!G[Ae[Be]])return!1;return!0}for(var te=[],V=m(h,-1),p=0;p<h;++p)S[p]===p&&!le(_[p])?(te.push(p),V[p]=0):V[p]=-1;for(var ne=[];te.length>0;){var Y=te.pop(),oe=Q[Y];v(oe,function(Ae,Ie){return Ae-Ie});var pe=oe.length,we=V[Y],De;if(we===0){var I=_[Y];De=[I]}for(var p=0;p<pe;++p){var Re=oe[p];if(!(V[Re]>=0)&&(V[Re]=we^1,te.push(Re),we===0)){var I=_[Re];le(I)||(I.reverse(),De.push(I))}}we===0&&ne.push(De)}return ne}},5085:function(a,o,i){a.exports=M;var l=i(3250)[3],f=i(4209),s=i(3352),u=i(2478);function c(){return!0}function v(E){return function(b,T){var p=E[b];return p?!!p.queryPoint(T,c):!1}}function x(E){for(var b={},T=0;T<E.length;++T){var p=E[T],_=p[0][0],g=p[0][1],h=p[1][1],S=[Math.min(g,h),Math.max(g,h)];_ in b?b[_].push(S):b[_]=[S]}for(var d={},R=Object.keys(b),T=0;T<R.length;++T){var L=b[R[T]];d[R[T]]=s(L)}return v(d)}function m(E,b){return function(T){var p=u.le(b,T[0]);if(p<0)return 1;var _=E[p];if(!_)if(p>0&&b[p]===T[0])_=E[p-1];else return 1;for(var g=1;_;){var h=_.key,S=l(T,h[0],h[1]);if(h[0][0]<h[1][0])if(S<0)_=_.left;else if(S>0)g=-1,_=_.right;else return 0;else if(S>0)_=_.left;else if(S<0)g=1,_=_.right;else return 0}return g}}function w(E){return 1}function A(E){return function(T){return E(T[0],T[1])?0:1}}function y(E,b){return function(p){return E(p[0],p[1])?0:b(p)}}function M(E){for(var b=E.length,T=[],p=[],_=0,g=0;g<b;++g)for(var h=E[g],S=h.length,d=S-1,R=0;R<S;d=R++){var L=h[d],F=h[R];L[0]===F[0]?p.push([L,F]):T.push([L,F])}if(T.length===0)return p.length===0?w:A(x(p));var O=f(T),P=m(O.slabs,O.coordinates);return p.length===0?P:y(x(p),P)}},9346:function(a){"use strict";var o=new Float64Array(4),i=new Float64Array(4),l=new Float64Array(4);function f(s,u,c,v,x){o.length<v.length&&(o=new Float64Array(v.length),i=new Float64Array(v.length),l=new Float64Array(v.length));for(var m=0;m<v.length;++m)o[m]=s[m]-v[m],i[m]=u[m]-s[m],l[m]=c[m]-s[m];for(var w=0,A=0,y=0,M=0,E=0,b=0,m=0;m<v.length;++m){var T=i[m],p=l[m],_=o[m];w+=T*T,A+=T*p,y+=p*p,M+=_*T,E+=_*p,b+=_*_}var g=Math.abs(w*y-A*A),h=A*E-y*M,S=A*M-w*E,d;if(h+S<=g)if(h<0)S<0&&M<0?(S=0,-M>=w?(h=1,d=w+2*M+b):(h=-M/w,d=M*h+b)):(h=0,E>=0?(S=0,d=b):-E>=y?(S=1,d=y+2*E+b):(S=-E/y,d=E*S+b));else if(S<0)S=0,M>=0?(h=0,d=b):-M>=w?(h=1,d=w+2*M+b):(h=-M/w,d=M*h+b);else{var R=1/g;h*=R,S*=R,d=h*(w*h+A*S+2*M)+S*(A*h+y*S+2*E)+b}else{var L,F,O,P;h<0?(L=A+M,F=y+E,F>L?(O=F-L,P=w-2*A+y,O>=P?(h=1,S=0,d=w+2*M+b):(h=O/P,S=1-h,d=h*(w*h+A*S+2*M)+S*(A*h+y*S+2*E)+b)):(h=0,F<=0?(S=1,d=y+2*E+b):E>=0?(S=0,d=b):(S=-E/y,d=E*S+b))):S<0?(L=A+E,F=w+M,F>L?(O=F-L,P=w-2*A+y,O>=P?(S=1,h=0,d=y+2*E+b):(S=O/P,h=1-S,d=h*(w*h+A*S+2*M)+S*(A*h+y*S+2*E)+b)):(S=0,F<=0?(h=1,d=w+2*M+b):M>=0?(h=0,d=b):(h=-M/w,d=M*h+b))):(O=y+E-A-M,O<=0?(h=0,S=1,d=y+2*E+b):(P=w-2*A+y,O>=P?(h=1,S=0,d=w+2*M+b):(h=O/P,S=1-h,d=h*(w*h+A*S+2*M)+S*(A*h+y*S+2*E)+b)))}for(var I=1-h-S,m=0;m<v.length;++m)x[m]=I*s[m]+h*u[m]+S*c[m];return d<0?0:d}a.exports=f},8648:function(a,o,i){a.exports=i(783)},2653:function(a,o,i){"use strict";var l=i(3865);a.exports=f;function f(s,u){for(var c=s.length,v=new Array(c),x=0;x<c;++x)v[x]=l(s[x],u[x]);return v}},5838:function(a,o,i){"use strict";a.exports=f;var l=i(7842);function f(s){for(var u=new Array(s.length),c=0;c<s.length;++c)u[c]=l(s[c]);return u}},8987:function(a,o,i){"use strict";var l=i(7842),f=i(6504);a.exports=s;function s(u,c){for(var v=l(c),x=u.length,m=new Array(x),w=0;w<x;++w)m[w]=f(u[w],v);return m}},544:function(a,o,i){"use strict";var l=i(5572);a.exports=f;function f(s,u){for(var c=s.length,v=new Array(c),x=0;x<c;++x)v[x]=l(s[x],u[x]);return v}},5771:function(a,o,i){"use strict";var l=i(8507),f=i(3788),s=i(2419);a.exports=u;function u(c){c.sort(f);for(var v=c.length,x=0,m=0;m<v;++m){var w=c[m],A=s(w);if(A!==0){if(x>0){var y=c[x-1];if(l(w,y)===0&&s(y)!==A){x-=1;continue}}c[x++]=w}}return c.length=x,c}},3233:function(a){"use strict";var o="",i;a.exports=l;function l(f,s){if(typeof f!="string")throw new TypeError("expected a string");if(s===1)return f;if(s===2)return f+f;var u=f.length*s;if(i!==f||typeof i=="undefined")i=f,o="";else if(o.length>=u)return o.substr(0,u);for(;u>o.length&&s>1;)s&1&&(o+=f),s>>=1,f+=f;return o+=f,o=o.substr(0,u),o}},3025:function(a,o,i){a.exports=i.g.performance&&i.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(a){"use strict";a.exports=o;function o(i){for(var l=i.length,f=i[i.length-1],s=l,u=l-2;u>=0;--u){var c=f,v=i[u];f=c+v;var x=f-c,m=v-x;m&&(i[--s]=f,f=m)}for(var w=0,u=s;u<l;++u){var c=i[u],v=f;f=c+v;var x=f-c,m=v-x;m&&(i[w++]=m)}return i[w++]=f,i.length=w,i}},2962:function(a,o,i){"use strict";var l=i(5250),f=i(8210),s=i(3012),u=i(7004),c=6;function v(b,T,p,_){return function(h){return _(b(p(h[0][0],h[1][1]),p(-h[0][1],h[1][0])))}}function x(b,T,p,_){return function(h){return _(b(T(b(p(h[1][1],h[2][2]),p(-h[1][2],h[2][1])),h[0][0]),b(T(b(p(h[1][0],h[2][2]),p(-h[1][2],h[2][0])),-h[0][1]),T(b(p(h[1][0],h[2][1]),p(-h[1][1],h[2][0])),h[0][2]))))}}function m(b,T,p,_){return function(h){return _(b(b(T(b(T(b(p(h[2][2],h[3][3]),p(-h[2][3],h[3][2])),h[1][1]),b(T(b(p(h[2][1],h[3][3]),p(-h[2][3],h[3][1])),-h[1][2]),T(b(p(h[2][1],h[3][2]),p(-h[2][2],h[3][1])),h[1][3]))),h[0][0]),T(b(T(b(p(h[2][2],h[3][3]),p(-h[2][3],h[3][2])),h[1][0]),b(T(b(p(h[2][0],h[3][3]),p(-h[2][3],h[3][0])),-h[1][2]),T(b(p(h[2][0],h[3][2]),p(-h[2][2],h[3][0])),h[1][3]))),-h[0][1])),b(T(b(T(b(p(h[2][1],h[3][3]),p(-h[2][3],h[3][1])),h[1][0]),b(T(b(p(h[2][0],h[3][3]),p(-h[2][3],h[3][0])),-h[1][1]),T(b(p(h[2][0],h[3][1]),p(-h[2][1],h[3][0])),h[1][3]))),h[0][2]),T(b(T(b(p(h[2][1],h[3][2]),p(-h[2][2],h[3][1])),h[1][0]),b(T(b(p(h[2][0],h[3][2]),p(-h[2][2],h[3][0])),-h[1][1]),T(b(p(h[2][0],h[3][1]),p(-h[2][1],h[3][0])),h[1][2]))),-h[0][3]))))}}function w(b,T,p,_){return function(h){return _(b(b(T(b(b(T(b(T(b(p(h[3][3],h[4][4]),p(-h[3][4],h[4][3])),h[2][2]),b(T(b(p(h[3][2],h[4][4]),p(-h[3][4],h[4][2])),-h[2][3]),T(b(p(h[3][2],h[4][3]),p(-h[3][3],h[4][2])),h[2][4]))),h[1][1]),T(b(T(b(p(h[3][3],h[4][4]),p(-h[3][4],h[4][3])),h[2][1]),b(T(b(p(h[3][1],h[4][4]),p(-h[3][4],h[4][1])),-h[2][3]),T(b(p(h[3][1],h[4][3]),p(-h[3][3],h[4][1])),h[2][4]))),-h[1][2])),b(T(b(T(b(p(h[3][2],h[4][4]),p(-h[3][4],h[4][2])),h[2][1]),b(T(b(p(h[3][1],h[4][4]),p(-h[3][4],h[4][1])),-h[2][2]),T(b(p(h[3][1],h[4][2]),p(-h[3][2],h[4][1])),h[2][4]))),h[1][3]),T(b(T(b(p(h[3][2],h[4][3]),p(-h[3][3],h[4][2])),h[2][1]),b(T(b(p(h[3][1],h[4][3]),p(-h[3][3],h[4][1])),-h[2][2]),T(b(p(h[3][1],h[4][2]),p(-h[3][2],h[4][1])),h[2][3]))),-h[1][4]))),h[0][0]),T(b(b(T(b(T(b(p(h[3][3],h[4][4]),p(-h[3][4],h[4][3])),h[2][2]),b(T(b(p(h[3][2],h[4][4]),p(-h[3][4],h[4][2])),-h[2][3]),T(b(p(h[3][2],h[4][3]),p(-h[3][3],h[4][2])),h[2][4]))),h[1][0]),T(b(T(b(p(h[3][3],h[4][4]),p(-h[3][4],h[4][3])),h[2][0]),b(T(b(p(h[3][0],h[4][4]),p(-h[3][4],h[4][0])),-h[2][3]),T(b(p(h[3][0],h[4][3]),p(-h[3][3],h[4][0])),h[2][4]))),-h[1][2])),b(T(b(T(b(p(h[3][2],h[4][4]),p(-h[3][4],h[4][2])),h[2][0]),b(T(b(p(h[3][0],h[4][4]),p(-h[3][4],h[4][0])),-h[2][2]),T(b(p(h[3][0],h[4][2]),p(-h[3][2],h[4][0])),h[2][4]))),h[1][3]),T(b(T(b(p(h[3][2],h[4][3]),p(-h[3][3],h[4][2])),h[2][0]),b(T(b(p(h[3][0],h[4][3]),p(-h[3][3],h[4][0])),-h[2][2]),T(b(p(h[3][0],h[4][2]),p(-h[3][2],h[4][0])),h[2][3]))),-h[1][4]))),-h[0][1])),b(T(b(b(T(b(T(b(p(h[3][3],h[4][4]),p(-h[3][4],h[4][3])),h[2][1]),b(T(b(p(h[3][1],h[4][4]),p(-h[3][4],h[4][1])),-h[2][3]),T(b(p(h[3][1],h[4][3]),p(-h[3][3],h[4][1])),h[2][4]))),h[1][0]),T(b(T(b(p(h[3][3],h[4][4]),p(-h[3][4],h[4][3])),h[2][0]),b(T(b(p(h[3][0],h[4][4]),p(-h[3][4],h[4][0])),-h[2][3]),T(b(p(h[3][0],h[4][3]),p(-h[3][3],h[4][0])),h[2][4]))),-h[1][1])),b(T(b(T(b(p(h[3][1],h[4][4]),p(-h[3][4],h[4][1])),h[2][0]),b(T(b(p(h[3][0],h[4][4]),p(-h[3][4],h[4][0])),-h[2][1]),T(b(p(h[3][0],h[4][1]),p(-h[3][1],h[4][0])),h[2][4]))),h[1][3]),T(b(T(b(p(h[3][1],h[4][3]),p(-h[3][3],h[4][1])),h[2][0]),b(T(b(p(h[3][0],h[4][3]),p(-h[3][3],h[4][0])),-h[2][1]),T(b(p(h[3][0],h[4][1]),p(-h[3][1],h[4][0])),h[2][3]))),-h[1][4]))),h[0][2]),b(T(b(b(T(b(T(b(p(h[3][2],h[4][4]),p(-h[3][4],h[4][2])),h[2][1]),b(T(b(p(h[3][1],h[4][4]),p(-h[3][4],h[4][1])),-h[2][2]),T(b(p(h[3][1],h[4][2]),p(-h[3][2],h[4][1])),h[2][4]))),h[1][0]),T(b(T(b(p(h[3][2],h[4][4]),p(-h[3][4],h[4][2])),h[2][0]),b(T(b(p(h[3][0],h[4][4]),p(-h[3][4],h[4][0])),-h[2][2]),T(b(p(h[3][0],h[4][2]),p(-h[3][2],h[4][0])),h[2][4]))),-h[1][1])),b(T(b(T(b(p(h[3][1],h[4][4]),p(-h[3][4],h[4][1])),h[2][0]),b(T(b(p(h[3][0],h[4][4]),p(-h[3][4],h[4][0])),-h[2][1]),T(b(p(h[3][0],h[4][1]),p(-h[3][1],h[4][0])),h[2][4]))),h[1][2]),T(b(T(b(p(h[3][1],h[4][2]),p(-h[3][2],h[4][1])),h[2][0]),b(T(b(p(h[3][0],h[4][2]),p(-h[3][2],h[4][0])),-h[2][1]),T(b(p(h[3][0],h[4][1]),p(-h[3][1],h[4][0])),h[2][2]))),-h[1][4]))),-h[0][3]),T(b(b(T(b(T(b(p(h[3][2],h[4][3]),p(-h[3][3],h[4][2])),h[2][1]),b(T(b(p(h[3][1],h[4][3]),p(-h[3][3],h[4][1])),-h[2][2]),T(b(p(h[3][1],h[4][2]),p(-h[3][2],h[4][1])),h[2][3]))),h[1][0]),T(b(T(b(p(h[3][2],h[4][3]),p(-h[3][3],h[4][2])),h[2][0]),b(T(b(p(h[3][0],h[4][3]),p(-h[3][3],h[4][0])),-h[2][2]),T(b(p(h[3][0],h[4][2]),p(-h[3][2],h[4][0])),h[2][3]))),-h[1][1])),b(T(b(T(b(p(h[3][1],h[4][3]),p(-h[3][3],h[4][1])),h[2][0]),b(T(b(p(h[3][0],h[4][3]),p(-h[3][3],h[4][0])),-h[2][1]),T(b(p(h[3][0],h[4][1]),p(-h[3][1],h[4][0])),h[2][3]))),h[1][2]),T(b(T(b(p(h[3][1],h[4][2]),p(-h[3][2],h[4][1])),h[2][0]),b(T(b(p(h[3][0],h[4][2]),p(-h[3][2],h[4][0])),-h[2][1]),T(b(p(h[3][0],h[4][1]),p(-h[3][1],h[4][0])),h[2][2]))),-h[1][3]))),h[0][4])))))}}function A(b){var T=b===2?v:b===3?x:b===4?m:b===5?w:void 0;return T(f,s,l,u)}var y=[function(){return[0]},function(T){return[T[0][0]]}];function M(b,T,p,_,g,h,S,d){return function(L){switch(L.length){case 0:return b(L);case 1:return T(L);case 2:return p(L);case 3:return _(L);case 4:return g(L);case 5:return h(L)}var F=S[L.length];return F||(F=S[L.length]=d(L.length)),F(L)}}function E(){for(;y.length<c;)y.push(A(y.length));a.exports=M.apply(void 0,y.concat([y,A]));for(var b=0;b<y.length;++b)a.exports[b]=y[b]}E()},1944:function(a,o,i){"use strict";var l=i(5250),f=i(8210);a.exports=s;function s(u,c){for(var v=l(u[0],c[0]),x=1;x<u.length;++x)v=f(v,l(u[x],c[x]));return v}},2646:function(a,o,i){"use strict";var l=i(5250),f=i(8210),s=i(8545),u=i(3012),c=6;function v(g){var h=g===3?A:g===4?y:g===5?M:E;return h(f,s,l,u)}function x(){return 0}function m(){return 0}function w(){return 0}function A(g,h,S,d){function R(L,F,O){var P=S(L[0],L[0]),I=d(P,F[0]),k=d(P,O[0]),D=S(F[0],F[0]),z=d(D,L[0]),q=d(D,O[0]),j=S(O[0],O[0]),Q=d(j,L[0]),K=d(j,F[0]),G=g(h(K,q),h(z,I)),B=h(Q,k),Z=h(G,B);return Z[Z.length-1]}return R}function y(g,h,S,d){function R(L,F,O,P){var I=g(S(L[0],L[0]),S(L[1],L[1])),k=d(I,F[0]),D=d(I,O[0]),z=d(I,P[0]),q=g(S(F[0],F[0]),S(F[1],F[1])),j=d(q,L[0]),Q=d(q,O[0]),K=d(q,P[0]),G=g(S(O[0],O[0]),S(O[1],O[1])),B=d(G,L[0]),Z=d(G,F[0]),ie=d(G,P[0]),J=g(S(P[0],P[0]),S(P[1],P[1])),le=d(J,L[0]),te=d(J,F[0]),V=d(J,O[0]),ne=g(g(d(h(V,ie),F[1]),g(d(h(te,K),-O[1]),d(h(Z,Q),P[1]))),g(d(h(te,K),L[1]),g(d(h(le,z),-F[1]),d(h(j,k),P[1])))),Y=g(g(d(h(V,ie),L[1]),g(d(h(le,z),-O[1]),d(h(B,D),P[1]))),g(d(h(Z,Q),L[1]),g(d(h(B,D),-F[1]),d(h(j,k),O[1])))),oe=h(ne,Y);return oe[oe.length-1]}return R}function M(g,h,S,d){function R(L,F,O,P,I){var k=g(S(L[0],L[0]),g(S(L[1],L[1]),S(L[2],L[2]))),D=d(k,F[0]),z=d(k,O[0]),q=d(k,P[0]),j=d(k,I[0]),Q=g(S(F[0],F[0]),g(S(F[1],F[1]),S(F[2],F[2]))),K=d(Q,L[0]),G=d(Q,O[0]),B=d(Q,P[0]),Z=d(Q,I[0]),ie=g(S(O[0],O[0]),g(S(O[1],O[1]),S(O[2],O[2]))),J=d(ie,L[0]),le=d(ie,F[0]),te=d(ie,P[0]),V=d(ie,I[0]),ne=g(S(P[0],P[0]),g(S(P[1],P[1]),S(P[2],P[2]))),Y=d(ne,L[0]),oe=d(ne,F[0]),pe=d(ne,O[0]),we=d(ne,I[0]),De=g(S(I[0],I[0]),g(S(I[1],I[1]),S(I[2],I[2]))),Re=d(De,L[0]),Ae=d(De,F[0]),Ie=d(De,O[0]),Be=d(De,P[0]),je=g(g(g(d(g(d(h(Be,we),O[1]),g(d(h(Ie,V),-P[1]),d(h(pe,te),I[1]))),F[2]),g(d(g(d(h(Be,we),F[1]),g(d(h(Ae,Z),-P[1]),d(h(oe,B),I[1]))),-O[2]),d(g(d(h(Ie,V),F[1]),g(d(h(Ae,Z),-O[1]),d(h(le,G),I[1]))),P[2]))),g(d(g(d(h(pe,te),F[1]),g(d(h(oe,B),-O[1]),d(h(le,G),P[1]))),-I[2]),g(d(g(d(h(Be,we),F[1]),g(d(h(Ae,Z),-P[1]),d(h(oe,B),I[1]))),L[2]),d(g(d(h(Be,we),L[1]),g(d(h(Re,j),-P[1]),d(h(Y,q),I[1]))),-F[2])))),g(g(d(g(d(h(Ae,Z),L[1]),g(d(h(Re,j),-F[1]),d(h(K,D),I[1]))),P[2]),g(d(g(d(h(oe,B),L[1]),g(d(h(Y,q),-F[1]),d(h(K,D),P[1]))),-I[2]),d(g(d(h(pe,te),F[1]),g(d(h(oe,B),-O[1]),d(h(le,G),P[1]))),L[2]))),g(d(g(d(h(pe,te),L[1]),g(d(h(Y,q),-O[1]),d(h(J,z),P[1]))),-F[2]),g(d(g(d(h(oe,B),L[1]),g(d(h(Y,q),-F[1]),d(h(K,D),P[1]))),O[2]),d(g(d(h(le,G),L[1]),g(d(h(J,z),-F[1]),d(h(K,D),O[1]))),-P[2]))))),Ne=g(g(g(d(g(d(h(Be,we),O[1]),g(d(h(Ie,V),-P[1]),d(h(pe,te),I[1]))),L[2]),d(g(d(h(Be,we),L[1]),g(d(h(Re,j),-P[1]),d(h(Y,q),I[1]))),-O[2])),g(d(g(d(h(Ie,V),L[1]),g(d(h(Re,j),-O[1]),d(h(J,z),I[1]))),P[2]),d(g(d(h(pe,te),L[1]),g(d(h(Y,q),-O[1]),d(h(J,z),P[1]))),-I[2]))),g(g(d(g(d(h(Ie,V),F[1]),g(d(h(Ae,Z),-O[1]),d(h(le,G),I[1]))),L[2]),d(g(d(h(Ie,V),L[1]),g(d(h(Re,j),-O[1]),d(h(J,z),I[1]))),-F[2])),g(d(g(d(h(Ae,Z),L[1]),g(d(h(Re,j),-F[1]),d(h(K,D),I[1]))),O[2]),d(g(d(h(le,G),L[1]),g(d(h(J,z),-F[1]),d(h(K,D),O[1]))),-I[2])))),Qe=h(je,Ne);return Qe[Qe.length-1]}return R}function E(g,h,S,d){function R(L,F,O,P,I,k){var D=g(g(S(L[0],L[0]),S(L[1],L[1])),g(S(L[2],L[2]),S(L[3],L[3]))),z=d(D,F[0]),q=d(D,O[0]),j=d(D,P[0]),Q=d(D,I[0]),K=d(D,k[0]),G=g(g(S(F[0],F[0]),S(F[1],F[1])),g(S(F[2],F[2]),S(F[3],F[3]))),B=d(G,L[0]),Z=d(G,O[0]),ie=d(G,P[0]),J=d(G,I[0]),le=d(G,k[0]),te=g(g(S(O[0],O[0]),S(O[1],O[1])),g(S(O[2],O[2]),S(O[3],O[3]))),V=d(te,L[0]),ne=d(te,F[0]),Y=d(te,P[0]),oe=d(te,I[0]),pe=d(te,k[0]),we=g(g(S(P[0],P[0]),S(P[1],P[1])),g(S(P[2],P[2]),S(P[3],P[3]))),De=d(we,L[0]),Re=d(we,F[0]),Ae=d(we,O[0]),Ie=d(we,I[0]),Be=d(we,k[0]),je=g(g(S(I[0],I[0]),S(I[1],I[1])),g(S(I[2],I[2]),S(I[3],I[3]))),Ne=d(je,L[0]),Qe=d(je,F[0]),pr=d(je,O[0]),Se=d(je,P[0]),Fe=d(je,k[0]),hr=g(g(S(k[0],k[0]),S(k[1],k[1])),g(S(k[2],k[2]),S(k[3],k[3]))),dr=d(hr,L[0]),kr=d(hr,F[0]),Ue=d(hr,O[0]),He=d(hr,P[0]),Xe=d(hr,I[0]),fr=g(g(g(d(g(g(d(g(d(h(Xe,Fe),P[1]),g(d(h(He,Be),-I[1]),d(h(Se,Ie),k[1]))),O[2]),d(g(d(h(Xe,Fe),O[1]),g(d(h(Ue,pe),-I[1]),d(h(pr,oe),k[1]))),-P[2])),g(d(g(d(h(He,Be),O[1]),g(d(h(Ue,pe),-P[1]),d(h(Ae,Y),k[1]))),I[2]),d(g(d(h(Se,Ie),O[1]),g(d(h(pr,oe),-P[1]),d(h(Ae,Y),I[1]))),-k[2]))),F[3]),g(d(g(g(d(g(d(h(Xe,Fe),P[1]),g(d(h(He,Be),-I[1]),d(h(Se,Ie),k[1]))),F[2]),d(g(d(h(Xe,Fe),F[1]),g(d(h(kr,le),-I[1]),d(h(Qe,J),k[1]))),-P[2])),g(d(g(d(h(He,Be),F[1]),g(d(h(kr,le),-P[1]),d(h(Re,ie),k[1]))),I[2]),d(g(d(h(Se,Ie),F[1]),g(d(h(Qe,J),-P[1]),d(h(Re,ie),I[1]))),-k[2]))),-O[3]),d(g(g(d(g(d(h(Xe,Fe),O[1]),g(d(h(Ue,pe),-I[1]),d(h(pr,oe),k[1]))),F[2]),d(g(d(h(Xe,Fe),F[1]),g(d(h(kr,le),-I[1]),d(h(Qe,J),k[1]))),-O[2])),g(d(g(d(h(Ue,pe),F[1]),g(d(h(kr,le),-O[1]),d(h(ne,Z),k[1]))),I[2]),d(g(d(h(pr,oe),F[1]),g(d(h(Qe,J),-O[1]),d(h(ne,Z),I[1]))),-k[2]))),P[3]))),g(g(d(g(g(d(g(d(h(He,Be),O[1]),g(d(h(Ue,pe),-P[1]),d(h(Ae,Y),k[1]))),F[2]),d(g(d(h(He,Be),F[1]),g(d(h(kr,le),-P[1]),d(h(Re,ie),k[1]))),-O[2])),g(d(g(d(h(Ue,pe),F[1]),g(d(h(kr,le),-O[1]),d(h(ne,Z),k[1]))),P[2]),d(g(d(h(Ae,Y),F[1]),g(d(h(Re,ie),-O[1]),d(h(ne,Z),P[1]))),-k[2]))),-I[3]),d(g(g(d(g(d(h(Se,Ie),O[1]),g(d(h(pr,oe),-P[1]),d(h(Ae,Y),I[1]))),F[2]),d(g(d(h(Se,Ie),F[1]),g(d(h(Qe,J),-P[1]),d(h(Re,ie),I[1]))),-O[2])),g(d(g(d(h(pr,oe),F[1]),g(d(h(Qe,J),-O[1]),d(h(ne,Z),I[1]))),P[2]),d(g(d(h(Ae,Y),F[1]),g(d(h(Re,ie),-O[1]),d(h(ne,Z),P[1]))),-I[2]))),k[3])),g(d(g(g(d(g(d(h(Xe,Fe),P[1]),g(d(h(He,Be),-I[1]),d(h(Se,Ie),k[1]))),F[2]),d(g(d(h(Xe,Fe),F[1]),g(d(h(kr,le),-I[1]),d(h(Qe,J),k[1]))),-P[2])),g(d(g(d(h(He,Be),F[1]),g(d(h(kr,le),-P[1]),d(h(Re,ie),k[1]))),I[2]),d(g(d(h(Se,Ie),F[1]),g(d(h(Qe,J),-P[1]),d(h(Re,ie),I[1]))),-k[2]))),L[3]),d(g(g(d(g(d(h(Xe,Fe),P[1]),g(d(h(He,Be),-I[1]),d(h(Se,Ie),k[1]))),L[2]),d(g(d(h(Xe,Fe),L[1]),g(d(h(dr,K),-I[1]),d(h(Ne,Q),k[1]))),-P[2])),g(d(g(d(h(He,Be),L[1]),g(d(h(dr,K),-P[1]),d(h(De,j),k[1]))),I[2]),d(g(d(h(Se,Ie),L[1]),g(d(h(Ne,Q),-P[1]),d(h(De,j),I[1]))),-k[2]))),-F[3])))),g(g(g(d(g(g(d(g(d(h(Xe,Fe),F[1]),g(d(h(kr,le),-I[1]),d(h(Qe,J),k[1]))),L[2]),d(g(d(h(Xe,Fe),L[1]),g(d(h(dr,K),-I[1]),d(h(Ne,Q),k[1]))),-F[2])),g(d(g(d(h(kr,le),L[1]),g(d(h(dr,K),-F[1]),d(h(B,z),k[1]))),I[2]),d(g(d(h(Qe,J),L[1]),g(d(h(Ne,Q),-F[1]),d(h(B,z),I[1]))),-k[2]))),P[3]),d(g(g(d(g(d(h(He,Be),F[1]),g(d(h(kr,le),-P[1]),d(h(Re,ie),k[1]))),L[2]),d(g(d(h(He,Be),L[1]),g(d(h(dr,K),-P[1]),d(h(De,j),k[1]))),-F[2])),g(d(g(d(h(kr,le),L[1]),g(d(h(dr,K),-F[1]),d(h(B,z),k[1]))),P[2]),d(g(d(h(Re,ie),L[1]),g(d(h(De,j),-F[1]),d(h(B,z),P[1]))),-k[2]))),-I[3])),g(d(g(g(d(g(d(h(Se,Ie),F[1]),g(d(h(Qe,J),-P[1]),d(h(Re,ie),I[1]))),L[2]),d(g(d(h(Se,Ie),L[1]),g(d(h(Ne,Q),-P[1]),d(h(De,j),I[1]))),-F[2])),g(d(g(d(h(Qe,J),L[1]),g(d(h(Ne,Q),-F[1]),d(h(B,z),I[1]))),P[2]),d(g(d(h(Re,ie),L[1]),g(d(h(De,j),-F[1]),d(h(B,z),P[1]))),-I[2]))),k[3]),d(g(g(d(g(d(h(He,Be),O[1]),g(d(h(Ue,pe),-P[1]),d(h(Ae,Y),k[1]))),F[2]),d(g(d(h(He,Be),F[1]),g(d(h(kr,le),-P[1]),d(h(Re,ie),k[1]))),-O[2])),g(d(g(d(h(Ue,pe),F[1]),g(d(h(kr,le),-O[1]),d(h(ne,Z),k[1]))),P[2]),d(g(d(h(Ae,Y),F[1]),g(d(h(Re,ie),-O[1]),d(h(ne,Z),P[1]))),-k[2]))),L[3]))),g(g(d(g(g(d(g(d(h(He,Be),O[1]),g(d(h(Ue,pe),-P[1]),d(h(Ae,Y),k[1]))),L[2]),d(g(d(h(He,Be),L[1]),g(d(h(dr,K),-P[1]),d(h(De,j),k[1]))),-O[2])),g(d(g(d(h(Ue,pe),L[1]),g(d(h(dr,K),-O[1]),d(h(V,q),k[1]))),P[2]),d(g(d(h(Ae,Y),L[1]),g(d(h(De,j),-O[1]),d(h(V,q),P[1]))),-k[2]))),-F[3]),d(g(g(d(g(d(h(He,Be),F[1]),g(d(h(kr,le),-P[1]),d(h(Re,ie),k[1]))),L[2]),d(g(d(h(He,Be),L[1]),g(d(h(dr,K),-P[1]),d(h(De,j),k[1]))),-F[2])),g(d(g(d(h(kr,le),L[1]),g(d(h(dr,K),-F[1]),d(h(B,z),k[1]))),P[2]),d(g(d(h(Re,ie),L[1]),g(d(h(De,j),-F[1]),d(h(B,z),P[1]))),-k[2]))),O[3])),g(d(g(g(d(g(d(h(Ue,pe),F[1]),g(d(h(kr,le),-O[1]),d(h(ne,Z),k[1]))),L[2]),d(g(d(h(Ue,pe),L[1]),g(d(h(dr,K),-O[1]),d(h(V,q),k[1]))),-F[2])),g(d(g(d(h(kr,le),L[1]),g(d(h(dr,K),-F[1]),d(h(B,z),k[1]))),O[2]),d(g(d(h(ne,Z),L[1]),g(d(h(V,q),-F[1]),d(h(B,z),O[1]))),-k[2]))),-P[3]),d(g(g(d(g(d(h(Ae,Y),F[1]),g(d(h(Re,ie),-O[1]),d(h(ne,Z),P[1]))),L[2]),d(g(d(h(Ae,Y),L[1]),g(d(h(De,j),-O[1]),d(h(V,q),P[1]))),-F[2])),g(d(g(d(h(Re,ie),L[1]),g(d(h(De,j),-F[1]),d(h(B,z),P[1]))),O[2]),d(g(d(h(ne,Z),L[1]),g(d(h(V,q),-F[1]),d(h(B,z),O[1]))),-P[2]))),k[3]))))),Mr=g(g(g(d(g(g(d(g(d(h(Xe,Fe),P[1]),g(d(h(He,Be),-I[1]),d(h(Se,Ie),k[1]))),O[2]),d(g(d(h(Xe,Fe),O[1]),g(d(h(Ue,pe),-I[1]),d(h(pr,oe),k[1]))),-P[2])),g(d(g(d(h(He,Be),O[1]),g(d(h(Ue,pe),-P[1]),d(h(Ae,Y),k[1]))),I[2]),d(g(d(h(Se,Ie),O[1]),g(d(h(pr,oe),-P[1]),d(h(Ae,Y),I[1]))),-k[2]))),L[3]),g(d(g(g(d(g(d(h(Xe,Fe),P[1]),g(d(h(He,Be),-I[1]),d(h(Se,Ie),k[1]))),L[2]),d(g(d(h(Xe,Fe),L[1]),g(d(h(dr,K),-I[1]),d(h(Ne,Q),k[1]))),-P[2])),g(d(g(d(h(He,Be),L[1]),g(d(h(dr,K),-P[1]),d(h(De,j),k[1]))),I[2]),d(g(d(h(Se,Ie),L[1]),g(d(h(Ne,Q),-P[1]),d(h(De,j),I[1]))),-k[2]))),-O[3]),d(g(g(d(g(d(h(Xe,Fe),O[1]),g(d(h(Ue,pe),-I[1]),d(h(pr,oe),k[1]))),L[2]),d(g(d(h(Xe,Fe),L[1]),g(d(h(dr,K),-I[1]),d(h(Ne,Q),k[1]))),-O[2])),g(d(g(d(h(Ue,pe),L[1]),g(d(h(dr,K),-O[1]),d(h(V,q),k[1]))),I[2]),d(g(d(h(pr,oe),L[1]),g(d(h(Ne,Q),-O[1]),d(h(V,q),I[1]))),-k[2]))),P[3]))),g(g(d(g(g(d(g(d(h(He,Be),O[1]),g(d(h(Ue,pe),-P[1]),d(h(Ae,Y),k[1]))),L[2]),d(g(d(h(He,Be),L[1]),g(d(h(dr,K),-P[1]),d(h(De,j),k[1]))),-O[2])),g(d(g(d(h(Ue,pe),L[1]),g(d(h(dr,K),-O[1]),d(h(V,q),k[1]))),P[2]),d(g(d(h(Ae,Y),L[1]),g(d(h(De,j),-O[1]),d(h(V,q),P[1]))),-k[2]))),-I[3]),d(g(g(d(g(d(h(Se,Ie),O[1]),g(d(h(pr,oe),-P[1]),d(h(Ae,Y),I[1]))),L[2]),d(g(d(h(Se,Ie),L[1]),g(d(h(Ne,Q),-P[1]),d(h(De,j),I[1]))),-O[2])),g(d(g(d(h(pr,oe),L[1]),g(d(h(Ne,Q),-O[1]),d(h(V,q),I[1]))),P[2]),d(g(d(h(Ae,Y),L[1]),g(d(h(De,j),-O[1]),d(h(V,q),P[1]))),-I[2]))),k[3])),g(d(g(g(d(g(d(h(Xe,Fe),O[1]),g(d(h(Ue,pe),-I[1]),d(h(pr,oe),k[1]))),F[2]),d(g(d(h(Xe,Fe),F[1]),g(d(h(kr,le),-I[1]),d(h(Qe,J),k[1]))),-O[2])),g(d(g(d(h(Ue,pe),F[1]),g(d(h(kr,le),-O[1]),d(h(ne,Z),k[1]))),I[2]),d(g(d(h(pr,oe),F[1]),g(d(h(Qe,J),-O[1]),d(h(ne,Z),I[1]))),-k[2]))),L[3]),d(g(g(d(g(d(h(Xe,Fe),O[1]),g(d(h(Ue,pe),-I[1]),d(h(pr,oe),k[1]))),L[2]),d(g(d(h(Xe,Fe),L[1]),g(d(h(dr,K),-I[1]),d(h(Ne,Q),k[1]))),-O[2])),g(d(g(d(h(Ue,pe),L[1]),g(d(h(dr,K),-O[1]),d(h(V,q),k[1]))),I[2]),d(g(d(h(pr,oe),L[1]),g(d(h(Ne,Q),-O[1]),d(h(V,q),I[1]))),-k[2]))),-F[3])))),g(g(g(d(g(g(d(g(d(h(Xe,Fe),F[1]),g(d(h(kr,le),-I[1]),d(h(Qe,J),k[1]))),L[2]),d(g(d(h(Xe,Fe),L[1]),g(d(h(dr,K),-I[1]),d(h(Ne,Q),k[1]))),-F[2])),g(d(g(d(h(kr,le),L[1]),g(d(h(dr,K),-F[1]),d(h(B,z),k[1]))),I[2]),d(g(d(h(Qe,J),L[1]),g(d(h(Ne,Q),-F[1]),d(h(B,z),I[1]))),-k[2]))),O[3]),d(g(g(d(g(d(h(Ue,pe),F[1]),g(d(h(kr,le),-O[1]),d(h(ne,Z),k[1]))),L[2]),d(g(d(h(Ue,pe),L[1]),g(d(h(dr,K),-O[1]),d(h(V,q),k[1]))),-F[2])),g(d(g(d(h(kr,le),L[1]),g(d(h(dr,K),-F[1]),d(h(B,z),k[1]))),O[2]),d(g(d(h(ne,Z),L[1]),g(d(h(V,q),-F[1]),d(h(B,z),O[1]))),-k[2]))),-I[3])),g(d(g(g(d(g(d(h(pr,oe),F[1]),g(d(h(Qe,J),-O[1]),d(h(ne,Z),I[1]))),L[2]),d(g(d(h(pr,oe),L[1]),g(d(h(Ne,Q),-O[1]),d(h(V,q),I[1]))),-F[2])),g(d(g(d(h(Qe,J),L[1]),g(d(h(Ne,Q),-F[1]),d(h(B,z),I[1]))),O[2]),d(g(d(h(ne,Z),L[1]),g(d(h(V,q),-F[1]),d(h(B,z),O[1]))),-I[2]))),k[3]),d(g(g(d(g(d(h(Se,Ie),O[1]),g(d(h(pr,oe),-P[1]),d(h(Ae,Y),I[1]))),F[2]),d(g(d(h(Se,Ie),F[1]),g(d(h(Qe,J),-P[1]),d(h(Re,ie),I[1]))),-O[2])),g(d(g(d(h(pr,oe),F[1]),g(d(h(Qe,J),-O[1]),d(h(ne,Z),I[1]))),P[2]),d(g(d(h(Ae,Y),F[1]),g(d(h(Re,ie),-O[1]),d(h(ne,Z),P[1]))),-I[2]))),L[3]))),g(g(d(g(g(d(g(d(h(Se,Ie),O[1]),g(d(h(pr,oe),-P[1]),d(h(Ae,Y),I[1]))),L[2]),d(g(d(h(Se,Ie),L[1]),g(d(h(Ne,Q),-P[1]),d(h(De,j),I[1]))),-O[2])),g(d(g(d(h(pr,oe),L[1]),g(d(h(Ne,Q),-O[1]),d(h(V,q),I[1]))),P[2]),d(g(d(h(Ae,Y),L[1]),g(d(h(De,j),-O[1]),d(h(V,q),P[1]))),-I[2]))),-F[3]),d(g(g(d(g(d(h(Se,Ie),F[1]),g(d(h(Qe,J),-P[1]),d(h(Re,ie),I[1]))),L[2]),d(g(d(h(Se,Ie),L[1]),g(d(h(Ne,Q),-P[1]),d(h(De,j),I[1]))),-F[2])),g(d(g(d(h(Qe,J),L[1]),g(d(h(Ne,Q),-F[1]),d(h(B,z),I[1]))),P[2]),d(g(d(h(Re,ie),L[1]),g(d(h(De,j),-F[1]),d(h(B,z),P[1]))),-I[2]))),O[3])),g(d(g(g(d(g(d(h(pr,oe),F[1]),g(d(h(Qe,J),-O[1]),d(h(ne,Z),I[1]))),L[2]),d(g(d(h(pr,oe),L[1]),g(d(h(Ne,Q),-O[1]),d(h(V,q),I[1]))),-F[2])),g(d(g(d(h(Qe,J),L[1]),g(d(h(Ne,Q),-F[1]),d(h(B,z),I[1]))),O[2]),d(g(d(h(ne,Z),L[1]),g(d(h(V,q),-F[1]),d(h(B,z),O[1]))),-I[2]))),-P[3]),d(g(g(d(g(d(h(Ae,Y),F[1]),g(d(h(Re,ie),-O[1]),d(h(ne,Z),P[1]))),L[2]),d(g(d(h(Ae,Y),L[1]),g(d(h(De,j),-O[1]),d(h(V,q),P[1]))),-F[2])),g(d(g(d(h(Re,ie),L[1]),g(d(h(De,j),-F[1]),d(h(B,z),P[1]))),O[2]),d(g(d(h(ne,Z),L[1]),g(d(h(V,q),-F[1]),d(h(B,z),O[1]))),-P[2]))),I[3]))))),qr=h(fr,Mr);return qr[qr.length-1]}return R}var b=[x,m,w];function T(g){var h=b[g.length];return h||(h=b[g.length]=v(g.length)),h.apply(void 0,g)}function p(g,h,S,d,R,L,F,O){function P(I,k,D,z,q,j){switch(arguments.length){case 0:case 1:return 0;case 2:return d(I,k);case 3:return R(I,k,D);case 4:return L(I,k,D,z);case 5:return F(I,k,D,z,q);case 6:return O(I,k,D,z,q,j)}for(var Q=new Array(arguments.length),K=0;K<arguments.length;++K)Q[K]=arguments[K];return g(Q)}return P}function _(){for(;b.length<=c;)b.push(v(b.length));a.exports=p.apply(void 0,[T].concat(b));for(var g=0;g<=c;++g)a.exports[g]=b[g]}_()},727:function(a,o,i){"use strict";var l=i(2962),f=6;function s(b){var T=b===2?v:b===3?x:b===4?m:b===5?w:A;return b<6?T(l[b]):T(l)}function u(){return[[0]]}function c(b,T){return[[T[0]],[b[0][0]]]}function v(b){return function(p,_){return[b([[+_[0],+p[0][1]],[+_[1],+p[1][1]]]),b([[+p[0][0],+_[0]],[+p[1][0],+_[1]]]),b(p)]}}function x(b){return function(p,_){return[b([[+_[0],+p[0][1],+p[0][2]],[+_[1],+p[1][1],+p[1][2]],[+_[2],+p[2][1],+p[2][2]]]),b([[+p[0][0],+_[0],+p[0][2]],[+p[1][0],+_[1],+p[1][2]],[+p[2][0],+_[2],+p[2][2]]]),b([[+p[0][0],+p[0][1],+_[0]],[+p[1][0],+p[1][1],+_[1]],[+p[2][0],+p[2][1],+_[2]]]),b(p)]}}function m(b){return function(p,_){return[b([[+_[0],+p[0][1],+p[0][2],+p[0][3]],[+_[1],+p[1][1],+p[1][2],+p[1][3]],[+_[2],+p[2][1],+p[2][2],+p[2][3]],[+_[3],+p[3][1],+p[3][2],+p[3][3]]]),b([[+p[0][0],+_[0],+p[0][2],+p[0][3]],[+p[1][0],+_[1],+p[1][2],+p[1][3]],[+p[2][0],+_[2],+p[2][2],+p[2][3]],[+p[3][0],+_[3],+p[3][2],+p[3][3]]]),b([[+p[0][0],+p[0][1],+_[0],+p[0][3]],[+p[1][0],+p[1][1],+_[1],+p[1][3]],[+p[2][0],+p[2][1],+_[2],+p[2][3]],[+p[3][0],+p[3][1],+_[3],+p[3][3]]]),b([[+p[0][0],+p[0][1],+p[0][2],+_[0]],[+p[1][0],+p[1][1],+p[1][2],+_[1]],[+p[2][0],+p[2][1],+p[2][2],+_[2]],[+p[3][0],+p[3][1],+p[3][2],+_[3]]]),b(p)]}}function w(b){return function(p,_){return[b([[+_[0],+p[0][1],+p[0][2],+p[0][3],+p[0][4]],[+_[1],+p[1][1],+p[1][2],+p[1][3],+p[1][4]],[+_[2],+p[2][1],+p[2][2],+p[2][3],+p[2][4]],[+_[3],+p[3][1],+p[3][2],+p[3][3],+p[3][4]],[+_[4],+p[4][1],+p[4][2],+p[4][3],+p[4][4]]]),b([[+p[0][0],+_[0],+p[0][2],+p[0][3],+p[0][4]],[+p[1][0],+_[1],+p[1][2],+p[1][3],+p[1][4]],[+p[2][0],+_[2],+p[2][2],+p[2][3],+p[2][4]],[+p[3][0],+_[3],+p[3][2],+p[3][3],+p[3][4]],[+p[4][0],+_[4],+p[4][2],+p[4][3],+p[4][4]]]),b([[+p[0][0],+p[0][1],+_[0],+p[0][3],+p[0][4]],[+p[1][0],+p[1][1],+_[1],+p[1][3],+p[1][4]],[+p[2][0],+p[2][1],+_[2],+p[2][3],+p[2][4]],[+p[3][0],+p[3][1],+_[3],+p[3][3],+p[3][4]],[+p[4][0],+p[4][1],+_[4],+p[4][3],+p[4][4]]]),b([[+p[0][0],+p[0][1],+p[0][2],+_[0],+p[0][4]],[+p[1][0],+p[1][1],+p[1][2],+_[1],+p[1][4]],[+p[2][0],+p[2][1],+p[2][2],+_[2],+p[2][4]],[+p[3][0],+p[3][1],+p[3][2],+_[3],+p[3][4]],[+p[4][0],+p[4][1],+p[4][2],+_[4],+p[4][4]]]),b([[+p[0][0],+p[0][1],+p[0][2],+p[0][3],+_[0]],[+p[1][0],+p[1][1],+p[1][2],+p[1][3],+_[1]],[+p[2][0],+p[2][1],+p[2][2],+p[2][3],+_[2]],[+p[3][0],+p[3][1],+p[3][2],+p[3][3],+_[3]],[+p[4][0],+p[4][1],+p[4][2],+p[4][3],+_[4]]]),b(p)]}}function A(b){return function(p,_){return[b([[+_[0],+p[0][1],+p[0][2],+p[0][3],+p[0][4],+p[0][5]],[+_[1],+p[1][1],+p[1][2],+p[1][3],+p[1][4],+p[1][5]],[+_[2],+p[2][1],+p[2][2],+p[2][3],+p[2][4],+p[2][5]],[+_[3],+p[3][1],+p[3][2],+p[3][3],+p[3][4],+p[3][5]],[+_[4],+p[4][1],+p[4][2],+p[4][3],+p[4][4],+p[4][5]],[+_[5],+p[5][1],+p[5][2],+p[5][3],+p[5][4],+p[5][5]]]),b([[+p[0][0],+_[0],+p[0][2],+p[0][3],+p[0][4],+p[0][5]],[+p[1][0],+_[1],+p[1][2],+p[1][3],+p[1][4],+p[1][5]],[+p[2][0],+_[2],+p[2][2],+p[2][3],+p[2][4],+p[2][5]],[+p[3][0],+_[3],+p[3][2],+p[3][3],+p[3][4],+p[3][5]],[+p[4][0],+_[4],+p[4][2],+p[4][3],+p[4][4],+p[4][5]],[+p[5][0],+_[5],+p[5][2],+p[5][3],+p[5][4],+p[5][5]]]),b([[+p[0][0],+p[0][1],+_[0],+p[0][3],+p[0][4],+p[0][5]],[+p[1][0],+p[1][1],+_[1],+p[1][3],+p[1][4],+p[1][5]],[+p[2][0],+p[2][1],+_[2],+p[2][3],+p[2][4],+p[2][5]],[+p[3][0],+p[3][1],+_[3],+p[3][3],+p[3][4],+p[3][5]],[+p[4][0],+p[4][1],+_[4],+p[4][3],+p[4][4],+p[4][5]],[+p[5][0],+p[5][1],+_[5],+p[5][3],+p[5][4],+p[5][5]]]),b([[+p[0][0],+p[0][1],+p[0][2],+_[0],+p[0][4],+p[0][5]],[+p[1][0],+p[1][1],+p[1][2],+_[1],+p[1][4],+p[1][5]],[+p[2][0],+p[2][1],+p[2][2],+_[2],+p[2][4],+p[2][5]],[+p[3][0],+p[3][1],+p[3][2],+_[3],+p[3][4],+p[3][5]],[+p[4][0],+p[4][1],+p[4][2],+_[4],+p[4][4],+p[4][5]],[+p[5][0],+p[5][1],+p[5][2],+_[5],+p[5][4],+p[5][5]]]),b([[+p[0][0],+p[0][1],+p[0][2],+p[0][3],+_[0],+p[0][5]],[+p[1][0],+p[1][1],+p[1][2],+p[1][3],+_[1],+p[1][5]],[+p[2][0],+p[2][1],+p[2][2],+p[2][3],+_[2],+p[2][5]],[+p[3][0],+p[3][1],+p[3][2],+p[3][3],+_[3],+p[3][5]],[+p[4][0],+p[4][1],+p[4][2],+p[4][3],+_[4],+p[4][5]],[+p[5][0],+p[5][1],+p[5][2],+p[5][3],+_[5],+p[5][5]]]),b([[+p[0][0],+p[0][1],+p[0][2],+p[0][3],+p[0][4],+_[0]],[+p[1][0],+p[1][1],+p[1][2],+p[1][3],+p[1][4],+_[1]],[+p[2][0],+p[2][1],+p[2][2],+p[2][3],+p[2][4],+_[2]],[+p[3][0],+p[3][1],+p[3][2],+p[3][3],+p[3][4],+_[3]],[+p[4][0],+p[4][1],+p[4][2],+p[4][3],+p[4][4],+_[4]],[+p[5][0],+p[5][1],+p[5][2],+p[5][3],+p[5][4],+_[5]]]),b(p)]}}var y=[u,c];function M(b,T,p,_,g,h,S,d){return function(L,F){switch(L.length){case 0:return b(L,F);case 1:return T(L,F);case 2:return p(L,F);case 3:return _(L,F);case 4:return g(L,F);case 5:return h(L,F)}var O=S[L.length];return O||(O=S[L.length]=d(L.length)),O(L,F)}}function E(){for(;y.length<f;)y.push(s(y.length));a.exports=M.apply(void 0,y.concat([y,s]));for(var b=0;b<f;++b)a.exports[b]=y[b]}E()},3250:function(a,o,i){"use strict";var l=i(5250),f=i(8210),s=i(3012),u=i(8545),c=5,v=11102230246251565e-32,x=(3+16*v)*v,m=(7+56*v)*v;function w(h,S,d,R){return function(F,O,P){var I=h(h(S(O[1],P[0]),S(-P[1],O[0])),h(S(F[1],O[0]),S(-O[1],F[0]))),k=h(S(F[1],P[0]),S(-P[1],F[0])),D=R(I,k);return D[D.length-1]}}function A(h,S,d,R){return function(F,O,P,I){var k=h(h(d(h(S(P[1],I[0]),S(-I[1],P[0])),O[2]),h(d(h(S(O[1],I[0]),S(-I[1],O[0])),-P[2]),d(h(S(O[1],P[0]),S(-P[1],O[0])),I[2]))),h(d(h(S(O[1],I[0]),S(-I[1],O[0])),F[2]),h(d(h(S(F[1],I[0]),S(-I[1],F[0])),-O[2]),d(h(S(F[1],O[0]),S(-O[1],F[0])),I[2])))),D=h(h(d(h(S(P[1],I[0]),S(-I[1],P[0])),F[2]),h(d(h(S(F[1],I[0]),S(-I[1],F[0])),-P[2]),d(h(S(F[1],P[0]),S(-P[1],F[0])),I[2]))),h(d(h(S(O[1],P[0]),S(-P[1],O[0])),F[2]),h(d(h(S(F[1],P[0]),S(-P[1],F[0])),-O[2]),d(h(S(F[1],O[0]),S(-O[1],F[0])),P[2])))),z=R(k,D);return z[z.length-1]}}function y(h,S,d,R){return function(F,O,P,I,k){var D=h(h(h(d(h(d(h(S(I[1],k[0]),S(-k[1],I[0])),P[2]),h(d(h(S(P[1],k[0]),S(-k[1],P[0])),-I[2]),d(h(S(P[1],I[0]),S(-I[1],P[0])),k[2]))),O[3]),h(d(h(d(h(S(I[1],k[0]),S(-k[1],I[0])),O[2]),h(d(h(S(O[1],k[0]),S(-k[1],O[0])),-I[2]),d(h(S(O[1],I[0]),S(-I[1],O[0])),k[2]))),-P[3]),d(h(d(h(S(P[1],k[0]),S(-k[1],P[0])),O[2]),h(d(h(S(O[1],k[0]),S(-k[1],O[0])),-P[2]),d(h(S(O[1],P[0]),S(-P[1],O[0])),k[2]))),I[3]))),h(d(h(d(h(S(P[1],I[0]),S(-I[1],P[0])),O[2]),h(d(h(S(O[1],I[0]),S(-I[1],O[0])),-P[2]),d(h(S(O[1],P[0]),S(-P[1],O[0])),I[2]))),-k[3]),h(d(h(d(h(S(I[1],k[0]),S(-k[1],I[0])),O[2]),h(d(h(S(O[1],k[0]),S(-k[1],O[0])),-I[2]),d(h(S(O[1],I[0]),S(-I[1],O[0])),k[2]))),F[3]),d(h(d(h(S(I[1],k[0]),S(-k[1],I[0])),F[2]),h(d(h(S(F[1],k[0]),S(-k[1],F[0])),-I[2]),d(h(S(F[1],I[0]),S(-I[1],F[0])),k[2]))),-O[3])))),h(h(d(h(d(h(S(O[1],k[0]),S(-k[1],O[0])),F[2]),h(d(h(S(F[1],k[0]),S(-k[1],F[0])),-O[2]),d(h(S(F[1],O[0]),S(-O[1],F[0])),k[2]))),I[3]),h(d(h(d(h(S(O[1],I[0]),S(-I[1],O[0])),F[2]),h(d(h(S(F[1],I[0]),S(-I[1],F[0])),-O[2]),d(h(S(F[1],O[0]),S(-O[1],F[0])),I[2]))),-k[3]),d(h(d(h(S(P[1],I[0]),S(-I[1],P[0])),O[2]),h(d(h(S(O[1],I[0]),S(-I[1],O[0])),-P[2]),d(h(S(O[1],P[0]),S(-P[1],O[0])),I[2]))),F[3]))),h(d(h(d(h(S(P[1],I[0]),S(-I[1],P[0])),F[2]),h(d(h(S(F[1],I[0]),S(-I[1],F[0])),-P[2]),d(h(S(F[1],P[0]),S(-P[1],F[0])),I[2]))),-O[3]),h(d(h(d(h(S(O[1],I[0]),S(-I[1],O[0])),F[2]),h(d(h(S(F[1],I[0]),S(-I[1],F[0])),-O[2]),d(h(S(F[1],O[0]),S(-O[1],F[0])),I[2]))),P[3]),d(h(d(h(S(O[1],P[0]),S(-P[1],O[0])),F[2]),h(d(h(S(F[1],P[0]),S(-P[1],F[0])),-O[2]),d(h(S(F[1],O[0]),S(-O[1],F[0])),P[2]))),-I[3]))))),z=h(h(h(d(h(d(h(S(I[1],k[0]),S(-k[1],I[0])),P[2]),h(d(h(S(P[1],k[0]),S(-k[1],P[0])),-I[2]),d(h(S(P[1],I[0]),S(-I[1],P[0])),k[2]))),F[3]),d(h(d(h(S(I[1],k[0]),S(-k[1],I[0])),F[2]),h(d(h(S(F[1],k[0]),S(-k[1],F[0])),-I[2]),d(h(S(F[1],I[0]),S(-I[1],F[0])),k[2]))),-P[3])),h(d(h(d(h(S(P[1],k[0]),S(-k[1],P[0])),F[2]),h(d(h(S(F[1],k[0]),S(-k[1],F[0])),-P[2]),d(h(S(F[1],P[0]),S(-P[1],F[0])),k[2]))),I[3]),d(h(d(h(S(P[1],I[0]),S(-I[1],P[0])),F[2]),h(d(h(S(F[1],I[0]),S(-I[1],F[0])),-P[2]),d(h(S(F[1],P[0]),S(-P[1],F[0])),I[2]))),-k[3]))),h(h(d(h(d(h(S(P[1],k[0]),S(-k[1],P[0])),O[2]),h(d(h(S(O[1],k[0]),S(-k[1],O[0])),-P[2]),d(h(S(O[1],P[0]),S(-P[1],O[0])),k[2]))),F[3]),d(h(d(h(S(P[1],k[0]),S(-k[1],P[0])),F[2]),h(d(h(S(F[1],k[0]),S(-k[1],F[0])),-P[2]),d(h(S(F[1],P[0]),S(-P[1],F[0])),k[2]))),-O[3])),h(d(h(d(h(S(O[1],k[0]),S(-k[1],O[0])),F[2]),h(d(h(S(F[1],k[0]),S(-k[1],F[0])),-O[2]),d(h(S(F[1],O[0]),S(-O[1],F[0])),k[2]))),P[3]),d(h(d(h(S(O[1],P[0]),S(-P[1],O[0])),F[2]),h(d(h(S(F[1],P[0]),S(-P[1],F[0])),-O[2]),d(h(S(F[1],O[0]),S(-O[1],F[0])),P[2]))),-k[3])))),q=R(D,z);return q[q.length-1]}}function M(h){var S=h===3?w:h===4?A:y;return S(f,l,s,u)}var E=M(3),b=M(4),T=[function(){return 0},function(){return 0},function(S,d){return d[0]-S[0]},function(S,d,R){var L=(S[1]-R[1])*(d[0]-R[0]),F=(S[0]-R[0])*(d[1]-R[1]),O=L-F,P;if(L>0){if(F<=0)return O;P=L+F}else if(L<0){if(F>=0)return O;P=-(L+F)}else return O;var I=x*P;return O>=I||O<=-I?O:E(S,d,R)},function(S,d,R,L){var F=S[0]-L[0],O=d[0]-L[0],P=R[0]-L[0],I=S[1]-L[1],k=d[1]-L[1],D=R[1]-L[1],z=S[2]-L[2],q=d[2]-L[2],j=R[2]-L[2],Q=O*D,K=P*k,G=P*I,B=F*D,Z=F*k,ie=O*I,J=z*(Q-K)+q*(G-B)+j*(Z-ie),le=(Math.abs(Q)+Math.abs(K))*Math.abs(z)+(Math.abs(G)+Math.abs(B))*Math.abs(q)+(Math.abs(Z)+Math.abs(ie))*Math.abs(j),te=m*le;return J>te||-J>te?J:b(S,d,R,L)}];function p(h){var S=T[h.length];return S||(S=T[h.length]=M(h.length)),S.apply(void 0,h)}function _(h,S,d,R,L,F,O){return function(I,k,D,z,q){switch(arguments.length){case 0:case 1:return 0;case 2:return R(I,k);case 3:return L(I,k,D);case 4:return F(I,k,D,z);case 5:return O(I,k,D,z,q)}for(var j=new Array(arguments.length),Q=0;Q<arguments.length;++Q)j[Q]=arguments[Q];return h(j)}}function g(){for(;T.length<=c;)T.push(M(T.length));a.exports=_.apply(void 0,[p].concat(T));for(var h=0;h<=c;++h)a.exports[h]=T[h]}g()},5382:function(a,o,i){"use strict";var l=i(8210),f=i(3012);a.exports=s;function s(u,c){if(u.length===1)return f(c,u[0]);if(c.length===1)return f(u,c[0]);if(u.length===0||c.length===0)return[0];var v=[0];if(u.length<c.length)for(var x=0;x<u.length;++x)v=l(v,f(c,u[x]));else for(var x=0;x<c.length;++x)v=l(v,f(u,c[x]));return v}},3012:function(a,o,i){"use strict";var l=i(5250),f=i(9362);a.exports=s;function s(u,c){var v=u.length;if(v===1){var x=l(u[0],c);return x[0]?x:[x[1]]}var m=new Array(2*v),w=[.1,.1],A=[.1,.1],y=0;l(u[0],c,w),w[0]&&(m[y++]=w[0]);for(var M=1;M<v;++M){l(u[M],c,A);var E=w[1];f(E,A[0],w),w[0]&&(m[y++]=w[0]);var b=A[1],T=w[1],p=b+T,_=p-b,g=T-_;w[1]=p,g&&(m[y++]=g)}return w[1]&&(m[y++]=w[1]),y===0&&(m[y++]=0),m.length=y,m}},1125:function(a,o,i){"use strict";a.exports=s;var l=i(3250)[3];function f(u,c,v,x){for(var m=0;m<2;++m){var w=u[m],A=c[m],y=Math.min(w,A),M=Math.max(w,A),E=v[m],b=x[m],T=Math.min(E,b),p=Math.max(E,b);if(p<y||M<T)return!1}return!0}function s(u,c,v,x){var m=l(u,v,x),w=l(c,v,x);if(m>0&&w>0||m<0&&w<0)return!1;var A=l(v,u,c),y=l(x,u,c);return A>0&&y>0||A<0&&y<0?!1:m===0&&w===0&&A===0&&y===0?f(u,c,v,x):!0}},8545:function(a){"use strict";a.exports=i;function o(l,f){var s=l+f,u=s-l,c=s-u,v=f-u,x=l-c,m=x+v;return m?[m,s]:[s]}function i(l,f){var s=l.length|0,u=f.length|0;if(s===1&&u===1)return o(l[0],-f[0]);var c=s+u,v=new Array(c),x=0,m=0,w=0,A=Math.abs,y=l[m],M=A(y),E=-f[w],b=A(E),T,p;M<b?(p=y,m+=1,m<s&&(y=l[m],M=A(y))):(p=E,w+=1,w<u&&(E=-f[w],b=A(E))),m<s&&M<b||w>=u?(T=y,m+=1,m<s&&(y=l[m],M=A(y))):(T=E,w+=1,w<u&&(E=-f[w],b=A(E)));for(var _=T+p,g=_-T,h=p-g,S=h,d=_,R,L,F,O,P;m<s&&w<u;)M<b?(T=y,m+=1,m<s&&(y=l[m],M=A(y))):(T=E,w+=1,w<u&&(E=-f[w],b=A(E))),p=S,_=T+p,g=_-T,h=p-g,h&&(v[x++]=h),R=d+_,L=R-d,F=R-L,O=_-L,P=d-F,S=P+O,d=R;for(;m<s;)T=y,p=S,_=T+p,g=_-T,h=p-g,h&&(v[x++]=h),R=d+_,L=R-d,F=R-L,O=_-L,P=d-F,S=P+O,d=R,m+=1,m<s&&(y=l[m]);for(;w<u;)T=E,p=S,_=T+p,g=_-T,h=p-g,h&&(v[x++]=h),R=d+_,L=R-d,F=R-L,O=_-L,P=d-F,S=P+O,d=R,w+=1,w<u&&(E=-f[w]);return S&&(v[x++]=S),d&&(v[x++]=d),x||(v[x++]=0),v.length=x,v}},8210:function(a){"use strict";a.exports=i;function o(l,f){var s=l+f,u=s-l,c=s-u,v=f-u,x=l-c,m=x+v;return m?[m,s]:[s]}function i(l,f){var s=l.length|0,u=f.length|0;if(s===1&&u===1)return o(l[0],f[0]);var c=s+u,v=new Array(c),x=0,m=0,w=0,A=Math.abs,y=l[m],M=A(y),E=f[w],b=A(E),T,p;M<b?(p=y,m+=1,m<s&&(y=l[m],M=A(y))):(p=E,w+=1,w<u&&(E=f[w],b=A(E))),m<s&&M<b||w>=u?(T=y,m+=1,m<s&&(y=l[m],M=A(y))):(T=E,w+=1,w<u&&(E=f[w],b=A(E)));for(var _=T+p,g=_-T,h=p-g,S=h,d=_,R,L,F,O,P;m<s&&w<u;)M<b?(T=y,m+=1,m<s&&(y=l[m],M=A(y))):(T=E,w+=1,w<u&&(E=f[w],b=A(E))),p=S,_=T+p,g=_-T,h=p-g,h&&(v[x++]=h),R=d+_,L=R-d,F=R-L,O=_-L,P=d-F,S=P+O,d=R;for(;m<s;)T=y,p=S,_=T+p,g=_-T,h=p-g,h&&(v[x++]=h),R=d+_,L=R-d,F=R-L,O=_-L,P=d-F,S=P+O,d=R,m+=1,m<s&&(y=l[m]);for(;w<u;)T=E,p=S,_=T+p,g=_-T,h=p-g,h&&(v[x++]=h),R=d+_,L=R-d,F=R-L,O=_-L,P=d-F,S=P+O,d=R,w+=1,w<u&&(E=f[w]);return S&&(v[x++]=S),d&&(v[x++]=d),x||(v[x++]=0),v.length=x,v}},9127:function(a,o,i){"use strict";a.exports=s;var l=i(6204),f=i(5771);function s(u){return f(l(u))}},7765:function(a,o,i){"use strict";a.exports=y;var l=i(9618),f=i(1888),s=i(446),u=i(1570);function c(M){for(var E=M.length,b=0,T=0;T<E;++T)b=Math.max(b,M[T].length)|0;return b-1}function v(M,E){for(var b=M.length,T=f.mallocUint8(b),p=0;p<b;++p)T[p]=M[p]<E|0;return T}function x(M,E){for(var b=M.length,T=E*(E+1)/2*b|0,p=f.mallocUint32(T*2),_=0,g=0;g<b;++g)for(var h=M[g],E=h.length,S=0;S<E;++S)for(var d=0;d<S;++d){var R=h[d],L=h[S];p[_++]=Math.min(R,L)|0,p[_++]=Math.max(R,L)|0}var F=_/2|0;s(l(p,[F,2]));for(var O=2,g=2;g<_;g+=2)p[g-2]===p[g]&&p[g-1]===p[g+1]||(p[O++]=p[g],p[O++]=p[g+1]);return l(p,[O/2|0,2])}function m(M,E,b,T){for(var p=M.data,_=M.shape[0],g=f.mallocDouble(_),h=0,S=0;S<_;++S){var d=p[2*S],R=p[2*S+1];if(b[d]!==b[R]){var L=E[d],F=E[R];p[2*h]=d,p[2*h+1]=R,g[h++]=(F-T)/(F-L)}}return M.shape[0]=h,l(g,[h])}function w(M,E){var b=f.mallocInt32(E*2),T=M.shape[0],p=M.data;b[0]=0;for(var _=0,g=0;g<T;++g){var h=p[2*g];if(h!==_){for(b[2*_+1]=g;++_<h;)b[2*_]=g,b[2*_+1]=g;b[2*_]=g}}for(b[2*_+1]=T;++_<E;)b[2*_]=b[2*_+1]=T;return b}function A(M){for(var E=M.shape[0]|0,b=M.data,T=new Array(E),p=0;p<E;++p)T[p]=[b[2*p],b[2*p+1]];return T}function y(M,E,b,T){b=b||0,typeof T=="undefined"&&(T=c(M));var p=M.length;if(p===0||T<1)return{cells:[],vertexIds:[],vertexWeights:[]};var _=v(E,+b),g=x(M,T),h=m(g,E,_,+b),S=w(g,E.length|0),d=u(T)(M,g.data,S,_),R=A(g),L=[].slice.call(h.data,0,h.shape[0]);return f.free(_),f.free(g.data),f.free(h.data),f.free(S),{cells:d,vertexIds:R,vertexWeights:L}}},1570:function(a){"use strict";a.exports=i;var o=[function(){function f(u,c,v,x){for(var m=Math.min(v,x)|0,w=Math.max(v,x)|0,A=u[2*m],y=u[2*m+1];A<y;){var M=A+y>>1,E=c[2*M+1];if(E===w)return M;w<E?y=M:A=M+1}return A}function s(u,c,v,x){for(var m=u.length,w=[],A=0;A<m;++A)var y=u[A],M=y.length;return w}return s},function(){function f(u,c,v,x){for(var m=Math.min(v,x)|0,w=Math.max(v,x)|0,A=u[2*m],y=u[2*m+1];A<y;){var M=A+y>>1,E=c[2*M+1];if(E===w)return M;w<E?y=M:A=M+1}return A}function s(u,c,v,x){for(var m=u.length,w=[],A=0;A<m;++A){var y=u[A],M=y.length;if(M===2){var E=(x[y[0]]<<0)+(x[y[1]]<<1);if(E===0||E===3)continue;switch(E){case 0:break;case 1:w.push([f(v,c,y[0],y[1])]);break;case 2:w.push([f(v,c,y[1],y[0])]);break;case 3:break}}}return w}return s},function(){function f(u,c,v,x){for(var m=Math.min(v,x)|0,w=Math.max(v,x)|0,A=u[2*m],y=u[2*m+1];A<y;){var M=A+y>>1,E=c[2*M+1];if(E===w)return M;w<E?y=M:A=M+1}return A}function s(u,c,v,x){for(var m=u.length,w=[],A=0;A<m;++A){var y=u[A],M=y.length;if(M===3){var E=(x[y[0]]<<0)+(x[y[1]]<<1)+(x[y[2]]<<2);if(E===0||E===7)continue;switch(E){case 0:break;case 1:w.push([f(v,c,y[0],y[2]),f(v,c,y[0],y[1])]);break;case 2:w.push([f(v,c,y[1],y[0]),f(v,c,y[1],y[2])]);break;case 3:w.push([f(v,c,y[0],y[2]),f(v,c,y[1],y[2])]);break;case 4:w.push([f(v,c,y[2],y[1]),f(v,c,y[2],y[0])]);break;case 5:w.push([f(v,c,y[2],y[1]),f(v,c,y[0],y[1])]);break;case 6:w.push([f(v,c,y[1],y[0]),f(v,c,y[2],y[0])]);break;case 7:break}}else if(M===2){var E=(x[y[0]]<<0)+(x[y[1]]<<1);if(E===0||E===3)continue;switch(E){case 0:break;case 1:w.push([f(v,c,y[0],y[1])]);break;case 2:w.push([f(v,c,y[1],y[0])]);break;case 3:break}}}return w}return s},function(){function f(u,c,v,x){for(var m=Math.min(v,x)|0,w=Math.max(v,x)|0,A=u[2*m],y=u[2*m+1];A<y;){var M=A+y>>1,E=c[2*M+1];if(E===w)return M;w<E?y=M:A=M+1}return A}function s(u,c,v,x){for(var m=u.length,w=[],A=0;A<m;++A){var y=u[A],M=y.length;if(M===4){var E=(x[y[0]]<<0)+(x[y[1]]<<1)+(x[y[2]]<<2)+(x[y[3]]<<3);if(E===0||E===15)continue;switch(E){case 0:break;case 1:w.push([f(v,c,y[0],y[1]),f(v,c,y[0],y[2]),f(v,c,y[0],y[3])]);break;case 2:w.push([f(v,c,y[1],y[2]),f(v,c,y[1],y[0]),f(v,c,y[1],y[3])]);break;case 3:w.push([f(v,c,y[1],y[2]),f(v,c,y[0],y[2]),f(v,c,y[0],y[3])],[f(v,c,y[1],y[3]),f(v,c,y[1],y[2]),f(v,c,y[0],y[3])]);break;case 4:w.push([f(v,c,y[2],y[0]),f(v,c,y[2],y[1]),f(v,c,y[2],y[3])]);break;case 5:w.push([f(v,c,y[0],y[1]),f(v,c,y[2],y[1]),f(v,c,y[0],y[3])],[f(v,c,y[2],y[1]),f(v,c,y[2],y[3]),f(v,c,y[0],y[3])]);break;case 6:w.push([f(v,c,y[2],y[0]),f(v,c,y[1],y[0]),f(v,c,y[1],y[3])],[f(v,c,y[2],y[3]),f(v,c,y[2],y[0]),f(v,c,y[1],y[3])]);break;case 7:w.push([f(v,c,y[0],y[3]),f(v,c,y[1],y[3]),f(v,c,y[2],y[3])]);break;case 8:w.push([f(v,c,y[3],y[1]),f(v,c,y[3],y[0]),f(v,c,y[3],y[2])]);break;case 9:w.push([f(v,c,y[3],y[1]),f(v,c,y[0],y[1]),f(v,c,y[0],y[2])],[f(v,c,y[3],y[2]),f(v,c,y[3],y[1]),f(v,c,y[0],y[2])]);break;case 10:w.push([f(v,c,y[1],y[0]),f(v,c,y[3],y[0]),f(v,c,y[1],y[2])],[f(v,c,y[3],y[0]),f(v,c,y[3],y[2]),f(v,c,y[1],y[2])]);break;case 11:w.push([f(v,c,y[1],y[2]),f(v,c,y[0],y[2]),f(v,c,y[3],y[2])]);break;case 12:w.push([f(v,c,y[3],y[0]),f(v,c,y[2],y[0]),f(v,c,y[2],y[1])],[f(v,c,y[3],y[1]),f(v,c,y[3],y[0]),f(v,c,y[2],y[1])]);break;case 13:w.push([f(v,c,y[0],y[1]),f(v,c,y[2],y[1]),f(v,c,y[3],y[1])]);break;case 14:w.push([f(v,c,y[2],y[0]),f(v,c,y[1],y[0]),f(v,c,y[3],y[0])]);break;case 15:break}}else if(M===3){var E=(x[y[0]]<<0)+(x[y[1]]<<1)+(x[y[2]]<<2);if(E===0||E===7)continue;switch(E){case 0:break;case 1:w.push([f(v,c,y[0],y[2]),f(v,c,y[0],y[1])]);break;case 2:w.push([f(v,c,y[1],y[0]),f(v,c,y[1],y[2])]);break;case 3:w.push([f(v,c,y[0],y[2]),f(v,c,y[1],y[2])]);break;case 4:w.push([f(v,c,y[2],y[1]),f(v,c,y[2],y[0])]);break;case 5:w.push([f(v,c,y[2],y[1]),f(v,c,y[0],y[1])]);break;case 6:w.push([f(v,c,y[1],y[0]),f(v,c,y[2],y[0])]);break;case 7:break}}else if(M===2){var E=(x[y[0]]<<0)+(x[y[1]]<<1);if(E===0||E===3)continue;switch(E){case 0:break;case 1:w.push([f(v,c,y[0],y[1])]);break;case 2:w.push([f(v,c,y[1],y[0])]);break;case 3:break}}}return w}return s}];function i(l){return o[l]()}},6803:function(a,o,i){"use strict";var l,f=i(8828),s=i(1755);function u(S){for(var d=0,R=Math.max,L=0,F=S.length;L<F;++L)d=R(d,S[L].length);return d-1}l=u;function c(S){for(var d=-1,R=Math.max,L=0,F=S.length;L<F;++L)for(var O=S[L],P=0,I=O.length;P<I;++P)d=R(d,O[P]);return d+1}l=c;function v(S){for(var d=new Array(S.length),R=0,L=S.length;R<L;++R)d[R]=S[R].slice(0);return d}l=v;function x(S,d){var R=S.length,L=S.length-d.length,F=Math.min;if(L)return L;switch(R){case 0:return 0;case 1:return S[0]-d[0];case 2:var D=S[0]+S[1]-d[0]-d[1];return D||F(S[0],S[1])-F(d[0],d[1]);case 3:var O=S[0]+S[1],P=d[0]+d[1];if(D=O+S[2]-(P+d[2]),D)return D;var I=F(S[0],S[1]),k=F(d[0],d[1]),D=F(I,S[2])-F(k,d[2]);return D||F(I+S[2],O)-F(k+d[2],P);default:var z=S.slice(0);z.sort();var q=d.slice(0);q.sort();for(var j=0;j<R;++j)if(L=z[j]-q[j],L)return L;return 0}}o.Fw=x;function m(S,d){return x(S[0],d[0])}function w(S,d){if(d){for(var R=S.length,L=new Array(R),F=0;F<R;++F)L[F]=[S[F],d[F]];L.sort(m);for(var F=0;F<R;++F)S[F]=L[F][0],d[F]=L[F][1];return S}else return S.sort(x),S}l=w;function A(S){if(S.length===0)return[];for(var d=1,R=S.length,L=1;L<R;++L){var F=S[L];if(x(F,S[L-1])){if(L===d){d++;continue}S[d++]=F}}return S.length=d,S}l=A;function y(S,d){for(var R=0,L=S.length-1,F=-1;R<=L;){var O=R+L>>1,P=x(S[O],d);P<=0?(P===0&&(F=O),R=O+1):P>0&&(L=O-1)}return F}l=y;function M(S,d){for(var R=new Array(S.length),L=0,F=R.length;L<F;++L)R[L]=[];for(var O=[],L=0,P=d.length;L<P;++L)for(var I=d[L],k=I.length,D=1,z=1<<k;D<z;++D){O.length=f.popCount(D);for(var q=0,j=0;j<k;++j)D&1<<j&&(O[q++]=I[j]);var Q=y(S,O);if(!(Q<0))for(;R[Q++].push(L),!(Q>=S.length||x(S[Q],O)!==0););}return R}l=M;function E(S,d){if(!d)return M(A(T(S,0)),S,0);for(var R=new Array(d),L=0;L<d;++L)R[L]=[];for(var L=0,F=S.length;L<F;++L)for(var O=S[L],P=0,I=O.length;P<I;++P)R[O[P]].push(L);return R}l=E;function b(S){for(var d=[],R=0,L=S.length;R<L;++R)for(var F=S[R],O=F.length|0,P=1,I=1<<O;P<I;++P){for(var k=[],D=0;D<O;++D)P>>>D&1&&k.push(F[D]);d.push(k)}return w(d)}l=b;function T(S,d){if(d<0)return[];for(var R=[],L=(1<<d+1)-1,F=0;F<S.length;++F)for(var O=S[F],P=L;P<1<<O.length;P=f.nextCombination(P)){for(var I=new Array(d+1),k=0,D=0;D<O.length;++D)P&1<<D&&(I[k++]=O[D]);R.push(I)}return w(R)}l=T;function p(S){for(var d=[],R=0,L=S.length;R<L;++R)for(var F=S[R],O=0,P=F.length;O<P;++O){for(var I=new Array(F.length-1),k=0,D=0;k<P;++k)k!==O&&(I[D++]=F[k]);d.push(I)}return w(d)}l=p;function _(S,d){for(var R=new s(d),L=0;L<S.length;++L)for(var F=S[L],O=0;O<F.length;++O)for(var P=O+1;P<F.length;++P)R.link(F[O],F[P]);for(var I=[],k=R.ranks,L=0;L<k.length;++L)k[L]=-1;for(var L=0;L<S.length;++L){var D=R.find(S[L][0]);k[D]<0?(k[D]=I.length,I.push([S[L].slice(0)])):I[k[D]].push(S[L].slice(0))}return I}function g(S){for(var d=A(w(T(S,0))),R=new s(d.length),L=0;L<S.length;++L)for(var F=S[L],O=0;O<F.length;++O)for(var P=y(d,[F[O]]),I=O+1;I<F.length;++I)R.link(P,y(d,[F[I]]));for(var k=[],D=R.ranks,L=0;L<D.length;++L)D[L]=-1;for(var L=0;L<S.length;++L){var z=R.find(y(d,[S[L][0]]));D[z]<0?(D[z]=k.length,k.push([S[L].slice(0)])):k[D[z]].push(S[L].slice(0))}return k}function h(S,d){return d?_(S,d):g(S)}l=h},3105:function(a,o){"use strict";"use restrict";var i=32;o.INT_BITS=i,o.INT_MAX=2147483647,o.INT_MIN=-1<<i-1,o.sign=function(s){return(s>0)-(s<0)},o.abs=function(s){var u=s>>i-1;return(s^u)-u},o.min=function(s,u){return u^(s^u)&-(s<u)},o.max=function(s,u){return s^(s^u)&-(s<u)},o.isPow2=function(s){return!(s&s-1)&&!!s},o.log2=function(s){var u,c;return u=(s>65535)<<4,s>>>=u,c=(s>255)<<3,s>>>=c,u|=c,c=(s>15)<<2,s>>>=c,u|=c,c=(s>3)<<1,s>>>=c,u|=c,u|s>>1},o.log10=function(s){return s>=1e9?9:s>=1e8?8:s>=1e7?7:s>=1e6?6:s>=1e5?5:s>=1e4?4:s>=1e3?3:s>=100?2:s>=10?1:0},o.popCount=function(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),(s+(s>>>4)&252645135)*16843009>>>24};function l(s){var u=32;return s&=-s,s&&u--,s&65535&&(u-=16),s&16711935&&(u-=8),s&252645135&&(u-=4),s&858993459&&(u-=2),s&1431655765&&(u-=1),u}o.countTrailingZeros=l,o.nextPow2=function(s){return s+=s===0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1},o.prevPow2=function(s){return s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s-(s>>>1)},o.parity=function(s){return s^=s>>>16,s^=s>>>8,s^=s>>>4,s&=15,27030>>>s&1};var f=new Array(256);(function(s){for(var u=0;u<256;++u){var c=u,v=u,x=7;for(c>>>=1;c;c>>>=1)v<<=1,v|=c&1,--x;s[u]=v<<x&255}})(f),o.reverse=function(s){return f[s&255]<<24|f[s>>>8&255]<<16|f[s>>>16&255]<<8|f[s>>>24&255]},o.interleave2=function(s,u){return s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,u&=65535,u=(u|u<<8)&16711935,u=(u|u<<4)&252645135,u=(u|u<<2)&858993459,u=(u|u<<1)&1431655765,s|u<<1},o.deinterleave2=function(s,u){return s=s>>>u&1431655765,s=(s|s>>>1)&858993459,s=(s|s>>>2)&252645135,s=(s|s>>>4)&16711935,s=(s|s>>>16)&65535,s<<16>>16},o.interleave3=function(s,u,c){return s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,s|=u<<1,c&=1023,c=(c|c<<16)&4278190335,c=(c|c<<8)&251719695,c=(c|c<<4)&3272356035,c=(c|c<<2)&1227133513,s|c<<2},o.deinterleave3=function(s,u){return s=s>>>u&1227133513,s=(s|s>>>2)&3272356035,s=(s|s>>>4)&251719695,s=(s|s>>>8)&4278190335,s=(s|s>>>16)&1023,s<<22>>22},o.nextCombination=function(s){var u=s|s-1;return u+1|(~u&-~u)-1>>>l(s)+1}},2014:function(a,o,i){"use strict";"use restrict";var l=i(3105),f=i(4623);function s(h){for(var S=0,d=Math.max,R=0,L=h.length;R<L;++R)S=d(S,h[R].length);return S-1}o.dimension=s;function u(h){for(var S=-1,d=Math.max,R=0,L=h.length;R<L;++R)for(var F=h[R],O=0,P=F.length;O<P;++O)S=d(S,F[O]);return S+1}o.countVertices=u;function c(h){for(var S=new Array(h.length),d=0,R=h.length;d<R;++d)S[d]=h[d].slice(0);return S}o.cloneCells=c;function v(h,S){var d=h.length,R=h.length-S.length,L=Math.min;if(R)return R;switch(d){case 0:return 0;case 1:return h[0]-S[0];case 2:var k=h[0]+h[1]-S[0]-S[1];return k||L(h[0],h[1])-L(S[0],S[1]);case 3:var F=h[0]+h[1],O=S[0]+S[1];if(k=F+h[2]-(O+S[2]),k)return k;var P=L(h[0],h[1]),I=L(S[0],S[1]),k=L(P,h[2])-L(I,S[2]);return k||L(P+h[2],F)-L(I+S[2],O);default:var D=h.slice(0);D.sort();var z=S.slice(0);z.sort();for(var q=0;q<d;++q)if(R=D[q]-z[q],R)return R;return 0}}o.compareCells=v;function x(h,S){return v(h[0],S[0])}function m(h,S){if(S){for(var d=h.length,R=new Array(d),L=0;L<d;++L)R[L]=[h[L],S[L]];R.sort(x);for(var L=0;L<d;++L)h[L]=R[L][0],S[L]=R[L][1];return h}else return h.sort(v),h}o.normalize=m;function w(h){if(h.length===0)return[];for(var S=1,d=h.length,R=1;R<d;++R){var L=h[R];if(v(L,h[R-1])){if(R===S){S++;continue}h[S++]=L}}return h.length=S,h}o.unique=w;function A(h,S){for(var d=0,R=h.length-1,L=-1;d<=R;){var F=d+R>>1,O=v(h[F],S);O<=0?(O===0&&(L=F),d=F+1):O>0&&(R=F-1)}return L}o.findCell=A;function y(h,S){for(var d=new Array(h.length),R=0,L=d.length;R<L;++R)d[R]=[];for(var F=[],R=0,O=S.length;R<O;++R)for(var P=S[R],I=P.length,k=1,D=1<<I;k<D;++k){F.length=l.popCount(k);for(var z=0,q=0;q<I;++q)k&1<<q&&(F[z++]=P[q]);var j=A(h,F);if(!(j<0))for(;d[j++].push(R),!(j>=h.length||v(h[j],F)!==0););}return d}o.incidence=y;function M(h,S){if(!S)return y(w(b(h,0)),h,0);for(var d=new Array(S),R=0;R<S;++R)d[R]=[];for(var R=0,L=h.length;R<L;++R)for(var F=h[R],O=0,P=F.length;O<P;++O)d[F[O]].push(R);return d}o.dual=M;function E(h){for(var S=[],d=0,R=h.length;d<R;++d)for(var L=h[d],F=L.length|0,O=1,P=1<<F;O<P;++O){for(var I=[],k=0;k<F;++k)O>>>k&1&&I.push(L[k]);S.push(I)}return m(S)}o.explode=E;function b(h,S){if(S<0)return[];for(var d=[],R=(1<<S+1)-1,L=0;L<h.length;++L)for(var F=h[L],O=R;O<1<<F.length;O=l.nextCombination(O)){for(var P=new Array(S+1),I=0,k=0;k<F.length;++k)O&1<<k&&(P[I++]=F[k]);d.push(P)}return m(d)}o.skeleton=b;function T(h){for(var S=[],d=0,R=h.length;d<R;++d)for(var L=h[d],F=0,O=L.length;F<O;++F){for(var P=new Array(L.length-1),I=0,k=0;I<O;++I)I!==F&&(P[k++]=L[I]);S.push(P)}return m(S)}o.boundary=T;function p(h,S){for(var d=new f(S),R=0;R<h.length;++R)for(var L=h[R],F=0;F<L.length;++F)for(var O=F+1;O<L.length;++O)d.link(L[F],L[O]);for(var P=[],I=d.ranks,R=0;R<I.length;++R)I[R]=-1;for(var R=0;R<h.length;++R){var k=d.find(h[R][0]);I[k]<0?(I[k]=P.length,P.push([h[R].slice(0)])):P[I[k]].push(h[R].slice(0))}return P}function _(h){for(var S=w(m(b(h,0))),d=new f(S.length),R=0;R<h.length;++R)for(var L=h[R],F=0;F<L.length;++F)for(var O=A(S,[L[F]]),P=F+1;P<L.length;++P)d.link(O,A(S,[L[P]]));for(var I=[],k=d.ranks,R=0;R<k.length;++R)k[R]=-1;for(var R=0;R<h.length;++R){var D=d.find(A(S,[h[R][0]]));k[D]<0?(k[D]=I.length,I.push([h[R].slice(0)])):I[k[D]].push(h[R].slice(0))}return I}function g(h,S){return S?p(h,S):_(h)}o.connectedComponents=g},4623:function(a){"use strict";"use restrict";a.exports=o;function o(i){this.roots=new Array(i),this.ranks=new Array(i);for(var l=0;l<i;++l)this.roots[l]=l,this.ranks[l]=0}o.prototype.length=function(){return this.roots.length},o.prototype.makeSet=function(){var i=this.roots.length;return this.roots.push(i),this.ranks.push(0),i},o.prototype.find=function(i){for(var l=this.roots;l[i]!==i;){var f=l[i];l[i]=l[f],i=f}return i},o.prototype.link=function(i,l){var f=this.find(i),s=this.find(l);if(f!==s){var u=this.ranks,c=this.roots,v=u[f],x=u[s];v<x?c[f]=s:x<v?c[s]=f:(c[s]=f,++u[f])}}},5878:function(a,o,i){"use strict";a.exports=u;var l=i(3250),f=i(2014);function s(c,v,x){var m=Math.abs(l(c,v,x)),w=Math.sqrt(Math.pow(v[0]-x[0],2)+Math.pow(v[1]-x[1],2));return m/w}function u(c,v,x){for(var m=v.length,w=c.length,A=new Array(m),y=new Array(m),M=new Array(m),E=new Array(m),b=0;b<m;++b)A[b]=y[b]=-1,M[b]=1/0,E[b]=!1;for(var b=0;b<w;++b){var T=c[b];if(T.length!==2)throw new Error("Input must be a graph");var p=T[1],_=T[0];y[_]!==-1?y[_]=-2:y[_]=p,A[p]!==-1?A[p]=-2:A[p]=_}function g(B){if(E[B])return 1/0;var Z=A[B],ie=y[B];return Z<0||ie<0?1/0:s(v[B],v[Z],v[ie])}function h(B,Z){var ie=I[B],J=I[Z];I[B]=J,I[Z]=ie,k[ie]=Z,k[J]=B}function S(B){return M[I[B]]}function d(B){return B&1?B-1>>1:(B>>1)-1}function R(B){for(var Z=S(B);;){var ie=Z,J=2*B+1,le=2*(B+1),te=B;if(J<z){var V=S(J);V<ie&&(te=J,ie=V)}if(le<z){var ne=S(le);ne<ie&&(te=le)}if(te===B)return B;h(B,te),B=te}}function L(B){for(var Z=S(B);B>0;){var ie=d(B);if(ie>=0){var J=S(ie);if(Z<J){h(B,ie),B=ie;continue}}return B}}function F(){if(z>0){var B=I[0];return h(0,z-1),z-=1,R(0),B}return-1}function O(B,Z){var ie=I[B];return M[ie]===Z?B:(M[ie]=-1/0,L(B),F(),M[ie]=Z,z+=1,L(z-1))}function P(B){if(!E[B]){E[B]=!0;var Z=A[B],ie=y[B];A[ie]>=0&&(A[ie]=Z),y[Z]>=0&&(y[Z]=ie),k[Z]>=0&&O(k[Z],g(Z)),k[ie]>=0&&O(k[ie],g(ie))}}for(var I=[],k=new Array(m),b=0;b<m;++b){var D=M[b]=g(b);D<1/0?(k[b]=I.length,I.push(b)):k[b]=-1}for(var z=I.length,b=z>>1;b>=0;--b)R(b);for(;;){var q=F();if(q<0||M[q]>x)break;P(q)}for(var j=[],b=0;b<m;++b)E[b]||(k[b]=j.length,j.push(v[b].slice()));var Q=j.length;function K(B,Z){if(B[Z]<0)return Z;var ie=Z,J=Z;do{var le=B[J];if(!E[J]||le<0||le===J||(J=le,le=B[J],!E[J]||le<0||le===J))break;J=le,ie=B[ie]}while(ie!==J);for(var te=Z;te!==J;te=B[te])B[te]=J;return J}var G=[];return c.forEach(function(B){var Z=K(A,B[0]),ie=K(y,B[1]);if(Z>=0&&ie>=0&&Z!==ie){var J=k[Z],le=k[ie];J!==le&&G.push([J,le])}}),f.unique(f.normalize(G)),{positions:j,edges:G}}},1303:function(a,o,i){"use strict";a.exports=s;var l=i(3250);function f(u,c){var v,x;if(c[0][0]<c[1][0])v=c[0],x=c[1];else if(c[0][0]>c[1][0])v=c[1],x=c[0];else{var m=Math.min(u[0][1],u[1][1]),w=Math.max(u[0][1],u[1][1]),A=Math.min(c[0][1],c[1][1]),y=Math.max(c[0][1],c[1][1]);return w<A?w-A:m>y?m-y:w-y}var M,E;u[0][1]<u[1][1]?(M=u[0],E=u[1]):(M=u[1],E=u[0]);var b=l(x,v,M);return b||(b=l(x,v,E),b)?b:E-x}function s(u,c){var v,x;if(c[0][0]<c[1][0])v=c[0],x=c[1];else if(c[0][0]>c[1][0])v=c[1],x=c[0];else return f(c,u);var m,w;if(u[0][0]<u[1][0])m=u[0],w=u[1];else if(u[0][0]>u[1][0])m=u[1],w=u[0];else return-f(u,c);var A=l(v,x,w),y=l(v,x,m);if(A<0){if(y<=0)return A}else if(A>0){if(y>=0)return A}else if(y)return y;if(A=l(w,m,x),y=l(w,m,v),A<0){if(y<=0)return A}else if(A>0){if(y>=0)return A}else if(y)return y;return x[0]-w[0]}},4209:function(a,o,i){"use strict";a.exports=y;var l=i(2478),f=i(3840),s=i(3250),u=i(1303);function c(M,E,b){this.slabs=M,this.coordinates=E,this.horizontal=b}var v=c.prototype;function x(M,E){return M.y-E}function m(M,E){for(var b=null;M;){var T=M.key,p,_;T[0][0]<T[1][0]?(p=T[0],_=T[1]):(p=T[1],_=T[0]);var g=s(p,_,E);if(g<0)M=M.left;else if(g>0)if(E[0]!==T[1][0])b=M,M=M.right;else{var h=m(M.right,E);if(h)return h;M=M.left}else{if(E[0]!==T[1][0])return M;var h=m(M.right,E);if(h)return h;M=M.left}}return b}v.castUp=function(M){var E=l.le(this.coordinates,M[0]);if(E<0)return-1;var b=this.slabs[E],T=m(this.slabs[E],M),p=-1;if(T&&(p=T.value),this.coordinates[E]===M[0]){var _=null;if(T&&(_=T.key),E>0){var g=m(this.slabs[E-1],M);g&&(_?u(g.key,_)>0&&(_=g.key,p=g.value):(p=g.value,_=g.key))}var h=this.horizontal[E];if(h.length>0){var S=l.ge(h,M[1],x);if(S<h.length){var d=h[S];if(M[1]===d.y){if(d.closed)return d.index;for(;S<h.length-1&&h[S+1].y===M[1];)if(S=S+1,d=h[S],d.closed)return d.index;if(d.y===M[1]&&!d.start){if(S=S+1,S>=h.length)return p;d=h[S]}}if(d.start)if(_){var R=s(_[0],_[1],[M[0],d.y]);_[0][0]>_[1][0]&&(R=-R),R>0&&(p=d.index)}else p=d.index;else d.y!==M[1]&&(p=d.index)}}}return p};function w(M,E,b,T){this.y=M,this.index=E,this.start=b,this.closed=T}function A(M,E,b,T){this.x=M,this.segment=E,this.create=b,this.index=T}function y(M){for(var E=M.length,b=2*E,T=new Array(b),p=0;p<E;++p){var _=M[p],g=_[0][0]<_[1][0];T[2*p]=new A(_[0][0],_,g,p),T[2*p+1]=new A(_[1][0],_,!g,p)}T.sort(function(I,k){var D=I.x-k.x;return D||(D=I.create-k.create,D)?D:Math.min(I.segment[0][1],I.segment[1][1])-Math.min(k.segment[0][1],k.segment[1][1])});for(var h=f(u),S=[],d=[],R=[],L=-1/0,p=0;p<b;){for(var F=T[p].x,O=[];p<b;){var P=T[p];if(P.x!==F)break;p+=1,P.segment[0][0]===P.x&&P.segment[1][0]===P.x?P.create&&(P.segment[0][1]<P.segment[1][1]?(O.push(new w(P.segment[0][1],P.index,!0,!0)),O.push(new w(P.segment[1][1],P.index,!1,!1))):(O.push(new w(P.segment[1][1],P.index,!0,!1)),O.push(new w(P.segment[0][1],P.index,!1,!0)))):P.create?h=h.insert(P.segment,P.index):h=h.remove(P.segment)}S.push(h.root),d.push(F),R.push(O)}return new c(S,d,R)}},5202:function(a,o,i){"use strict";var l=i(1944),f=i(8210);a.exports=c,a.exports.positive=v,a.exports.negative=x;function s(m,w){var A=f(l(m,w),[w[w.length-1]]);return A[A.length-1]}function u(m,w,A,y){var M=y-w,E=-w/M;E<0?E=0:E>1&&(E=1);for(var b=1-E,T=m.length,p=new Array(T),_=0;_<T;++_)p[_]=E*m[_]+b*A[_];return p}function c(m,w){for(var A=[],y=[],M=s(m[m.length-1],w),E=m[m.length-1],b=m[0],T=0;T<m.length;++T,E=b){b=m[T];var p=s(b,w);if(M<0&&p>0||M>0&&p<0){var _=u(E,p,b,M);A.push(_),y.push(_.slice())}p<0?y.push(b.slice()):p>0?A.push(b.slice()):(A.push(b.slice()),y.push(b.slice())),M=p}return{positive:A,negative:y}}function v(m,w){for(var A=[],y=s(m[m.length-1],w),M=m[m.length-1],E=m[0],b=0;b<m.length;++b,M=E){E=m[b];var T=s(E,w);(y<0&&T>0||y>0&&T<0)&&A.push(u(M,T,E,y)),T>=0&&A.push(E.slice()),y=T}return A}function x(m,w){for(var A=[],y=s(m[m.length-1],w),M=m[m.length-1],E=m[0],b=0;b<m.length;++b,M=E){E=m[b];var T=s(E,w);(y<0&&T>0||y>0&&T<0)&&A.push(u(M,T,E,y)),T<=0&&A.push(E.slice()),y=T}return A}},3387:function(a,o,i){var l;(function(){"use strict";var f={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function s(m){return c(x(m),arguments)}function u(m,w){return s.apply(null,[m].concat(w||[]))}function c(m,w){var A=1,y=m.length,M,E="",b,T,p,_,g,h,S,d;for(b=0;b<y;b++)if(typeof m[b]=="string")E+=m[b];else if(typeof m[b]=="object"){if(p=m[b],p.keys)for(M=w[A],T=0;T<p.keys.length;T++){if(M==null)throw new Error(s('[sprintf] Cannot access property "%s" of undefined value "%s"',p.keys[T],p.keys[T-1]));M=M[p.keys[T]]}else p.param_no?M=w[p.param_no]:M=w[A++];if(f.not_type.test(p.type)&&f.not_primitive.test(p.type)&&M instanceof Function&&(M=M()),f.numeric_arg.test(p.type)&&typeof M!="number"&&isNaN(M))throw new TypeError(s("[sprintf] expecting number but found %T",M));switch(f.number.test(p.type)&&(S=M>=0),p.type){case"b":M=parseInt(M,10).toString(2);break;case"c":M=String.fromCharCode(parseInt(M,10));break;case"d":case"i":M=parseInt(M,10);break;case"j":M=JSON.stringify(M,null,p.width?parseInt(p.width):0);break;case"e":M=p.precision?parseFloat(M).toExponential(p.precision):parseFloat(M).toExponential();break;case"f":M=p.precision?parseFloat(M).toFixed(p.precision):parseFloat(M);break;case"g":M=p.precision?String(Number(M.toPrecision(p.precision))):parseFloat(M);break;case"o":M=(parseInt(M,10)>>>0).toString(8);break;case"s":M=String(M),M=p.precision?M.substring(0,p.precision):M;break;case"t":M=String(!!M),M=p.precision?M.substring(0,p.precision):M;break;case"T":M=Object.prototype.toString.call(M).slice(8,-1).toLowerCase(),M=p.precision?M.substring(0,p.precision):M;break;case"u":M=parseInt(M,10)>>>0;break;case"v":M=M.valueOf(),M=p.precision?M.substring(0,p.precision):M;break;case"x":M=(parseInt(M,10)>>>0).toString(16);break;case"X":M=(parseInt(M,10)>>>0).toString(16).toUpperCase();break}f.json.test(p.type)?E+=M:(f.number.test(p.type)&&(!S||p.sign)?(d=S?"+":"-",M=M.toString().replace(f.sign,"")):d="",g=p.pad_char?p.pad_char==="0"?"0":p.pad_char.charAt(1):" ",h=p.width-(d+M).length,_=p.width&&h>0?g.repeat(h):"",E+=p.align?d+M+_:g==="0"?d+_+M:_+d+M)}return E}var v=Object.create(null);function x(m){if(v[m])return v[m];for(var w=m,A,y=[],M=0;w;){if((A=f.text.exec(w))!==null)y.push(A[0]);else if((A=f.modulo.exec(w))!==null)y.push("%");else if((A=f.placeholder.exec(w))!==null){if(A[2]){M|=1;var E=[],b=A[2],T=[];if((T=f.key.exec(b))!==null)for(E.push(T[1]);(b=b.substring(T[0].length))!=="";)if((T=f.key_access.exec(b))!==null)E.push(T[1]);else if((T=f.index_access.exec(b))!==null)E.push(T[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");A[2]=E}else M|=2;if(M===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");y.push({placeholder:A[0],param_no:A[1],keys:A[2],sign:A[3],pad_char:A[4],align:A[5],width:A[6],precision:A[7],type:A[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");w=w.substring(A[0].length)}return v[m]=y}o.sprintf=s,o.vsprintf=u,typeof window!="undefined"&&(window.sprintf=s,window.vsprintf=u,l=function(){return{sprintf:s,vsprintf:u}}.call(o,i,o,a),l!==void 0&&(a.exports=l))})()},3711:function(a,o,i){"use strict";a.exports=x;var l=i(2640),f=i(781),s={"2d":function(m,w,A){var y=m({order:w,scalarArguments:3,getters:A==="generic"?[0]:void 0,phase:function(E,b,T,p){return E>p|0},vertex:function(E,b,T,p,_,g,h,S,d,R,L,F,O){var P=(h<<0)+(S<<1)+(d<<2)+(R<<3)|0;if(!(P===0||P===15))switch(P){case 0:L.push([E-.5,b-.5]);break;case 1:L.push([E-.25-.25*(p+T-2*O)/(T-p),b-.25-.25*(_+T-2*O)/(T-_)]);break;case 2:L.push([E-.75-.25*(-p-T+2*O)/(p-T),b-.25-.25*(g+p-2*O)/(p-g)]);break;case 3:L.push([E-.5,b-.5-.5*(_+T+g+p-4*O)/(T-_+p-g)]);break;case 4:L.push([E-.25-.25*(g+_-2*O)/(_-g),b-.75-.25*(-_-T+2*O)/(_-T)]);break;case 5:L.push([E-.5-.5*(p+T+g+_-4*O)/(T-p+_-g),b-.5]);break;case 6:L.push([E-.5-.25*(-p-T+g+_)/(p-T+_-g),b-.5-.25*(-_-T+g+p)/(_-T+p-g)]);break;case 7:L.push([E-.75-.25*(g+_-2*O)/(_-g),b-.75-.25*(g+p-2*O)/(p-g)]);break;case 8:L.push([E-.75-.25*(-g-_+2*O)/(g-_),b-.75-.25*(-g-p+2*O)/(g-p)]);break;case 9:L.push([E-.5-.25*(p+T+-g-_)/(T-p+g-_),b-.5-.25*(_+T+-g-p)/(T-_+g-p)]);break;case 10:L.push([E-.5-.5*(-p-T+-g-_+4*O)/(p-T+g-_),b-.5]);break;case 11:L.push([E-.25-.25*(-g-_+2*O)/(g-_),b-.75-.25*(_+T-2*O)/(T-_)]);break;case 12:L.push([E-.5,b-.5-.5*(-_-T+-g-p+4*O)/(_-T+g-p)]);break;case 13:L.push([E-.75-.25*(p+T-2*O)/(T-p),b-.25-.25*(-g-p+2*O)/(g-p)]);break;case 14:L.push([E-.25-.25*(-p-T+2*O)/(p-T),b-.25-.25*(-_-T+2*O)/(_-T)]);break;case 15:L.push([E-.5,b-.5]);break}},cell:function(E,b,T,p,_,g,h,S,d){_?S.push([E,b]):S.push([b,E])}});return function(M,E){var b=[],T=[];return y(M,b,T,E),{positions:b,cells:T}}}};function u(m,w){var A=m.length+"d",y=s[A];if(y)return y(l,m,w)}function c(m,w){for(var A=f(m,w),y=A.length,M=new Array(y),E=new Array(y),b=0;b<y;++b)M[b]=[A[b]],E[b]=[b];return{positions:M,cells:E}}var v={};function x(m,M){if(m.dimension<=0)return{positions:[],cells:[]};if(m.dimension===1)return c(m,M);var A=m.order.join()+"-"+m.dtype,y=v[A],M=+M||0;return y||(y=v[A]=u(m.order,m.dtype)),y(m,M)}},665:function(a,o,i){"use strict";var l=i(3202);a.exports=c;var f=96;function s(v,x){var m=l(getComputedStyle(v).getPropertyValue(x));return m[0]*c(m[1],v)}function u(v,x){var m=document.createElement("div");m.style["font-size"]="128"+v,x.appendChild(m);var w=s(m,"font-size")/128;return x.removeChild(m),w}function c(v,x){switch(x=x||document.body,v=(v||"px").trim().toLowerCase(),(x===window||x===document)&&(x=document.body),v){case"%":return x.clientHeight/100;case"ch":case"ex":return u(v,x);case"em":return s(x,"font-size");case"rem":return s(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return f;case"cm":return f/2.54;case"mm":return f/25.4;case"pt":return f/72;case"pc":return f/6}return 1}},7261:function(a,o,i){"use strict";a.exports=E;var l=i(9215),f=i(7608),s=i(6079),u=i(5911),c=i(3536),v=i(244);function x(b,T,p){return Math.sqrt(Math.pow(b,2)+Math.pow(T,2)+Math.pow(p,2))}function m(b){return Math.min(1,Math.max(-1,b))}function w(b){var T=Math.abs(b[0]),p=Math.abs(b[1]),_=Math.abs(b[2]),g=[0,0,0];T>Math.max(p,_)?g[2]=1:p>Math.max(T,_)?g[0]=1:g[1]=1;for(var h=0,S=0,d=0;d<3;++d)h+=b[d]*b[d],S+=g[d]*b[d];for(var d=0;d<3;++d)g[d]-=S/h*b[d];return c(g,g),g}function A(b,T,p,_,g,h,S,d){this.center=l(p),this.up=l(_),this.right=l(g),this.radius=l([h]),this.angle=l([S,d]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(b,T),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var R=0;R<16;++R)this.computedMatrix[R]=.5;this.recalcMatrix(0)}var y=A.prototype;y.setDistanceLimits=function(b,T){b>0?b=Math.log(b):b=-1/0,T>0?T=Math.log(T):T=1/0,T=Math.max(T,b),this.radius.bounds[0][0]=b,this.radius.bounds[1][0]=T},y.getDistanceLimits=function(b){var T=this.radius.bounds[0];return b?(b[0]=Math.exp(T[0][0]),b[1]=Math.exp(T[1][0]),b):[Math.exp(T[0][0]),Math.exp(T[1][0])]},y.recalcMatrix=function(b){this.center.curve(b),this.up.curve(b),this.right.curve(b),this.radius.curve(b),this.angle.curve(b);for(var T=this.computedUp,p=this.computedRight,_=0,g=0,h=0;h<3;++h)g+=T[h]*p[h],_+=T[h]*T[h];for(var S=Math.sqrt(_),d=0,h=0;h<3;++h)p[h]-=T[h]*g/_,d+=p[h]*p[h],T[h]/=S;for(var R=Math.sqrt(d),h=0;h<3;++h)p[h]/=R;var L=this.computedToward;u(L,T,p),c(L,L);for(var F=Math.exp(this.computedRadius[0]),O=this.computedAngle[0],P=this.computedAngle[1],I=Math.cos(O),k=Math.sin(O),D=Math.cos(P),z=Math.sin(P),q=this.computedCenter,j=I*D,Q=k*D,K=z,G=-I*z,B=-k*z,Z=D,ie=this.computedEye,J=this.computedMatrix,h=0;h<3;++h){var le=j*p[h]+Q*L[h]+K*T[h];J[4*h+1]=G*p[h]+B*L[h]+Z*T[h],J[4*h+2]=le,J[4*h+3]=0}var te=J[1],V=J[5],ne=J[9],Y=J[2],oe=J[6],pe=J[10],we=V*pe-ne*oe,De=ne*Y-te*pe,Re=te*oe-V*Y,Ae=x(we,De,Re);we/=Ae,De/=Ae,Re/=Ae,J[0]=we,J[4]=De,J[8]=Re;for(var h=0;h<3;++h)ie[h]=q[h]+J[2+4*h]*F;for(var h=0;h<3;++h){for(var d=0,Ie=0;Ie<3;++Ie)d+=J[h+4*Ie]*ie[Ie];J[12+h]=-d}J[15]=1},y.getMatrix=function(b,T){this.recalcMatrix(b);var p=this.computedMatrix;if(T){for(var _=0;_<16;++_)T[_]=p[_];return T}return p};var M=[0,0,0];y.rotate=function(b,T,p,_){if(this.angle.move(b,T,p),_){this.recalcMatrix(b);var g=this.computedMatrix;M[0]=g[2],M[1]=g[6],M[2]=g[10];for(var h=this.computedUp,S=this.computedRight,d=this.computedToward,R=0;R<3;++R)g[4*R]=h[R],g[4*R+1]=S[R],g[4*R+2]=d[R];s(g,g,_,M);for(var R=0;R<3;++R)h[R]=g[4*R],S[R]=g[4*R+1];this.up.set(b,h[0],h[1],h[2]),this.right.set(b,S[0],S[1],S[2])}},y.pan=function(b,T,p,_){T=T||0,p=p||0,_=_||0,this.recalcMatrix(b);var g=this.computedMatrix,h=Math.exp(this.computedRadius[0]),S=g[1],d=g[5],R=g[9],L=x(S,d,R);S/=L,d/=L,R/=L;var F=g[0],O=g[4],P=g[8],I=F*S+O*d+P*R;F-=S*I,O-=d*I,P-=R*I;var k=x(F,O,P);F/=k,O/=k,P/=k;var D=F*T+S*p,z=O*T+d*p,q=P*T+R*p;this.center.move(b,D,z,q);var j=Math.exp(this.computedRadius[0]);j=Math.max(1e-4,j+_),this.radius.set(b,Math.log(j))},y.translate=function(b,T,p,_){this.center.move(b,T||0,p||0,_||0)},y.setMatrix=function(b,T,p,_){var g=1;typeof p=="number"&&(g=p|0),(g<0||g>3)&&(g=1);var h=(g+2)%3,S=(g+1)%3;T||(this.recalcMatrix(b),T=this.computedMatrix);var d=T[g],R=T[g+4],L=T[g+8];if(_){var O=Math.abs(d),P=Math.abs(R),I=Math.abs(L),k=Math.max(O,P,I);O===k?(d=d<0?-1:1,R=L=0):I===k?(L=L<0?-1:1,d=R=0):(R=R<0?-1:1,d=L=0)}else{var F=x(d,R,L);d/=F,R/=F,L/=F}var D=T[h],z=T[h+4],q=T[h+8],j=D*d+z*R+q*L;D-=d*j,z-=R*j,q-=L*j;var Q=x(D,z,q);D/=Q,z/=Q,q/=Q;var K=R*q-L*z,G=L*D-d*q,B=d*z-R*D,Z=x(K,G,B);K/=Z,G/=Z,B/=Z,this.center.jump(b,pr,Se,Fe),this.radius.idle(b),this.up.jump(b,d,R,L),this.right.jump(b,D,z,q);var ie,J;if(g===2){var le=T[1],te=T[5],V=T[9],ne=le*D+te*z+V*q,Y=le*K+te*G+V*B;De<0?ie=-Math.PI/2:ie=Math.PI/2,J=Math.atan2(Y,ne)}else{var oe=T[2],pe=T[6],we=T[10],De=oe*d+pe*R+we*L,Re=oe*D+pe*z+we*q,Ae=oe*K+pe*G+we*B;ie=Math.asin(m(De)),J=Math.atan2(Ae,Re)}this.angle.jump(b,J,ie),this.recalcMatrix(b);var Ie=T[2],Be=T[6],je=T[10],Ne=this.computedMatrix;f(Ne,T);var Qe=Ne[15],pr=Ne[12]/Qe,Se=Ne[13]/Qe,Fe=Ne[14]/Qe,hr=Math.exp(this.computedRadius[0]);this.center.jump(b,pr-Ie*hr,Se-Be*hr,Fe-je*hr)},y.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},y.idle=function(b){this.center.idle(b),this.up.idle(b),this.right.idle(b),this.radius.idle(b),this.angle.idle(b)},y.flush=function(b){this.center.flush(b),this.up.flush(b),this.right.flush(b),this.radius.flush(b),this.angle.flush(b)},y.setDistance=function(b,T){T>0&&this.radius.set(b,Math.log(T))},y.lookAt=function(b,T,p,_){this.recalcMatrix(b),T=T||this.computedEye,p=p||this.computedCenter,_=_||this.computedUp;var g=_[0],h=_[1],S=_[2],d=x(g,h,S);if(!(d<1e-6)){g/=d,h/=d,S/=d;var R=T[0]-p[0],L=T[1]-p[1],F=T[2]-p[2],O=x(R,L,F);if(!(O<1e-6)){R/=O,L/=O,F/=O;var P=this.computedRight,I=P[0],k=P[1],D=P[2],z=g*I+h*k+S*D;I-=z*g,k-=z*h,D-=z*S;var q=x(I,k,D);if(!(q<.01&&(I=h*F-S*L,k=S*R-g*F,D=g*L-h*R,q=x(I,k,D),q<1e-6))){I/=q,k/=q,D/=q,this.up.set(b,g,h,S),this.right.set(b,I,k,D),this.center.set(b,p[0],p[1],p[2]),this.radius.set(b,Math.log(O));var j=h*D-S*k,Q=S*I-g*D,K=g*k-h*I,G=x(j,Q,K);j/=G,Q/=G,K/=G;var B=g*R+h*L+S*F,Z=I*R+k*L+D*F,ie=j*R+Q*L+K*F,J=Math.asin(m(B)),le=Math.atan2(ie,Z),te=this.angle._state,V=te[te.length-1],ne=te[te.length-2];V=V%(2*Math.PI);var Y=Math.abs(V+2*Math.PI-le),oe=Math.abs(V-le),pe=Math.abs(V-2*Math.PI-le);Y<oe&&(V+=2*Math.PI),pe<oe&&(V-=2*Math.PI),this.angle.jump(this.angle.lastT(),V,ne),this.angle.set(b,le,J)}}}};function E(b){b=b||{};var T=b.center||[0,0,0],p=b.up||[0,1,0],_=b.right||w(p),g=b.radius||1,h=b.theta||0,S=b.phi||0;if(T=[].slice.call(T,0,3),p=[].slice.call(p,0,3),c(p,p),_=[].slice.call(_,0,3),c(_,_),"eye"in b){var d=b.eye,R=[d[0]-T[0],d[1]-T[1],d[2]-T[2]];u(_,R,p),x(_[0],_[1],_[2])<1e-6?_=w(p):c(_,_),g=x(R[0],R[1],R[2]);var L=v(p,R)/g,F=v(_,R)/g;S=Math.acos(L),h=Math.acos(F)}return g=Math.log(g),new A(b.zoomMin,b.zoomMax,T,p,_,g,h,S)}},5250:function(a){"use strict";a.exports=i;var o=+(Math.pow(2,27)+1);function i(l,f,s){var u=l*f,c=o*l,v=c-l,x=c-v,m=l-x,w=o*f,A=w-f,y=w-A,M=f-y,E=u-x*y,b=E-m*y,T=b-x*M,p=m*M-T;return s?(s[0]=p,s[1]=u,s):[p,u]}},9362:function(a){"use strict";a.exports=o;function o(i,l,f){var s=i+l,u=s-i,c=s-u,v=l-u,x=i-c;return f?(f[0]=x+v,f[1]=s,f):[x+v,s]}},1888:function(a,o,i){"use strict";var l=i(8828),f=i(1338),s=i(4793).hp;i.g.__TYPEDARRAY_POOL||(i.g.__TYPEDARRAY_POOL={UINT8:f([32,0]),UINT16:f([32,0]),UINT32:f([32,0]),BIGUINT64:f([32,0]),INT8:f([32,0]),INT16:f([32,0]),INT32:f([32,0]),BIGINT64:f([32,0]),FLOAT:f([32,0]),DOUBLE:f([32,0]),DATA:f([32,0]),UINT8C:f([32,0]),BUFFER:f([32,0])});var u=typeof Uint8ClampedArray!="undefined",c=typeof BigUint64Array!="undefined",v=typeof BigInt64Array!="undefined",x=i.g.__TYPEDARRAY_POOL;x.UINT8C||(x.UINT8C=f([32,0])),x.BIGUINT64||(x.BIGUINT64=f([32,0])),x.BIGINT64||(x.BIGINT64=f([32,0])),x.BUFFER||(x.BUFFER=f([32,0]));var m=x.DATA,w=x.BUFFER;o.free=function(I){if(s.isBuffer(I))w[l.log2(I.length)].push(I);else{if(Object.prototype.toString.call(I)!=="[object ArrayBuffer]"&&(I=I.buffer),!I)return;var k=I.length||I.byteLength,D=l.log2(k)|0;m[D].push(I)}};function A(P){if(P){var I=P.length||P.byteLength,k=l.log2(I);m[k].push(P)}}function y(P){A(P.buffer)}o.freeUint8=o.freeUint16=o.freeUint32=o.freeBigUint64=o.freeInt8=o.freeInt16=o.freeInt32=o.freeBigInt64=o.freeFloat32=o.freeFloat=o.freeFloat64=o.freeDouble=o.freeUint8Clamped=o.freeDataView=y,o.freeArrayBuffer=A,o.freeBuffer=function(I){w[l.log2(I.length)].push(I)},o.malloc=function(I,k){if(k===void 0||k==="arraybuffer")return M(I);switch(k){case"uint8":return E(I);case"uint16":return b(I);case"uint32":return T(I);case"int8":return p(I);case"int16":return _(I);case"int32":return g(I);case"float":case"float32":return h(I);case"double":case"float64":return S(I);case"uint8_clamped":return d(I);case"bigint64":return L(I);case"biguint64":return R(I);case"buffer":return O(I);case"data":case"dataview":return F(I);default:return null}return null};function M(I){var I=l.nextPow2(I),k=l.log2(I),D=m[k];return D.length>0?D.pop():new ArrayBuffer(I)}o.mallocArrayBuffer=M;function E(P){return new Uint8Array(M(P),0,P)}o.mallocUint8=E;function b(P){return new Uint16Array(M(2*P),0,P)}o.mallocUint16=b;function T(P){return new Uint32Array(M(4*P),0,P)}o.mallocUint32=T;function p(P){return new Int8Array(M(P),0,P)}o.mallocInt8=p;function _(P){return new Int16Array(M(2*P),0,P)}o.mallocInt16=_;function g(P){return new Int32Array(M(4*P),0,P)}o.mallocInt32=g;function h(P){return new Float32Array(M(4*P),0,P)}o.mallocFloat32=o.mallocFloat=h;function S(P){return new Float64Array(M(8*P),0,P)}o.mallocFloat64=o.mallocDouble=S;function d(P){return u?new Uint8ClampedArray(M(P),0,P):E(P)}o.mallocUint8Clamped=d;function R(P){return c?new BigUint64Array(M(8*P),0,P):null}o.mallocBigUint64=R;function L(P){return v?new BigInt64Array(M(8*P),0,P):null}o.mallocBigInt64=L;function F(P){return new DataView(M(P),0,P)}o.mallocDataView=F;function O(P){P=l.nextPow2(P);var I=l.log2(P),k=w[I];return k.length>0?k.pop():new s(P)}o.mallocBuffer=O,o.clearCache=function(){for(var I=0;I<32;++I)x.UINT8[I].length=0,x.UINT16[I].length=0,x.UINT32[I].length=0,x.INT8[I].length=0,x.INT16[I].length=0,x.INT32[I].length=0,x.FLOAT[I].length=0,x.DOUBLE[I].length=0,x.BIGUINT64[I].length=0,x.BIGINT64[I].length=0,x.UINT8C[I].length=0,m[I].length=0,w[I].length=0}},1755:function(a){"use strict";"use restrict";a.exports=o;function o(l){this.roots=new Array(l),this.ranks=new Array(l);for(var f=0;f<l;++f)this.roots[f]=f,this.ranks[f]=0}var i=o.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var l=this.roots.length;return this.roots.push(l),this.ranks.push(0),l},i.find=function(l){for(var f=l,s=this.roots;s[l]!==l;)l=s[l];for(;s[f]!==l;){var u=s[f];s[f]=l,f=u}return l},i.link=function(l,f){var s=this.find(l),u=this.find(f);if(s!==u){var c=this.ranks,v=this.roots,x=c[s],m=c[u];x<m?v[s]=u:m<x?v[u]=s:(v[u]=s,++c[s])}}},1682:function(a){"use strict";function o(f,s){for(var u=1,c=f.length,v=f[0],x=f[0],m=1;m<c;++m)if(x=v,v=f[m],s(v,x)){if(m===u){u++;continue}f[u++]=v}return f.length=u,f}function i(f){for(var s=1,u=f.length,c=f[0],v=f[0],x=1;x<u;++x,v=c)if(v=c,c=f[x],c!==v){if(x===s){s++;continue}f[s++]=c}return f.length=s,f}function l(f,s,u){return f.length===0?f:s?(u||f.sort(s),o(f,s)):(u||f.sort(),i(f))}a.exports=l},4359:function(a,o,i){"use strict";a.exports=u;var l=i(7718),f=null,s=null;typeof document!="undefined"&&(f=document.createElement("canvas"),f.width=8192,f.height=1024,s=f.getContext("2d"));function u(c,v){return(typeof v!="object"||v===null)&&(v={}),l(c,v.canvas||f,v.context||s,v)}},7718:function(a,o,i){a.exports=L,a.exports.processPixels=R;var l=i(3711),f=i(9618),s=i(5878),u=i(332),c=i(2538),v=i(2095),x="b",m="b|",w="i",A="i|",y="sup",M="+",E="+1",b="sub",T="-",p="-1";function _(F,O,P,I){for(var k="<"+F+">",D="</"+F+">",z=k.length,q=D.length,j=O[0]===M||O[0]===T,Q=0,K=-q;Q>-1&&(Q=P.indexOf(k,Q),!(Q===-1||(K=P.indexOf(D,Q+z),K===-1)||K<=Q));){for(var G=Q;G<K+q;++G)if(G<Q+z||G>=K)I[G]=null,P=P.substr(0,G)+" "+P.substr(G+1);else if(I[G]!==null){var B=I[G].indexOf(O[0]);B===-1?I[G]+=O:j&&(I[G]=I[G].substr(0,B+1)+(1+parseInt(I[G][B+1]))+I[G].substr(B+2))}var Z=Q+z,ie=P.substr(Z,K-Z),J=ie.indexOf(k);J!==-1?Q=J:Q=K+q}return I}function g(F,O,P){for(var I=O.textAlign||"start",k=O.textBaseline||"alphabetic",D=[1<<30,1<<30],z=[0,0],q=F.length,j=0;j<q;++j)for(var Q=F[j],K=0;K<2;++K)D[K]=Math.min(D[K],Q[K])|0,z[K]=Math.max(z[K],Q[K])|0;var G=0;switch(I){case"center":G=-.5*(D[0]+z[0]);break;case"right":case"end":G=-z[0];break;case"left":case"start":G=-D[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+I+"'")}var B=0;switch(k){case"hanging":case"top":B=-D[1];break;case"middle":B=-.5*(D[1]+z[1]);break;case"alphabetic":case"ideographic":B=-3*P;break;case"bottom":B=-z[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+k+"'")}var Z=1/P;return"lineHeight"in O?Z*=+O.lineHeight:"width"in O?Z=O.width/(z[0]-D[0]):"height"in O&&(Z=O.height/(z[1]-D[1])),F.map(function(ie){return[Z*(ie[0]+G),Z*(ie[1]+B)]})}function h(F,O,P,I,k,D){P=P.replace(/\n/g,""),D.breaklines===!0?P=P.replace(/\<br\>/g,`
`):P=P.replace(/\<br\>/g," ");var z="",q=[];for(V=0;V<P.length;++V)q[V]=z;D.bolds===!0&&(q=_(x,m,P,q)),D.italics===!0&&(q=_(w,A,P,q)),D.superscripts===!0&&(q=_(y,E,P,q)),D.subscripts===!0&&(q=_(b,p,P,q));var j=[],Q="";for(V=0;V<P.length;++V)q[V]!==null&&(Q+=P[V],j.push(q[V]));var K=Q.split(`
`),G=K.length,B=Math.round(k*I),Z=I,ie=I*2,J=0,le=G*B+ie;F.height<le&&(F.height=le),O.fillStyle="#000",O.fillRect(0,0,F.width,F.height),O.fillStyle="#fff";var te,V,ne,Y,oe,pe=0,we="";function De(){if(we!==""){var Se=O.measureText(we).width;O.fillText(we,Z+ne,ie+Y),ne+=Se}}function Re(){return""+Math.round(oe)+"px "}function Ae(Se,Fe){var hr=""+O.font;if(D.subscripts===!0){var dr=Se.indexOf(T),kr=Fe.indexOf(T),Ue=dr>-1?parseInt(Se[1+dr]):0,He=kr>-1?parseInt(Fe[1+kr]):0;Ue!==He&&(hr=hr.replace(Re(),"?px "),oe*=Math.pow(.75,He-Ue),hr=hr.replace("?px ",Re())),Y+=.25*B*(He-Ue)}if(D.superscripts===!0){var Xe=Se.indexOf(M),fr=Fe.indexOf(M),Mr=Xe>-1?parseInt(Se[1+Xe]):0,qr=fr>-1?parseInt(Fe[1+fr]):0;Mr!==qr&&(hr=hr.replace(Re(),"?px "),oe*=Math.pow(.75,qr-Mr),hr=hr.replace("?px ",Re())),Y-=.25*B*(qr-Mr)}if(D.bolds===!0){var et=Se.indexOf(m)>-1,jr=Fe.indexOf(m)>-1;!et&&jr&&(Or?hr=hr.replace("italic ","italic bold "):hr="bold "+hr),et&&!jr&&(hr=hr.replace("bold ",""))}if(D.italics===!0){var Or=Se.indexOf(A)>-1,_r=Fe.indexOf(A)>-1;!Or&&_r&&(hr="italic "+hr),Or&&!_r&&(hr=hr.replace("italic ",""))}O.font=hr}for(te=0;te<G;++te){var Ie=K[te]+`
`;for(ne=0,Y=te*B,oe=I,we="",V=0;V<Ie.length;++V){var Be=V+pe<j.length?j[V+pe]:j[j.length-1];z===Be?we+=Ie[V]:(De(),we=Ie[V],Be!==void 0&&(Ae(z,Be),z=Be))}De(),pe+=Ie.length;var je=Math.round(ne+2*Z)|0;J<je&&(J=je)}var Ne=J,Qe=ie+B*G,pr=f(O.getImageData(0,0,Ne,Qe).data,[Qe,Ne,4]);return pr.pick(-1,-1,0).transpose(1,0)}function S(F,O){var P=l(F,128);return O?s(P.cells,P.positions,.25):{edges:P.cells,positions:P.positions}}function d(F,O,P,I){var k=S(F,I),D=g(k.positions,O,P),z=k.edges,q=O.orientation==="ccw";if(u(D,z),O.polygons||O.polygon||O.polyline){for(var j=v(z,D),Q=new Array(j.length),K=0;K<j.length;++K){for(var G=j[K],B=new Array(G.length),Z=0;Z<G.length;++Z){for(var ie=G[Z],J=new Array(ie.length),le=0;le<ie.length;++le)J[le]=D[ie[le]].slice();q&&J.reverse(),B[Z]=J}Q[K]=B}return Q}else return O.triangles||O.triangulate||O.triangle?{cells:c(D,z,{delaunay:!1,exterior:!1,interior:!0}),positions:D}:{edges:z,positions:D}}function R(F,O,P){try{return d(F,O,P,!0)}catch(I){}try{return d(F,O,P,!1)}catch(I){}return O.polygons||O.polyline||O.polygon?[]:O.triangles||O.triangulate||O.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function L(F,O,P,I){var k=64,D=1.25,z={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};I&&(I.size&&I.size>0&&(k=I.size),I.lineSpacing&&I.lineSpacing>0&&(D=I.lineSpacing),I.styletags&&I.styletags.breaklines&&(z.breaklines=!!I.styletags.breaklines),I.styletags&&I.styletags.bolds&&(z.bolds=!!I.styletags.bolds),I.styletags&&I.styletags.italics&&(z.italics=!!I.styletags.italics),I.styletags&&I.styletags.subscripts&&(z.subscripts=!!I.styletags.subscripts),I.styletags&&I.styletags.superscripts&&(z.superscripts=!!I.styletags.superscripts)),P.font=[I.fontStyle,I.fontVariant,I.fontWeight,k+"px",I.font].filter(function(j){return j}).join(" "),P.textAlign="start",P.textBaseline="alphabetic",P.direction="ltr";var q=h(O,P,F,k,D,z);return R(q,I,k)}},1538:function(a){(function(){"use strict";if(typeof ses!="undefined"&&ses.ok&&!ses.ok())return;function i(d){d.permitHostObjects___&&d.permitHostObjects___(i)}typeof ses!="undefined"&&(ses.weakMapPermitHostObjects=i);var l=!1;if(typeof WeakMap=="function"){var f=WeakMap;if(!(typeof navigator!="undefined"&&/Firefox/.test(navigator.userAgent))){var s=new f,u=Object.freeze({});if(s.set(u,1),s.get(u)!==1)l=!0;else{a.exports=WeakMap;return}}}var c=Object.prototype.hasOwnProperty,v=Object.getOwnPropertyNames,x=Object.defineProperty,m=Object.isExtensible,w="weakmap:",A=w+"ident:"+Math.random()+"___";if(typeof crypto!="undefined"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var y=new ArrayBuffer(25),M=new Uint8Array(y);crypto.getRandomValues(M),A=w+"rand:"+Array.prototype.map.call(M,function(d){return(d%36).toString(36)}).join("")+"___"}function E(d){return!(d.substr(0,w.length)==w&&d.substr(d.length-3)==="___")}if(x(Object,"getOwnPropertyNames",{value:function(R){return v(R).filter(E)}}),"getPropertyNames"in Object){var b=Object.getPropertyNames;x(Object,"getPropertyNames",{value:function(R){return b(R).filter(E)}})}function T(d){if(d!==Object(d))throw new TypeError("Not an object: "+d);var R=d[A];if(R&&R.key===d)return R;if(m(d)){R={key:d};try{return x(d,A,{value:R,writable:!1,enumerable:!1,configurable:!1}),R}catch(L){return}}}(function(){var d=Object.freeze;x(Object,"freeze",{value:function(O){return T(O),d(O)}});var R=Object.seal;x(Object,"seal",{value:function(O){return T(O),R(O)}});var L=Object.preventExtensions;x(Object,"preventExtensions",{value:function(O){return T(O),L(O)}})})();function p(d){return d.prototype=null,Object.freeze(d)}var _=!1;function g(){!_&&typeof console!="undefined"&&(_=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var h=0,S=function(){this instanceof S||g();var d=[],R=[],L=h++;function F(k,D){var z,q=T(k);return q?L in q?q[L]:D:(z=d.indexOf(k),z>=0?R[z]:D)}function O(k){var D=T(k);return D?L in D:d.indexOf(k)>=0}function P(k,D){var z,q=T(k);return q?q[L]=D:(z=d.indexOf(k),z>=0?R[z]=D:(z=d.length,R[z]=D,d[z]=k)),this}function I(k){var D=T(k),z,q;return D?L in D&&delete D[L]:(z=d.indexOf(k),z<0?!1:(q=d.length-1,d[z]=void 0,R[z]=R[q],d[z]=d[q],d.length=q,R.length=q,!0))}return Object.create(S.prototype,{get___:{value:p(F)},has___:{value:p(O)},set___:{value:p(P)},delete___:{value:p(I)}})};S.prototype=Object.create(Object.prototype,{get:{value:function(R,L){return this.get___(R,L)},writable:!0,configurable:!0},has:{value:function(R){return this.has___(R)},writable:!0,configurable:!0},set:{value:function(R,L){return this.set___(R,L)},writable:!0,configurable:!0},delete:{value:function(R){return this.delete___(R)},writable:!0,configurable:!0}}),typeof f=="function"?function(){l&&typeof Proxy!="undefined"&&(Proxy=void 0);function d(){this instanceof S||g();var R=new f,L=void 0,F=!1;function O(D,z){return L?R.has(D)?R.get(D):L.get___(D,z):R.get(D,z)}function P(D){return R.has(D)||(L?L.has___(D):!1)}var I;l?I=function(D,z){return R.set(D,z),R.has(D)||(L||(L=new S),L.set(D,z)),this}:I=function(D,z){if(F)try{R.set(D,z)}catch(q){L||(L=new S),L.set___(D,z)}else R.set(D,z);return this};function k(D){var z=!!R.delete(D);return L&&L.delete___(D)||z}return Object.create(S.prototype,{get___:{value:p(O)},has___:{value:p(P)},set___:{value:p(I)},delete___:{value:p(k)},permitHostObjects___:{value:p(function(D){if(D===i)F=!0;else throw new Error("bogus call to permitHostObjects___")})}})}d.prototype=S.prototype,a.exports=d,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy!="undefined"&&(Proxy=void 0),a.exports=S)})()},236:function(a,o,i){var l=i(8284);a.exports=f;function f(){var s={};return function(u){if((typeof u!="object"||u===null)&&typeof u!="function")throw new Error("Weakmap-shim: Key must be object");var c=u.valueOf(s);return c&&c.identity===s?c:l(u,s)}}},8284:function(a){a.exports=o;function o(i,l){var f={identity:l},s=i.valueOf;return Object.defineProperty(i,"valueOf",{value:function(u){return u!==l?s.apply(this,arguments):f},writable:!0}),f}},606:function(a,o,i){var l=i(236);a.exports=f;function f(){var s=l();return{get:function(u,c){var v=s(u);return v.hasOwnProperty("value")?v.value:c},set:function(u,c){return s(u).value=c,this},has:function(u){return"value"in s(u)},delete:function(u){return delete s(u).value}}}},3349:function(a){"use strict";function o(){return function(c,v,x,m,w,A){var y=c[0],M=x[0],E=[0],b=M;m|=0;var T=0,p=M;for(T=0;T<y;++T){{var _=v[m]-A,g=v[m+b]-A;_>=0!=g>=0&&w.push(E[0]+.5+.5*(_+g)/(_-g))}m+=p,++E[0]}}}function i(){return o()}var l=i;function f(c){var v={};return function(m,w,A){var y=m.dtype,M=m.order,E=[y,M.join()].join(),b=v[E];return b||(v[E]=b=c([y,M])),b(m.shape.slice(0),m.data,m.stride,m.offset|0,w,A)}}function s(c){return f(l.bind(void 0,c))}function u(c){return s({funcName:c.funcName})}a.exports=u({funcName:"zeroCrossings"})},781:function(a,o,i){"use strict";a.exports=f;var l=i(3349);function f(s,u){var c=[];return u=+u||0,l(s.hi(s.shape[0]-1),c,u),c}},7790:function(){}},r={};function t(a){var o=r[a];if(o!==void 0)return o.exports;var i=r[a]={id:a,loaded:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}(function(){t.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(a){if(typeof window=="object")return window}}()})(),function(){t.nmd=function(a){return a.paths=[],a.children||(a.children=[]),a}}();var n=t(1964);pZ.exports=n})()});var yZ=fe((KUe,gZ)=>{"use strict";gZ.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var _Z=fe((QUe,bZ)=>{"use strict";var mZ=yZ();bZ.exports=IAe;var xZ={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function IAe(e){var r,t=[],n=1,a;if(typeof e=="string")if(e=e.toLowerCase(),mZ[e])t=mZ[e].slice(),a="rgb";else if(e==="transparent")n=0,a="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(e)){var o=e.slice(1),i=o.length,l=i<=4;n=1,l?(t=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],i===4&&(n=parseInt(o[3]+o[3],16)/255)):(t=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],i===8&&(n=parseInt(o[6]+o[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),a="rgb"}else if(r=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(e)){var f=r[1],s=f==="rgb",o=f.replace(/a$/,"");a=o;var i=o==="cmyk"?4:o==="gray"?1:3;t=r[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(v,x){if(/%$/.test(v))return x===i?parseFloat(v)/100:o==="rgb"?parseFloat(v)*255/100:parseFloat(v);if(o[x]==="h"){if(/deg$/.test(v))return parseFloat(v);if(xZ[v]!==void 0)return xZ[v]}return parseFloat(v)}),f===o&&t.push(1),n=s||t[i]===void 0?1:t[i],t=t.slice(0,i)}else e.length>10&&/[0-9](?:\s|\/)/.test(e)&&(t=e.match(/([0-9]+)/g).map(function(u){return parseFloat(u)}),a=e.match(/([a-z])/ig).join("").toLowerCase());else isNaN(e)?Array.isArray(e)||e.length?(t=[e[0],e[1],e[2]],a="rgb",n=e.length===4?e[3]:1):e instanceof Object&&(e.r!=null||e.red!=null||e.R!=null?(a="rgb",t=[e.r||e.red||e.R||0,e.g||e.green||e.G||0,e.b||e.blue||e.B||0]):(a="hsl",t=[e.h||e.hue||e.H||0,e.s||e.saturation||e.S||0,e.l||e.lightness||e.L||e.b||e.brightness]),n=e.a||e.alpha||e.opacity||1,e.opacity!=null&&(n/=100)):(a="rgb",t=[e>>>16,(e&65280)>>>8,e&255]);return{space:a,values:t,alpha:n}}});var AZ=fe((eGe,wZ)=>{"use strict";var PAe=_Z();wZ.exports=function(r){Array.isArray(r)&&r.raw&&(r=String.raw.apply(null,arguments));var t,n,a,o=PAe(r);if(!o.space)return[];var i=[0,0,0],l=o.space[0]==="h"?[360,100,100]:[255,255,255];return t=Array(3),t[0]=Math.min(Math.max(o.values[0],i[0]),l[0]),t[1]=Math.min(Math.max(o.values[1],i[1]),l[1]),t[2]=Math.min(Math.max(o.values[2],i[2]),l[2]),o.space[0]==="h"&&(t=OAe(t)),t.push(Math.min(Math.max(o.alpha,0),1)),t};function OAe(e){var r=e[0]/360,t=e[1]/100,n=e[2]/100,a,o,i,l,f,s=0;if(t===0)return f=n*255,[f,f,f];for(o=n<.5?n*(1+t):n+t-n*t,a=2*n-o,l=[0,0,0];s<3;)i=r+1/3*-(s-1),i<0?i++:i>1&&i--,f=6*i<1?a+(o-a)*6*i:2*i<1?o:3*i<2?a+(o-a)*(2/3-i)*6:a,l[s++]=f*255;return l}});var _m=fe((rGe,TZ)=>{TZ.exports=NAe;function NAe(e,r,t){return r<t?e<r?r:e>t?t:e:e<t?t:e>r?r:e}});var B5=fe((tGe,MZ)=>{MZ.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}});var N0=fe((nGe,EZ)=>{"use strict";var BAe=AZ(),z5=_m(),zAe=B5();EZ.exports=function(r,t){(t==="float"||!t)&&(t="array"),t==="uint"&&(t="uint8"),t==="uint_clamped"&&(t="uint8_clamped");var n=zAe(t),a=new n(4),o=t!=="uint8"&&t!=="uint8_clamped";return(!r.length||typeof r=="string")&&(r=BAe(r),r[0]/=255,r[1]/=255,r[2]/=255),qAe(r)?(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3]!=null?r[3]:255,o&&(a[0]/=255,a[1]/=255,a[2]/=255,a[3]/=255),a):(o?(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3]!=null?r[3]:1):(a[0]=z5(Math.floor(r[0]*255),0,255),a[1]=z5(Math.floor(r[1]*255),0,255),a[2]=z5(Math.floor(r[2]*255),0,255),a[3]=r[3]==null?255:z5(Math.floor(r[3]*255),0,255)),a)};function qAe(e){return!!(e instanceof Uint8Array||e instanceof Uint8ClampedArray||Array.isArray(e)&&(e[0]>1||e[0]===0)&&(e[1]>1||e[1]===0)&&(e[2]>1||e[2]===0)&&(!e[3]||e[3]>1))}});var wm=fe((aGe,SZ)=>{"use strict";var UAe=N0();function GAe(e){return e?UAe(e):[0,0,0,1]}SZ.exports=GAe});var UM=fe((iGe,IZ)=>{"use strict";var FZ=kn(),HAe=fl(),q5=N0(),U5=Kh(),VAe=Zs().defaultLine,CZ=sl().isArrayOrTypedArray,qM=q5(VAe),DZ=1;function kZ(e,r){var t=e;return t[3]*=r,t}function LZ(e){if(FZ(e))return qM;var r=q5(e);return r.length?r:qM}function RZ(e){return FZ(e)?e:DZ}function YAe(e,r,t){var n=e.color;n&&n._inputArray&&(n=n._inputArray);var a=CZ(n),o=CZ(r),i=U5.extractOpts(e),l=[],f,s,u,c,v;if(i.colorscale!==void 0?f=U5.makeColorScaleFuncFromTrace(e):f=LZ,a?s=function(m,w){return m[w]===void 0?qM:q5(f(m[w]))}:s=LZ,o?u=function(m,w){return m[w]===void 0?DZ:RZ(m[w])}:u=RZ,a||o)for(var x=0;x<t;x++)c=s(n,x),v=u(r,x),l[x]=kZ(c,v);else l=kZ(q5(n),r);return l}function WAe(e){var r=U5.extractOpts(e),t=r.colorscale;return r.reversescale&&(t=U5.flipScale(r.colorscale)),t.map(function(n){var a=n[0],o=HAe(n[1]),i=o.toRgb();return{index:a,rgb:[i.r,i.g,i.b,i.a]}})}IZ.exports={formatColor:YAe,parseColorScale:WAe}});var GM=fe((oGe,PZ)=>{"use strict";PZ.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}});var G5=fe((lGe,OZ)=>{"use strict";OZ.exports={circle:"\u25CF","circle-open":"\u25CB",square:"\u25A0","square-open":"\u25A1",diamond:"\u25C6","diamond-open":"\u25C7",cross:"+",x:"\u274C"}});var BZ=fe((sGe,NZ)=>{"use strict";var XAe=Qt();function HM(e,r,t,n){if(!r||!r.visible)return null;for(var a=XAe.getComponentMethod("errorbars","makeComputeError")(r),o=new Array(e.length),i=0;i<e.length;i++){var l=a(+e[i],i);if(n.type==="log"){var f=n.c2l(e[i]),s=e[i]-l[0],u=e[i]+l[1];if(o[i]=[(n.c2l(s,!0)-f)*t,(n.c2l(u,!0)-f)*t],s>0){var c=n.c2l(s);n._lowerLogErrorBound||(n._lowerLogErrorBound=c),n._lowerErrorBound=Math.min(n._lowerLogErrorBound,c)}}else o[i]=[-l[0]*t,l[1]*t]}return o}function jAe(e){for(var r=0;r<e.length;r++)if(e[r])return e[r].length;return 0}function ZAe(e,r,t){var n=[HM(e.x,e.error_x,r[0],t.xaxis),HM(e.y,e.error_y,r[1],t.yaxis),HM(e.z,e.error_z,r[2],t.zaxis)],a=jAe(n);if(a===0)return null;for(var o=new Array(a),i=0;i<a;i++){for(var l=[[0,0,0],[0,0,0]],f=0;f<3;f++)if(n[f])for(var s=0;s<2;s++)l[s][f]=n[f][i][s];o[i]=l}return o}NZ.exports=ZAe});var XZ=fe((fGe,WZ)=>{"use strict";var $Ae=zv().gl_line3d,zZ=zv().gl_scatter3d,JAe=zv().gl_error3d,KAe=zv().gl_mesh3d,QAe=zv().delaunay_triangulate,vc=tt(),VZ=wm(),H5=UM().formatColor,e6e=b3(),VM=GM(),r6e=G5(),t6e=Fa(),n6e=hs().appendArrayPointValue,a6e=BZ();function YZ(e,r){this.scene=e,this.uid=r,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var WM=YZ.prototype;WM.handlePick=function(e){if(e.object&&(e.object===this.linePlot||e.object===this.delaunayMesh||e.object===this.textMarkers||e.object===this.scatterPlot)){var r=e.index=e.data.index;return e.object.highlight&&e.object.highlight(null),this.scatterPlot&&(e.object=this.scatterPlot,this.scatterPlot.highlight(e.data)),e.textLabel="",this.textLabels&&(vc.isArrayOrTypedArray(this.textLabels)?(this.textLabels[r]||this.textLabels[r]===0)&&(e.textLabel=this.textLabels[r]):e.textLabel=this.textLabels),e.traceCoordinate=[this.data.x[r],this.data.y[r],this.data.z[r]],!0}};function i6e(e,r,t){var n=(t+1)%3,a=(t+2)%3,o=[],i=[],l;for(l=0;l<e.length;++l){var f=e[l];isNaN(f[n])||!isFinite(f[n])||isNaN(f[a])||!isFinite(f[a])||(o.push([f[n],f[a]]),i.push(l))}var s=QAe(o);for(l=0;l<s.length;++l)for(var u=s[l],c=0;c<u.length;++c)u[c]=i[u[c]];return{positions:e,cells:s,meshColor:r}}function o6e(e){for(var r=[0,0,0],t=[[0,0,0],[0,0,0],[0,0,0]],n=[1,1,1],a=0;a<3;a++){var o=e[a];o&&o.copy_zstyle!==!1&&e[2].visible!==!1&&(o=e[2]),!(!o||!o.visible)&&(r[a]=o.width/2,t[a]=VZ(o.color),n[a]=o.thickness)}return{capSize:r,color:t,lineWidth:n}}function qZ(e){return e==null?0:e.indexOf("left")>-1?-1:e.indexOf("right")>-1?1:0}function UZ(e){return e==null?0:e.indexOf("top")>-1?-1:e.indexOf("bottom")>-1?1:0}function l6e(e){var r=0,t=0,n=[r,t];if(Array.isArray(e))for(var a=0;a<e.length;a++)n[a]=[r,t],e[a]&&(n[a][0]=qZ(e[a]),n[a][1]=UZ(e[a]));else n[0]=qZ(e),n[1]=UZ(e);return n}function s6e(e,r){return r(e*4)}function f6e(e){return r6e[e]}function YM(e,r,t,n,a){var o=null;if(vc.isArrayOrTypedArray(e)){o=[];for(var i=0;i<r;i++)e[i]===void 0?o[i]=n:o[i]=t(e[i],a)}else o=t(e,vc.identity);return o}function u6e(e,r){var t=[],n=e.fullSceneLayout,a=e.dataScale,o=n.xaxis,i=n.yaxis,l=n.zaxis,f=r.marker,s=r.line,u=r.x||[],c=r.y||[],v=r.z||[],x=u.length,m=r.xcalendar,w=r.ycalendar,A=r.zcalendar,y,M,E,b,T,p;for(T=0;T<x;T++)y=o.d2l(u[T],0,m)*a[0],M=i.d2l(c[T],0,w)*a[1],E=l.d2l(v[T],0,A)*a[2],t[T]=[y,M,E];if(Array.isArray(r.text))p=r.text;else if(vc.isTypedArray(r.text))p=Array.from(r.text);else if(r.text!==void 0)for(p=new Array(x),T=0;T<x;T++)p[T]=r.text;function _(j,Q){var K=n[j];return t6e.tickText(K,K.d2l(Q),!0).text}var g=r.texttemplate;if(g){var h=e.fullLayout,S=h._d3locale,d=Array.isArray(g),R=d?Math.min(g.length,x):x,L=d?function(j){return g[j]}:function(){return g};for(p=new Array(R),T=0;T<R;T++){var F={x:u[T],y:c[T],z:v[T]},O={xLabel:_("xaxis",u[T]),yLabel:_("yaxis",c[T]),zLabel:_("zaxis",v[T])},P={};n6e(P,r,T);var I=r._meta||{};p[T]=vc.texttemplateString(L(T),O,S,P,F,I)}}if(b={position:t,mode:r.mode,text:p},"line"in r&&(b.lineColor=H5(s,1,x),b.lineWidth=s.width,b.lineDashes=s.dash),"marker"in r){var k=e6e(r);b.scatterColor=H5(f,1,x),b.scatterSize=YM(f.size,x,s6e,20,k),b.scatterMarker=YM(f.symbol,x,f6e,"\u25CF"),b.scatterLineWidth=f.line.width,b.scatterLineColor=H5(f.line,1,x),b.scatterAngle=0}"textposition"in r&&(b.textOffset=l6e(r.textposition),b.textColor=H5(r.textfont,1,x),b.textSize=YM(r.textfont.size,x,vc.identity,12),b.textFontFamily=r.textfont.family,b.textFontWeight=r.textfont.weight,b.textFontStyle=r.textfont.style,b.textFontVariant=r.textfont.variant,b.textAngle=0);var D=["x","y","z"];for(b.project=[!1,!1,!1],b.projectScale=[1,1,1],b.projectOpacity=[1,1,1],T=0;T<3;++T){var z=r.projection[D[T]];(b.project[T]=z.show)&&(b.projectOpacity[T]=z.opacity,b.projectScale[T]=z.scale)}b.errorBounds=a6e(r,a,n);var q=o6e([r.error_x,r.error_y,r.error_z]);return b.errorColor=q.color,b.errorLineWidth=q.lineWidth,b.errorCapSize=q.capSize,b.delaunayAxis=r.surfaceaxis,b.delaunayColor=VZ(r.surfacecolor),b}function GZ(e){if(vc.isArrayOrTypedArray(e)){var r=e[0];return vc.isArrayOrTypedArray(r)&&(e=r),"rgb("+e.slice(0,3).map(function(t){return Math.round(t*255)})+")"}return null}function HZ(e){return vc.isArrayOrTypedArray(e)?e.length===4&&typeof e[0]=="number"?GZ(e):e.map(GZ):null}WM.update=function(e){var r=this.scene.glplot.gl,t,n,a,o,i=VM.solid;this.data=e;var l=u6e(this.scene,e);"mode"in l&&(this.mode=l.mode),"lineDashes"in l&&l.lineDashes in VM&&(i=VM[l.lineDashes]),this.color=HZ(l.scatterColor)||HZ(l.lineColor),this.dataPoints=l.position,t={gl:this.scene.glplot.gl,position:l.position,color:l.lineColor,lineWidth:l.lineWidth||1,dashes:i[0],dashScale:i[1],opacity:e.opacity,connectGaps:e.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(t):(this.linePlot=$Ae(t),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var f=e.opacity;if(e.marker&&e.marker.opacity!==void 0&&(f*=e.marker.opacity),n={gl:this.scene.glplot.gl,position:l.position,color:l.scatterColor,size:l.scatterSize,glyph:l.scatterMarker,opacity:f,orthographic:!0,lineWidth:l.scatterLineWidth,lineColor:l.scatterLineColor,project:l.project,projectScale:l.projectScale,projectOpacity:l.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(n):(this.scatterPlot=zZ(n),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),o={gl:this.scene.glplot.gl,position:l.position,glyph:l.text,color:l.textColor,size:l.textSize,angle:l.textAngle,alignment:l.textOffset,font:l.textFontFamily,fontWeight:l.textFontWeight,fontStyle:l.textFontStyle,fontVariant:l.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:e.opacity},this.textLabels=e.hovertext||e.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(o):(this.textMarkers=zZ(o),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),a={gl:this.scene.glplot.gl,position:l.position,color:l.errorColor,error:l.errorBounds,lineWidth:l.errorLineWidth,capSize:l.errorCapSize,opacity:e.opacity},this.errorBars?l.errorBounds?this.errorBars.update(a):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):l.errorBounds&&(this.errorBars=JAe(a),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),l.delaunayAxis>=0){var s=i6e(l.position,l.delaunayColor,l.delaunayAxis);s.opacity=e.opacity,this.delaunayMesh?this.delaunayMesh.update(s):(s.gl=r,this.delaunayMesh=KAe(s),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)};WM.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function c6e(e,r){var t=new YZ(e,r.uid);return t.update(r),t}WZ.exports=c6e});var JM=fe((uGe,$Z)=>{"use strict";var dc=nc(),h6e=Fi(),$M=u0(),XM=Jd().axisHoverFormat,v6e=dl().hovertemplateAttrs,d6e=dl().texttemplateAttrs,jZ=ul(),p6e=GM(),g6e=G5(),bf=Na().extendFlat,y6e=vl().overrideAll,ZZ=Dg(),m6e=dc.line,qv=dc.marker,x6e=qv.line,b6e=bf({width:m6e.width,dash:{valType:"enumerated",values:ZZ(p6e),dflt:"solid"}},$M("line"));function jM(e){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}}var ZM=$Z.exports=y6e({x:dc.x,y:dc.y,z:{valType:"data_array"},text:bf({},dc.text,{}),texttemplate:d6e({},{}),hovertext:bf({},dc.hovertext,{}),hovertemplate:v6e(),xhoverformat:XM("x"),yhoverformat:XM("y"),zhoverformat:XM("z"),mode:bf({},dc.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:jM("x"),y:jM("y"),z:jM("z")},connectgaps:dc.connectgaps,line:b6e,marker:bf({symbol:{valType:"enumerated",values:ZZ(g6e),dflt:"circle",arrayOk:!0},size:bf({},qv.size,{dflt:8}),sizeref:qv.sizeref,sizemin:qv.sizemin,sizemode:qv.sizemode,opacity:bf({},qv.opacity,{arrayOk:!1}),colorbar:qv.colorbar,line:bf({width:bf({},x6e.width,{arrayOk:!1})},$M("marker.line"))},$M("marker")),textposition:bf({},dc.textposition,{dflt:"top center"}),textfont:h6e({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),opacity:jZ.opacity,hoverinfo:bf({},jZ.hoverinfo)},"calc","nested");ZM.x.editType=ZM.y.editType=ZM.z.editType="calc+clearAxisTypes"});var QZ=fe((cGe,KZ)=>{"use strict";var JZ=Qt(),_6e=tt(),KM=Ki(),w6e=gb(),A6e=yb(),T6e=mb(),M6e=JM();KZ.exports=function(r,t,n,a){function o(x,m){return _6e.coerce(r,t,M6e,x,m)}var i=E6e(r,t,o,a);if(!i){t.visible=!1;return}o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),o("mode"),KM.hasMarkers(t)&&w6e(r,t,n,a,o,{noSelect:!0,noAngle:!0}),KM.hasLines(t)&&(o("connectgaps"),A6e(r,t,n,a,o)),KM.hasText(t)&&(o("texttemplate"),T6e(r,t,a,o,{noSelect:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var l=(t.line||{}).color,f=(t.marker||{}).color;o("surfaceaxis")>=0&&o("surfacecolor",l||f);for(var s=["x","y","z"],u=0;u<3;++u){var c="projection."+s[u];o(c+".show")&&(o(c+".opacity"),o(c+".scale"))}var v=JZ.getComponentMethod("errorbars","supplyDefaults");v(r,t,l||f||n,{axis:"z"}),v(r,t,l||f||n,{axis:"y",inherit:"z"}),v(r,t,l||f||n,{axis:"x",inherit:"z"})};function E6e(e,r,t,n){var a=0,o=t("x"),i=t("y"),l=t("z"),f=JZ.getComponentMethod("calendars","handleTraceDefaults");return f(e,r,["x","y","z"],n),o&&i&&l&&(a=Math.min(o.length,i.length,l.length),r._length=r._xlength=r._ylength=r._zlength=a),a}});var r$=fe((hGe,e$)=>{"use strict";var S6e=wb(),C6e=_b();e$.exports=function(r,t){var n=[{x:!1,y:!1,trace:t,t:{}}];return S6e(n,t),C6e(r,t),n}});var n$=fe((vGe,t$)=>{t$.exports=k6e;function k6e(e,r){if(typeof e!="string")throw new TypeError("must specify type string");if(r=r||{},typeof document=="undefined"&&!r.canvas)return null;var t=r.canvas||document.createElement("canvas");typeof r.width=="number"&&(t.width=r.width),typeof r.height=="number"&&(t.height=r.height);var n=r,a;try{var o=[e];e.indexOf("webgl")===0&&o.push("experimental-"+e);for(var i=0;i<o.length;i++)if(a=t.getContext(o[i],n),a)return a}catch(l){a=null}return a||null}});var i$=fe((dGe,a$)=>{var L6e=n$();a$.exports=function(r){return L6e("webgl",r)}});var QM=fe((pGe,l$)=>{"use strict";var o$=xn(),R6e=function(){};l$.exports=function(r){for(var t in r)typeof r[t]=="function"&&(r[t]=R6e);r.destroy=function(){r.container.parentNode.removeChild(r.container)};var n=document.createElement("div");n.className="no-webgl",n.style.cursor="pointer",n.style.fontSize="24px",n.style.color=o$.defaults[0],n.style.position="absolute",n.style.left=n.style.top="0px",n.style.width=n.style.height="100%",n.style["background-color"]=o$.lightLine,n.style["z-index"]=30;var a=document.createElement("p");return a.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",a.style.position="relative",a.style.top="50%",a.style.left="50%",a.style.height="30%",a.style.width="50%",a.style.margin="-15% 0 0 -25%",n.appendChild(a),r.container.appendChild(n),r.container.style.background="#FFFFFF",r.container.onclick=function(){window.open("https://get.webgl.org")},!1}});var u$=fe((gGe,f$)=>{"use strict";var Uv=wm(),F6e=tt(),D6e=["xaxis","yaxis","zaxis"];function s$(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var I6e=s$.prototype;I6e.merge=function(e,r){for(var t=this,n=0;n<3;++n){var a=r[D6e[n]];if(!a.visible){t.tickEnable[n]=!1,t.labelEnable[n]=!1,t.lineEnable[n]=!1,t.lineTickEnable[n]=!1,t.gridEnable[n]=!1,t.zeroEnable[n]=!1,t.backgroundEnable[n]=!1;continue}t.labels[n]=e._meta?F6e.templateString(a.title.text,e._meta):a.title.text,"font"in a.title&&(a.title.font.color&&(t.labelColor[n]=Uv(a.title.font.color)),a.title.font.family&&(t.labelFont[n]=a.title.font.family),a.title.font.size&&(t.labelSize[n]=a.title.font.size),a.title.font.weight&&(t.labelFontWeight[n]=a.title.font.weight),a.title.font.style&&(t.labelFontStyle[n]=a.title.font.style),a.title.font.variant&&(t.labelFontVariant[n]=a.title.font.variant)),"showline"in a&&(t.lineEnable[n]=a.showline),"linecolor"in a&&(t.lineColor[n]=Uv(a.linecolor)),"linewidth"in a&&(t.lineWidth[n]=a.linewidth),"showgrid"in a&&(t.gridEnable[n]=a.showgrid),"gridcolor"in a&&(t.gridColor[n]=Uv(a.gridcolor)),"gridwidth"in a&&(t.gridWidth[n]=a.gridwidth),a.type==="log"?t.zeroEnable[n]=!1:"zeroline"in a&&(t.zeroEnable[n]=a.zeroline),"zerolinecolor"in a&&(t.zeroLineColor[n]=Uv(a.zerolinecolor)),"zerolinewidth"in a&&(t.zeroLineWidth[n]=a.zerolinewidth),"ticks"in a&&a.ticks?t.lineTickEnable[n]=!0:t.lineTickEnable[n]=!1,"ticklen"in a&&(t.lineTickLength[n]=t._defaultLineTickLength[n]=a.ticklen),"tickcolor"in a&&(t.lineTickColor[n]=Uv(a.tickcolor)),"tickwidth"in a&&(t.lineTickWidth[n]=a.tickwidth),"tickangle"in a&&(t.tickAngle[n]=a.tickangle==="auto"?-3600:Math.PI*-a.tickangle/180),"showticklabels"in a&&(t.tickEnable[n]=a.showticklabels),"tickfont"in a&&(a.tickfont.color&&(t.tickColor[n]=Uv(a.tickfont.color)),a.tickfont.family&&(t.tickFont[n]=a.tickfont.family),a.tickfont.size&&(t.tickSize[n]=a.tickfont.size),a.tickfont.weight&&(t.tickFontWeight[n]=a.tickfont.weight),a.tickfont.style&&(t.tickFontStyle[n]=a.tickfont.style),a.tickfont.variant&&(t.tickFontVariant[n]=a.tickfont.variant)),"mirror"in a?["ticks","all","allticks"].indexOf(a.mirror)!==-1?(t.lineTickMirror[n]=!0,t.lineMirror[n]=!0):a.mirror===!0?(t.lineTickMirror[n]=!1,t.lineMirror[n]=!0):(t.lineTickMirror[n]=!1,t.lineMirror[n]=!1):t.lineMirror[n]=!1,"showbackground"in a&&a.showbackground!==!1?(t.backgroundEnable[n]=!0,t.backgroundColor[n]=Uv(a.backgroundcolor)):t.backgroundEnable[n]=!1}};function P6e(e,r){var t=new s$;return t.merge(e,r),t}f$.exports=P6e});var v$=fe((yGe,h$)=>{"use strict";var O6e=wm(),N6e=["xaxis","yaxis","zaxis"];function c$(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var B6e=c$.prototype;B6e.merge=function(e){for(var r=0;r<3;++r){var t=e[N6e[r]];if(!t.visible){this.enabled[r]=!1,this.drawSides[r]=!1;continue}this.enabled[r]=t.showspikes,this.colors[r]=O6e(t.spikecolor),this.drawSides[r]=t.spikesides,this.lineWidth[r]=t.spikethickness}};function z6e(e){var r=new c$;return r.merge(e),r}h$.exports=z6e});var g$=fe((mGe,p$)=>{"use strict";p$.exports=V6e;var d$=Fa(),q6e=tt(),U6e=["xaxis","yaxis","zaxis"],G6e=[0,0,0];function H6e(e){for(var r=new Array(3),t=0;t<3;++t){for(var n=e[t],a=new Array(n.length),o=0;o<n.length;++o)a[o]=n[o].x;r[t]=a}return r}function V6e(e){for(var r=e.axesOptions,t=e.glplot.axesPixels,n=e.fullSceneLayout,a=[[],[],[]],o=0;o<3;++o){var i=n[U6e[o]];if(i._length=(t[o].hi-t[o].lo)*t[o].pixelsPerDataUnit/e.dataScale[o],Math.abs(i._length)===1/0||isNaN(i._length))a[o]=[];else{i._input_range=i.range.slice(),i.range[0]=t[o].lo/e.dataScale[o],i.range[1]=t[o].hi/e.dataScale[o],i._m=1/(e.dataScale[o]*t[o].pixelsPerDataUnit),i.range[0]===i.range[1]&&(i.range[0]-=1,i.range[1]+=1);var l=i.tickmode;if(i.tickmode==="auto"){i.tickmode="linear";var f=i.nticks||q6e.constrain(i._length/40,4,9);d$.autoTicks(i,Math.abs(i.range[1]-i.range[0])/f)}for(var s=d$.calcTicks(i,{msUTC:!0}),u=0;u<s.length;++u)s[u].x=s[u].x*e.dataScale[o],i.type==="date"&&(s[u].text=s[u].text.replace(/\<br\>/g," "));a[o]=s,i.tickmode=l}}r.ticks=a;for(var o=0;o<3;++o){G6e[o]=.5*(e.glplot.bounds[0][o]+e.glplot.bounds[1][o]);for(var u=0;u<2;++u)r.bounds[u][o]=e.glplot.bounds[u][o]}e.contourLevels=H6e(a)}});var A$=fe((xGe,w$)=>{"use strict";var x$=zv().gl_plot3d,Y6e=x$.createCamera,y$=x$.createScene,W6e=i$(),X6e=Z3(),W5=Qt(),Ko=tt(),Y5=Ko.preserveDrawingBuffer(),X5=Fa(),_f=of(),j6e=wm(),Z6e=QM(),$6e=y8(),J6e=u$(),K6e=v$(),Q6e=g$(),eTe=av().applyAutorangeOptions,Am,V5,b$=!1;function _$(e,r){var t=document.createElement("div"),n=e.container;this.graphDiv=e.graphDiv;var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.style.position="absolute",a.style.top=a.style.left="0px",a.style.width=a.style.height="100%",a.style["z-index"]=20,a.style["pointer-events"]="none",t.appendChild(a),this.svgContainer=a,t.id=e.id,t.style.position="absolute",t.style.top=t.style.left="0px",t.style.width=t.style.height="100%",n.appendChild(t),this.fullLayout=r,this.id=e.id||"scene",this.fullSceneLayout=r[this.id],this.plotArgs=[[],{},{}],this.axesOptions=J6e(r,r[this.id]),this.spikeOptions=K6e(r[this.id]),this.container=t,this.staticMode=!!e.staticPlot,this.pixelRatio=this.pixelRatio||e.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=W5.getComponentMethod("annotations3d","convert"),this.drawAnnotations=W5.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var bo=_$.prototype;bo.prepareOptions=function(){var e=this,r={canvas:e.canvas,gl:e.gl,glOptions:{preserveDrawingBuffer:Y5,premultipliedAlpha:!0,antialias:!0},container:e.container,axes:e.axesOptions,spikes:e.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:e.camera,pixelRatio:e.pixelRatio};if(e.staticMode){if(!V5&&(Am=document.createElement("canvas"),V5=W6e({canvas:Am,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!V5))throw new Error("error creating static canvas/context for image server");r.gl=V5,r.canvas=Am}return r};var m$=!0;bo.tryCreatePlot=function(){var e=this,r=e.prepareOptions(),t=!0;try{e.glplot=y$(r)}catch(n){if(e.staticMode||!m$||Y5)t=!1;else{Ko.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{Y5=r.glOptions.preserveDrawingBuffer=!0,e.glplot=y$(r)}catch(a){Y5=r.glOptions.preserveDrawingBuffer=!1,t=!1}}}return m$=!1,t};bo.initializeGLCamera=function(){var e=this,r=e.fullSceneLayout.camera,t=r.projection.type==="orthographic";e.camera=Y6e(e.container,{center:[r.center.x,r.center.y,r.center.z],eye:[r.eye.x,r.eye.y,r.eye.z],up:[r.up.x,r.up.y,r.up.z],_ortho:t,zoomMin:.01,zoomMax:100,mode:"orbit"})};bo.initializeGLPlot=function(){var e=this;e.initializeGLCamera();var r=e.tryCreatePlot();if(!r)return Z6e(e);e.traces={},e.make4thDimension();var t=e.graphDiv,n=t.layout,a=function(){var i={};return e.isCameraChanged(n)&&(i[e.id+".camera"]=e.getCamera()),e.isAspectChanged(n)&&(i[e.id+".aspectratio"]=e.glplot.getAspectratio(),n[e.id].aspectmode!=="manual"&&(e.fullSceneLayout.aspectmode=n[e.id].aspectmode=i[e.id+".aspectmode"]="manual")),i},o=function(i){if(i.fullSceneLayout.dragmode!==!1){var l=a();i.saveLayout(n),i.graphDiv.emit("plotly_relayout",l)}};return e.glplot.canvas&&(e.glplot.canvas.addEventListener("mouseup",function(){o(e)}),e.glplot.canvas.addEventListener("touchstart",function(){b$=!0}),e.glplot.canvas.addEventListener("wheel",function(i){if(t._context._scrollZoom.gl3d){if(e.camera._ortho){var l=i.deltaX>i.deltaY?1.1:.9090909090909091,f=e.glplot.getAspectratio();e.glplot.setAspectratio({x:l*f.x,y:l*f.y,z:l*f.z})}o(e)}},X6e?{passive:!1}:!1),e.glplot.canvas.addEventListener("mousemove",function(){if(e.fullSceneLayout.dragmode!==!1&&e.camera.mouseListener.buttons!==0){var i=a();e.graphDiv.emit("plotly_relayouting",i)}}),e.staticMode||e.glplot.canvas.addEventListener("webglcontextlost",function(i){t&&t.emit&&t.emit("plotly_webglcontextlost",{event:i,layer:e.id})},!1)),e.glplot.oncontextloss=function(){e.recoverContext()},e.glplot.onrender=function(){e.render()},!0};bo.render=function(){var e=this,r=e.graphDiv,t,n=e.svgContainer,a=e.container.getBoundingClientRect();r._fullLayout._calcInverseTransform(r);var o=r._fullLayout._invScaleX,i=r._fullLayout._invScaleY,l=a.width*o,f=a.height*i;n.setAttributeNS(null,"viewBox","0 0 "+l+" "+f),n.setAttributeNS(null,"width",l),n.setAttributeNS(null,"height",f),Q6e(e),e.glplot.axes.update(e.axesOptions);for(var s=Object.keys(e.traces),u=null,c=e.glplot.selection,v=0;v<s.length;++v)t=e.traces[s[v]],t.data.hoverinfo!=="skip"&&t.handlePick(c)&&(u=t),t.setContourLevels&&t.setContourLevels();function x(S,d,R){var L=e.fullSceneLayout[S+"axis"];return L.type!=="log"&&(d=L.d2l(d)),X5.hoverLabelText(L,d,R)}if(u!==null){var m=$6e(e.glplot.cameraParams,c.dataCoordinate);t=u.data;var w=r._fullData[t.index],A=c.index,y={xLabel:x("x",c.traceCoordinate[0],t.xhoverformat),yLabel:x("y",c.traceCoordinate[1],t.yhoverformat),zLabel:x("z",c.traceCoordinate[2],t.zhoverformat)},M=_f.castHoverinfo(w,e.fullLayout,A),E=(M||"").split("+"),b=M&&M==="all";!w.hovertemplate&&!b&&(E.indexOf("x")===-1&&(y.xLabel=void 0),E.indexOf("y")===-1&&(y.yLabel=void 0),E.indexOf("z")===-1&&(y.zLabel=void 0),E.indexOf("text")===-1&&(c.textLabel=void 0),E.indexOf("name")===-1&&(u.name=void 0));var T,p=[];t.type==="cone"||t.type==="streamtube"?(y.uLabel=x("x",c.traceCoordinate[3],t.uhoverformat),(b||E.indexOf("u")!==-1)&&p.push("u: "+y.uLabel),y.vLabel=x("y",c.traceCoordinate[4],t.vhoverformat),(b||E.indexOf("v")!==-1)&&p.push("v: "+y.vLabel),y.wLabel=x("z",c.traceCoordinate[5],t.whoverformat),(b||E.indexOf("w")!==-1)&&p.push("w: "+y.wLabel),y.normLabel=c.traceCoordinate[6].toPrecision(3),(b||E.indexOf("norm")!==-1)&&p.push("norm: "+y.normLabel),t.type==="streamtube"&&(y.divergenceLabel=c.traceCoordinate[7].toPrecision(3),(b||E.indexOf("divergence")!==-1)&&p.push("divergence: "+y.divergenceLabel)),c.textLabel&&p.push(c.textLabel),T=p.join("<br>")):t.type==="isosurface"||t.type==="volume"?(y.valueLabel=X5.hoverLabelText(e._mockAxis,e._mockAxis.d2l(c.traceCoordinate[3]),t.valuehoverformat),p.push("value: "+y.valueLabel),c.textLabel&&p.push(c.textLabel),T=p.join("<br>")):T=c.textLabel;var _={x:c.traceCoordinate[0],y:c.traceCoordinate[1],z:c.traceCoordinate[2],data:w._input,fullData:w,curveNumber:w.index,pointNumber:A};_f.appendArrayPointValue(_,w,A),t._module.eventData&&(_=w._module.eventData(_,c,w,{},A));var g={points:[_]};if(e.fullSceneLayout.hovermode){var h=[];_f.loneHover({trace:w,x:(.5+.5*m[0]/m[3])*l,y:(.5-.5*m[1]/m[3])*f,xLabel:y.xLabel,yLabel:y.yLabel,zLabel:y.zLabel,text:T,name:u.name,color:_f.castHoverOption(w,A,"bgcolor")||u.color,borderColor:_f.castHoverOption(w,A,"bordercolor"),fontFamily:_f.castHoverOption(w,A,"font.family"),fontSize:_f.castHoverOption(w,A,"font.size"),fontColor:_f.castHoverOption(w,A,"font.color"),nameLength:_f.castHoverOption(w,A,"namelength"),textAlign:_f.castHoverOption(w,A,"align"),hovertemplate:Ko.castOption(w,A,"hovertemplate"),hovertemplateLabels:Ko.extendFlat({},_,y),eventData:[_]},{container:n,gd:r,inOut_bbox:h}),_.bbox=h[0]}c.distance<5&&(c.buttons||b$)?r.emit("plotly_click",g):r.emit("plotly_hover",g),this.oldEventData=g}else _f.loneUnhover(n),this.oldEventData&&r.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;e.drawAnnotations(e)};bo.recoverContext=function(){var e=this;e.glplot.dispose();var r=function(){if(e.glplot.gl.isContextLost()){requestAnimationFrame(r);return}if(!e.initializeGLPlot()){Ko.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}e.plot.apply(e,e.plotArgs)};requestAnimationFrame(r)};var Tm=["xaxis","yaxis","zaxis"];function rTe(e,r,t){for(var n=e.fullSceneLayout,a=0;a<3;a++){var o=Tm[a],i=o.charAt(0),l=n[o],f=r[i],s=r[i+"calendar"],u=r["_"+i+"length"];if(!Ko.isArrayOrTypedArray(f))t[0][a]=Math.min(t[0][a],0),t[1][a]=Math.max(t[1][a],u-1);else for(var c,v=0;v<(u||f.length);v++)if(Ko.isArrayOrTypedArray(f[v]))for(var x=0;x<f[v].length;++x)c=l.d2l(f[v][x],0,s),!isNaN(c)&&isFinite(c)&&(t[0][a]=Math.min(t[0][a],c),t[1][a]=Math.max(t[1][a],c));else c=l.d2l(f[v],0,s),!isNaN(c)&&isFinite(c)&&(t[0][a]=Math.min(t[0][a],c),t[1][a]=Math.max(t[1][a],c))}}function tTe(e,r){for(var t=e.fullSceneLayout,n=t.annotations||[],a=0;a<3;a++)for(var o=Tm[a],i=o.charAt(0),l=t[o],f=0;f<n.length;f++){var s=n[f];if(s.visible){var u=l.r2l(s[i]);!isNaN(u)&&isFinite(u)&&(r[0][a]=Math.min(r[0][a],u),r[1][a]=Math.max(r[1][a],u))}}}bo.plot=function(e,r,t){var n=this;if(n.plotArgs=[e,r,t],!n.glplot.contextLost){var a,o,i,l,f,s,u=r[n.id],c=t[n.id];n.fullLayout=r,n.fullSceneLayout=u,n.axesOptions.merge(r,u),n.spikeOptions.merge(u),n.setViewport(u),n.updateFx(u.dragmode,u.hovermode),n.camera.enableWheel=n.graphDiv._context._scrollZoom.gl3d,n.glplot.setClearColor(j6e(u.bgcolor)),n.setConvert(f),e?Array.isArray(e)||(e=[e]):e=[];var v=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(i=0;i<e.length;++i)a=e[i],!(a.visible!==!0||a._length===0)&&rTe(this,a,v);tTe(this,v);var x=[1,1,1];for(l=0;l<3;++l)v[1][l]===v[0][l]?x[l]=1:x[l]=1/(v[1][l]-v[0][l]);for(n.dataScale=x,n.convertAnnotations(this),i=0;i<e.length;++i)a=e[i],!(a.visible!==!0||a._length===0)&&(o=n.traces[a.uid],o?o.data.type===a.type?o.update(a):(o.dispose(),o=a._module.plot(this,a),n.traces[a.uid]=o):(o=a._module.plot(this,a),n.traces[a.uid]=o),o.name=a.name);var m=Object.keys(n.traces);e:for(i=0;i<m.length;++i){for(l=0;l<e.length;++l)if(e[l].uid===m[i]&&e[l].visible===!0&&e[l]._length!==0)continue e;o=n.traces[m[i]],o.dispose(),delete n.traces[m[i]]}n.glplot.objects.sort(function(q,j){return q._trace.data.index-j._trace.data.index});var w=[[0,0,0],[0,0,0]],A=[],y={};for(i=0;i<3;++i){f=u[Tm[i]],s=f.type,s in y?(y[s].acc*=x[i],y[s].count+=1):y[s]={acc:x[i],count:1};var M;if(f.autorange){w[0][i]=1/0,w[1][i]=-1/0;var E=n.glplot.objects,b=n.fullSceneLayout.annotations||[],T=f._name.charAt(0);for(l=0;l<E.length;l++){var p=E[l],_=p.bounds,g=p._trace.data._pad||0;p.constructor.name==="ErrorBars"&&f._lowerLogErrorBound?w[0][i]=Math.min(w[0][i],f._lowerLogErrorBound):w[0][i]=Math.min(w[0][i],_[0][i]/x[i]-g),w[1][i]=Math.max(w[1][i],_[1][i]/x[i]+g)}for(l=0;l<b.length;l++){var h=b[l];if(h.visible){var S=f.r2l(h[T]);w[0][i]=Math.min(w[0][i],S),w[1][i]=Math.max(w[1][i],S)}}if("rangemode"in f&&f.rangemode==="tozero"&&(w[0][i]=Math.min(w[0][i],0),w[1][i]=Math.max(w[1][i],0)),w[0][i]>w[1][i])w[0][i]=-1,w[1][i]=1;else{var d=w[1][i]-w[0][i];w[0][i]-=d/32,w[1][i]+=d/32}if(M=[w[0][i],w[1][i]],M=eTe(M,f),w[0][i]=M[0],w[1][i]=M[1],f.isReversed()){var R=w[0][i];w[0][i]=w[1][i],w[1][i]=R}}else M=f.range,w[0][i]=f.r2l(M[0]),w[1][i]=f.r2l(M[1]);w[0][i]===w[1][i]&&(w[0][i]-=1,w[1][i]+=1),A[i]=w[1][i]-w[0][i],f.range=[w[0][i],w[1][i]],f.limitRange(),n.glplot.setBounds(i,{min:f.range[0]*x[i],max:f.range[1]*x[i]})}var L,F=u.aspectmode;if(F==="cube")L=[1,1,1];else if(F==="manual"){var O=u.aspectratio;L=[O.x,O.y,O.z]}else if(F==="auto"||F==="data"){var P=[1,1,1];for(i=0;i<3;++i){f=u[Tm[i]],s=f.type;var I=y[s];P[i]=Math.pow(I.acc,1/I.count)/x[i]}F==="data"||Math.max.apply(null,P)/Math.min.apply(null,P)<=4?L=P:L=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");u.aspectratio.x=c.aspectratio.x=L[0],u.aspectratio.y=c.aspectratio.y=L[1],u.aspectratio.z=c.aspectratio.z=L[2],n.glplot.setAspectratio(u.aspectratio),n.viewInitial.aspectratio||(n.viewInitial.aspectratio={x:u.aspectratio.x,y:u.aspectratio.y,z:u.aspectratio.z}),n.viewInitial.aspectmode||(n.viewInitial.aspectmode=u.aspectmode);var k=u.domain||null,D=r._size||null;if(k&&D){var z=n.container.style;z.position="absolute",z.left=D.l+k.x[0]*D.w+"px",z.top=D.t+(1-k.y[1])*D.h+"px",z.width=D.w*(k.x[1]-k.x[0])+"px",z.height=D.h*(k.y[1]-k.y[0])+"px"}n.glplot.redraw()}};bo.destroy=function(){var e=this;e.glplot&&(e.camera.mouseListener.enabled=!1,e.container.removeEventListener("wheel",e.camera.wheelListener),e.camera=null,e.glplot.dispose(),e.container.parentNode.removeChild(e.container),e.glplot=null)};function nTe(e){return[[e.eye.x,e.eye.y,e.eye.z],[e.center.x,e.center.y,e.center.z],[e.up.x,e.up.y,e.up.z]]}function aTe(e){return{up:{x:e.up[0],y:e.up[1],z:e.up[2]},center:{x:e.center[0],y:e.center[1],z:e.center[2]},eye:{x:e.eye[0],y:e.eye[1],z:e.eye[2]},projection:{type:e._ortho===!0?"orthographic":"perspective"}}}bo.getCamera=function(){var e=this;return e.camera.view.recalcMatrix(e.camera.view.lastT()),aTe(e.camera)};bo.setViewport=function(e){var r=this,t=e.camera;r.camera.lookAt.apply(this,nTe(t)),r.glplot.setAspectratio(e.aspectratio);var n=t.projection.type==="orthographic",a=r.camera._ortho;n!==a&&(r.glplot.redraw(),r.glplot.clearRGBA(),r.glplot.dispose(),r.initializeGLPlot())};bo.isCameraChanged=function(e){var r=this,t=r.getCamera(),n=Ko.nestedProperty(e,r.id+".camera"),a=n.get();function o(s,u,c,v){var x=["up","center","eye"],m=["x","y","z"];return u[x[c]]&&s[x[c]][m[v]]===u[x[c]][m[v]]}var i=!1;if(a===void 0)i=!0;else{for(var l=0;l<3;l++)for(var f=0;f<3;f++)if(!o(t,a,l,f)){i=!0;break}(!a.projection||t.projection&&t.projection.type!==a.projection.type)&&(i=!0)}return i};bo.isAspectChanged=function(e){var r=this,t=r.glplot.getAspectratio(),n=Ko.nestedProperty(e,r.id+".aspectratio"),a=n.get();return a===void 0||a.x!==t.x||a.y!==t.y||a.z!==t.z};bo.saveLayout=function(e){var r=this,t=r.fullLayout,n,a,o,i,l,f,s=r.isCameraChanged(e),u=r.isAspectChanged(e),c=s||u;if(c){var v={};if(s&&(n=r.getCamera(),a=Ko.nestedProperty(e,r.id+".camera"),o=a.get(),v[r.id+".camera"]=o),u&&(i=r.glplot.getAspectratio(),l=Ko.nestedProperty(e,r.id+".aspectratio"),f=l.get(),v[r.id+".aspectratio"]=f),W5.call("_storeDirectGUIEdit",e,t._preGUI,v),s){a.set(n);var x=Ko.nestedProperty(t,r.id+".camera");x.set(n)}if(u){l.set(i);var m=Ko.nestedProperty(t,r.id+".aspectratio");m.set(i),r.glplot.redraw()}}return c};bo.updateFx=function(e,r){var t=this,n=t.camera;if(n)if(e==="orbit")n.mode="orbit",n.keyBindingMode="rotate";else if(e==="turntable"){n.up=[0,0,1],n.mode="turntable",n.keyBindingMode="rotate";var a=t.graphDiv,o=a._fullLayout,i=t.fullSceneLayout.camera,l=i.up.x,f=i.up.y,s=i.up.z;if(s/Math.sqrt(l*l+f*f+s*s)<.999){var u=t.id+".camera.up",c={x:0,y:0,z:1},v={};v[u]=c;var x=a.layout;W5.call("_storeDirectGUIEdit",x,o._preGUI,v),i.up=c,Ko.nestedProperty(x,u).set(c)}}else n.keyBindingMode=e;t.fullSceneLayout.hovermode=r};function iTe(e,r,t){for(var n=0,a=t-1;n<a;++n,--a)for(var o=0;o<r;++o)for(var i=0;i<4;++i){var l=4*(r*n+o)+i,f=4*(r*a+o)+i,s=e[l];e[l]=e[f],e[f]=s}}function oTe(e,r,t){for(var n=0;n<t;++n)for(var a=0;a<r;++a){var o=4*(r*n+a),i=e[o+3];if(i>0)for(var l=255/i,f=0;f<3;++f)e[o+f]=Math.min(l*e[o+f],255)}}bo.toImage=function(e){var r=this;e||(e="png"),r.staticMode&&r.container.appendChild(Am),r.glplot.redraw();var t=r.glplot.gl,n=t.drawingBufferWidth,a=t.drawingBufferHeight;t.bindFramebuffer(t.FRAMEBUFFER,null);var o=new Uint8Array(n*a*4);t.readPixels(0,0,n,a,t.RGBA,t.UNSIGNED_BYTE,o),iTe(o,n,a),oTe(o,n,a);var i=document.createElement("canvas");i.width=n,i.height=a;var l=i.getContext("2d",{willReadFrequently:!0}),f=l.createImageData(n,a);f.data.set(o),l.putImageData(f,0,0);var s;switch(e){case"jpeg":s=i.toDataURL("image/jpeg");break;case"webp":s=i.toDataURL("image/webp");break;default:s=i.toDataURL("image/png")}return r.staticMode&&r.container.removeChild(Am),s};bo.setConvert=function(){for(var e=this,r=0;r<3;r++){var t=e.fullSceneLayout[Tm[r]];X5.setConvert(t,e.fullLayout),t.setScale=Ko.noop}};bo.make4thDimension=function(){var e=this,r=e.graphDiv,t=r._fullLayout;e._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},X5.setConvert(e._mockAxis,t)};w$.exports=_$});var M$=fe((bGe,T$)=>{"use strict";T$.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}});var r7=fe((_Ge,E$)=>{"use strict";var lTe=xn(),bn=cs(),e7=Na().extendFlat,sTe=vl().overrideAll;E$.exports=sTe({visible:bn.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:lTe.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:bn.color,categoryorder:bn.categoryorder,categoryarray:bn.categoryarray,title:{text:bn.title.text,font:bn.title.font},type:e7({},bn.type,{values:["-","linear","log","date","category"]}),autotypenumbers:bn.autotypenumbers,autorange:bn.autorange,autorangeoptions:{minallowed:bn.autorangeoptions.minallowed,maxallowed:bn.autorangeoptions.maxallowed,clipmin:bn.autorangeoptions.clipmin,clipmax:bn.autorangeoptions.clipmax,include:bn.autorangeoptions.include,editType:"plot"},rangemode:bn.rangemode,minallowed:bn.minallowed,maxallowed:bn.maxallowed,range:e7({},bn.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:bn.minor.tickmode,nticks:bn.nticks,tick0:bn.tick0,dtick:bn.dtick,tickvals:bn.tickvals,ticktext:bn.ticktext,ticks:bn.ticks,mirror:bn.mirror,ticklen:bn.ticklen,tickwidth:bn.tickwidth,tickcolor:bn.tickcolor,showticklabels:bn.showticklabels,labelalias:bn.labelalias,tickfont:bn.tickfont,tickangle:bn.tickangle,tickprefix:bn.tickprefix,showtickprefix:bn.showtickprefix,ticksuffix:bn.ticksuffix,showticksuffix:bn.showticksuffix,showexponent:bn.showexponent,exponentformat:bn.exponentformat,minexponent:bn.minexponent,separatethousands:bn.separatethousands,tickformat:bn.tickformat,tickformatstops:bn.tickformatstops,hoverformat:bn.hoverformat,showline:bn.showline,linecolor:bn.linecolor,linewidth:bn.linewidth,showgrid:bn.showgrid,gridcolor:e7({},bn.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:bn.gridwidth,zeroline:bn.zeroline,zerolinecolor:bn.zerolinecolor,zerolinewidth:bn.zerolinewidth},"plot","from-root")});var i7=fe((wGe,S$)=>{"use strict";var t7=r7(),fTe=k0().attributes,n7=Na().extendFlat,uTe=tt().counterRegex;function a7(e,r,t){return{x:{valType:"number",dflt:e,editType:"camera"},y:{valType:"number",dflt:r,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}S$.exports={_arrayAttrRegexps:[uTe("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:n7(a7(0,0,1),{}),center:n7(a7(0,0,0),{}),eye:n7(a7(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:fTe({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:t7,yaxis:t7,zaxis:t7,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot"}});var k$=fe((AGe,C$)=>{"use strict";var cTe=tt(),hTe=da(),vTe=k0().defaults;C$.exports=function(r,t,n,a){var o=a.type,i=a.attributes,l=a.handleDefaults,f=a.partition||"x",s=t._subplots[o],u=s.length,c=u&&s[0].replace(/\d+$/,""),v,x;function m(M,E){return cTe.coerce(v,x,i,M,E)}for(var w=0;w<u;w++){var A=s[w];r[A]?v=r[A]:v=r[A]={},x=hTe.newContainer(t,A,c),a.noUirevision||m("uirevision",t.uirevision);var y={};y[f]=[w/u,(w+1)/u],vTe(x,t,m,y),a.id=A,l(v,x,m,a)}}});var D$=fe((TGe,F$)=>{"use strict";var dTe=fl().mix,L$=tt(),pTe=da(),gTe=r7(),yTe=e8(),mTe=Fb(),R$=["xaxis","yaxis","zaxis"],xTe=100*136/187;F$.exports=function(r,t,n){var a,o;function i(s,u){return L$.coerce(a,o,gTe,s,u)}for(var l=0;l<R$.length;l++){var f=R$[l];a=r[f]||{},o=pTe.newContainer(t,f),o._id=f[0]+n.scene,o._name=f,yTe(a,o,i,n),mTe(a,o,i,{font:n.font,letter:f[0],data:n.data,showGrid:!0,noAutotickangles:!0,noMinorloglabels:!0,noTicklabelindex:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,noUnifiedhovertitle:!0,bgColor:n.bgColor,calendar:n.calendar},n.fullLayout),i("gridcolor",dTe(o.color,n.bgColor,xTe).toRgbString()),i("title.text",f[0]),o.setScale=L$.noop,i("showspikes")&&(i("spikesides"),i("spikethickness"),i("spikecolor",o.color)),i("showaxeslabels"),i("showbackground")&&i("backgroundcolor")}}});var N$=fe((MGe,O$)=>{"use strict";var bTe=tt(),_Te=xn(),wTe=Qt(),ATe=k$(),TTe=D$(),I$=i7(),MTe=qg().getSubplotData,P$="gl3d";O$.exports=function(r,t,n){var a=t._basePlotModules.length>1;function o(i){if(!a){var l=bTe.validate(r[i],I$[i]);if(l)return r[i]}}ATe(r,t,n,{type:P$,attributes:I$,handleDefaults:ETe,fullLayout:t,font:t.font,fullData:n,getDfltFromLayout:o,autotypenumbersDflt:t.autotypenumbers,paper_bgcolor:t.paper_bgcolor,calendar:t.calendar})};function ETe(e,r,t,n){for(var a=t("bgcolor"),o=_Te.combine(a,n.paper_bgcolor),i=["up","center","eye"],l=0;l<i.length;l++)t("camera."+i[l]+".x"),t("camera."+i[l]+".y"),t("camera."+i[l]+".z");t("camera.projection.type");var f=!!t("aspectratio.x")&&!!t("aspectratio.y")&&!!t("aspectratio.z"),s=f?"manual":"auto",u=t("aspectmode",s);f||(e.aspectratio=r.aspectratio={x:1,y:1,z:1},u==="manual"&&(r.aspectmode="auto"),e.aspectmode=r.aspectmode);var c=MTe(n.fullData,P$,n.id);TTe(e,r,{font:n.font,scene:n.id,data:c,bgColor:o,calendar:n.calendar,autotypenumbersDflt:n.autotypenumbersDflt,fullLayout:n.fullLayout}),wTe.getComponentMethod("annotations3d","handleDefaults")(e,r,n);var v=n.getDfltFromLayout("dragmode");if(v!==!1&&!v)if(v="orbit",e.camera&&e.camera.up){var x=e.camera.up.x,m=e.camera.up.y,w=e.camera.up.z;w!==0&&(!x||!m||!w||w/Math.sqrt(x*x+m*m+w*w)>.999)&&(v="turntable")}else v="turntable";t("dragmode",v),t("hovermode",n.getDfltFromLayout("hovermode"))}});var B$=fe(Qo=>{"use strict";var STe=vl().overrideAll,CTe=Bh(),kTe=A$(),LTe=qg().getSubplotData,RTe=tt(),FTe=f0(),rp="gl3d",o7="scene";Qo.name=rp;Qo.attr=o7;Qo.idRoot=o7;Qo.idRegex=Qo.attrRegex=RTe.counterRegex("scene");Qo.attributes=M$();Qo.layoutAttributes=i7();Qo.baseLayoutAttrOverrides=STe({hoverlabel:CTe.hoverlabel},"plot","nested");Qo.supplyLayoutDefaults=N$();Qo.plot=function(r){for(var t=r._fullLayout,n=r._fullData,a=t._subplots[rp],o=0;o<a.length;o++){var i=a[o],l=LTe(n,rp,i),f=t[i],s=f.camera,u=f._scene;u||(u=new kTe({id:i,graphDiv:r,container:r.querySelector(".gl-container"),staticPlot:r._context.staticPlot,plotGlPixelRatio:r._context.plotGlPixelRatio,camera:s},t),f._scene=u),u.viewInitial||(u.viewInitial={up:{x:s.up.x,y:s.up.y,z:s.up.z},eye:{x:s.eye.x,y:s.eye.y,z:s.eye.z},center:{x:s.center.x,y:s.center.y,z:s.center.z}}),u.plot(l,t,r.layout)}};Qo.clean=function(e,r,t,n){for(var a=n._subplots[rp]||[],o=0;o<a.length;o++){var i=a[o];!r[i]&&n[i]._scene&&(n[i]._scene.destroy(),n._infolayer&&n._infolayer.selectAll(".annotation-"+i).remove())}};Qo.toSVG=function(e){for(var r=e._fullLayout,t=r._subplots[rp],n=r._size,a=0;a<t.length;a++){var o=r[t[a]],i=o.domain,l=o._scene,f=l.toImage("png"),s=r._glimages.append("svg:image");s.attr({xmlns:FTe.svg,"xlink:href":f,x:n.l+n.w*i.x[0],y:n.t+n.h*(1-i.y[1]),width:n.w*(i.x[1]-i.x[0]),height:n.h*(i.y[1]-i.y[0]),preserveAspectRatio:"none"}),l.destroy()}};Qo.cleanId=function(r){if(r.match(/^scene[0-9]*$/)){var t=r.substr(5);return t==="1"&&(t=""),o7+t}};Qo.updateFx=function(e){for(var r=e._fullLayout,t=r._subplots[rp],n=0;n<t.length;n++){var a=r[t[n]]._scene;a.updateFx(r.dragmode,r.hovermode)}}});var q$=fe((SGe,z$)=>{"use strict";z$.exports={plot:XZ(),attributes:JM(),markerSymbols:G5(),supplyDefaults:QZ(),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:r$(),moduleType:"trace",name:"scatter3d",basePlotModule:B$(),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}});var G$=fe((CGe,U$)=>{"use strict";U$.exports=q$()});var Y$=fe((kGe,V$)=>{"use strict";var DTe=Qt(),Kl=tt(),ITe=JT();function PTe(e,r,t,n){var a=e.cd,o=a[0].t,i=a[0].trace,l=e.xa,f=e.ya,s=o.x,u=o.y,c=l.c2p(r),v=f.c2p(t),x=e.distance,m;if(o.tree){var w=l.p2c(c-x),A=l.p2c(c+x),y=f.p2c(v-x),M=f.p2c(v+x);n==="x"?m=o.tree.range(Math.min(w,A),Math.min(f._rl[0],f._rl[1]),Math.max(w,A),Math.max(f._rl[0],f._rl[1])):m=o.tree.range(Math.min(w,A),Math.min(y,M),Math.max(w,A),Math.max(y,M))}else m=o.ids;var E,b,T,p,_,g,h,S,d,R=x;if(n==="x"){var L=!!i.xperiodalignment,F=!!i.yperiodalignment;for(_=0;_<m.length;_++){if(E=m[_],T=s[E],g=Math.abs(l.c2p(T)-c),L){var O=l.c2p(i._xStarts[E]),P=l.c2p(i._xEnds[E]);g=c>=Math.min(O,P)&&c<=Math.max(O,P)?0:1/0}if(g<R){if(R=g,p=u[E],h=f.c2p(p)-v,F){var I=f.c2p(i._yStarts[E]),k=f.c2p(i._yEnds[E]);h=v>=Math.min(I,k)&&v<=Math.max(I,k)?0:1/0}d=Math.sqrt(g*g+h*h),b=m[_]}}}else for(_=m.length-1;_>-1;_--)E=m[_],T=s[E],p=u[E],g=l.c2p(T)-c,h=f.c2p(p)-v,S=Math.sqrt(g*g+h*h),S<R&&(R=d=S,b=E);return e.index=b,e.distance=R,e.dxy=d,b===void 0?[e]:[H$(e,s,u,i)]}function H$(e,r,t,n){var a=e.xa,o=e.ya,i=e.distance,l=e.dxy,f=e.index,s={pointNumber:f,x:r[f],y:t[f]};s.tx=Kl.isArrayOrTypedArray(n.text)?n.text[f]:n.text,s.htx=Array.isArray(n.hovertext)?n.hovertext[f]:n.hovertext,s.data=Array.isArray(n.customdata)?n.customdata[f]:n.customdata,s.tp=Array.isArray(n.textposition)?n.textposition[f]:n.textposition;var u=n.textfont;u&&(s.ts=Kl.isArrayOrTypedArray(u.size)?u.size[f]:u.size,s.tc=Kl.isArrayOrTypedArray(u.color)?u.color[f]:u.color,s.tf=Array.isArray(u.family)?u.family[f]:u.family,s.tw=Array.isArray(u.weight)?u.weight[f]:u.weight,s.ty=Array.isArray(u.style)?u.style[f]:u.style,s.tv=Array.isArray(u.variant)?u.variant[f]:u.variant);var c=n.marker;c&&(s.ms=Kl.isArrayOrTypedArray(c.size)?c.size[f]:c.size,s.mo=Kl.isArrayOrTypedArray(c.opacity)?c.opacity[f]:c.opacity,s.mx=Kl.isArrayOrTypedArray(c.symbol)?c.symbol[f]:c.symbol,s.ma=Kl.isArrayOrTypedArray(c.angle)?c.angle[f]:c.angle,s.mc=Kl.isArrayOrTypedArray(c.color)?c.color[f]:c.color);var v=c&&c.line;v&&(s.mlc=Array.isArray(v.color)?v.color[f]:v.color,s.mlw=Kl.isArrayOrTypedArray(v.width)?v.width[f]:v.width);var x=c&&c.gradient;x&&x.type!=="none"&&(s.mgt=Array.isArray(x.type)?x.type[f]:x.type,s.mgc=Array.isArray(x.color)?x.color[f]:x.color);var m=a.c2p(s.x,!0),w=o.c2p(s.y,!0),A=s.mrc||1,y=n.hoverlabel;y&&(s.hbg=Array.isArray(y.bgcolor)?y.bgcolor[f]:y.bgcolor,s.hbc=Array.isArray(y.bordercolor)?y.bordercolor[f]:y.bordercolor,s.hts=Kl.isArrayOrTypedArray(y.font.size)?y.font.size[f]:y.font.size,s.htc=Array.isArray(y.font.color)?y.font.color[f]:y.font.color,s.htf=Array.isArray(y.font.family)?y.font.family[f]:y.font.family,s.hnl=Kl.isArrayOrTypedArray(y.namelength)?y.namelength[f]:y.namelength);var M=n.hoverinfo;M&&(s.hi=Array.isArray(M)?M[f]:M);var E=n.hovertemplate;E&&(s.ht=Array.isArray(E)?E[f]:E);var b={};b[e.index]=s;var T=n._origX,p=n._origY,_=Kl.extendFlat({},e,{color:ITe(n,s),x0:m-A,x1:m+A,xLabelVal:T?T[f]:s.x,y0:w-A,y1:w+A,yLabelVal:p?p[f]:s.y,cd:b,distance:i,spikeDistance:l,hovertemplate:s.ht});return s.htx?_.text=s.htx:s.tx?_.text=s.tx:n.text&&(_.text=n.text),Kl.fillText(s,n,_),DTe.getComponentMethod("errorbars","hoverInfo")(s,n,_),_}V$.exports={hoverPoints:PTe,calcHover:H$}});var Mm=fe((LGe,X$)=>{"use strict";var W$=20;X$.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:W$,SYMBOL_STROKE:W$/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}});var s7=fe((RGe,J$)=>{"use strict";var OTe=ul(),NTe=Fi(),BTe=tT(),Va=nc(),j$=Jd().axisHoverFormat,Z$=u0(),zTe=Dg(),l7=Na().extendFlat,qTe=vl().overrideAll,UTe=Mm().DASHES,$$=Va.line,pc=Va.marker,GTe=pc.line,tp=J$.exports=qTe({x:Va.x,x0:Va.x0,dx:Va.dx,y:Va.y,y0:Va.y0,dy:Va.dy,xperiod:Va.xperiod,yperiod:Va.yperiod,xperiod0:Va.xperiod0,yperiod0:Va.yperiod0,xperiodalignment:Va.xperiodalignment,yperiodalignment:Va.yperiodalignment,xhoverformat:j$("x"),yhoverformat:j$("y"),text:Va.text,hovertext:Va.hovertext,textposition:Va.textposition,textfont:NTe({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,noNumericWeightValues:!0,variantValues:["normal","small-caps"]}),mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:$$.color,width:$$.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:zTe(UTe),dflt:"solid"}},marker:l7({},Z$("marker"),{symbol:pc.symbol,angle:pc.angle,size:pc.size,sizeref:pc.sizeref,sizemin:pc.sizemin,sizemode:pc.sizemode,opacity:pc.opacity,colorbar:pc.colorbar,line:l7({},Z$("marker.line"),{width:GTe.width})}),connectgaps:Va.connectgaps,fill:l7({},Va.fill,{dflt:"none"}),fillcolor:BTe(),selected:{marker:Va.selected.marker,textfont:Va.selected.textfont},unselected:{marker:Va.unselected.marker,textfont:Va.unselected.textfont},opacity:OTe.opacity},"calc","nested");tp.x.editType=tp.y.editType=tp.x0.editType=tp.y0.editType="calc+clearAxisTypes";tp.hovertemplate=Va.hovertemplate;tp.texttemplate=Va.texttemplate});var u7=fe(f7=>{"use strict";var K$=Mm();f7.isOpenSymbol=function(e){return typeof e=="string"?K$.OPEN_RE.test(e):e%200>100};f7.isDotSymbol=function(e){return typeof e=="string"?K$.DOT_RE.test(e):e>200}});var rJ=fe((DGe,eJ)=>{"use strict";var Q$=tt(),HTe=Qt(),VTe=u7(),YTe=s7(),WTe=Ey(),j5=Ki(),XTe=db(),jTe=pb(),ZTe=gb(),$Te=yb(),JTe=kT(),KTe=mb();eJ.exports=function(r,t,n,a){function o(x,m){return Q$.coerce(r,t,YTe,x,m)}var i=r.marker?VTe.isOpenSymbol(r.marker.symbol):!1,l=j5.isBubble(r),f=XTe(r,t,a,o);if(!f){t.visible=!1;return}jTe(r,t,a,o),o("xhoverformat"),o("yhoverformat");var s=f<WTe.PTS_LINESONLY?"lines+markers":"lines";o("text"),o("hovertext"),o("hovertemplate"),o("mode",s),j5.hasMarkers(t)&&(ZTe(r,t,n,a,o,{noAngleRef:!0,noStandOff:!0}),o("marker.line.width",i||l?1:0)),j5.hasLines(t)&&(o("connectgaps"),$Te(r,t,n,a,o),o("line.shape")),j5.hasText(t)&&(o("texttemplate"),KTe(r,t,a,o,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var u=(t.line||{}).color,c=(t.marker||{}).color;o("fill"),t.fill!=="none"&&JTe(r,t,n,o);var v=HTe.getComponentMethod("errorbars","supplyDefaults");v(r,t,u||c||n,{axis:"y"}),v(r,t,u||c||n,{axis:"x",inherit:"y"}),Q$.coerceSelectionMarkerOpacity(t,o)}});var nJ=fe((IGe,tJ)=>{"use strict";var QTe=WT();tJ.exports=function(r,t,n){var a=r.i;return"x"in r||(r.x=t._x[a]),"y"in r||(r.y=t._y[a]),QTe(r,t,n)}});var iJ=fe((PGe,aJ)=>{"use strict";function e8e(e,r,t,n,a){for(var o=a+1;n<=a;){var i=n+a>>>1,l=e[i],f=t!==void 0?t(l,r):l-r;f>=0?(o=i,a=i-1):n=i+1}return o}function r8e(e,r,t,n,a){for(var o=a+1;n<=a;){var i=n+a>>>1,l=e[i],f=t!==void 0?t(l,r):l-r;f>0?(o=i,a=i-1):n=i+1}return o}function t8e(e,r,t,n,a){for(var o=n-1;n<=a;){var i=n+a>>>1,l=e[i],f=t!==void 0?t(l,r):l-r;f<0?(o=i,n=i+1):a=i-1}return o}function n8e(e,r,t,n,a){for(var o=n-1;n<=a;){var i=n+a>>>1,l=e[i],f=t!==void 0?t(l,r):l-r;f<=0?(o=i,n=i+1):a=i-1}return o}function a8e(e,r,t,n,a){for(;n<=a;){var o=n+a>>>1,i=e[o],l=t!==void 0?t(i,r):i-r;if(l===0)return o;l<=0?n=o+1:a=o-1}return-1}function Em(e,r,t,n,a,o){return typeof t=="function"?o(e,r,t,n===void 0?0:n|0,a===void 0?e.length-1:a|0):o(e,r,void 0,t===void 0?0:t|0,n===void 0?e.length-1:n|0)}aJ.exports={ge:function(e,r,t,n,a){return Em(e,r,t,n,a,e8e)},gt:function(e,r,t,n,a){return Em(e,r,t,n,a,r8e)},lt:function(e,r,t,n,a){return Em(e,r,t,n,a,t8e)},le:function(e,r,t,n,a){return Em(e,r,t,n,a,n8e)},eq:function(e,r,t,n,a){return Em(e,r,t,n,a,a8e)}}});var gc=fe((OGe,lJ)=>{"use strict";lJ.exports=function(r,t,n){var a={},o,i;if(typeof t=="string"&&(t=oJ(t)),Array.isArray(t)){var l={};for(i=0;i<t.length;i++)l[t[i]]=!0;t=l}for(o in t)t[o]=oJ(t[o]);var f={};for(o in t){var s=t[o];if(Array.isArray(s))for(i=0;i<s.length;i++){var u=s[i];if(n&&(f[u]=!0),u in r){if(a[o]=r[u],n)for(var c=i;c<s.length;c++)f[s[c]]=!0;break}}else o in r&&(t[o]&&(a[o]=r[o]),n&&(f[o]=!0))}if(n)for(o in r)f[o]||(a[o]=r[o]);return a};var c7={};function oJ(e){return c7[e]?c7[e]:(typeof e=="string"&&(e=c7[e]=e.split(/\s*,\s*|\s+/)),e)}});var Sm=fe((NGe,sJ)=>{"use strict";var i8e=gc();sJ.exports=o8e;function o8e(e){var r;return arguments.length>1&&(e=arguments),typeof e=="string"?e=e.split(/\s/).map(parseFloat):typeof e=="number"&&(e=[e]),e.length&&typeof e[0]=="number"?e.length===1?r={width:e[0],height:e[0],x:0,y:0}:e.length===2?r={width:e[0],height:e[1],x:0,y:0}:r={x:e[0],y:e[1],width:e[2]-e[0]||0,height:e[3]-e[1]||0}:e&&(e=i8e(e,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),r={x:e.left||0,y:e.top||0},e.width==null?e.right?r.width=e.right-r.x:r.width=0:r.width=e.width,e.height==null?e.bottom?r.height=e.bottom-r.y:r.height=0:r.height=e.height),r}});var np=fe((BGe,fJ)=>{"use strict";fJ.exports=l8e;function l8e(e,r){if(!e||e.length==null)throw Error("Argument should be an array");r==null?r=1:r=Math.floor(r);for(var t=Array(r*2),n=0;n<r;n++){for(var a=-1/0,o=1/0,i=n,l=e.length;i<l;i+=r)e[i]>a&&(a=e[i]),e[i]<o&&(o=e[i]);t[n]=o,t[r+n]=a}return t}});var cJ=fe((zGe,uJ)=>{uJ.exports=function(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==void 0)return arguments[e]}});var ap=fe((qGe,vJ)=>{var hJ=B5();vJ.exports=s8e;function s8e(e,r,t){if(!e)throw new TypeError("must specify data as first parameter");if(t=+(t||0)|0,Array.isArray(e)&&e[0]&&typeof e[0][0]=="number"){var n=e[0].length,a=e.length*n,o,i,l,f;(!r||typeof r=="string")&&(r=new(hJ(r||"float32"))(a+t));var s=r.length-t;if(a!==s)throw new Error("source length "+a+" ("+n+"x"+e.length+") does not match destination length "+s);for(o=0,l=t;o<e.length;o++)for(i=0;i<n;i++)r[l++]=e[o][i]===null?NaN:e[o][i]}else if(!r||typeof r=="string"){var u=hJ(r||"float32");if(Array.isArray(e)||r==="array")for(r=new u(e.length+t),o=0,l=t,f=r.length;l<f;l++,o++)r[l]=e[o]===null?NaN:e[o];else t===0?r=new u(e):(r=new u(e.length+t),r.set(e,t))}else r.set(e,t);return r}});var pJ=fe((UGe,dJ)=>{"use strict";dJ.exports=function(e){var r=typeof e;return e!==null&&(r==="object"||r==="function")}});var yJ=fe((GGe,gJ)=>{"use strict";gJ.exports=Math.log2||function(e){return Math.log(e)*Math.LOG2E}});var TJ=fe((HGe,AJ)=>{"use strict";var mJ=iJ(),xJ=_m(),f8e=Sm(),u8e=np(),bJ=gc(),h7=cJ(),c8e=ap(),h8e=pJ(),v8e=B5(),_J=yJ(),d8e=1073741824;AJ.exports=function(r,t){t||(t={}),r=c8e(r,"float64"),t=bJ(t,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});let n=h7(t.maxDepth,255),a=h7(t.bounds,u8e(r,2));a[0]===a[2]&&a[2]++,a[1]===a[3]&&a[3]++;let o=wJ(r,a),i=r.length>>>1,l;t.dtype||(t.dtype="array"),typeof t.dtype=="string"?l=new(v8e(t.dtype))(i):t.dtype&&(l=t.dtype,Array.isArray(l)&&(l.length=i));for(let y=0;y<i;++y)l[y]=y;let f=[],s=[],u=[],c=[];x(0,0,1,l,0,1);let v=0;for(let y=0;y<f.length;y++){let M=f[y];if(l.set)l.set(M,v);else for(let b=0,T=M.length;b<T;b++)l[b+v]=M[b];let E=v+f[y].length;c[y]=[v,E],v=E}return l.range=m,l;function x(y,M,E,b,T,p){if(!b.length)return null;let _=f[T]||(f[T]=[]),g=u[T]||(u[T]=[]),h=s[T]||(s[T]=[]),S=_.length;if(T++,T>n||p>d8e){for(let k=0;k<b.length;k++)_.push(b[k]),g.push(p),h.push(null,null,null,null);return S}if(_.push(b[0]),g.push(p),b.length<=1)return h.push(null,null,null,null),S;let d=E*.5,R=y+d,L=M+d,F=[],O=[],P=[],I=[];for(let k=1,D=b.length;k<D;k++){let z=b[k],q=o[z*2],j=o[z*2+1];q<R?j<L?F.push(z):O.push(z):j<L?P.push(z):I.push(z)}return p<<=2,h.push(x(y,M,d,F,T,p),x(y,L,d,O,T,p+1),x(R,M,d,P,T,p+2),x(R,L,d,I,T,p+3)),S}function m(...y){let M;if(h8e(y[y.length-1])){let P=y.pop();!y.length&&(P.x!=null||P.l!=null||P.left!=null)&&(y=[P],M={}),M=bJ(P,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else M={};y.length||(y=a);let E=f8e(...y),[b,T,p,_]=[Math.min(E.x,E.x+E.width),Math.min(E.y,E.y+E.height),Math.max(E.x,E.x+E.width),Math.max(E.y,E.y+E.height)],[g,h,S,d]=wJ([b,T,p,_],a),R=h7(M.level,f.length);if(M.d!=null){let P;typeof M.d=="number"?P=[M.d,M.d]:M.d.length&&(P=M.d),R=Math.min(Math.max(Math.ceil(-_J(Math.abs(P[0])/(a[2]-a[0]))),Math.ceil(-_J(Math.abs(P[1])/(a[3]-a[1])))),R)}if(R=Math.min(R,f.length),M.lod)return w(g,h,S,d,R);let L=[];F(0,0,1,0,0,1);function F(P,I,k,D,z,q){if(z===null||q===null)return;let j=P+k,Q=I+k;if(g>j||h>Q||S<P||d<I||D>=R||z===q)return;let K=f[D];q===void 0&&(q=K.length);for(let ne=z;ne<q;ne++){let Y=K[ne],oe=r[Y*2],pe=r[Y*2+1];oe>=b&&oe<=p&&pe>=T&&pe<=_&&L.push(Y)}let G=s[D],B=G[z*4+0],Z=G[z*4+1],ie=G[z*4+2],J=G[z*4+3],le=O(G,z+1),te=k*.5,V=D+1;F(P,I,te,V,B,Z||ie||J||le),F(P,I+te,te,V,Z,ie||J||le),F(P+te,I,te,V,ie,J||le),F(P+te,I+te,te,V,J,le)}function O(P,I){let k=null,D=0;for(;k===null;)if(k=P[I*4+D],D++,D>P.length)return null;return k}return L}function w(y,M,E,b,T){let p=[];for(let _=0;_<T;_++){let g=u[_],h=c[_][0],S=A(y,M,_),d=A(E,b,_),R=mJ.ge(g,S),L=mJ.gt(g,d,R,g.length-1);p[_]=[R+h,L+h]}return p}function A(y,M,E){let b=1,T=.5,p=.5,_=.5;for(let g=0;g<E;g++)b<<=2,b+=y<T?M<p?0:1:M<p?2:3,_*=.5,T+=y<T?-_:_,p+=M<p?-_:_;return b}};function wJ(e,r){let[t,n,a,o]=r,i=1/(a-t),l=1/(o-n),f=new Array(e.length);for(let s=0,u=e.length/2;s<u;s++)f[2*s]=xJ((e[2*s]-t)*i,0,1),f[2*s+1]=xJ((e[2*s+1]-n)*l,0,1);return f}});var v7=fe((VGe,MJ)=>{"use strict";MJ.exports=TJ()});var d7=fe((YGe,EJ)=>{EJ.exports=p8e;function p8e(e){var r=0,t=0,n=0,a=0;return e.map(function(o){o=o.slice();var i=o[0],l=i.toUpperCase();if(i!=l)switch(o[0]=l,i){case"a":o[6]+=n,o[7]+=a;break;case"v":o[1]+=a;break;case"h":o[1]+=n;break;default:for(var f=1;f<o.length;)o[f++]+=n,o[f++]+=a}switch(l){case"Z":n=r,a=t;break;case"H":n=o[1];break;case"V":a=o[1];break;case"M":n=r=o[1],a=t=o[2];break;default:n=o[o.length-2],a=o[o.length-1]}return o})}});var kJ=fe((Z5,CJ)=>{"use strict";Object.defineProperty(Z5,"__esModule",{value:!0});var g8e=function(){function e(r,t){var n=[],a=!0,o=!1,i=void 0;try{for(var l=r[Symbol.iterator](),f;!(a=(f=l.next()).done)&&(n.push(f.value),!(t&&n.length===t));a=!0);}catch(s){o=!0,i=s}finally{try{!a&&l.return&&l.return()}finally{if(o)throw i}}return n}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Cm=Math.PI*2,p7=function(r,t,n,a,o,i,l){var f=r.x,s=r.y;f*=t,s*=n;var u=a*f-o*s,c=o*f+a*s;return{x:u+i,y:c+l}},y8e=function(r,t){var n=t===1.5707963267948966?.551915024494:t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),a=Math.cos(r),o=Math.sin(r),i=Math.cos(r+t),l=Math.sin(r+t);return[{x:a-o*n,y:o+a*n},{x:i+l*n,y:l-i*n},{x:i,y:l}]},SJ=function(r,t,n,a){var o=r*a-t*n<0?-1:1,i=r*n+t*a;return i>1&&(i=1),i<-1&&(i=-1),o*Math.acos(i)},m8e=function(r,t,n,a,o,i,l,f,s,u,c,v){var x=Math.pow(o,2),m=Math.pow(i,2),w=Math.pow(c,2),A=Math.pow(v,2),y=x*m-x*A-m*w;y<0&&(y=0),y/=x*A+m*w,y=Math.sqrt(y)*(l===f?-1:1);var M=y*o/i*v,E=y*-i/o*c,b=u*M-s*E+(r+n)/2,T=s*M+u*E+(t+a)/2,p=(c-M)/o,_=(v-E)/i,g=(-c-M)/o,h=(-v-E)/i,S=SJ(1,0,p,_),d=SJ(p,_,g,h);return f===0&&d>0&&(d-=Cm),f===1&&d<0&&(d+=Cm),[b,T,S,d]},x8e=function(r){var t=r.px,n=r.py,a=r.cx,o=r.cy,i=r.rx,l=r.ry,f=r.xAxisRotation,s=f===void 0?0:f,u=r.largeArcFlag,c=u===void 0?0:u,v=r.sweepFlag,x=v===void 0?0:v,m=[];if(i===0||l===0)return[];var w=Math.sin(s*Cm/360),A=Math.cos(s*Cm/360),y=A*(t-a)/2+w*(n-o)/2,M=-w*(t-a)/2+A*(n-o)/2;if(y===0&&M===0)return[];i=Math.abs(i),l=Math.abs(l);var E=Math.pow(y,2)/Math.pow(i,2)+Math.pow(M,2)/Math.pow(l,2);E>1&&(i*=Math.sqrt(E),l*=Math.sqrt(E));var b=m8e(t,n,a,o,i,l,c,x,w,A,y,M),T=g8e(b,4),p=T[0],_=T[1],g=T[2],h=T[3],S=Math.abs(h)/(Cm/4);Math.abs(1-S)<1e-7&&(S=1);var d=Math.max(Math.ceil(S),1);h/=d;for(var R=0;R<d;R++)m.push(y8e(g,h)),g+=h;return m.map(function(L){var F=p7(L[0],i,l,A,w,p,_),O=F.x,P=F.y,I=p7(L[1],i,l,A,w,p,_),k=I.x,D=I.y,z=p7(L[2],i,l,A,w,p,_),q=z.x,j=z.y;return{x1:O,y1:P,x2:k,y2:D,x:q,y:j}})};Z5.default=x8e;CJ.exports=Z5.default});var FJ=fe((WGe,RJ)=>{"use strict";RJ.exports=_8e;var b8e=kJ();function _8e(e){for(var r,t=[],n=0,a=0,o=0,i=0,l=null,f=null,s=0,u=0,c=0,v=e.length;c<v;c++){var x=e[c],m=x[0];switch(m){case"M":o=x[1],i=x[2];break;case"A":var w=b8e({px:s,py:u,cx:x[6],cy:x[7],rx:x[1],ry:x[2],xAxisRotation:x[3],largeArcFlag:x[4],sweepFlag:x[5]});if(!w.length)continue;for(var A=0,y;A<w.length;A++)y=w[A],x=["C",y.x1,y.y1,y.x2,y.y2,y.x,y.y],A<w.length-1&&t.push(x);break;case"S":var M=s,E=u;(r=="C"||r=="S")&&(M+=M-n,E+=E-a),x=["C",M,E,x[1],x[2],x[3],x[4]];break;case"T":r=="Q"||r=="T"?(l=s*2-l,f=u*2-f):(l=s,f=u),x=LJ(s,u,l,f,x[1],x[2]);break;case"Q":l=x[1],f=x[2],x=LJ(s,u,x[1],x[2],x[3],x[4]);break;case"L":x=$5(s,u,x[1],x[2]);break;case"H":x=$5(s,u,x[1],u);break;case"V":x=$5(s,u,s,x[1]);break;case"Z":x=$5(s,u,o,i);break}r=m,s=x[x.length-2],u=x[x.length-1],x.length>4?(n=x[x.length-4],a=x[x.length-3]):(n=s,a=u),t.push(x)}return t}function $5(e,r,t,n){return["C",e,r,t,n,t,n]}function LJ(e,r,t,n,a,o){return["C",e/3+2/3*t,r/3+2/3*n,a/3+2/3*t,o/3+2/3*n,a,o]}});var g7=fe((XGe,DJ)=>{"use strict";DJ.exports=function(r){return typeof r!="string"?!1:(r=r.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(r)&&/[\dz]$/i.test(r)&&r.length>4))}});var J5=fe((jGe,IJ)=>{"use strict";IJ.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;r[t]=a;for(var o in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var i=Object.getOwnPropertySymbols(r);if(i.length!==1||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(r,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(r,t);if(l.value!==a||l.enumerable!==!0)return!1}return!0}});var km=fe((ZGe,PJ)=>{"use strict";var w8e=J5();PJ.exports=function(){return w8e()&&!!Symbol.toStringTag}});var y7=fe(($Ge,OJ)=>{"use strict";OJ.exports=Object});var BJ=fe((JGe,NJ)=>{"use strict";NJ.exports=Error});var qJ=fe((KGe,zJ)=>{"use strict";zJ.exports=EvalError});var GJ=fe((QGe,UJ)=>{"use strict";UJ.exports=RangeError});var VJ=fe((eHe,HJ)=>{"use strict";HJ.exports=ReferenceError});var m7=fe((rHe,YJ)=>{"use strict";YJ.exports=SyntaxError});var ip=fe((tHe,WJ)=>{"use strict";WJ.exports=TypeError});var jJ=fe((nHe,XJ)=>{"use strict";XJ.exports=URIError});var $J=fe((aHe,ZJ)=>{"use strict";ZJ.exports=Math.abs});var KJ=fe((iHe,JJ)=>{"use strict";JJ.exports=Math.floor});var eK=fe((oHe,QJ)=>{"use strict";QJ.exports=Math.max});var tK=fe((lHe,rK)=>{"use strict";rK.exports=Math.min});var aK=fe((sHe,nK)=>{"use strict";nK.exports=Math.pow});var oK=fe((fHe,iK)=>{"use strict";iK.exports=Math.round});var sK=fe((uHe,lK)=>{"use strict";lK.exports=Number.isNaN||function(r){return r!==r}});var uK=fe((cHe,fK)=>{"use strict";var A8e=sK();fK.exports=function(r){return A8e(r)||r===0?r:r<0?-1:1}});var hK=fe((hHe,cK)=>{"use strict";cK.exports=Object.getOwnPropertyDescriptor});var Gv=fe((vHe,vK)=>{"use strict";var K5=hK();if(K5)try{K5([],"length")}catch(e){K5=null}vK.exports=K5});var Lm=fe((dHe,dK)=>{"use strict";var Q5=Object.defineProperty||!1;if(Q5)try{Q5({},"a",{value:1})}catch(e){Q5=!1}dK.exports=Q5});var yK=fe((pHe,gK)=>{"use strict";var pK=typeof Symbol!="undefined"&&Symbol,T8e=J5();gK.exports=function(){return typeof pK!="function"||typeof Symbol!="function"||typeof pK("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:T8e()}});var x7=fe((gHe,mK)=>{"use strict";mK.exports=typeof Reflect!="undefined"&&Reflect.getPrototypeOf||null});var b7=fe((yHe,xK)=>{"use strict";var M8e=y7();xK.exports=M8e.getPrototypeOf||null});var wK=fe((mHe,_K)=>{"use strict";var E8e="Function.prototype.bind called on incompatible ",S8e=Object.prototype.toString,C8e=Math.max,k8e="[object Function]",bK=function(r,t){for(var n=[],a=0;a<r.length;a+=1)n[a]=r[a];for(var o=0;o<t.length;o+=1)n[o+r.length]=t[o];return n},L8e=function(r,t){for(var n=[],a=t||0,o=0;a<r.length;a+=1,o+=1)n[o]=r[a];return n},R8e=function(e,r){for(var t="",n=0;n<e.length;n+=1)t+=e[n],n+1<e.length&&(t+=r);return t};_K.exports=function(r){var t=this;if(typeof t!="function"||S8e.apply(t)!==k8e)throw new TypeError(E8e+t);for(var n=L8e(arguments,1),a,o=function(){if(this instanceof a){var u=t.apply(this,bK(n,arguments));return Object(u)===u?u:this}return t.apply(r,bK(n,arguments))},i=C8e(0,t.length-n.length),l=[],f=0;f<i;f++)l[f]="$"+f;if(a=Function("binder","return function ("+R8e(l,",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var s=function(){};s.prototype=t.prototype,a.prototype=new s,s.prototype=null}return a}});var op=fe((xHe,AK)=>{"use strict";var F8e=wK();AK.exports=Function.prototype.bind||F8e});var e_=fe((bHe,TK)=>{"use strict";TK.exports=Function.prototype.call});var _7=fe((_He,MK)=>{"use strict";MK.exports=Function.prototype.apply});var SK=fe((wHe,EK)=>{"use strict";EK.exports=typeof Reflect!="undefined"&&Reflect&&Reflect.apply});var kK=fe((AHe,CK)=>{"use strict";var D8e=op(),I8e=_7(),P8e=e_(),O8e=SK();CK.exports=O8e||D8e.call(P8e,I8e)});var RK=fe((THe,LK)=>{"use strict";var N8e=op(),B8e=ip(),z8e=e_(),q8e=kK();LK.exports=function(r){if(r.length<1||typeof r[0]!="function")throw new B8e("a function is required");return q8e(N8e,z8e,r)}});var NK=fe((MHe,OK)=>{"use strict";var U8e=RK(),FK=Gv(),IK;try{IK=[].__proto__===Array.prototype}catch(e){if(!e||typeof e!="object"||!("code"in e)||e.code!=="ERR_PROTO_ACCESS")throw e}var w7=!!IK&&FK&&FK(Object.prototype,"__proto__"),PK=Object,DK=PK.getPrototypeOf;OK.exports=w7&&typeof w7.get=="function"?U8e([w7.get]):typeof DK=="function"?function(r){return DK(r==null?r:PK(r))}:!1});var GK=fe((EHe,UK)=>{"use strict";var BK=x7(),zK=b7(),qK=NK();UK.exports=BK?function(r){return BK(r)}:zK?function(r){if(!r||typeof r!="object"&&typeof r!="function")throw new TypeError("getProto: not an object");return zK(r)}:qK?function(r){return qK(r)}:null});var VK=fe((SHe,HK)=>{"use strict";var G8e=Function.prototype.call,H8e=Object.prototype.hasOwnProperty,V8e=op();HK.exports=V8e.call(G8e,H8e)});var n_=fe((CHe,$K)=>{"use strict";var Kn,Y8e=y7(),W8e=BJ(),X8e=qJ(),j8e=GJ(),Z8e=VJ(),up=m7(),fp=ip(),$8e=jJ(),J8e=$J(),K8e=KJ(),Q8e=eK(),eMe=tK(),rMe=aK(),tMe=oK(),nMe=uK(),jK=Function,A7=function(e){try{return jK('"use strict"; return ('+e+").constructor;")()}catch(r){}},Rm=Gv(),aMe=Lm(),T7=function(){throw new fp},iMe=Rm?function(){try{return arguments.callee,T7}catch(e){try{return Rm(arguments,"callee").get}catch(r){return T7}}}():T7,lp=yK()(),no=GK(),oMe=b7(),lMe=x7(),ZK=_7(),Fm=e_(),sp={},sMe=typeof Uint8Array=="undefined"||!no?Kn:no(Uint8Array),Hv={__proto__:null,"%AggregateError%":typeof AggregateError=="undefined"?Kn:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?Kn:ArrayBuffer,"%ArrayIteratorPrototype%":lp&&no?no([][Symbol.iterator]()):Kn,"%AsyncFromSyncIteratorPrototype%":Kn,"%AsyncFunction%":sp,"%AsyncGenerator%":sp,"%AsyncGeneratorFunction%":sp,"%AsyncIteratorPrototype%":sp,"%Atomics%":typeof Atomics=="undefined"?Kn:Atomics,"%BigInt%":typeof BigInt=="undefined"?Kn:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?Kn:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?Kn:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?Kn:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":W8e,"%eval%":eval,"%EvalError%":X8e,"%Float16Array%":typeof Float16Array=="undefined"?Kn:Float16Array,"%Float32Array%":typeof Float32Array=="undefined"?Kn:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?Kn:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?Kn:FinalizationRegistry,"%Function%":jK,"%GeneratorFunction%":sp,"%Int8Array%":typeof Int8Array=="undefined"?Kn:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?Kn:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?Kn:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":lp&&no?no(no([][Symbol.iterator]())):Kn,"%JSON%":typeof JSON=="object"?JSON:Kn,"%Map%":typeof Map=="undefined"?Kn:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!lp||!no?Kn:no(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Y8e,"%Object.getOwnPropertyDescriptor%":Rm,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?Kn:Promise,"%Proxy%":typeof Proxy=="undefined"?Kn:Proxy,"%RangeError%":j8e,"%ReferenceError%":Z8e,"%Reflect%":typeof Reflect=="undefined"?Kn:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?Kn:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!lp||!no?Kn:no(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?Kn:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":lp&&no?no(""[Symbol.iterator]()):Kn,"%Symbol%":lp?Symbol:Kn,"%SyntaxError%":up,"%ThrowTypeError%":iMe,"%TypedArray%":sMe,"%TypeError%":fp,"%Uint8Array%":typeof Uint8Array=="undefined"?Kn:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?Kn:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?Kn:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?Kn:Uint32Array,"%URIError%":$8e,"%WeakMap%":typeof WeakMap=="undefined"?Kn:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?Kn:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?Kn:WeakSet,"%Function.prototype.call%":Fm,"%Function.prototype.apply%":ZK,"%Object.defineProperty%":aMe,"%Object.getPrototypeOf%":oMe,"%Math.abs%":J8e,"%Math.floor%":K8e,"%Math.max%":Q8e,"%Math.min%":eMe,"%Math.pow%":rMe,"%Math.round%":tMe,"%Math.sign%":nMe,"%Reflect.getPrototypeOf%":lMe};if(no)try{null.error}catch(e){YK=no(no(e)),Hv["%Error.prototype%"]=YK}var YK,fMe=function e(r){var t;if(r==="%AsyncFunction%")t=A7("async function () {}");else if(r==="%GeneratorFunction%")t=A7("function* () {}");else if(r==="%AsyncGeneratorFunction%")t=A7("async function* () {}");else if(r==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if(r==="%AsyncIteratorPrototype%"){var a=e("%AsyncGenerator%");a&&no&&(t=no(a.prototype))}return Hv[r]=t,t},WK={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Dm=op(),r_=VK(),uMe=Dm.call(Fm,Array.prototype.concat),cMe=Dm.call(ZK,Array.prototype.splice),XK=Dm.call(Fm,String.prototype.replace),t_=Dm.call(Fm,String.prototype.slice),hMe=Dm.call(Fm,RegExp.prototype.exec),vMe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,dMe=/\\(\\)?/g,pMe=function(r){var t=t_(r,0,1),n=t_(r,-1);if(t==="%"&&n!=="%")throw new up("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new up("invalid intrinsic syntax, expected opening `%`");var a=[];return XK(r,vMe,function(o,i,l,f){a[a.length]=l?XK(f,dMe,"$1"):i||o}),a},gMe=function(r,t){var n=r,a;if(r_(WK,n)&&(a=WK[n],n="%"+a[0]+"%"),r_(Hv,n)){var o=Hv[n];if(o===sp&&(o=fMe(n)),typeof o=="undefined"&&!t)throw new fp("intrinsic "+r+" exists, but is not available. Please file an issue!");return{alias:a,name:n,value:o}}throw new up("intrinsic "+r+" does not exist!")};$K.exports=function(r,t){if(typeof r!="string"||r.length===0)throw new fp("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new fp('"allowMissing" argument must be a boolean');if(hMe(/^%?[^%]*%?$/,r)===null)throw new up("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=pMe(r),a=n.length>0?n[0]:"",o=gMe("%"+a+"%",t),i=o.name,l=o.value,f=!1,s=o.alias;s&&(a=s[0],cMe(n,uMe([0,1],s)));for(var u=1,c=!0;u<n.length;u+=1){var v=n[u],x=t_(v,0,1),m=t_(v,-1);if((x==='"'||x==="'"||x==="`"||m==='"'||m==="'"||m==="`")&&x!==m)throw new up("property names with quotes must have matching quotes");if((v==="constructor"||!c)&&(f=!0),a+="."+v,i="%"+a+"%",r_(Hv,i))l=Hv[i];else if(l!=null){if(!(v in l)){if(!t)throw new fp("base intrinsic for "+r+" exists, but the property is not available.");return}if(Rm&&u+1>=n.length){var w=Rm(l,v);c=!!w,c&&"get"in w&&!("originalValue"in w.get)?l=w.get:l=l[v]}else c=r_(l,v),l=l[v];c&&!f&&(Hv[i]=l)}}return l}});var eQ=fe((kHe,QK)=>{"use strict";var JK=Lm(),yMe=m7(),cp=ip(),KK=Gv();QK.exports=function(r,t,n){if(!r||typeof r!="object"&&typeof r!="function")throw new cp("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new cp("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new cp("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new cp("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new cp("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new cp("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,f=!!KK&&KK(r,t);if(JK)JK(r,t,{configurable:i===null&&f?f.configurable:!i,enumerable:a===null&&f?f.enumerable:!a,value:n,writable:o===null&&f?f.writable:!o});else if(l||!a&&!o&&!i)r[t]=n;else throw new yMe("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var E7=fe((LHe,tQ)=>{"use strict";var M7=Lm(),rQ=function(){return!!M7};rQ.hasArrayLengthDefineBug=function(){if(!M7)return null;try{return M7([],"length",{value:1}).length!==1}catch(r){return!0}};tQ.exports=rQ});var lQ=fe((RHe,oQ)=>{"use strict";var mMe=n_(),nQ=eQ(),xMe=E7()(),aQ=Gv(),iQ=ip(),bMe=mMe("%Math.floor%");oQ.exports=function(r,t){if(typeof r!="function")throw new iQ("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||bMe(t)!==t)throw new iQ("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],a=!0,o=!0;if("length"in r&&aQ){var i=aQ(r,"length");i&&!i.configurable&&(a=!1),i&&!i.writable&&(o=!1)}return(a||o||!n)&&(xMe?nQ(r,"length",t,!0,!0):nQ(r,"length",t)),r}});var Im=fe((FHe,a_)=>{"use strict";var S7=op(),i_=n_(),_Me=lQ(),wMe=ip(),uQ=i_("%Function.prototype.apply%"),cQ=i_("%Function.prototype.call%"),hQ=i_("%Reflect.apply%",!0)||S7.call(cQ,uQ),sQ=Lm(),AMe=i_("%Math.max%");a_.exports=function(r){if(typeof r!="function")throw new wMe("a function is required");var t=hQ(S7,cQ,arguments);return _Me(t,1+AMe(0,r.length-(arguments.length-1)),!0)};var fQ=function(){return hQ(S7,uQ,arguments)};sQ?sQ(a_.exports,"apply",{value:fQ}):a_.exports.apply=fQ});var hp=fe((DHe,pQ)=>{"use strict";var vQ=n_(),dQ=Im(),TMe=dQ(vQ("String.prototype.indexOf"));pQ.exports=function(r,t){var n=vQ(r,!!t);return typeof n=="function"&&TMe(r,".prototype.")>-1?dQ(n):n}});var mQ=fe((IHe,yQ)=>{"use strict";var MMe=km()(),EMe=hp(),C7=EMe("Object.prototype.toString"),o_=function(r){return MMe&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:C7(r)==="[object Arguments]"},gQ=function(r){return o_(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&C7(r)!=="[object Array]"&&C7(r.callee)==="[object Function]"},SMe=function(){return o_(arguments)}();o_.isLegacyArguments=gQ;yQ.exports=SMe?o_:gQ});var _Q=fe((PHe,bQ)=>{"use strict";var CMe=Object.prototype.toString,kMe=Function.prototype.toString,LMe=/^\s*(?:function)?\*/,xQ=km()(),k7=Object.getPrototypeOf,RMe=function(){if(!xQ)return!1;try{return Function("return function*() {}")()}catch(e){}},L7;bQ.exports=function(r){if(typeof r!="function")return!1;if(LMe.test(kMe.call(r)))return!0;if(!xQ){var t=CMe.call(r);return t==="[object GeneratorFunction]"}if(!k7)return!1;if(typeof L7=="undefined"){var n=RMe();L7=n?k7(n):!1}return k7(r)===L7}});var MQ=fe((OHe,TQ)=>{"use strict";var AQ=Function.prototype.toString,vp=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,F7,l_;if(typeof vp=="function"&&typeof Object.defineProperty=="function")try{F7=Object.defineProperty({},"length",{get:function(){throw l_}}),l_={},vp(function(){throw 42},null,F7)}catch(e){e!==l_&&(vp=null)}else vp=null;var FMe=/^\s*class\b/,D7=function(r){try{var t=AQ.call(r);return FMe.test(t)}catch(n){return!1}},R7=function(r){try{return D7(r)?!1:(AQ.call(r),!0)}catch(t){return!1}},s_=Object.prototype.toString,DMe="[object Object]",IMe="[object Function]",PMe="[object GeneratorFunction]",OMe="[object HTMLAllCollection]",NMe="[object HTML document.all class]",BMe="[object HTMLCollection]",zMe=typeof Symbol=="function"&&!!Symbol.toStringTag,qMe=!(0 in[,]),I7=function(){return!1};typeof document=="object"&&(wQ=document.all,s_.call(wQ)===s_.call(document.all)&&(I7=function(r){if((qMe||!r)&&(typeof r=="undefined"||typeof r=="object"))try{var t=s_.call(r);return(t===OMe||t===NMe||t===BMe||t===DMe)&&r("")==null}catch(n){}return!1}));var wQ;TQ.exports=vp?function(r){if(I7(r))return!0;if(!r||typeof r!="function"&&typeof r!="object")return!1;try{vp(r,null,F7)}catch(t){if(t!==l_)return!1}return!D7(r)&&R7(r)}:function(r){if(I7(r))return!0;if(!r||typeof r!="function"&&typeof r!="object")return!1;if(zMe)return R7(r);if(D7(r))return!1;var t=s_.call(r);return t!==IMe&&t!==PMe&&!/^\[object HTML/.test(t)?!1:R7(r)}});var P7=fe((NHe,SQ)=>{"use strict";var UMe=MQ(),GMe=Object.prototype.toString,EQ=Object.prototype.hasOwnProperty,HMe=function(r,t,n){for(var a=0,o=r.length;a<o;a++)EQ.call(r,a)&&(n==null?t(r[a],a,r):t.call(n,r[a],a,r))},VMe=function(r,t,n){for(var a=0,o=r.length;a<o;a++)n==null?t(r.charAt(a),a,r):t.call(n,r.charAt(a),a,r)},YMe=function(r,t,n){for(var a in r)EQ.call(r,a)&&(n==null?t(r[a],a,r):t.call(n,r[a],a,r))},WMe=function(r,t,n){if(!UMe(t))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=n),GMe.call(r)==="[object Array]"?HMe(r,t,a):typeof r=="string"?VMe(r,t,a):YMe(r,t,a)};SQ.exports=WMe});var N7=fe((BHe,CQ)=>{"use strict";var O7=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],XMe=typeof globalThis=="undefined"?window:globalThis;CQ.exports=function(){for(var r=[],t=0;t<O7.length;t++)typeof XMe[O7[t]]=="function"&&(r[r.length]=O7[t]);return r}});var DQ=fe((zHe,FQ)=>{"use strict";var u_=P7(),jMe=N7(),kQ=Im(),q7=hp(),f_=Gv(),ZMe=q7("Object.prototype.toString"),RQ=km()(),LQ=typeof globalThis=="undefined"?window:globalThis,z7=jMe(),U7=q7("String.prototype.slice"),B7=Object.getPrototypeOf,$Me=q7("Array.prototype.indexOf",!0)||function(r,t){for(var n=0;n<r.length;n+=1)if(r[n]===t)return n;return-1},c_={__proto__:null};RQ&&f_&&B7?u_(z7,function(e){var r=new LQ[e];if(Symbol.toStringTag in r){var t=B7(r),n=f_(t,Symbol.toStringTag);if(!n){var a=B7(t);n=f_(a,Symbol.toStringTag)}c_["$"+e]=kQ(n.get)}}):u_(z7,function(e){var r=new LQ[e],t=r.slice||r.set;t&&(c_["$"+e]=kQ(t))});var JMe=function(r){var t=!1;return u_(c_,function(n,a){if(!t)try{"$"+n(r)===a&&(t=U7(a,1))}catch(o){}}),t},KMe=function(r){var t=!1;return u_(c_,function(n,a){if(!t)try{n(r),t=U7(a,1)}catch(o){}}),t};FQ.exports=function(r){if(!r||typeof r!="object")return!1;if(!RQ){var t=U7(ZMe(r),8,-1);return $Me(z7,t)>-1?t:t!=="Object"?!1:KMe(r)}return f_?JMe(r):null}});var zQ=fe((qHe,BQ)=>{"use strict";var IQ=P7(),QMe=N7(),H7=hp(),e7e=H7("Object.prototype.toString"),PQ=km()(),h_=Gv(),r7e=typeof globalThis=="undefined"?window:globalThis,OQ=QMe(),t7e=H7("Array.prototype.indexOf",!0)||function(r,t){for(var n=0;n<r.length;n+=1)if(r[n]===t)return n;return-1},n7e=H7("String.prototype.slice"),NQ={},G7=Object.getPrototypeOf;PQ&&h_&&G7&&IQ(OQ,function(e){var r=new r7e[e];if(Symbol.toStringTag in r){var t=G7(r),n=h_(t,Symbol.toStringTag);if(!n){var a=G7(t);n=h_(a,Symbol.toStringTag)}NQ[e]=n.get}});var a7e=function(r){var t=!1;return IQ(NQ,function(n,a){if(!t)try{t=n.call(r)===a}catch(o){}}),t};BQ.exports=function(r){if(!r||typeof r!="object")return!1;if(!PQ||!(Symbol.toStringTag in r)){var t=n7e(e7e(r),8,-1);return t7e(OQ,t)>-1}return h_?a7e(r):!1}});var QQ=fe(Qn=>{"use strict";var i7e=mQ(),o7e=_Q(),wf=DQ(),qQ=zQ();function dp(e){return e.call.bind(e)}var UQ=typeof BigInt!="undefined",GQ=typeof Symbol!="undefined",Ss=dp(Object.prototype.toString),l7e=dp(Number.prototype.valueOf),s7e=dp(String.prototype.valueOf),f7e=dp(Boolean.prototype.valueOf);UQ&&(HQ=dp(BigInt.prototype.valueOf));var HQ;GQ&&(VQ=dp(Symbol.prototype.valueOf));var VQ;function Om(e,r){if(typeof e!="object")return!1;try{return r(e),!0}catch(t){return!1}}Qn.isArgumentsObject=i7e;Qn.isGeneratorFunction=o7e;Qn.isTypedArray=qQ;function u7e(e){return typeof Promise!="undefined"&&e instanceof Promise||e!==null&&typeof e=="object"&&typeof e.then=="function"&&typeof e.catch=="function"}Qn.isPromise=u7e;function c7e(e){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(e):qQ(e)||WQ(e)}Qn.isArrayBufferView=c7e;function h7e(e){return wf(e)==="Uint8Array"}Qn.isUint8Array=h7e;function v7e(e){return wf(e)==="Uint8ClampedArray"}Qn.isUint8ClampedArray=v7e;function d7e(e){return wf(e)==="Uint16Array"}Qn.isUint16Array=d7e;function p7e(e){return wf(e)==="Uint32Array"}Qn.isUint32Array=p7e;function g7e(e){return wf(e)==="Int8Array"}Qn.isInt8Array=g7e;function y7e(e){return wf(e)==="Int16Array"}Qn.isInt16Array=y7e;function m7e(e){return wf(e)==="Int32Array"}Qn.isInt32Array=m7e;function x7e(e){return wf(e)==="Float32Array"}Qn.isFloat32Array=x7e;function b7e(e){return wf(e)==="Float64Array"}Qn.isFloat64Array=b7e;function _7e(e){return wf(e)==="BigInt64Array"}Qn.isBigInt64Array=_7e;function w7e(e){return wf(e)==="BigUint64Array"}Qn.isBigUint64Array=w7e;function v_(e){return Ss(e)==="[object Map]"}v_.working=typeof Map!="undefined"&&v_(new Map);function A7e(e){return typeof Map=="undefined"?!1:v_.working?v_(e):e instanceof Map}Qn.isMap=A7e;function d_(e){return Ss(e)==="[object Set]"}d_.working=typeof Set!="undefined"&&d_(new Set);function T7e(e){return typeof Set=="undefined"?!1:d_.working?d_(e):e instanceof Set}Qn.isSet=T7e;function p_(e){return Ss(e)==="[object WeakMap]"}p_.working=typeof WeakMap!="undefined"&&p_(new WeakMap);function M7e(e){return typeof WeakMap=="undefined"?!1:p_.working?p_(e):e instanceof WeakMap}Qn.isWeakMap=M7e;function Y7(e){return Ss(e)==="[object WeakSet]"}Y7.working=typeof WeakSet!="undefined"&&Y7(new WeakSet);function E7e(e){return Y7(e)}Qn.isWeakSet=E7e;function g_(e){return Ss(e)==="[object ArrayBuffer]"}g_.working=typeof ArrayBuffer!="undefined"&&g_(new ArrayBuffer);function YQ(e){return typeof ArrayBuffer=="undefined"?!1:g_.working?g_(e):e instanceof ArrayBuffer}Qn.isArrayBuffer=YQ;function y_(e){return Ss(e)==="[object DataView]"}y_.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&y_(new DataView(new ArrayBuffer(1),0,1));function WQ(e){return typeof DataView=="undefined"?!1:y_.working?y_(e):e instanceof DataView}Qn.isDataView=WQ;var V7=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function Pm(e){return Ss(e)==="[object SharedArrayBuffer]"}function XQ(e){return typeof V7=="undefined"?!1:(typeof Pm.working=="undefined"&&(Pm.working=Pm(new V7)),Pm.working?Pm(e):e instanceof V7)}Qn.isSharedArrayBuffer=XQ;function S7e(e){return Ss(e)==="[object AsyncFunction]"}Qn.isAsyncFunction=S7e;function C7e(e){return Ss(e)==="[object Map Iterator]"}Qn.isMapIterator=C7e;function k7e(e){return Ss(e)==="[object Set Iterator]"}Qn.isSetIterator=k7e;function L7e(e){return Ss(e)==="[object Generator]"}Qn.isGeneratorObject=L7e;function R7e(e){return Ss(e)==="[object WebAssembly.Module]"}Qn.isWebAssemblyCompiledModule=R7e;function jQ(e){return Om(e,l7e)}Qn.isNumberObject=jQ;function ZQ(e){return Om(e,s7e)}Qn.isStringObject=ZQ;function $Q(e){return Om(e,f7e)}Qn.isBooleanObject=$Q;function JQ(e){return UQ&&Om(e,HQ)}Qn.isBigIntObject=JQ;function KQ(e){return GQ&&Om(e,VQ)}Qn.isSymbolObject=KQ;function F7e(e){return jQ(e)||ZQ(e)||$Q(e)||JQ(e)||KQ(e)}Qn.isBoxedPrimitive=F7e;function D7e(e){return typeof Uint8Array!="undefined"&&(YQ(e)||XQ(e))}Qn.isAnyArrayBuffer=D7e;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(Qn,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})})});var ree=fe((GHe,eee)=>{eee.exports=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}});var tee=fe((HHe,W7)=>{typeof Object.create=="function"?W7.exports=function(r,t){t&&(r.super_=t,r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:W7.exports=function(r,t){if(t){r.super_=t;var n=function(){};n.prototype=t.prototype,r.prototype=new n,r.prototype.constructor=r}}});var gp=fe(ea=>{var nee=Object.getOwnPropertyDescriptors||function(r){for(var t=Object.keys(r),n={},a=0;a<t.length;a++)n[t[a]]=Object.getOwnPropertyDescriptor(r,t[a]);return n},I7e=/%[sdj%]/g;ea.format=function(e){if(!T_(e)){for(var r=[],t=0;t<arguments.length;t++)r.push(B0(arguments[t]));return r.join(" ")}for(var t=1,n=arguments,a=n.length,o=String(e).replace(I7e,function(l){if(l==="%%")return"%";if(t>=a)return l;switch(l){case"%s":return String(n[t++]);case"%d":return Number(n[t++]);case"%j":try{return JSON.stringify(n[t++])}catch(f){return"[Circular]"}default:return l}}),i=n[t];t<a;i=n[++t])A_(i)||!pp(i)?o+=" "+i:o+=" "+B0(i);return o};ea.deprecate=function(e,r){if(typeof process!="undefined"&&process.noDeprecation===!0)return e;if(typeof process=="undefined")return function(){return ea.deprecate(e,r).apply(this,arguments)};var t=!1;function n(){if(!t){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),t=!0}return e.apply(this,arguments)}return n};var m_={},aee=/^$/;x_="false",x_=x_.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),aee=new RegExp("^"+x_+"$","i");var x_;ea.debuglog=function(e){if(e=e.toUpperCase(),!m_[e])if(aee.test(e)){var r=process.pid;m_[e]=function(){var t=ea.format.apply(ea,arguments);console.error("%s %d: %s",e,r,t)}}else m_[e]=function(){};return m_[e]};function B0(e,r){var t={seen:[],stylize:O7e};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),$7(r)?t.showHidden=r:r&&ea._extend(t,r),Yv(t.showHidden)&&(t.showHidden=!1),Yv(t.depth)&&(t.depth=2),Yv(t.colors)&&(t.colors=!1),Yv(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=P7e),__(t,e,t.depth)}ea.inspect=B0;B0.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};B0.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function P7e(e,r){var t=B0.styles[r];return t?"\x1B["+B0.colors[t][0]+"m"+e+"\x1B["+B0.colors[t][1]+"m":e}function O7e(e,r){return e}function N7e(e){var r={};return e.forEach(function(t,n){r[t]=!0}),r}function __(e,r,t){if(e.customInspect&&r&&b_(r.inspect)&&r.inspect!==ea.inspect&&!(r.constructor&&r.constructor.prototype===r)){var n=r.inspect(t,e);return T_(n)||(n=__(e,n,t)),n}var a=B7e(e,r);if(a)return a;var o=Object.keys(r),i=N7e(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),Bm(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return X7(r);if(o.length===0){if(b_(r)){var l=r.name?": "+r.name:"";return e.stylize("[Function"+l+"]","special")}if(Nm(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(w_(r))return e.stylize(Date.prototype.toString.call(r),"date");if(Bm(r))return X7(r)}var f="",s=!1,u=["{","}"];if(iee(r)&&(s=!0,u=["[","]"]),b_(r)){var c=r.name?": "+r.name:"";f=" [Function"+c+"]"}if(Nm(r)&&(f=" "+RegExp.prototype.toString.call(r)),w_(r)&&(f=" "+Date.prototype.toUTCString.call(r)),Bm(r)&&(f=" "+X7(r)),o.length===0&&(!s||r.length==0))return u[0]+f+u[1];if(t<0)return Nm(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var v;return s?v=z7e(e,r,t,i,o):v=o.map(function(x){return Z7(e,r,t,i,x,s)}),e.seen.pop(),q7e(v,f,u)}function B7e(e,r){if(Yv(r))return e.stylize("undefined","undefined");if(T_(r)){var t="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(t,"string")}if(oee(r))return e.stylize(""+r,"number");if($7(r))return e.stylize(""+r,"boolean");if(A_(r))return e.stylize("null","null")}function X7(e){return"["+Error.prototype.toString.call(e)+"]"}function z7e(e,r,t,n,a){for(var o=[],i=0,l=r.length;i<l;++i)lee(r,String(i))?o.push(Z7(e,r,t,n,String(i),!0)):o.push("");return a.forEach(function(f){f.match(/^\d+$/)||o.push(Z7(e,r,t,n,f,!0))}),o}function Z7(e,r,t,n,a,o){var i,l,f;if(f=Object.getOwnPropertyDescriptor(r,a)||{value:r[a]},f.get?f.set?l=e.stylize("[Getter/Setter]","special"):l=e.stylize("[Getter]","special"):f.set&&(l=e.stylize("[Setter]","special")),lee(n,a)||(i="["+a+"]"),l||(e.seen.indexOf(f.value)<0?(A_(t)?l=__(e,f.value,null):l=__(e,f.value,t-1),l.indexOf(`
`)>-1&&(o?l=l.split(`
`).map(function(s){return"  "+s}).join(`
`).slice(2):l=`
`+l.split(`
`).map(function(s){return"   "+s}).join(`
`))):l=e.stylize("[Circular]","special")),Yv(i)){if(o&&a.match(/^\d+$/))return l;i=JSON.stringify(""+a),i.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.slice(1,-1),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+l}function q7e(e,r,t){var n=0,a=e.reduce(function(o,i){return n++,i.indexOf(`
`)>=0&&n++,o+i.replace(/\u001b\[\d\d?m/g,"").length+1},0);return a>60?t[0]+(r===""?"":r+`
 `)+" "+e.join(`,
  `)+" "+t[1]:t[0]+r+" "+e.join(", ")+" "+t[1]}ea.types=QQ();function iee(e){return Array.isArray(e)}ea.isArray=iee;function $7(e){return typeof e=="boolean"}ea.isBoolean=$7;function A_(e){return e===null}ea.isNull=A_;function U7e(e){return e==null}ea.isNullOrUndefined=U7e;function oee(e){return typeof e=="number"}ea.isNumber=oee;function T_(e){return typeof e=="string"}ea.isString=T_;function G7e(e){return typeof e=="symbol"}ea.isSymbol=G7e;function Yv(e){return e===void 0}ea.isUndefined=Yv;function Nm(e){return pp(e)&&J7(e)==="[object RegExp]"}ea.isRegExp=Nm;ea.types.isRegExp=Nm;function pp(e){return typeof e=="object"&&e!==null}ea.isObject=pp;function w_(e){return pp(e)&&J7(e)==="[object Date]"}ea.isDate=w_;ea.types.isDate=w_;function Bm(e){return pp(e)&&(J7(e)==="[object Error]"||e instanceof Error)}ea.isError=Bm;ea.types.isNativeError=Bm;function b_(e){return typeof e=="function"}ea.isFunction=b_;function H7e(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e=="undefined"}ea.isPrimitive=H7e;ea.isBuffer=ree();function J7(e){return Object.prototype.toString.call(e)}function j7(e){return e<10?"0"+e.toString(10):e.toString(10)}var V7e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Y7e(){var e=new Date,r=[j7(e.getHours()),j7(e.getMinutes()),j7(e.getSeconds())].join(":");return[e.getDate(),V7e[e.getMonth()],r].join(" ")}ea.log=function(){console.log("%s - %s",Y7e(),ea.format.apply(ea,arguments))};ea.inherits=tee();ea._extend=function(e,r){if(!r||!pp(r))return e;for(var t=Object.keys(r),n=t.length;n--;)e[t[n]]=r[t[n]];return e};function lee(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var Vv=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;ea.promisify=function(r){if(typeof r!="function")throw new TypeError('The "original" argument must be of type Function');if(Vv&&r[Vv]){var t=r[Vv];if(typeof t!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,Vv,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var n,a,o=new Promise(function(f,s){n=f,a=s}),i=[],l=0;l<arguments.length;l++)i.push(arguments[l]);i.push(function(f,s){f?a(f):n(s)});try{r.apply(this,i)}catch(f){a(f)}return o}return Object.setPrototypeOf(t,Object.getPrototypeOf(r)),Vv&&Object.defineProperty(t,Vv,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,nee(r))};ea.promisify.custom=Vv;function W7e(e,r){if(!e){var t=new Error("Promise was rejected with a falsy value");t.reason=e,e=t}return r(e)}function X7e(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');function r(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var a=t.pop();if(typeof a!="function")throw new TypeError("The last argument must be of type Function");var o=this,i=function(){return a.apply(o,arguments)};e.apply(this,t).then(function(l){process.nextTick(i.bind(null,null,l))},function(l){process.nextTick(W7e.bind(null,l,i))})}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,nee(e)),r}ea.callbackify=X7e});var eE=fe((YHe,cee)=>{"use strict";function z0(e){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},z0(e)}function see(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z7e(n.key),n)}}function j7e(e,r,t){return r&&see(e.prototype,r),t&&see(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z7e(e){var r=$7e(e,"string");return z0(r)==="symbol"?r:String(r)}function $7e(e,r){if(z0(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(z0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function J7e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function K7e(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Q7(e,r)}function Q7(e,r){return Q7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q7(e,r)}function Q7e(e){var r=tEe();return function(){var n=M_(e),a;if(r){var o=M_(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return eEe(this,a)}}function eEe(e,r){if(r&&(z0(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rEe(e)}function rEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tEe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function M_(e){return M_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},M_(e)}var uee={},yp,K7;function zm(e,r,t){t||(t=Error);function n(o,i,l){return typeof r=="string"?r:r(o,i,l)}var a=function(o){K7e(l,o);var i=Q7e(l);function l(f,s,u){var c;return J7e(this,l),c=i.call(this,n(f,s,u)),c.code=e,c}return j7e(l)}(t);uee[e]=a}function fee(e,r){if(Array.isArray(e)){var t=e.length;return e=e.map(function(n){return String(n)}),t>2?"one of ".concat(r," ").concat(e.slice(0,t-1).join(", "),", or ")+e[t-1]:t===2?"one of ".concat(r," ").concat(e[0]," or ").concat(e[1]):"of ".concat(r," ").concat(e[0])}else return"of ".concat(r," ").concat(String(e))}function nEe(e,r,t){return e.substr(!t||t<0?0:+t,r.length)===r}function aEe(e,r,t){return(t===void 0||t>e.length)&&(t=e.length),e.substring(t-r.length,t)===r}function iEe(e,r,t){return typeof t!="number"&&(t=0),t+r.length>e.length?!1:e.indexOf(r,t)!==-1}zm("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);zm("ERR_INVALID_ARG_TYPE",function(e,r,t){yp===void 0&&(yp=E_()),yp(typeof e=="string","'name' must be a string");var n;typeof r=="string"&&nEe(r,"not ")?(n="must not be",r=r.replace(/^not /,"")):n="must be";var a;if(aEe(e," argument"))a="The ".concat(e," ").concat(n," ").concat(fee(r,"type"));else{var o=iEe(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(o," ").concat(n," ").concat(fee(r,"type"))}return a+=". Received type ".concat(z0(t)),a},TypeError);zm("ERR_INVALID_ARG_VALUE",function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";K7===void 0&&(K7=gp());var n=K7.inspect(r);return n.length>128&&(n="".concat(n.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(t,". Received ").concat(n)},TypeError,RangeError);zm("ERR_INVALID_RETURN_VALUE",function(e,r,t){var n;return t&&t.constructor&&t.constructor.name?n="instance of ".concat(t.constructor.name):n="type ".concat(z0(t)),"Expected ".concat(e,' to be returned from the "').concat(r,'"')+" function but got ".concat(n,".")},TypeError);zm("ERR_MISSING_ARGS",function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];yp===void 0&&(yp=E_()),yp(r.length>0,"At least one arg needs to be specified");var n="The ",a=r.length;switch(r=r.map(function(o){return'"'.concat(o,'"')}),a){case 1:n+="".concat(r[0]," argument");break;case 2:n+="".concat(r[0]," and ").concat(r[1]," arguments");break;default:n+=r.slice(0,a-1).join(", "),n+=", and ".concat(r[a-1]," arguments");break}return"".concat(n," must be specified")},TypeError);cee.exports.codes=uee});var _ee=fe((WHe,bee)=>{"use strict";function hee(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function vee(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?hee(Object(t),!0).forEach(function(n){oEe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hee(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function oEe(e,r,t){return r=yee(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function lEe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dee(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yee(n.key),n)}}function sEe(e,r,t){return r&&dee(e.prototype,r),t&&dee(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yee(e){var r=fEe(e,"string");return El(r)==="symbol"?r:String(r)}function fEe(e,r){if(El(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(El(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function uEe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Hm(e,r)}function cEe(e){var r=xee();return function(){var n=Vm(e),a;if(r){var o=Vm(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return mee(this,a)}}function mee(e,r){if(r&&(El(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rE(e)}function rE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tE(e){var r=typeof Map=="function"?new Map:void 0;return tE=function(n){if(n===null||!hEe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof r!="undefined"){if(r.has(n))return r.get(n);r.set(n,a)}function a(){return S_(n,arguments,Vm(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Hm(a,n)},tE(e)}function S_(e,r,t){return xee()?S_=Reflect.construct.bind():S_=function(a,o,i){var l=[null];l.push.apply(l,o);var f=Function.bind.apply(a,l),s=new f;return i&&Hm(s,i.prototype),s},S_.apply(null,arguments)}function xee(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function hEe(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Hm(e,r){return Hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hm(e,r)}function Vm(e){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vm(e)}function El(e){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},El(e)}var vEe=gp(),nE=vEe.inspect,dEe=eE(),pEe=dEe.codes.ERR_INVALID_ARG_TYPE;function pee(e,r,t){return(t===void 0||t>e.length)&&(t=e.length),e.substring(t-r.length,t)===r}function gEe(e,r){if(r=Math.floor(r),e.length==0||r==0)return"";var t=e.length*r;for(r=Math.floor(Math.log(r)/Math.log(2));r;)e+=e,r--;return e+=e.substring(0,t-e.length),e}var Af="",qm="",Um="",_o="",Wv={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},yEe=10;function gee(e){var r=Object.keys(e),t=Object.create(Object.getPrototypeOf(e));return r.forEach(function(n){t[n]=e[n]}),Object.defineProperty(t,"message",{value:e.message}),t}function Gm(e){return nE(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function mEe(e,r,t){var n="",a="",o=0,i="",l=!1,f=Gm(e),s=f.split(`
`),u=Gm(r).split(`
`),c=0,v="";if(t==="strictEqual"&&El(e)==="object"&&El(r)==="object"&&e!==null&&r!==null&&(t="strictEqualObject"),s.length===1&&u.length===1&&s[0]!==u[0]){var x=s[0].length+u[0].length;if(x<=yEe){if((El(e)!=="object"||e===null)&&(El(r)!=="object"||r===null)&&(e!==0||r!==0))return"".concat(Wv[t],`

`)+"".concat(s[0]," !== ").concat(u[0],`
`)}else if(t!=="strictEqualObject"){var m=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(x<m){for(;s[0][c]===u[0][c];)c++;c>2&&(v=`
  `.concat(gEe(" ",c),"^"),c=0)}}}for(var w=s[s.length-1],A=u[u.length-1];w===A&&(c++<2?i=`
  `.concat(w).concat(i):n=w,s.pop(),u.pop(),!(s.length===0||u.length===0));)w=s[s.length-1],A=u[u.length-1];var y=Math.max(s.length,u.length);if(y===0){var M=f.split(`
`);if(M.length>30)for(M[26]="".concat(Af,"...").concat(_o);M.length>27;)M.pop();return"".concat(Wv.notIdentical,`

`).concat(M.join(`
`),`
`)}c>3&&(i=`
`.concat(Af,"...").concat(_o).concat(i),l=!0),n!==""&&(i=`
  `.concat(n).concat(i),n="");var E=0,b=Wv[t]+`
`.concat(qm,"+ actual").concat(_o," ").concat(Um,"- expected").concat(_o),T=" ".concat(Af,"...").concat(_o," Lines skipped");for(c=0;c<y;c++){var p=c-o;if(s.length<c+1)p>1&&c>2&&(p>4?(a+=`
`.concat(Af,"...").concat(_o),l=!0):p>3&&(a+=`
  `.concat(u[c-2]),E++),a+=`
  `.concat(u[c-1]),E++),o=c,n+=`
`.concat(Um,"-").concat(_o," ").concat(u[c]),E++;else if(u.length<c+1)p>1&&c>2&&(p>4?(a+=`
`.concat(Af,"...").concat(_o),l=!0):p>3&&(a+=`
  `.concat(s[c-2]),E++),a+=`
  `.concat(s[c-1]),E++),o=c,a+=`
`.concat(qm,"+").concat(_o," ").concat(s[c]),E++;else{var _=u[c],g=s[c],h=g!==_&&(!pee(g,",")||g.slice(0,-1)!==_);h&&pee(_,",")&&_.slice(0,-1)===g&&(h=!1,g+=","),h?(p>1&&c>2&&(p>4?(a+=`
`.concat(Af,"...").concat(_o),l=!0):p>3&&(a+=`
  `.concat(s[c-2]),E++),a+=`
  `.concat(s[c-1]),E++),o=c,a+=`
`.concat(qm,"+").concat(_o," ").concat(g),n+=`
`.concat(Um,"-").concat(_o," ").concat(_),E+=2):(a+=n,n="",(p===1||c===0)&&(a+=`
  `.concat(g),E++))}if(E>20&&c<y-2)return"".concat(b).concat(T,`
`).concat(a,`
`).concat(Af,"...").concat(_o).concat(n,`
`)+"".concat(Af,"...").concat(_o)}return"".concat(b).concat(l?T:"",`
`).concat(a).concat(n).concat(i).concat(v)}var xEe=function(e,r){uEe(n,e);var t=cEe(n);function n(a){var o;if(lEe(this,n),El(a)!=="object"||a===null)throw new pEe("options","Object",a);var i=a.message,l=a.operator,f=a.stackStartFn,s=a.actual,u=a.expected,c=Error.stackTraceLimit;if(Error.stackTraceLimit=0,i!=null)o=t.call(this,String(i));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(Af="\x1B[34m",qm="\x1B[32m",_o="\x1B[39m",Um="\x1B[31m"):(Af="",qm="",_o="",Um="")),El(s)==="object"&&s!==null&&El(u)==="object"&&u!==null&&"stack"in s&&s instanceof Error&&"stack"in u&&u instanceof Error&&(s=gee(s),u=gee(u)),l==="deepStrictEqual"||l==="strictEqual")o=t.call(this,mEe(s,u,l));else if(l==="notDeepStrictEqual"||l==="notStrictEqual"){var v=Wv[l],x=Gm(s).split(`
`);if(l==="notStrictEqual"&&El(s)==="object"&&s!==null&&(v=Wv.notStrictEqualObject),x.length>30)for(x[26]="".concat(Af,"...").concat(_o);x.length>27;)x.pop();x.length===1?o=t.call(this,"".concat(v," ").concat(x[0])):o=t.call(this,"".concat(v,`

`).concat(x.join(`
`),`
`))}else{var m=Gm(s),w="",A=Wv[l];l==="notDeepEqual"||l==="notEqual"?(m="".concat(Wv[l],`

`).concat(m),m.length>1024&&(m="".concat(m.slice(0,1021),"..."))):(w="".concat(Gm(u)),m.length>512&&(m="".concat(m.slice(0,509),"...")),w.length>512&&(w="".concat(w.slice(0,509),"...")),l==="deepEqual"||l==="equal"?m="".concat(A,`

`).concat(m,`

should equal

`):w=" ".concat(l," ").concat(w)),o=t.call(this,"".concat(m).concat(w))}return Error.stackTraceLimit=c,o.generatedMessage=!i,Object.defineProperty(rE(o),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),o.code="ERR_ASSERTION",o.actual=s,o.expected=u,o.operator=l,Error.captureStackTrace&&Error.captureStackTrace(rE(o),f),o.stack,o.name="AssertionError",mee(o)}return sEe(n,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:r,value:function(o,i){return nE(this,vee(vee({},i),{},{customInspect:!1,depth:0}))}}]),n}(tE(Error),nE.custom);bee.exports=xEe});var aE=fe((XHe,Aee)=>{"use strict";var wee=Object.prototype.toString;Aee.exports=function(r){var t=wee.call(r),n=t==="[object Arguments]";return n||(n=t!=="[object Array]"&&r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&wee.call(r.callee)==="[object Function]"),n}});var Fee=fe((jHe,Ree)=>{"use strict";var Lee;Object.keys||(Ym=Object.prototype.hasOwnProperty,iE=Object.prototype.toString,Tee=aE(),oE=Object.prototype.propertyIsEnumerable,Mee=!oE.call({toString:null},"toString"),Eee=oE.call(function(){},"prototype"),Wm=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],C_=function(e){var r=e.constructor;return r&&r.prototype===e},See={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Cee=function(){if(typeof window=="undefined")return!1;for(var e in window)try{if(!See["$"+e]&&Ym.call(window,e)&&window[e]!==null&&typeof window[e]=="object")try{C_(window[e])}catch(r){return!0}}catch(r){return!0}return!1}(),kee=function(e){if(typeof window=="undefined"||!Cee)return C_(e);try{return C_(e)}catch(r){return!1}},Lee=function(r){var t=r!==null&&typeof r=="object",n=iE.call(r)==="[object Function]",a=Tee(r),o=t&&iE.call(r)==="[object String]",i=[];if(!t&&!n&&!a)throw new TypeError("Object.keys called on a non-object");var l=Eee&&n;if(o&&r.length>0&&!Ym.call(r,0))for(var f=0;f<r.length;++f)i.push(String(f));if(a&&r.length>0)for(var s=0;s<r.length;++s)i.push(String(s));else for(var u in r)!(l&&u==="prototype")&&Ym.call(r,u)&&i.push(String(u));if(Mee)for(var c=kee(r),v=0;v<Wm.length;++v)!(c&&Wm[v]==="constructor")&&Ym.call(r,Wm[v])&&i.push(Wm[v]);return i});var Ym,iE,Tee,oE,Mee,Eee,Wm,C_,See,Cee,kee;Ree.exports=Lee});var lE=fe((ZHe,Pee)=>{"use strict";var bEe=Array.prototype.slice,_Ee=aE(),Dee=Object.keys,k_=Dee?function(r){return Dee(r)}:Fee(),Iee=Object.keys;k_.shim=function(){if(Object.keys){var r=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);r||(Object.keys=function(n){return _Ee(n)?Iee(bEe.call(n)):Iee(n)})}else Object.keys=k_;return Object.keys||k_};Pee.exports=k_});var Uee=fe(($He,qee)=>{"use strict";var wEe=lE(),Bee=J5()(),zee=hp(),Oee=Object,AEe=zee("Array.prototype.push"),Nee=zee("Object.prototype.propertyIsEnumerable"),TEe=Bee?Object.getOwnPropertySymbols:null;qee.exports=function(r,t){if(r==null)throw new TypeError("target must be an object");var n=Oee(r);if(arguments.length===1)return n;for(var a=1;a<arguments.length;++a){var o=Oee(arguments[a]),i=wEe(o),l=Bee&&(Object.getOwnPropertySymbols||TEe);if(l)for(var f=l(o),s=0;s<f.length;++s){var u=f[s];Nee(o,u)&&AEe(i,u)}for(var c=0;c<i.length;++c){var v=i[c];if(Nee(o,v)){var x=o[v];n[v]=x}}}return n}});var Hee=fe((JHe,Gee)=>{"use strict";var sE=Uee(),MEe=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",r=e.split(""),t={},n=0;n<r.length;++n)t[r[n]]=r[n];var a=Object.assign({},t),o="";for(var i in a)o+=i;return e!==o},EEe=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(r){return e[1]==="y"}return!1};Gee.exports=function(){return!Object.assign||MEe()||EEe()?sE:Object.assign}});var fE=fe((KHe,Yee)=>{"use strict";var Vee=function(e){return e!==e};Yee.exports=function(r,t){return r===0&&t===0?1/r===1/t:!!(r===t||Vee(r)&&Vee(t))}});var L_=fe((QHe,Wee)=>{"use strict";var SEe=fE();Wee.exports=function(){return typeof Object.is=="function"?Object.is:SEe}});var Xm=fe((eVe,$ee)=>{"use strict";var CEe=lE(),kEe=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",LEe=Object.prototype.toString,REe=Array.prototype.concat,Xee=Object.defineProperty,FEe=function(e){return typeof e=="function"&&LEe.call(e)==="[object Function]"},DEe=E7()(),jee=Xee&&DEe,IEe=function(e,r,t,n){if(r in e){if(n===!0){if(e[r]===t)return}else if(!FEe(n)||!n())return}jee?Xee(e,r,{configurable:!0,enumerable:!1,value:t,writable:!0}):e[r]=t},Zee=function(e,r){var t=arguments.length>2?arguments[2]:{},n=CEe(r);kEe&&(n=REe.call(n,Object.getOwnPropertySymbols(r)));for(var a=0;a<n.length;a+=1)IEe(e,n[a],r[n[a]],t[n[a]])};Zee.supportsDescriptors=!!jee;$ee.exports=Zee});var Kee=fe((rVe,Jee)=>{"use strict";var PEe=L_(),OEe=Xm();Jee.exports=function(){var r=PEe();return OEe(Object,{is:r},{is:function(){return Object.is!==r}}),r}});var tre=fe((tVe,rre)=>{"use strict";var NEe=Xm(),BEe=Im(),zEe=fE(),Qee=L_(),qEe=Kee(),ere=BEe(Qee(),Object);NEe(ere,{getPolyfill:Qee,implementation:zEe,shim:qEe});rre.exports=ere});var uE=fe((nVe,nre)=>{"use strict";nre.exports=function(r){return r!==r}});var cE=fe((aVe,are)=>{"use strict";var UEe=uE();are.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:UEe}});var ore=fe((iVe,ire)=>{"use strict";var GEe=Xm(),HEe=cE();ire.exports=function(){var r=HEe();return GEe(Number,{isNaN:r},{isNaN:function(){return Number.isNaN!==r}}),r}});var ure=fe((oVe,fre)=>{"use strict";var VEe=Im(),YEe=Xm(),WEe=uE(),lre=cE(),XEe=ore(),sre=VEe(lre(),Number);YEe(sre,{getPolyfill:lre,implementation:WEe,shim:XEe});fre.exports=sre});var Lre=fe((lVe,kre)=>{"use strict";function cre(e,r){return JEe(e)||$Ee(e,r)||ZEe(e,r)||jEe()}function jEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZEe(e,r){if(e){if(typeof e=="string")return hre(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hre(e,r)}}function hre(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function $Ee(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,a,o,i,l=[],f=!0,s=!1;try{if(o=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;f=!1}else for(;!(f=(n=o.call(t)).done)&&(l.push(n.value),l.length!==r);f=!0);}catch(u){s=!0,a=u}finally{try{if(!f&&t.return!=null&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}function JEe(e){if(Array.isArray(e))return e}function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Cs(e)}var KEe=/a/g.flags!==void 0,N_=function(r){var t=[];return r.forEach(function(n){return t.push(n)}),t},vre=function(r){var t=[];return r.forEach(function(n,a){return t.push([a,n])}),t},Tre=Object.is?Object.is:tre(),P_=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},hE=Number.isNaN?Number.isNaN:ure();function dE(e){return e.call.bind(e)}var Zm=dE(Object.prototype.hasOwnProperty),O_=dE(Object.prototype.propertyIsEnumerable),dre=dE(Object.prototype.toString),el=gp().types,QEe=el.isAnyArrayBuffer,eSe=el.isArrayBufferView,pre=el.isDate,R_=el.isMap,gre=el.isRegExp,F_=el.isSet,rSe=el.isNativeError,tSe=el.isBoxedPrimitive,yre=el.isNumberObject,mre=el.isStringObject,xre=el.isBooleanObject,bre=el.isBigIntObject,nSe=el.isSymbolObject,aSe=el.isFloat32Array,iSe=el.isFloat64Array;function oSe(e){if(e.length===0||e.length>10)return!0;for(var r=0;r<e.length;r++){var t=e.charCodeAt(r);if(t<48||t>57)return!0}return e.length===10&&e>=Math.pow(2,32)}function D_(e){return Object.keys(e).filter(oSe).concat(P_(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function Mre(e,r){if(e===r)return 0;for(var t=e.length,n=r.length,a=0,o=Math.min(t,n);a<o;++a)if(e[a]!==r[a]){t=e[a],n=r[a];break}return t<n?-1:n<t?1:0}var I_=void 0,lSe=!0,sSe=!1,vE=0,pE=1,Ere=2,Sre=3;function fSe(e,r){return KEe?e.source===r.source&&e.flags===r.flags:RegExp.prototype.toString.call(e)===RegExp.prototype.toString.call(r)}function uSe(e,r){if(e.byteLength!==r.byteLength)return!1;for(var t=0;t<e.byteLength;t++)if(e[t]!==r[t])return!1;return!0}function cSe(e,r){return e.byteLength!==r.byteLength?!1:Mre(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(r.buffer,r.byteOffset,r.byteLength))===0}function hSe(e,r){return e.byteLength===r.byteLength&&Mre(new Uint8Array(e),new Uint8Array(r))===0}function vSe(e,r){return yre(e)?yre(r)&&Tre(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(r)):mre(e)?mre(r)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(r):xre(e)?xre(r)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(r):bre(e)?bre(r)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(r):nSe(r)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(r)}function ks(e,r,t,n){if(e===r)return e!==0?!0:t?Tre(e,r):!0;if(t){if(Cs(e)!=="object")return typeof e=="number"&&hE(e)&&hE(r);if(Cs(r)!=="object"||e===null||r===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(r))return!1}else{if(e===null||Cs(e)!=="object")return r===null||Cs(r)!=="object"?e==r:!1;if(r===null||Cs(r)!=="object")return!1}var a=dre(e),o=dre(r);if(a!==o)return!1;if(Array.isArray(e)){if(e.length!==r.length)return!1;var i=D_(e,I_),l=D_(r,I_);return i.length!==l.length?!1:jm(e,r,t,n,pE,i)}if(a==="[object Object]"&&(!R_(e)&&R_(r)||!F_(e)&&F_(r)))return!1;if(pre(e)){if(!pre(r)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(r))return!1}else if(gre(e)){if(!gre(r)||!fSe(e,r))return!1}else if(rSe(e)||e instanceof Error){if(e.message!==r.message||e.name!==r.name)return!1}else if(eSe(e)){if(!t&&(aSe(e)||iSe(e))){if(!uSe(e,r))return!1}else if(!cSe(e,r))return!1;var f=D_(e,I_),s=D_(r,I_);return f.length!==s.length?!1:jm(e,r,t,n,vE,f)}else{if(F_(e))return!F_(r)||e.size!==r.size?!1:jm(e,r,t,n,Ere);if(R_(e))return!R_(r)||e.size!==r.size?!1:jm(e,r,t,n,Sre);if(QEe(e)){if(!hSe(e,r))return!1}else if(tSe(e)&&!vSe(e,r))return!1}return jm(e,r,t,n,vE)}function _re(e,r){return r.filter(function(t){return O_(e,t)})}function jm(e,r,t,n,a,o){if(arguments.length===5){o=Object.keys(e);var i=Object.keys(r);if(o.length!==i.length)return!1}for(var l=0;l<o.length;l++)if(!Zm(r,o[l]))return!1;if(t&&arguments.length===5){var f=P_(e);if(f.length!==0){var s=0;for(l=0;l<f.length;l++){var u=f[l];if(O_(e,u)){if(!O_(r,u))return!1;o.push(u),s++}else if(O_(r,u))return!1}var c=P_(r);if(f.length!==c.length&&_re(r,c).length!==s)return!1}else{var v=P_(r);if(v.length!==0&&_re(r,v).length!==0)return!1}}if(o.length===0&&(a===vE||a===pE&&e.length===0||e.size===0))return!0;if(n===void 0)n={val1:new Map,val2:new Map,position:0};else{var x=n.val1.get(e);if(x!==void 0){var m=n.val2.get(r);if(m!==void 0)return x===m}n.position++}n.val1.set(e,n.position),n.val2.set(r,n.position);var w=mSe(e,r,t,o,n,a);return n.val1.delete(e),n.val2.delete(r),w}function wre(e,r,t,n){for(var a=N_(e),o=0;o<a.length;o++){var i=a[o];if(ks(r,i,t,n))return e.delete(i),!0}return!1}function Cre(e){switch(Cs(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(hE(e))return!1}return!0}function dSe(e,r,t){var n=Cre(t);return n!=null?n:r.has(n)&&!e.has(n)}function pSe(e,r,t,n,a){var o=Cre(t);if(o!=null)return o;var i=r.get(o);return i===void 0&&!r.has(o)||!ks(n,i,!1,a)?!1:!e.has(o)&&ks(n,i,!1,a)}function gSe(e,r,t,n){for(var a=null,o=N_(e),i=0;i<o.length;i++){var l=o[i];if(Cs(l)==="object"&&l!==null)a===null&&(a=new Set),a.add(l);else if(!r.has(l)){if(t||!dSe(e,r,l))return!1;a===null&&(a=new Set),a.add(l)}}if(a!==null){for(var f=N_(r),s=0;s<f.length;s++){var u=f[s];if(Cs(u)==="object"&&u!==null){if(!wre(a,u,t,n))return!1}else if(!t&&!e.has(u)&&!wre(a,u,t,n))return!1}return a.size===0}return!0}function Are(e,r,t,n,a,o){for(var i=N_(e),l=0;l<i.length;l++){var f=i[l];if(ks(t,f,a,o)&&ks(n,r.get(f),a,o))return e.delete(f),!0}return!1}function ySe(e,r,t,n){for(var a=null,o=vre(e),i=0;i<o.length;i++){var l=cre(o[i],2),f=l[0],s=l[1];if(Cs(f)==="object"&&f!==null)a===null&&(a=new Set),a.add(f);else{var u=r.get(f);if(u===void 0&&!r.has(f)||!ks(s,u,t,n)){if(t||!pSe(e,r,f,s,n))return!1;a===null&&(a=new Set),a.add(f)}}}if(a!==null){for(var c=vre(r),v=0;v<c.length;v++){var x=cre(c[v],2),m=x[0],w=x[1];if(Cs(m)==="object"&&m!==null){if(!Are(a,e,m,w,t,n))return!1}else if(!t&&(!e.has(m)||!ks(e.get(m),w,!1,n))&&!Are(a,e,m,w,!1,n))return!1}return a.size===0}return!0}function mSe(e,r,t,n,a,o){var i=0;if(o===Ere){if(!gSe(e,r,t,a))return!1}else if(o===Sre){if(!ySe(e,r,t,a))return!1}else if(o===pE)for(;i<e.length;i++)if(Zm(e,i)){if(!Zm(r,i)||!ks(e[i],r[i],t,a))return!1}else{if(Zm(r,i))return!1;for(var l=Object.keys(e);i<l.length;i++){var f=l[i];if(!Zm(r,f)||!ks(e[f],r[f],t,a))return!1}return l.length===Object.keys(r).length}for(i=0;i<n.length;i++){var s=n[i];if(!ks(e[s],r[s],t,a))return!1}return!0}function xSe(e,r){return ks(e,r,sSe)}function bSe(e,r){return ks(e,r,lSe)}kre.exports={isDeepEqual:xSe,isDeepStrictEqual:bSe}});var E_=fe((sVe,jre)=>{"use strict";function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Tf(e)}function Rre(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wSe(n.key),n)}}function _Se(e,r,t){return r&&Rre(e.prototype,r),t&&Rre(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wSe(e){var r=ASe(e,"string");return Tf(r)==="symbol"?r:String(r)}function ASe(e,r){if(Tf(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(Tf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function TSe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var MSe=eE(),$m=MSe.codes,Fre=$m.ERR_AMBIGUOUS_ARGUMENT,mp=$m.ERR_INVALID_ARG_TYPE,ESe=$m.ERR_INVALID_ARG_VALUE,SSe=$m.ERR_INVALID_RETURN_VALUE,U0=$m.ERR_MISSING_ARGS,G0=_ee(),CSe=gp(),B_=CSe.inspect,Ore=gp().types,kSe=Ore.isPromise,z_=Ore.isRegExp,LSe=Hee()(),Nre=L_()(),q_=hp()("RegExp.prototype.test"),q0,U_;function Jm(){var e=Lre();q0=e.isDeepEqual,U_=e.isDeepStrictEqual}var Dre=!1,za=jre.exports=gE,G_={};function Mf(e){throw e.message instanceof Error?e.message:new G0(e)}function Bre(e,r,t,n,a){var o=arguments.length,i;if(o===0)i="Failed";else if(o===1)t=e,e=void 0;else{if(Dre===!1){Dre=!0;var l=process.emitWarning?process.emitWarning:console.warn.bind(console);l("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}o===2&&(n="!=")}if(t instanceof Error)throw t;var f={actual:e,expected:r,operator:n===void 0?"fail":n,stackStartFn:a||Bre};t!==void 0&&(f.message=t);var s=new G0(f);throw i&&(s.message=i,s.generatedMessage=!0),s}za.fail=Bre;za.AssertionError=G0;function zre(e,r,t,n){if(!t){var a=!1;if(r===0)a=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var o=new G0({actual:t,expected:!0,message:n,operator:"==",stackStartFn:e});throw o.generatedMessage=a,o}}function gE(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];zre.apply(void 0,[gE,r.length].concat(r))}za.ok=gE;za.equal=function e(r,t,n){if(arguments.length<2)throw new U0("actual","expected");r!=t&&Mf({actual:r,expected:t,message:n,operator:"==",stackStartFn:e})};za.notEqual=function e(r,t,n){if(arguments.length<2)throw new U0("actual","expected");r==t&&Mf({actual:r,expected:t,message:n,operator:"!=",stackStartFn:e})};za.deepEqual=function e(r,t,n){if(arguments.length<2)throw new U0("actual","expected");q0===void 0&&Jm(),q0(r,t)||Mf({actual:r,expected:t,message:n,operator:"deepEqual",stackStartFn:e})};za.notDeepEqual=function e(r,t,n){if(arguments.length<2)throw new U0("actual","expected");q0===void 0&&Jm(),q0(r,t)&&Mf({actual:r,expected:t,message:n,operator:"notDeepEqual",stackStartFn:e})};za.deepStrictEqual=function e(r,t,n){if(arguments.length<2)throw new U0("actual","expected");q0===void 0&&Jm(),U_(r,t)||Mf({actual:r,expected:t,message:n,operator:"deepStrictEqual",stackStartFn:e})};za.notDeepStrictEqual=qre;function qre(e,r,t){if(arguments.length<2)throw new U0("actual","expected");q0===void 0&&Jm(),U_(e,r)&&Mf({actual:e,expected:r,message:t,operator:"notDeepStrictEqual",stackStartFn:qre})}za.strictEqual=function e(r,t,n){if(arguments.length<2)throw new U0("actual","expected");Nre(r,t)||Mf({actual:r,expected:t,message:n,operator:"strictEqual",stackStartFn:e})};za.notStrictEqual=function e(r,t,n){if(arguments.length<2)throw new U0("actual","expected");Nre(r,t)&&Mf({actual:r,expected:t,message:n,operator:"notStrictEqual",stackStartFn:e})};var Ire=_Se(function e(r,t,n){var a=this;TSe(this,e),t.forEach(function(o){o in r&&(n!==void 0&&typeof n[o]=="string"&&z_(r[o])&&q_(r[o],n[o])?a[o]=n[o]:a[o]=r[o])})});function RSe(e,r,t,n,a,o){if(!(t in e)||!U_(e[t],r[t])){if(!n){var i=new Ire(e,a),l=new Ire(r,a,e),f=new G0({actual:i,expected:l,operator:"deepStrictEqual",stackStartFn:o});throw f.actual=e,f.expected=r,f.operator=o.name,f}Mf({actual:e,expected:r,message:n,operator:o.name,stackStartFn:o})}}function Ure(e,r,t,n){if(typeof r!="function"){if(z_(r))return q_(r,e);if(arguments.length===2)throw new mp("expected",["Function","RegExp"],r);if(Tf(e)!=="object"||e===null){var a=new G0({actual:e,expected:r,message:t,operator:"deepStrictEqual",stackStartFn:n});throw a.operator=n.name,a}var o=Object.keys(r);if(r instanceof Error)o.push("name","message");else if(o.length===0)throw new ESe("error",r,"may not be an empty object");return q0===void 0&&Jm(),o.forEach(function(i){typeof e[i]=="string"&&z_(r[i])&&q_(r[i],e[i])||RSe(e,r,i,t,o,n)}),!0}return r.prototype!==void 0&&e instanceof r?!0:Error.isPrototypeOf(r)?!1:r.call({},e)===!0}function Gre(e){if(typeof e!="function")throw new mp("fn","Function",e);try{e()}catch(r){return r}return G_}function Pre(e){return kSe(e)||e!==null&&Tf(e)==="object"&&typeof e.then=="function"&&typeof e.catch=="function"}function Hre(e){return Promise.resolve().then(function(){var r;if(typeof e=="function"){if(r=e(),!Pre(r))throw new SSe("instance of Promise","promiseFn",r)}else if(Pre(e))r=e;else throw new mp("promiseFn",["Function","Promise"],e);return Promise.resolve().then(function(){return r}).then(function(){return G_}).catch(function(t){return t})})}function Vre(e,r,t,n){if(typeof t=="string"){if(arguments.length===4)throw new mp("error",["Object","Error","Function","RegExp"],t);if(Tf(r)==="object"&&r!==null){if(r.message===t)throw new Fre("error/message",'The error message "'.concat(r.message,'" is identical to the message.'))}else if(r===t)throw new Fre("error/message",'The error "'.concat(r,'" is identical to the message.'));n=t,t=void 0}else if(t!=null&&Tf(t)!=="object"&&typeof t!="function")throw new mp("error",["Object","Error","Function","RegExp"],t);if(r===G_){var a="";t&&t.name&&(a+=" (".concat(t.name,")")),a+=n?": ".concat(n):".";var o=e.name==="rejects"?"rejection":"exception";Mf({actual:void 0,expected:t,operator:e.name,message:"Missing expected ".concat(o).concat(a),stackStartFn:e})}if(t&&!Ure(r,t,n,e))throw r}function Yre(e,r,t,n){if(r!==G_){if(typeof t=="string"&&(n=t,t=void 0),!t||Ure(r,t)){var a=n?": ".concat(n):".",o=e.name==="doesNotReject"?"rejection":"exception";Mf({actual:r,expected:t,operator:e.name,message:"Got unwanted ".concat(o).concat(a,`
`)+'Actual message: "'.concat(r&&r.message,'"'),stackStartFn:e})}throw r}}za.throws=function e(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];Vre.apply(void 0,[e,Gre(r)].concat(n))};za.rejects=function e(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Hre(r).then(function(o){return Vre.apply(void 0,[e,o].concat(n))})};za.doesNotThrow=function e(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];Yre.apply(void 0,[e,Gre(r)].concat(n))};za.doesNotReject=function e(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Hre(r).then(function(o){return Yre.apply(void 0,[e,o].concat(n))})};za.ifError=function e(r){if(r!=null){var t="ifError got unwanted exception: ";Tf(r)==="object"&&typeof r.message=="string"?r.message.length===0&&r.constructor?t+=r.constructor.name:t+=r.message:t+=B_(r);var n=new G0({actual:r,expected:null,operator:"ifError",message:t,stackStartFn:e}),a=r.stack;if(typeof a=="string"){var o=a.split(`
`);o.shift();for(var i=n.stack.split(`
`),l=0;l<o.length;l++){var f=i.indexOf(o[l]);if(f!==-1){i=i.slice(0,f);break}}n.stack="".concat(i.join(`
`),`
`).concat(o.join(`
`))}throw n}};function Wre(e,r,t,n,a){if(!z_(r))throw new mp("regexp","RegExp",r);var o=a==="match";if(typeof e!="string"||q_(r,e)!==o){if(t instanceof Error)throw t;var i=!t;t=t||(typeof e!="string"?'The "string" argument must be of type string. Received type '+"".concat(Tf(e)," (").concat(B_(e),")"):(o?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(B_(r),`. Input:

`).concat(B_(e),`
`));var l=new G0({actual:e,expected:r,message:t,operator:a,stackStartFn:n});throw l.generatedMessage=i,l}}za.match=function e(r,t,n){Wre(r,t,n,e,"match")};za.doesNotMatch=function e(r,t,n){Wre(r,t,n,e,"doesNotMatch")};function Xre(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];zre.apply(void 0,[Xre,r.length].concat(r))}za.strict=LSe(Xre,za,{equal:za.strictEqual,deepEqual:za.deepStrictEqual,notEqual:za.notStrictEqual,notDeepEqual:za.notDeepStrictEqual});za.strict.strict=za.strict});var Jre=fe((fVe,$re)=>{"use strict";var FSe=Vg(),DSe=d7(),ISe=FJ(),PSe=g7(),Zre=E_();$re.exports=OSe;function OSe(e){if(Array.isArray(e)&&e.length===1&&typeof e[0]=="string"&&(e=e[0]),typeof e=="string"&&(Zre(PSe(e),"String is not an SVG path."),e=FSe(e)),Zre(Array.isArray(e),"Argument should be a string or an array of path segments."),e=DSe(e),e=ISe(e),!e.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],t=0,n=e.length;t<n;t++)for(var a=e[t].slice(1),o=0;o<a.length;o+=2)a[o+0]<r[0]&&(r[0]=a[o+0]),a[o+1]<r[1]&&(r[1]=a[o+1]),a[o+0]>r[2]&&(r[2]=a[o+0]),a[o+1]>r[3]&&(r[3]=a[o+1]);return r}});var nte=fe((uVe,tte)=>{var Xv=Math.PI,Kre=rte(120);tte.exports=NSe;function NSe(e){for(var r,t=[],n=0,a=0,o=0,i=0,l=null,f=null,s=0,u=0,c=0,v=e.length;c<v;c++){var x=e[c],m=x[0];switch(m){case"M":o=x[1],i=x[2];break;case"A":x=ete(s,u,x[1],x[2],rte(x[3]),x[4],x[5],x[6],x[7]),x.unshift("C"),x.length>7&&(t.push(x.splice(0,7)),x.unshift("C"));break;case"S":var w=s,A=u;(r=="C"||r=="S")&&(w+=w-n,A+=A-a),x=["C",w,A,x[1],x[2],x[3],x[4]];break;case"T":r=="Q"||r=="T"?(l=s*2-l,f=u*2-f):(l=s,f=u),x=Qre(s,u,l,f,x[1],x[2]);break;case"Q":l=x[1],f=x[2],x=Qre(s,u,x[1],x[2],x[3],x[4]);break;case"L":x=H_(s,u,x[1],x[2]);break;case"H":x=H_(s,u,x[1],u);break;case"V":x=H_(s,u,s,x[1]);break;case"Z":x=H_(s,u,o,i);break}r=m,s=x[x.length-2],u=x[x.length-1],x.length>4?(n=x[x.length-4],a=x[x.length-3]):(n=s,a=u),t.push(x)}return t}function H_(e,r,t,n){return["C",e,r,t,n,t,n]}function Qre(e,r,t,n,a,o){return["C",e/3+2/3*t,r/3+2/3*n,a/3+2/3*t,o/3+2/3*n,a,o]}function ete(e,r,t,n,a,o,i,l,f,s){if(s)E=s[0],b=s[1],y=s[2],M=s[3];else{var u=yE(e,r,-a);e=u.x,r=u.y,u=yE(l,f,-a),l=u.x,f=u.y;var c=(e-l)/2,v=(r-f)/2,x=c*c/(t*t)+v*v/(n*n);x>1&&(x=Math.sqrt(x),t=x*t,n=x*n);var m=t*t,w=n*n,A=(o==i?-1:1)*Math.sqrt(Math.abs((m*w-m*v*v-w*c*c)/(m*v*v+w*c*c)));A==1/0&&(A=1);var y=A*t*v/n+(e+l)/2,M=A*-n*c/t+(r+f)/2,E=Math.asin(((r-M)/n).toFixed(9)),b=Math.asin(((f-M)/n).toFixed(9));E=e<y?Xv-E:E,b=l<y?Xv-b:b,E<0&&(E=Xv*2+E),b<0&&(b=Xv*2+b),i&&E>b&&(E=E-Xv*2),!i&&b>E&&(b=b-Xv*2)}if(Math.abs(b-E)>Kre){var T=b,p=l,_=f;b=E+Kre*(i&&b>E?1:-1),l=y+t*Math.cos(b),f=M+n*Math.sin(b);var g=ete(l,f,t,n,a,0,i,p,_,[b,T,y,M])}var h=Math.tan((b-E)/4),S=4/3*t*h,d=4/3*n*h,R=[2*e-(e+S*Math.sin(E)),2*r-(r-d*Math.cos(E)),l+S*Math.sin(b),f-d*Math.cos(b),l,f];if(s)return R;g&&(R=R.concat(g));for(var L=0;L<R.length;){var F=yE(R[L],R[L+1],a);R[L++]=F.x,R[L++]=F.y}return R}function yE(e,r,t){return{x:e*Math.cos(t)-r*Math.sin(t),y:e*Math.sin(t)+r*Math.cos(t)}}function rte(e){return e*(Xv/180)}});var ite=fe((cVe,ate)=>{var BSe=d7(),zSe=nte(),qSe={M:"moveTo",C:"bezierCurveTo"};ate.exports=function(e,r){e.beginPath(),zSe(BSe(r)).forEach(function(t){var n=t[0],a=t.slice(1);e[qSe[n]].apply(e,a)}),e.closePath()}});var fte=fe((hVe,ste)=>{"use strict";var USe=_m();ste.exports=GSe;var Km=1e20;function GSe(e,r){r||(r={});var t=r.cutoff==null?.25:r.cutoff,n=r.radius==null?8:r.radius,a=r.channel||0,o,i,l,f,s,u,c,v,x,m,w;if(ArrayBuffer.isView(e)||Array.isArray(e)){if(!r.width||!r.height)throw Error("For raw data width and height should be provided by options");o=r.width,i=r.height,f=e,r.stride?u=r.stride:u=Math.floor(e.length/o/i)}else window.HTMLCanvasElement&&e instanceof window.HTMLCanvasElement?(v=e,c=v.getContext("2d"),o=v.width,i=v.height,x=c.getImageData(0,0,o,i),f=x.data,u=4):window.CanvasRenderingContext2D&&e instanceof window.CanvasRenderingContext2D?(v=e.canvas,c=e,o=v.width,i=v.height,x=c.getImageData(0,0,o,i),f=x.data,u=4):window.ImageData&&e instanceof window.ImageData&&(x=e,o=e.width,i=e.height,f=x.data,u=4);if(l=Math.max(o,i),window.Uint8ClampedArray&&f instanceof window.Uint8ClampedArray||window.Uint8Array&&f instanceof window.Uint8Array)for(s=f,f=Array(o*i),m=0,w=s.length;m<w;m++)f[m]=s[m*u+a]/255;else if(u!==1)throw Error("Raw data can have only 1 value per pixel");var A=Array(o*i),y=Array(o*i),M=Array(l),E=Array(l),b=Array(l+1),T=Array(l);for(m=0,w=o*i;m<w;m++){var p=f[m];A[m]=p===1?0:p===0?Km:Math.pow(Math.max(0,.5-p),2),y[m]=p===1?Km:p===0?0:Math.pow(Math.max(0,p-.5),2)}ote(A,o,i,M,E,T,b),ote(y,o,i,M,E,T,b);var _=window.Float32Array?new Float32Array(o*i):new Array(o*i);for(m=0,w=o*i;m<w;m++)_[m]=USe(1-((A[m]-y[m])/n+t),0,1);return _}function ote(e,r,t,n,a,o,i){for(var l=0;l<r;l++){for(var f=0;f<t;f++)n[f]=e[f*r+l];for(lte(n,a,o,i,t),f=0;f<t;f++)e[f*r+l]=a[f]}for(f=0;f<t;f++){for(l=0;l<r;l++)n[l]=e[f*r+l];for(lte(n,a,o,i,r),l=0;l<r;l++)e[f*r+l]=Math.sqrt(a[l])}}function lte(e,r,t,n,a){t[0]=0,n[0]=-Km,n[1]=+Km;for(var o=1,i=0;o<a;o++){for(var l=(e[o]+o*o-(e[t[i]]+t[i]*t[i]))/(2*o-2*t[i]);l<=n[i];)i--,l=(e[o]+o*o-(e[t[i]]+t[i]*t[i]))/(2*o-2*t[i]);i++,t[i]=o,n[i]=l,n[i+1]=+Km}for(o=0,i=0;o<a;o++){for(;n[i+1]<o;)i++;r[o]=(o-t[i])*(o-t[i])+e[t[i]]}}});var cte=fe((vVe,ute)=>{"use strict";var HSe=Jre(),VSe=Vg(),YSe=ite(),WSe=g7(),XSe=fte(),mE=document.createElement("canvas"),rl=mE.getContext("2d");ute.exports=jSe;function jSe(e,r){if(!WSe(e))throw Error("Argument should be valid svg path string");r||(r={});var t,n;r.shape?(t=r.shape[0],n=r.shape[1]):(t=mE.width=r.w||r.width||200,n=mE.height=r.h||r.height||200);var a=Math.min(t,n),o=r.stroke||0,i=r.viewbox||r.viewBox||HSe(e),l=[t/(i[2]-i[0]),n/(i[3]-i[1])],f=Math.min(l[0]||0,l[1]||0)/2;if(rl.fillStyle="black",rl.fillRect(0,0,t,n),rl.fillStyle="white",o&&(typeof o!="number"&&(o=1),o>0?rl.strokeStyle="white":rl.strokeStyle="black",rl.lineWidth=Math.abs(o)),rl.translate(t*.5,n*.5),rl.scale(f,f),ZSe()){var s=new Path2D(e);rl.fill(s),o&&rl.stroke(s)}else{var u=VSe(e);YSe(rl,u),rl.fill(),o&&rl.stroke()}rl.setTransform(1,0,0,1,0,0);var c=XSe(rl,{cutoff:r.cutoff!=null?r.cutoff:.5,radius:r.radius!=null?r.radius:a*.5});return c}var V_;function ZSe(){if(V_!=null)return V_;var e=document.createElement("canvas").getContext("2d");if(e.canvas.width=e.canvas.height=1,!window.Path2D)return V_=!1;var r=new Path2D("M0,0h1v1h-1v-1Z");e.fillStyle="black",e.fill(r);var t=e.getImageData(0,0,1,1);return V_=t&&t.data&&t.data[3]===255}});var Ate=fe((dVe,wte)=>{"use strict";var W_=kn(),$Se=cte(),Y_=N0(),JSe=Qt(),_p=tt(),ai=_p.isArrayOrTypedArray,xp=ta(),hte=ti(),vte=UM().formatColor,bp=Ki(),KSe=b3(),bE=u7(),Qm=Mm(),QSe=Fd().DESELECTDIM,dte={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},e9e=hs().appendArrayPointValue;function r9e(e,r){var t,n={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},a=e._context.plotGlPixelRatio;if(r.visible!==!0)return n;if(bp.hasText(r)&&(n.text=_te(e,r),n.textSel=gte(e,r,r.selected),n.textUnsel=gte(e,r,r.unselected)),bp.hasMarkers(r)&&(n.marker=wE(e,r),n.markerSel=_E(e,r,r.selected),n.markerUnsel=_E(e,r,r.unselected),!r.unselected&&ai(r.marker.opacity))){var o=r.marker.opacity;for(n.markerUnsel.opacity=new Array(o.length),t=0;t<o.length;t++)n.markerUnsel.opacity[t]=QSe*o[t]}if(bp.hasLines(r)){n.line={overlay:!0,thickness:r.line.width*a,color:r.line.color,opacity:r.opacity};var i=(Qm.DASHES[r.line.dash]||[1]).slice();for(t=0;t<i.length;++t)i[t]*=r.line.width*a;n.line.dashes=i}return r.error_x&&r.error_x.visible&&(n.errorX=yte(r,r.error_x,a)),r.error_y&&r.error_y.visible&&(n.errorY=yte(r,r.error_y,a)),r.fill&&r.fill!=="none"&&(n.fill={closed:!0,fill:r.fillcolor,thickness:0}),n}function _te(e,r){var t=e._fullLayout,n=r._length,a=r.textfont,o=r.textposition,i=ai(o)?o:[o],l=a.color,f=a.size,s=a.family,u=a.weight,c=a.style,v=a.variant,x={},m,w=e._context.plotGlPixelRatio,A=r.texttemplate;if(A){x.text=[];var y=t._d3locale,M=Array.isArray(A),E=M?Math.min(A.length,n):n,b=M?function(d){return A[d]}:function(){return A};for(m=0;m<E;m++){var T={i:m},p=r._module.formatLabels(T,r,t),_={};e9e(_,r,m);var g=r._meta||{};x.text.push(_p.texttemplateString(b(m),p,y,_,T,g))}}else ai(r.text)&&r.text.length<n?x.text=r.text.slice():x.text=r.text;if(ai(x.text))for(m=x.text.length;m<n;m++)x.text[m]="";for(x.opacity=r.opacity,x.font={},x.align=[],x.baseline=[],m=0;m<i.length;m++){var h=i[m].split(/\s+/);switch(h[1]){case"left":x.align.push("right");break;case"right":x.align.push("left");break;default:x.align.push(h[1])}switch(h[0]){case"top":x.baseline.push("bottom");break;case"bottom":x.baseline.push("top");break;default:x.baseline.push(h[0])}}if(ai(l))for(x.color=new Array(n),m=0;m<n;m++)x.color[m]=l[m];else x.color=l;if(ai(f)||Array.isArray(s)||ai(u)||Array.isArray(c)||Array.isArray(v))for(x.font=new Array(n),m=0;m<n;m++){var S=x.font[m]={};S.size=(_p.isTypedArray(f)?f[m]:ai(f)?W_(f[m])?f[m]:0:f)*w,S.family=Array.isArray(s)?s[m]:s,S.weight=pte(ai(u)?u[m]:u),S.style=Array.isArray(c)?c[m]:c,S.variant=Array.isArray(v)?v[m]:v}else x.font={size:f*w,family:s,weight:pte(u),style:c,variant:v};return x}function pte(e){return e<=1e3?e>500?"bold":"normal":e}function wE(e,r){var t=r._length,n=r.marker,a={},o,i=ai(n.symbol),l=ai(n.angle),f=ai(n.color),s=ai(n.line.color),u=ai(n.opacity),c=ai(n.size),v=ai(n.line.width),x;if(i||(x=bE.isOpenSymbol(n.symbol)),i||f||s||u||l){a.symbols=new Array(t),a.angles=new Array(t),a.colors=new Array(t),a.borderColors=new Array(t);var m=n.symbol,w=n.angle,A=vte(n,n.opacity,t),y=vte(n.line,n.opacity,t);if(!ai(y[0])){var M=y;for(y=Array(t),o=0;o<t;o++)y[o]=M}if(!ai(A[0])){var E=A;for(A=Array(t),o=0;o<t;o++)A[o]=E}if(!ai(m)){var b=m;for(m=Array(t),o=0;o<t;o++)m[o]=b}if(!ai(w)){var T=w;for(w=Array(t),o=0;o<t;o++)w[o]=T}for(a.symbols=m,a.angles=w,a.colors=A,a.borderColors=y,o=0;o<t;o++)i&&(x=bE.isOpenSymbol(n.symbol[o])),x&&(y[o]=A[o].slice(),A[o]=A[o].slice(),A[o][3]=0);for(a.opacity=r.opacity,a.markers=new Array(t),o=0;o<t;o++)a.markers[o]=bte({mx:a.symbols[o],ma:a.angles[o]},r)}else x?(a.color=Y_(n.color,"uint8"),a.color[3]=0,a.borderColor=Y_(n.color,"uint8")):(a.color=Y_(n.color,"uint8"),a.borderColor=Y_(n.line.color,"uint8")),a.opacity=r.opacity*n.opacity,a.marker=bte({mx:n.symbol,ma:n.angle},r);var p=1,_=KSe(r,p),g;if(c||v){var h=a.sizes=new Array(t),S=a.borderSizes=new Array(t),d=0,R;if(c){for(o=0;o<t;o++)h[o]=_(n.size[o]),d+=h[o];R=d/t}else for(g=_(n.size),o=0;o<t;o++)h[o]=g;if(v)for(o=0;o<t;o++)S[o]=n.line.width[o];else for(g=n.line.width,o=0;o<t;o++)S[o]=g;a.sizeAvg=R}else a.size=_(n&&n.size||10),a.borderSizes=_(n.line.width);return a}function _E(e,r,t){var n=r.marker,a={};return t&&(t.marker&&t.marker.symbol?a=wE(e,_p.extendFlat({},n,t.marker)):t.marker&&(t.marker.size&&(a.size=t.marker.size),t.marker.color&&(a.colors=t.marker.color),t.marker.opacity!==void 0&&(a.opacity=t.marker.opacity))),a}function gte(e,r,t){var n={};if(!t)return n;if(t.textfont){var a={opacity:1,text:r.text,texttemplate:r.texttemplate,textposition:r.textposition,textfont:_p.extendFlat({},r.textfont)};t.textfont&&_p.extendFlat(a.textfont,t.textfont),n=_te(e,a)}return n}function yte(e,r,t){var n={capSize:r.width*2*t,lineWidth:r.thickness*t,color:r.color};return r.copy_ystyle&&(n=e.error_y),n}var mte=Qm.SYMBOL_SDF_SIZE,jv=Qm.SYMBOL_SIZE,xte=Qm.SYMBOL_STROKE,xE={},t9e=xp.symbolFuncs[0](jv*.05);function bte(e,r){var t=e.mx;if(t==="circle")return null;var n,a,o=xp.symbolNumber(t),i=xp.symbolFuncs[o%100],l=!!xp.symbolNoDot[o%100],f=!!xp.symbolNoFill[o%100],s=bE.isDotSymbol(t);if(e.ma&&(t+="_"+e.ma),xE[t])return xE[t];var u=xp.getMarkerAngle(e,r);return s&&!l?n=i(jv*1.1,u)+t9e:n=i(jv,u),a=$Se(n,{w:mte,h:mte,viewBox:[-jv,-jv,jv,jv],stroke:f?xte:-xte}),xE[t]=a,a||null}function n9e(e,r,t){var n=t.length,a=n/2,o,i;if(bp.hasLines(r)&&a)if(r.line.shape==="hv"){for(o=[],i=0;i<a-1;i++)isNaN(t[i*2])||isNaN(t[i*2+1])?o.push(NaN,NaN,NaN,NaN):(o.push(t[i*2],t[i*2+1]),!isNaN(t[i*2+2])&&!isNaN(t[i*2+3])?o.push(t[i*2+2],t[i*2+1]):o.push(NaN,NaN));o.push(t[n-2],t[n-1])}else if(r.line.shape==="hvh"){for(o=[],i=0;i<a-1;i++)if(isNaN(t[i*2])||isNaN(t[i*2+1])||isNaN(t[i*2+2])||isNaN(t[i*2+3]))!isNaN(t[i*2])&&!isNaN(t[i*2+1])?o.push(t[i*2],t[i*2+1]):o.push(NaN,NaN),o.push(NaN,NaN);else{var l=(t[i*2]+t[i*2+2])/2;o.push(t[i*2],t[i*2+1],l,t[i*2+1],l,t[i*2+3])}o.push(t[n-2],t[n-1])}else if(r.line.shape==="vhv"){for(o=[],i=0;i<a-1;i++)if(isNaN(t[i*2])||isNaN(t[i*2+1])||isNaN(t[i*2+2])||isNaN(t[i*2+3]))!isNaN(t[i*2])&&!isNaN(t[i*2+1])?o.push(t[i*2],t[i*2+1]):o.push(NaN,NaN),o.push(NaN,NaN);else{var f=(t[i*2+1]+t[i*2+3])/2;o.push(t[i*2],t[i*2+1],t[i*2],f,t[i*2+2],f)}o.push(t[n-2],t[n-1])}else if(r.line.shape==="vh"){for(o=[],i=0;i<a-1;i++)isNaN(t[i*2])||isNaN(t[i*2+1])?o.push(NaN,NaN,NaN,NaN):(o.push(t[i*2],t[i*2+1]),!isNaN(t[i*2+2])&&!isNaN(t[i*2+3])?o.push(t[i*2],t[i*2+3]):o.push(NaN,NaN));o.push(t[n-2],t[n-1])}else o=t;var s=!1;for(i=0;i<o.length;i++)if(isNaN(o[i])){s=!0;break}var u=s||o.length>Qm.TOO_MANY_POINTS||bp.hasMarkers(r)?"rect":"round";if(s&&r.connectgaps){var c=o[0],v=o[1];for(i=0;i<o.length;i+=2)isNaN(o[i])||isNaN(o[i+1])?(o[i]=c,o[i+1]=v):(c=o[i],v=o[i+1])}return{join:u,positions:o}}function a9e(e,r,t,n,a){var o=JSe.getComponentMethod("errorbars","makeComputeError"),i=hte.getFromId(e,r.xaxis,"x"),l=hte.getFromId(e,r.yaxis,"y"),f=t.length/2,s={};function u(c,v){var x=v._id.charAt(0),m=r["error_"+x];if(m&&m.visible&&(v.type==="linear"||v.type==="log")){for(var w=o(m),A={x:0,y:1}[x],y={x:[0,1,2,3],y:[2,3,0,1]}[x],M=new Float64Array(4*f),E=1/0,b=-1/0,T=0,p=0;T<f;T++,p+=4){var _=c[T];if(W_(_)){var g=t[T*2+A],h=w(_,T),S=h[0],d=h[1];if(W_(S)&&W_(d)){var R=_-S,L=_+d;M[p+y[0]]=g-v.c2l(R),M[p+y[1]]=v.c2l(L)-g,M[p+y[2]]=0,M[p+y[3]]=0,E=Math.min(E,_-S),b=Math.max(b,_+d)}}}s[x]={positions:t,errors:M,_bnds:[E,b]}}}return u(n,i),u(a,l),s}function i9e(e,r,t,n){var a=r._length,o={},i;if(bp.hasMarkers(r)){var l=t.font,f=t.align,s=t.baseline;for(o.offset=new Array(a),i=0;i<a;i++){var u=n.sizes?n.sizes[i]:n.size,c=ai(l)?l[i].size:l.size,v=ai(f)?f.length>1?f[i]:f[0]:f,x=ai(s)?s.length>1?s[i]:s[0]:s,m=dte[v],w=dte[x],A=u?u/.8+1:0,y=-w*A-w*.5;o.offset[i]=[m*A/c,y/c]}}return o}wte.exports={style:r9e,markerStyle:wE,markerSelection:_E,linePositions:n9e,errorBarPositions:a9e,textPosition:i9e}});var Mte=fe((pVe,Tte)=>{"use strict";var X_=tt();Tte.exports=function(r,t){var n=t._scene,a={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},o={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return t._scene||(n=t._scene={},n.init=function(){X_.extendFlat(n,o,a)},n.init(),n.update=function(l){var f=X_.repeat(l,n.count);if(n.fill2d&&n.fill2d.update(f),n.scatter2d&&n.scatter2d.update(f),n.line2d&&n.line2d.update(f),n.error2d&&n.error2d.update(f.concat(f)),n.select2d&&n.select2d.update(f),n.glText)for(var s=0;s<n.count;s++)n.glText[s].update(l)},n.draw=function(){for(var l=n.count,f=n.fill2d,s=n.error2d,u=n.line2d,c=n.scatter2d,v=n.glText,x=n.select2d,m=n.selectBatch,w=n.unselectBatch,A=0;A<l;A++){if(f&&n.fillOrder[A]&&f.draw(n.fillOrder[A]),u&&n.lineOptions[A]&&u.draw(A),s&&(n.errorXOptions[A]&&s.draw(A),n.errorYOptions[A]&&s.draw(A+l)),c&&n.markerOptions[A])if(w[A].length){var y=X_.repeat([],n.count);y[A]=w[A],c.draw(y)}else m[A].length||c.draw(A);v[A]&&n.textOptions[A]&&v[A].render()}x&&x.draw(m),n.dirty=!1},n.destroy=function(){n.fill2d&&n.fill2d.destroy&&n.fill2d.destroy(),n.scatter2d&&n.scatter2d.destroy&&n.scatter2d.destroy(),n.error2d&&n.error2d.destroy&&n.error2d.destroy(),n.line2d&&n.line2d.destroy&&n.line2d.destroy(),n.select2d&&n.select2d.destroy&&n.select2d.destroy(),n.glText&&n.glText.forEach(function(l){l.destroy&&l.destroy()}),n.lineOptions=null,n.fillOptions=null,n.markerOptions=null,n.markerSelectedOptions=null,n.markerUnselectedOptions=null,n.errorXOptions=null,n.errorYOptions=null,n.textOptions=null,n.textSelectedOptions=null,n.textUnselectedOptions=null,n.selectBatch=null,n.unselectBatch=null,t._scene=null}),n.dirty||X_.extendFlat(n,a),n}});var Rte=fe((gVe,Lte)=>{"use strict";var o9e=v7(),wp=tt(),Ete=ti(),l9e=av().findExtremes,Ste=FT(),AE=Ab(),s9e=AE.calcMarkerSize,f9e=AE.calcAxisExpansion,u9e=AE.setFirstScatter,c9e=_b(),Ap=Ate(),h9e=Mte(),Cte=ui().BADNUM,v9e=Mm().TOO_MANY_POINTS;Lte.exports=function(r,t){var n=r._fullLayout,a=t._xA=Ete.getFromId(r,t.xaxis,"x"),o=t._yA=Ete.getFromId(r,t.yaxis,"y"),i=n._plots[t.xaxis+t.yaxis],l=t._length,f=l>=v9e,s=l*2,u={},c,v=a.makeCalcdata(t,"x"),x=o.makeCalcdata(t,"y"),m=Ste(t,a,"x",v),w=Ste(t,o,"y",x),A=m.vals,y=w.vals;t._x=A,t._y=y,t.xperiodalignment&&(t._origX=v,t._xStarts=m.starts,t._xEnds=m.ends),t.yperiodalignment&&(t._origY=x,t._yStarts=w.starts,t._yEnds=w.ends);var M=new Array(s),E=new Array(l);for(c=0;c<l;c++)M[c*2]=A[c]===Cte?NaN:A[c],M[c*2+1]=y[c]===Cte?NaN:y[c],E[c]=c;if(a.type==="log")for(c=0;c<s;c+=2)M[c]=a.c2l(M[c]);if(o.type==="log")for(c=1;c<s;c+=2)M[c]=o.c2l(M[c]);f&&a.type!=="log"&&o.type!=="log"?u.tree=o9e(M):u.ids=E,c9e(r,t);var b=d9e(r,i,t,M,A,y),T=h9e(r,i);u9e(n,t);var p;return f?b.marker&&(p=b.marker.sizeAvg||Math.max(b.marker.size,3)):p=s9e(t,l),f9e(r,t,a,o,A,y,p),b.errorX&&kte(t,a,b.errorX),b.errorY&&kte(t,o,b.errorY),b.fill&&!T.fill2d&&(T.fill2d=!0),b.marker&&!T.scatter2d&&(T.scatter2d=!0),b.line&&!T.line2d&&(T.line2d=!0),(b.errorX||b.errorY)&&!T.error2d&&(T.error2d=!0),b.text&&!T.glText&&(T.glText=!0),b.marker&&(b.marker.snap=l),T.lineOptions.push(b.line),T.errorXOptions.push(b.errorX),T.errorYOptions.push(b.errorY),T.fillOptions.push(b.fill),T.markerOptions.push(b.marker),T.markerSelectedOptions.push(b.markerSel),T.markerUnselectedOptions.push(b.markerUnsel),T.textOptions.push(b.text),T.textSelectedOptions.push(b.textSel),T.textUnselectedOptions.push(b.textUnsel),T.selectBatch.push([]),T.unselectBatch.push([]),u._scene=T,u.index=T.count,u.x=A,u.y=y,u.positions=M,T.count++,[{x:!1,y:!1,t:u,trace:t}]};function kte(e,r,t){var n=e._extremes[r._id],a=l9e(r,t._bnds,{padded:!0});n.min=n.min.concat(a.min),n.max=n.max.concat(a.max)}function d9e(e,r,t,n,a,o){var i=Ap.style(e,t);if(i.marker&&(i.marker.positions=n),i.line&&n.length>1&&wp.extendFlat(i.line,Ap.linePositions(e,t,n)),i.errorX||i.errorY){var l=Ap.errorBarPositions(e,t,n,a,o);i.errorX&&wp.extendFlat(i.errorX,l.x),i.errorY&&wp.extendFlat(i.errorY,l.y)}return i.text&&(wp.extendFlat(i.text,{positions:n},Ap.textPosition(e,t,i.text,i.marker)),wp.extendFlat(i.textSel,{positions:n},Ap.textPosition(e,t,i.text,i.markerSel)),wp.extendFlat(i.textUnsel,{positions:n},Ap.textPosition(e,t,i.text,i.markerUnsel))),i}});var TE=fe((yVe,Dte)=>{"use strict";var Fte=tt(),p9e=xn(),g9e=Fd().DESELECTDIM;function y9e(e){var r=e[0],t=r.trace,n=r.t,a=n._scene,o=n.index,i=a.selectBatch[o],l=a.unselectBatch[o],f=a.textOptions[o],s=a.textSelectedOptions[o]||{},u=a.textUnselectedOptions[o]||{},c=Fte.extendFlat({},f),v,x;if(i.length||l.length){var m=s.color,w=u.color,A=f.color,y=Fte.isArrayOrTypedArray(A);for(c.color=new Array(t._length),v=0;v<i.length;v++)x=i[v],c.color[x]=m||(y?A[x]:A);for(v=0;v<l.length;v++){x=l[v];var M=y?A[x]:A;c.color[x]=w||(m?M:p9e.addOpacity(M,g9e))}}a.glText[o].update(c)}Dte.exports={styleTextSelection:y9e}});var Ote=fe((mVe,Pte)=>{"use strict";var Ite=Ki(),m9e=TE().styleTextSelection;Pte.exports=function(r,t){var n=r.cd,a=r.xaxis,o=r.yaxis,i=[],l=n[0].trace,f=n[0].t,s=l._length,u=f.x,c=f.y,v=f._scene,x=f.index;if(!v)return i;var m=Ite.hasText(l),w=Ite.hasMarkers(l),A=!w&&!m;if(l.visible!==!0||A)return i;var y=[],M=[];if(t!==!1&&!t.degenerate)for(var E=0;E<s;E++)t.contains([f.xpx[E],f.ypx[E]],!1,E,r)?(y.push(E),i.push({pointNumber:E,x:a.c2d(u[E]),y:o.c2d(c[E])})):M.push(E);if(w){var b=v.scatter2d;if(!y.length&&!M.length){var T=new Array(v.count);T[x]=v.markerOptions[x],b.update.apply(b,T)}else if(!v.selectBatch[x].length&&!v.unselectBatch[x].length){var p=new Array(v.count);p[x]=v.markerUnselectedOptions[x],b.update.apply(b,p)}}return v.selectBatch[x]=y,v.unselectBatch[x]=M,m&&m9e(n),i}});var Bte=fe((xVe,Nte)=>{"use strict";var x9e=Y$();Nte.exports={moduleType:"trace",name:"scattergl",basePlotModule:qb(),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:s7(),supplyDefaults:rJ(),crossTraceDefaults:RT(),colorbar:Cb(),formatLabels:nJ(),calc:Rte(),hoverPoints:x9e.hoverPoints,selectPoints:Ote(),meta:{}}});var qte=fe((bVe,Z_)=>{"use strict";var j_=_m();Z_.exports=zte;Z_.exports.to=zte;Z_.exports.from=b9e;function zte(e,r){r==null&&(r=!0);var t=e[0],n=e[1],a=e[2],o=e[3];o==null&&(o=r?1:255),r&&(t*=255,n*=255,a*=255,o*=255),t=j_(t,0,255)&255,n=j_(n,0,255)&255,a=j_(a,0,255)&255,o=j_(o,0,255)&255;var i=t*16777216+(n<<16)+(a<<8)+o;return i}function b9e(e,r){e=+e;var t=e>>>24,n=(e&16711680)>>>16,a=(e&65280)>>>8,o=e&255;return r===!1?[t,n,a,o]:[t/255,n/255,a/255,o/255]}});var gi=fe((_Ve,Gte)=>{"use strict";var Ute=Object.getOwnPropertySymbols,_9e=Object.prototype.hasOwnProperty,w9e=Object.prototype.propertyIsEnumerable;function A9e(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function T9e(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var r={},t=0;t<10;t++)r["_"+String.fromCharCode(t)]=t;var n=Object.getOwnPropertyNames(r).map(function(o){return r[o]});if(n.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(o){a[o]=o}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch(o){return!1}}Gte.exports=T9e()?Object.assign:function(e,r){for(var t,n=A9e(e),a,o=1;o<arguments.length;o++){t=Object(arguments[o]);for(var i in t)_9e.call(t,i)&&(n[i]=t[i]);if(Ute){a=Ute(t);for(var l=0;l<a.length;l++)w9e.call(t,a[l])&&(n[a[l]]=t[a[l]])}}return n}});var Vte=fe((wVe,Hte)=>{Hte.exports=function(e){typeof e=="string"&&(e=[e]);for(var r=[].slice.call(arguments,1),t=[],n=0;n<e.length-1;n++)t.push(e[n],r[n]||"");return t.push(e[n]),t.join("")}});var ME=fe((AVe,Yte)=>{"use strict";Yte.exports=function(r,t,n){Array.isArray(n)||(n=[].slice.call(arguments,2));for(var a=0,o=n.length;a<o;a++){var i=n[a];for(var l in i)if(!(t[l]!==void 0&&!Array.isArray(t[l])&&r[l]===t[l])&&l in t){var f;if(i[l]===!0)f=t[l];else{if(i[l]===!1)continue;if(typeof i[l]=="function"&&(f=i[l](t[l],r,t),f===void 0))continue}r[l]=f}}return r}});var Xte=fe((TVe,Wte)=>{"use strict";Wte.exports=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))});var $_=fe((MVe,Tp)=>{"use strict";Tp.exports=e2;Tp.exports.float32=Tp.exports.float=e2;Tp.exports.fract32=Tp.exports.fract=M9e;var jte=new Float32Array(1);function M9e(e,r){if(e.length){if(e instanceof Float32Array)return new Float32Array(e.length);r instanceof Float32Array||(r=e2(e));for(var t=0,n=r.length;t<n;t++)r[t]=e[t]-r[t];return r}return e2(e-e2(e))}function e2(e){return e.length?e instanceof Float32Array?e:new Float32Array(e):(jte[0]=e,jte[0])}});var Kte=fe((EVe,Jte)=>{"use strict";function E9e(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,a,o,i,l=[],f=!0,s=!1;try{if(o=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;f=!1}else for(;!(f=(n=o.call(t)).done)&&(l.push(n.value),l.length!==r);f=!0);}catch(u){s=!0,a=u}finally{try{if(!f&&t.return!=null&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}function S9e(e,r){return L9e(e)||E9e(e,r)||$te(e,r)||D9e()}function C9e(e){return k9e(e)||R9e(e)||$te(e)||F9e()}function k9e(e){if(Array.isArray(e))return EE(e)}function L9e(e){if(Array.isArray(e))return e}function R9e(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $te(e,r){if(e){if(typeof e=="string")return EE(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return EE(e,r)}}function EE(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function F9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var I9e=N0(),P9e=np(),O9e=qte(),N9e=v7(),Zv=gi(),J_=Vte(),B9e=gc(),z9e=ME(),q9e=ap(),Zte=Xte(),K_=$_(),U9e=Sm(),G9e=ao;function ao(e,r){var t=this;if(!(this instanceof ao))return new ao(e,r);typeof e=="function"?(r||(r={}),r.regl=e):(r=e,e=null),r&&r.length&&(r.positions=r),e=r.regl;var n=e._gl,a,o=[],i={},l=[],f=[null],s=[null],u=255,c=100;this.tooManyColors=Zte,a=e.texture({data:new Uint8Array(u*4),width:u,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),Zv(this,{regl:e,gl:n,groups:l,markerCache:s,markerTextures:f,palette:o,paletteIds:i,paletteTexture:a,maxColors:u,maxSize:c,canvas:n.canvas}),this.update(r);var v={uniforms:{constPointSize:!!r.constPointSize,opacity:e.prop("opacity"),paletteSize:function(A,y){return[t.tooManyColors?0:u,a.height]},pixelRatio:e.context("pixelRatio"),scale:e.prop("scale"),scaleFract:e.prop("scaleFract"),translate:e.prop("translate"),translateFract:e.prop("translateFract"),markerTexture:e.prop("markerTexture"),paletteTexture:a},attributes:{x:function(A,y){return y.xAttr||{buffer:y.positionBuffer,stride:8,offset:0}},y:function(A,y){return y.yAttr||{buffer:y.positionBuffer,stride:8,offset:4}},xFract:function(A,y){return y.xAttr?{constant:[0,0]}:{buffer:y.positionFractBuffer,stride:8,offset:0}},yFract:function(A,y){return y.yAttr?{constant:[0,0]}:{buffer:y.positionFractBuffer,stride:8,offset:4}},size:function(A,y){return y.size.length?{buffer:y.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(y.size*255/t.maxSize)]}},borderSize:function(A,y){return y.borderSize.length?{buffer:y.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(y.borderSize*255/t.maxSize)]}},colorId:function(A,y){return y.color.length?{buffer:y.colorBuffer,stride:t.tooManyColors?8:4,offset:0}:{constant:t.tooManyColors?o.slice(y.color*4,y.color*4+4):[y.color]}},borderColorId:function(A,y){return y.borderColor.length?{buffer:y.colorBuffer,stride:t.tooManyColors?8:4,offset:t.tooManyColors?4:2}:{constant:t.tooManyColors?o.slice(y.borderColor*4,y.borderColor*4+4):[y.borderColor]}},isActive:function(A,y){return y.activation===!0?{constant:[1]}:y.activation?y.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:e.prop("viewport")},viewport:e.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:e.prop("elements"),count:e.prop("count"),offset:e.prop("offset"),primitive:"points"},x=Zv({},v);x.frag=J_([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),x.vert=J_([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=e(x);var m=Zv({},v);m.frag=J_([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),m.vert=J_([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),Zte&&(m.frag=m.frag.replace("smoothstep","smoothStep"),x.frag=x.frag.replace("smoothstep","smoothStep")),this.drawCircle=e(m)}ao.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4};ao.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this};ao.prototype.draw=function(){for(var e=this,r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];var a=this.groups;if(t.length===1&&Array.isArray(t[0])&&(t[0][0]===null||Array.isArray(t[0][0]))&&(t=t[0]),this.regl._refresh(),t.length)for(var o=0;o<t.length;o++)this.drawItem(o,t[o]);else a.forEach(function(i,l){e.drawItem(l)});return this};ao.prototype.drawItem=function(e,r){var t=this.groups,n=t[e];if(typeof r=="number"&&(e=r,n=t[r],r=null),!!(n&&n.count&&n.opacity)){n.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,n,r));for(var a=[],o=1;o<n.activation.length;o++)!n.activation[o]||n.activation[o]!==!0&&!n.activation[o].data.length||a.push.apply(a,C9e(this.getMarkerDrawOptions(o,n,r)));a.length&&this.drawMarker(a)}};ao.prototype.getMarkerDrawOptions=function(e,r,t){var n=r.range,a=r.tree,o=r.viewport,i=r.activation,l=r.selectionBuffer,f=r.count,s=this.regl;if(!a)return t?[Zv({},r,{markerTexture:this.markerTextures[e],activation:i[e],count:t.length,elements:t,offset:0})]:[Zv({},r,{markerTexture:this.markerTextures[e],activation:i[e],offset:0})];var u=[],c=a.range(n,{lod:!0,px:[(n[2]-n[0])/o.width,(n[3]-n[1])/o.height]});if(t){for(var v=i[e],x=v.data,m=new Uint8Array(f),w=0;w<t.length;w++){var A=t[w];m[A]=x?x[A]:1}l.subdata(m)}for(var y=c.length;y--;){var M=S9e(c[y],2),E=M[0],b=M[1];u.push(Zv({},r,{markerTexture:this.markerTextures[e],activation:t?l:i[e],offset:E,count:b-E}))}return u};ao.prototype.update=function(){for(var e=this,r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];if(t.length){t.length===1&&Array.isArray(t[0])&&(t=t[0]);var a=this.groups,o=this.gl,i=this.regl,l=this.maxSize,f=this.maxColors,s=this.palette;this.groups=a=t.map(function(u,c){var v=a[c];if(u===void 0)return v;u===null?u={positions:null}:typeof u=="function"?u={ondraw:u}:typeof u[0]=="number"&&(u={positions:u}),u=B9e(u,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),u.positions===null&&(u.positions=[]),u.tooManyColors!=null&&(e.tooManyColors=u.tooManyColors),v||(a[c]=v={id:c,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:i.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:i.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:i.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:i.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:i.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},u=Zv({},ao.defaults,u)),u.positions&&!("marker"in u)&&(u.marker=v.marker,delete v.marker),u.marker&&!("positions"in u)&&(u.positions=v.positions,delete v.positions);var x=0,m=0;if(z9e(v,u,[{snap:!0,size:function(I,k){return I==null&&(I=ao.defaults.size),x+=I&&I.length?1:0,I},borderSize:function(I,k){return I==null&&(I=ao.defaults.borderSize),x+=I&&I.length?1:0,I},opacity:parseFloat,color:function(I,k){return I==null&&(I=ao.defaults.color),I=e.updateColor(I),m++,I},borderColor:function(I,k){return I==null&&(I=ao.defaults.borderColor),I=e.updateColor(I),m++,I},bounds:function(I,k,D){return"range"in D||(D.range=null),I},positions:function(I,k,D){var z=k.snap,q=k.positionBuffer,j=k.positionFractBuffer,Q=k.selectionBuffer;if(I.x||I.y)return I.x.length?k.xAttr={buffer:i.buffer(I.x),offset:0,stride:4,count:I.x.length}:k.xAttr={buffer:I.x.buffer,offset:I.x.offset*4||0,stride:(I.x.stride||1)*4,count:I.x.count},I.y.length?k.yAttr={buffer:i.buffer(I.y),offset:0,stride:4,count:I.y.length}:k.yAttr={buffer:I.y.buffer,offset:I.y.offset*4||0,stride:(I.y.stride||1)*4,count:I.y.count},k.count=Math.max(k.xAttr.count,k.yAttr.count),I;I=q9e(I,"float64");var K=k.count=Math.floor(I.length/2),G=k.bounds=K?P9e(I,2):null;if(!D.range&&!k.range&&(delete k.range,D.range=G),!D.marker&&!k.marker&&(delete k.marker,D.marker=null),z&&(z===!0||K>z)?k.tree=N9e(I,{bounds:G}):z&&z.length&&(k.tree=z),k.tree){var B={primitive:"points",usage:"static",data:k.tree,type:"uint32"};k.elements?k.elements(B):k.elements=i.elements(B)}var Z=K_.float32(I);q({data:Z,usage:"dynamic"});var ie=K_.fract32(I,Z);return j({data:ie,usage:"dynamic"}),Q({data:new Uint8Array(K),type:"uint8",usage:"stream"}),I}},{marker:function(I,k,D){var z=k.activation;if(z.forEach(function(ie){return ie&&ie.destroy&&ie.destroy()}),z.length=0,!I||typeof I[0]=="number"){var q=e.addMarker(I);z[q]=!0}else{for(var j=[],Q=0,K=Math.min(I.length,k.count);Q<K;Q++){var G=e.addMarker(I[Q]);j[G]||(j[G]=new Uint8Array(k.count)),j[G][Q]=1}for(var B=0;B<j.length;B++)if(j[B]){var Z={data:j[B],type:"uint8",usage:"static"};z[B]?z[B](Z):z[B]=i.buffer(Z),z[B].data=j[B]}}return I},range:function(I,k,D){var z=k.bounds;if(z)return I||(I=z),k.scale=[1/(I[2]-I[0]),1/(I[3]-I[1])],k.translate=[-I[0],-I[1]],k.scaleFract=K_.fract(k.scale),k.translateFract=K_.fract(k.translate),I},viewport:function(I){var k=U9e(I||[o.drawingBufferWidth,o.drawingBufferHeight]);return k}}]),x){var w=v,A=w.count,y=w.size,M=w.borderSize,E=w.sizeBuffer,b=new Uint8Array(A*2);if(y.length||M.length)for(var T=0;T<A;T++)b[T*2]=Math.round((y[T]==null?y:y[T])*255/l),b[T*2+1]=Math.round((M[T]==null?M:M[T])*255/l);E({data:b,usage:"dynamic"})}if(m){var p=v,_=p.count,g=p.color,h=p.borderColor,S=p.colorBuffer,d;if(e.tooManyColors){if(g.length||h.length){d=new Uint8Array(_*8);for(var R=0;R<_;R++){var L=g[R];d[R*8]=s[L*4],d[R*8+1]=s[L*4+1],d[R*8+2]=s[L*4+2],d[R*8+3]=s[L*4+3];var F=h[R];d[R*8+4]=s[F*4],d[R*8+5]=s[F*4+1],d[R*8+6]=s[F*4+2],d[R*8+7]=s[F*4+3]}}}else if(g.length||h.length){d=new Uint8Array(_*4+2);for(var O=0;O<_;O++)g[O]!=null&&(d[O*4]=g[O]%f,d[O*4+1]=Math.floor(g[O]/f)),h[O]!=null&&(d[O*4+2]=h[O]%f,d[O*4+3]=Math.floor(h[O]/f))}S({data:d||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return v})}};ao.prototype.addMarker=function(e){var r=this.markerTextures,t=this.regl,n=this.markerCache,a=e==null?0:n.indexOf(e);if(a>=0)return a;var o;if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)o=e;else{o=new Uint8Array(e.length);for(var i=0,l=e.length;i<l;i++)o[i]=e[i]*255}var f=Math.floor(Math.sqrt(o.length));return a=r.length,n.push(e),r.push(t.texture({channels:1,data:o,radius:f,mag:"linear",min:"linear"})),a};ao.prototype.updateColor=function(e){var r=this.paletteIds,t=this.palette,n=this.maxColors;Array.isArray(e)||(e=[e]);var a=[];if(typeof e[0]=="number"){var o=[];if(Array.isArray(e))for(var i=0;i<e.length;i+=4)o.push(e.slice(i,i+4));else for(var l=0;l<e.length;l+=4)o.push(e.subarray(l,l+4));e=o}for(var f=0;f<e.length;f++){var s=e[f];s=I9e(s,"uint8");var u=O9e(s,!1);if(r[u]==null){var c=t.length;r[u]=Math.floor(c/4),t[c]=s[0],t[c+1]=s[1],t[c+2]=s[2],t[c+3]=s[3]}a[f]=r[u]}return!this.tooManyColors&&t.length>n*4&&(this.tooManyColors=!0),this.updatePalette(t),a.length===1?a[0]:a};ao.prototype.updatePalette=function(e){if(!this.tooManyColors){var r=this.maxColors,t=this.paletteTexture,n=Math.ceil(e.length*.25/r);if(n>1){e=e.slice();for(var a=e.length*.25%r;a<n*r;a++)e.push(0,0,0,0)}t.height<n&&t.resize(r,n),t.subimage({width:Math.min(e.length*.25,r),height:n,data:e},0,0)}};ao.prototype.destroy=function(){return this.groups.forEach(function(e){e.sizeBuffer.destroy(),e.positionBuffer.destroy(),e.positionFractBuffer.destroy(),e.colorBuffer.destroy(),e.activation.forEach(function(r){return r&&r.destroy&&r.destroy()}),e.selectionBuffer.destroy(),e.elements&&e.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(e){return e&&e.destroy&&e.destroy()}),this};var H9e=gi(),V9e=function(r,t){var n=new G9e(r,t),a=n.render.bind(n);return H9e(a,{render:a,update:n.update.bind(n),draw:n.draw.bind(n),destroy:n.destroy.bind(n),regl:n.regl,gl:n.gl,canvas:n.gl.canvas,groups:n.groups,markers:n.markerCache,palette:n.palette}),a};Jte.exports=V9e});var nne=fe((SVe,LE)=>{"use strict";LE.exports=rw;LE.exports.default=rw;function rw(e,r,t){t=t||2;var n=r&&r.length,a=n?r[0]*t:e.length,o=ene(e,0,a,t,!0),i=[];if(!o||o.next===o.prev)return i;var l,f,s,u,c,v,x;if(n&&(o=Z9e(e,r,o,t)),e.length>80*t){l=s=e[0],f=u=e[1];for(var m=t;m<a;m+=t)c=e[m],v=e[m+1],c<l&&(l=c),v<f&&(f=v),c>s&&(s=c),v>u&&(u=v);x=Math.max(s-l,u-f),x=x!==0?32767/x:0}return r2(o,i,t,l,f,x,0),i}function ene(e,r,t,n,a){var o,i;if(a===kE(e,r,t,n)>0)for(o=r;o<t;o+=n)i=Qte(o,e[o],e[o+1],i);else for(o=t-n;o>=r;o-=n)i=Qte(o,e[o],e[o+1],i);return i&&tw(i,i.next)&&(n2(i),i=i.next),i}function $v(e,r){if(!e)return e;r||(r=e);var t=e,n;do if(n=!1,!t.steiner&&(tw(t,t.next)||ii(t.prev,t,t.next)===0)){if(n2(t),t=r=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==r);return r}function r2(e,r,t,n,a,o,i){if(e){!i&&o&&eCe(e,n,a,o);for(var l=e,f,s;e.prev!==e.next;){if(f=e.prev,s=e.next,o?W9e(e,n,a,o):Y9e(e)){r.push(f.i/t|0),r.push(e.i/t|0),r.push(s.i/t|0),n2(e),e=s.next,l=s.next;continue}if(e=s,e===l){i?i===1?(e=X9e($v(e),r,t),r2(e,r,t,n,a,o,2)):i===2&&j9e(e,r,t,n,a,o):r2($v(e),r,t,n,a,o,1);break}}}}function Y9e(e){var r=e.prev,t=e,n=e.next;if(ii(r,t,n)>=0)return!1;for(var a=r.x,o=t.x,i=n.x,l=r.y,f=t.y,s=n.y,u=a<o?a<i?a:i:o<i?o:i,c=l<f?l<s?l:s:f<s?f:s,v=a>o?a>i?a:i:o>i?o:i,x=l>f?l>s?l:s:f>s?f:s,m=n.next;m!==r;){if(m.x>=u&&m.x<=v&&m.y>=c&&m.y<=x&&Mp(a,l,o,f,i,s,m.x,m.y)&&ii(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function W9e(e,r,t,n){var a=e.prev,o=e,i=e.next;if(ii(a,o,i)>=0)return!1;for(var l=a.x,f=o.x,s=i.x,u=a.y,c=o.y,v=i.y,x=l<f?l<s?l:s:f<s?f:s,m=u<c?u<v?u:v:c<v?c:v,w=l>f?l>s?l:s:f>s?f:s,A=u>c?u>v?u:v:c>v?c:v,y=SE(x,m,r,t,n),M=SE(w,A,r,t,n),E=e.prevZ,b=e.nextZ;E&&E.z>=y&&b&&b.z<=M;){if(E.x>=x&&E.x<=w&&E.y>=m&&E.y<=A&&E!==a&&E!==i&&Mp(l,u,f,c,s,v,E.x,E.y)&&ii(E.prev,E,E.next)>=0||(E=E.prevZ,b.x>=x&&b.x<=w&&b.y>=m&&b.y<=A&&b!==a&&b!==i&&Mp(l,u,f,c,s,v,b.x,b.y)&&ii(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;E&&E.z>=y;){if(E.x>=x&&E.x<=w&&E.y>=m&&E.y<=A&&E!==a&&E!==i&&Mp(l,u,f,c,s,v,E.x,E.y)&&ii(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;b&&b.z<=M;){if(b.x>=x&&b.x<=w&&b.y>=m&&b.y<=A&&b!==a&&b!==i&&Mp(l,u,f,c,s,v,b.x,b.y)&&ii(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function X9e(e,r,t){var n=e;do{var a=n.prev,o=n.next.next;!tw(a,o)&&rne(a,n,n.next,o)&&t2(a,o)&&t2(o,a)&&(r.push(a.i/t|0),r.push(n.i/t|0),r.push(o.i/t|0),n2(n),n2(n.next),n=e=o),n=n.next}while(n!==e);return $v(n)}function j9e(e,r,t,n,a,o){var i=e;do{for(var l=i.next.next;l!==i.prev;){if(i.i!==l.i&&nCe(i,l)){var f=tne(i,l);i=$v(i,i.next),f=$v(f,f.next),r2(i,r,t,n,a,o,0),r2(f,r,t,n,a,o,0);return}l=l.next}i=i.next}while(i!==e)}function Z9e(e,r,t,n){var a=[],o,i,l,f,s;for(o=0,i=r.length;o<i;o++)l=r[o]*n,f=o<i-1?r[o+1]*n:e.length,s=ene(e,l,f,n,!1),s===s.next&&(s.steiner=!0),a.push(tCe(s));for(a.sort($9e),o=0;o<a.length;o++)t=J9e(a[o],t);return t}function $9e(e,r){return e.x-r.x}function J9e(e,r){var t=K9e(e,r);if(!t)return r;var n=tne(t,e);return $v(n,n.next),$v(t,t.next)}function K9e(e,r){var t=r,n=e.x,a=e.y,o=-1/0,i;do{if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){var l=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(l<=n&&l>o&&(o=l,i=t.x<t.next.x?t:t.next,l===n))return i}t=t.next}while(t!==r);if(!i)return null;var f=i,s=i.x,u=i.y,c=1/0,v;t=i;do n>=t.x&&t.x>=s&&n!==t.x&&Mp(a<u?n:o,a,s,u,a<u?o:n,a,t.x,t.y)&&(v=Math.abs(a-t.y)/(n-t.x),t2(t,e)&&(v<c||v===c&&(t.x>i.x||t.x===i.x&&Q9e(i,t)))&&(i=t,c=v)),t=t.next;while(t!==f);return i}function Q9e(e,r){return ii(e.prev,e,r.prev)<0&&ii(r.next,e,e.next)<0}function eCe(e,r,t,n){var a=e;do a.z===0&&(a.z=SE(a.x,a.y,r,t,n)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==e);a.prevZ.nextZ=null,a.prevZ=null,rCe(a)}function rCe(e){var r,t,n,a,o,i,l,f,s=1;do{for(t=e,e=null,o=null,i=0;t;){for(i++,n=t,l=0,r=0;r<s&&(l++,n=n.nextZ,!!n);r++);for(f=s;l>0||f>0&&n;)l!==0&&(f===0||!n||t.z<=n.z)?(a=t,t=t.nextZ,l--):(a=n,n=n.nextZ,f--),o?o.nextZ=a:e=a,a.prevZ=o,o=a;t=n}o.nextZ=null,s*=2}while(i>1);return e}function SE(e,r,t,n,a){return e=(e-t)*a|0,r=(r-n)*a|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e|r<<1}function tCe(e){var r=e,t=e;do(r.x<t.x||r.x===t.x&&r.y<t.y)&&(t=r),r=r.next;while(r!==e);return t}function Mp(e,r,t,n,a,o,i,l){return(a-i)*(r-l)>=(e-i)*(o-l)&&(e-i)*(n-l)>=(t-i)*(r-l)&&(t-i)*(o-l)>=(a-i)*(n-l)}function nCe(e,r){return e.next.i!==r.i&&e.prev.i!==r.i&&!aCe(e,r)&&(t2(e,r)&&t2(r,e)&&iCe(e,r)&&(ii(e.prev,e,r.prev)||ii(e,r.prev,r))||tw(e,r)&&ii(e.prev,e,e.next)>0&&ii(r.prev,r,r.next)>0)}function ii(e,r,t){return(r.y-e.y)*(t.x-r.x)-(r.x-e.x)*(t.y-r.y)}function tw(e,r){return e.x===r.x&&e.y===r.y}function rne(e,r,t,n){var a=ew(ii(e,r,t)),o=ew(ii(e,r,n)),i=ew(ii(t,n,e)),l=ew(ii(t,n,r));return!!(a!==o&&i!==l||a===0&&Q_(e,t,r)||o===0&&Q_(e,n,r)||i===0&&Q_(t,e,n)||l===0&&Q_(t,r,n))}function Q_(e,r,t){return r.x<=Math.max(e.x,t.x)&&r.x>=Math.min(e.x,t.x)&&r.y<=Math.max(e.y,t.y)&&r.y>=Math.min(e.y,t.y)}function ew(e){return e>0?1:e<0?-1:0}function aCe(e,r){var t=e;do{if(t.i!==e.i&&t.next.i!==e.i&&t.i!==r.i&&t.next.i!==r.i&&rne(t,t.next,e,r))return!0;t=t.next}while(t!==e);return!1}function t2(e,r){return ii(e.prev,e,e.next)<0?ii(e,r,e.next)>=0&&ii(e,e.prev,r)>=0:ii(e,r,e.prev)<0||ii(e,e.next,r)<0}function iCe(e,r){var t=e,n=!1,a=(e.x+r.x)/2,o=(e.y+r.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&a<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==e);return n}function tne(e,r){var t=new CE(e.i,e.x,e.y),n=new CE(r.i,r.x,r.y),a=e.next,o=r.prev;return e.next=r,r.prev=e,t.next=a,a.prev=t,n.next=t,t.prev=n,o.next=n,n.prev=o,n}function Qte(e,r,t,n){var a=new CE(e,r,t);return n?(a.next=n.next,a.prev=n,n.next.prev=a,n.next=a):(a.prev=a,a.next=a),a}function n2(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function CE(e,r,t){this.i=e,this.x=r,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}rw.deviation=function(e,r,t,n){var a=r&&r.length,o=a?r[0]*t:e.length,i=Math.abs(kE(e,0,o,t));if(a)for(var l=0,f=r.length;l<f;l++){var s=r[l]*t,u=l<f-1?r[l+1]*t:e.length;i-=Math.abs(kE(e,s,u,t))}var c=0;for(l=0;l<n.length;l+=3){var v=n[l]*t,x=n[l+1]*t,m=n[l+2]*t;c+=Math.abs((e[v]-e[m])*(e[x+1]-e[v+1])-(e[v]-e[x])*(e[m+1]-e[v+1]))}return i===0&&c===0?0:Math.abs((c-i)/i)};function kE(e,r,t,n){for(var a=0,o=r,i=t-n;o<t;o+=n)a+=(e[i]-e[o])*(e[o+1]+e[i+1]),i=o;return a}rw.flatten=function(e){for(var r=e[0][0].length,t={vertices:[],holes:[],dimensions:r},n=0,a=0;a<e.length;a++){for(var o=0;o<e[a].length;o++)for(var i=0;i<r;i++)t.vertices.push(e[a][o][i]);a>0&&(n+=e[a-1].length,t.holes.push(n))}return t}});var ine=fe((CVe,ane)=>{"use strict";var oCe=np();ane.exports=lCe;function lCe(e,r,t){if(!e||e.length==null)throw Error("Argument should be an array");r==null&&(r=1),t==null&&(t=oCe(e,r));for(var n=0;n<r;n++){var a=t[r+n],o=t[n],i=n,l=e.length;if(a===1/0&&o===-1/0)for(i=n;i<l;i+=r)e[i]=e[i]===a?1:e[i]===o?0:.5;else if(a===1/0)for(i=n;i<l;i+=r)e[i]=e[i]===a?1:0;else if(o===-1/0)for(i=n;i<l;i+=r)e[i]=e[i]===o?0:1;else{var f=a-o;for(i=n;i<l;i+=r)isNaN(e[i])||(e[i]=f===0?.5:(e[i]-o)/f)}}return e}});var lne=fe((kVe,one)=>{"use strict";one.exports=function(){var e,r;if(typeof WeakMap!="function")return!1;try{e=new WeakMap([[r={},"one"],[{},"two"],[{},"three"]])}catch(t){return!1}return!(String(e)!=="[object WeakMap]"||typeof e.set!="function"||e.set({},1)!==e||typeof e.delete!="function"||typeof e.has!="function"||e.get(r)!=="one")}});var fne=fe((LVe,sne)=>{"use strict";sne.exports=function(){}});var H0=fe((RVe,une)=>{"use strict";var sCe=fne()();une.exports=function(e){return e!==sCe&&e!==null}});var RE=fe((FVe,hne)=>{"use strict";var fCe=Object.create,uCe=Object.getPrototypeOf,cne={};hne.exports=function(){var e=Object.setPrototypeOf,r=arguments[0]||fCe;return typeof e!="function"?!1:uCe(e(r(null),cne))===cne}});var FE=fe((DVe,vne)=>{"use strict";var cCe=H0(),hCe={function:!0,object:!0};vne.exports=function(e){return cCe(e)&&hCe[typeof e]||!1}});var yc=fe((IVe,dne)=>{"use strict";var vCe=H0();dne.exports=function(e){if(!vCe(e))throw new TypeError("Cannot use null or undefined");return e}});var gne=fe((PVe,pne)=>{"use strict";var DE=Object.create,nw;RE()()||(nw=IE());pne.exports=function(){var e,r,t;return!nw||nw.level!==1?DE:(e={},r={},t={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(n){if(n==="__proto__"){r[n]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}r[n]=t}),Object.defineProperties(e,r),Object.defineProperty(nw,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:e}),function(n,a){return DE(n===null?e:n,a)})}()});var IE=fe((OVe,yne)=>{"use strict";var dCe=FE(),pCe=yc(),gCe=Object.prototype.isPrototypeOf,yCe=Object.defineProperty,mCe={configurable:!0,enumerable:!1,writable:!0,value:void 0},aw;aw=function(e,r){if(pCe(e),r===null||dCe(r))return e;throw new TypeError("Prototype must be null or an object")};yne.exports=function(e){var r,t;return e?(e.level===2?e.set?(t=e.set,r=function(n,a){return t.call(aw(n,a),a),n}):r=function(n,a){return aw(n,a).__proto__=a,n}:r=function n(a,o){var i;return aw(a,o),i=gCe.call(n.nullPolyfill,a),i&&delete n.nullPolyfill.__proto__,o===null&&(o=n.nullPolyfill),a.__proto__=o,i&&yCe(n.nullPolyfill,"__proto__",mCe),a},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:e.level})):null}(function(){var e=Object.create(null),r={},t,n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(n){try{t=n.set,t.call(e,r)}catch(a){}if(Object.getPrototypeOf(e)===r)return{set:t,level:2}}return e.__proto__=r,Object.getPrototypeOf(e)===r?{level:2}:(e={},e.__proto__=r,Object.getPrototypeOf(e)===r?{level:1}:!1)}());gne()});var iw=fe((NVe,mne)=>{"use strict";mne.exports=RE()()?Object.setPrototypeOf:IE()});var bne=fe((BVe,xne)=>{"use strict";var xCe=FE();xne.exports=function(e){if(!xCe(e))throw new TypeError(e+" is not an Object");return e}});var wne=fe((zVe,_ne)=>{"use strict";var bCe=Object.create(null),_Ce=Math.random;_ne.exports=function(){var e;do e=_Ce().toString(36).slice(2);while(bCe[e]);return e}});var Jv=fe((qVe,Ane)=>{"use strict";var wCe=void 0;Ane.exports=function(e){return e!==wCe&&e!==null}});var ow=fe((UVe,Tne)=>{"use strict";var ACe=Jv(),TCe={object:!0,function:!0,undefined:!0};Tne.exports=function(e){return ACe(e)?hasOwnProperty.call(TCe,typeof e):!1}});var Ene=fe((GVe,Mne)=>{"use strict";var MCe=ow();Mne.exports=function(e){if(!MCe(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch(r){return!1}}});var Cne=fe((HVe,Sne)=>{"use strict";var ECe=Ene();Sne.exports=function(e){if(typeof e!="function"||!hasOwnProperty.call(e,"length"))return!1;try{if(typeof e.length!="number"||typeof e.call!="function"||typeof e.apply!="function")return!1}catch(r){return!1}return!ECe(e)}});var PE=fe((VVe,kne)=>{"use strict";var SCe=Cne(),CCe=/^\s*class[\s{/}]/,kCe=Function.prototype.toString;kne.exports=function(e){return!(!SCe(e)||CCe.test(kCe.call(e)))}});var Rne=fe((YVe,Lne)=>{"use strict";Lne.exports=function(){var e=Object.assign,r;return typeof e!="function"?!1:(r={foo:"raz"},e(r,{bar:"dwa"},{trzy:"trzy"}),r.foo+r.bar+r.trzy==="razdwatrzy")}});var Dne=fe((WVe,Fne)=>{"use strict";Fne.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}});var Pne=fe((XVe,Ine)=>{"use strict";var LCe=H0(),RCe=Object.keys;Ine.exports=function(e){return RCe(LCe(e)?Object(e):e)}});var Nne=fe((jVe,One)=>{"use strict";One.exports=Dne()()?Object.keys:Pne()});var zne=fe((ZVe,Bne)=>{"use strict";var FCe=Nne(),DCe=yc(),ICe=Math.max;Bne.exports=function(e,r){var t,n,a=ICe(arguments.length,2),o;for(e=Object(DCe(e)),o=function(i){try{e[i]=r[i]}catch(l){t||(t=l)}},n=1;n<a;++n)r=arguments[n],FCe(r).forEach(o);if(t!==void 0)throw t;return e}});var lw=fe(($Ve,qne)=>{"use strict";qne.exports=Rne()()?Object.assign:zne()});var OE=fe((JVe,Une)=>{"use strict";var PCe=H0(),OCe=Array.prototype.forEach,NCe=Object.create,BCe=function(e,r){var t;for(t in e)r[t]=e[t]};Une.exports=function(e){var r=NCe(null);return OCe.call(arguments,function(t){PCe(t)&&BCe(Object(t),r)}),r}});var Hne=fe((KVe,Gne)=>{"use strict";var NE="razdwatrzy";Gne.exports=function(){return typeof NE.contains!="function"?!1:NE.contains("dwa")===!0&&NE.contains("foo")===!1}});var Yne=fe((QVe,Vne)=>{"use strict";var zCe=String.prototype.indexOf;Vne.exports=function(e){return zCe.call(this,e,arguments[1])>-1}});var BE=fe((eYe,Wne)=>{"use strict";Wne.exports=Hne()()?String.prototype.contains:Yne()});var mc=fe((rYe,$ne)=>{"use strict";var sw=Jv(),Xne=PE(),jne=lw(),Zne=OE(),a2=BE(),qCe=$ne.exports=function(e,r){var t,n,a,o,i;return arguments.length<2||typeof e!="string"?(o=r,r=e,e=null):o=arguments[2],sw(e)?(t=a2.call(e,"c"),n=a2.call(e,"e"),a=a2.call(e,"w")):(t=a=!0,n=!1),i={value:r,configurable:t,enumerable:n,writable:a},o?jne(Zne(o),i):i};qCe.gs=function(e,r,t){var n,a,o,i;return typeof e!="string"?(o=t,t=r,r=e,e=null):o=arguments[3],sw(r)?Xne(r)?sw(t)?Xne(t)||(o=t,t=void 0):t=void 0:(o=r,r=t=void 0):r=void 0,sw(e)?(n=a2.call(e,"c"),a=a2.call(e,"e")):(n=!0,a=!1),i={get:r,set:t,configurable:n,enumerable:a},o?jne(Zne(o),i):i}});var i2=fe((tYe,Kne)=>{"use strict";var Jne=Object.prototype.toString,UCe=Jne.call(function(){return arguments}());Kne.exports=function(e){return Jne.call(e)===UCe}});var o2=fe((nYe,eae)=>{"use strict";var Qne=Object.prototype.toString,GCe=Qne.call("");eae.exports=function(e){return typeof e=="string"||e&&typeof e=="object"&&(e instanceof String||Qne.call(e)===GCe)||!1}});var tae=fe((aYe,rae)=>{"use strict";rae.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}});var iae=fe((iYe,aae)=>{var nae=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};aae.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return nae()}try{return __global__||nae()}finally{delete Object.prototype.__global__}}()});var l2=fe((oYe,oae)=>{"use strict";oae.exports=tae()()?globalThis:iae()});var sae=fe((lYe,lae)=>{"use strict";var HCe=l2(),zE={object:!0,symbol:!0};lae.exports=function(){var e=HCe.Symbol,r;if(typeof e!="function")return!1;r=e("test symbol");try{String(r)}catch(t){return!1}return!(!zE[typeof e.iterator]||!zE[typeof e.toPrimitive]||!zE[typeof e.toStringTag])}});var uae=fe((sYe,fae)=>{"use strict";fae.exports=function(e){return e?typeof e=="symbol"?!0:!e.constructor||e.constructor.name!=="Symbol"?!1:e[e.constructor.toStringTag]==="Symbol":!1}});var qE=fe((fYe,cae)=>{"use strict";var VCe=uae();cae.exports=function(e){if(!VCe(e))throw new TypeError(e+" is not a symbol");return e}});var gae=fe((uYe,pae)=>{"use strict";var hae=mc(),YCe=Object.create,vae=Object.defineProperty,WCe=Object.prototype,dae=YCe(null);pae.exports=function(e){for(var r=0,t,n;dae[e+(r||"")];)++r;return e+=r||"",dae[e]=!0,t="@@"+e,vae(WCe,t,hae.gs(null,function(a){n||(n=!0,vae(this,t,hae(a)),n=!1)})),t}});var mae=fe((cYe,yae)=>{"use strict";var Ef=mc(),yi=l2().Symbol;yae.exports=function(e){return Object.defineProperties(e,{hasInstance:Ef("",yi&&yi.hasInstance||e("hasInstance")),isConcatSpreadable:Ef("",yi&&yi.isConcatSpreadable||e("isConcatSpreadable")),iterator:Ef("",yi&&yi.iterator||e("iterator")),match:Ef("",yi&&yi.match||e("match")),replace:Ef("",yi&&yi.replace||e("replace")),search:Ef("",yi&&yi.search||e("search")),species:Ef("",yi&&yi.species||e("species")),split:Ef("",yi&&yi.split||e("split")),toPrimitive:Ef("",yi&&yi.toPrimitive||e("toPrimitive")),toStringTag:Ef("",yi&&yi.toStringTag||e("toStringTag")),unscopables:Ef("",yi&&yi.unscopables||e("unscopables"))})}});var _ae=fe((hYe,bae)=>{"use strict";var xae=mc(),XCe=qE(),s2=Object.create(null);bae.exports=function(e){return Object.defineProperties(e,{for:xae(function(r){return s2[r]?s2[r]:s2[r]=e(String(r))}),keyFor:xae(function(r){var t;XCe(r);for(t in s2)if(s2[t]===r)return t})})}});var Tae=fe((vYe,Aae)=>{"use strict";var uu=mc(),UE=qE(),fw=l2().Symbol,jCe=gae(),ZCe=mae(),$Ce=_ae(),JCe=Object.create,GE=Object.defineProperties,uw=Object.defineProperty,Bo,Ep,wae;if(typeof fw=="function")try{String(fw()),wae=!0}catch(e){}else fw=null;Ep=function(r){if(this instanceof Ep)throw new TypeError("Symbol is not a constructor");return Bo(r)};Aae.exports=Bo=function e(r){var t;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return wae?fw(r):(t=JCe(Ep.prototype),r=r===void 0?"":String(r),GE(t,{__description__:uu("",r),__name__:uu("",jCe(r))}))};ZCe(Bo);$Ce(Bo);GE(Ep.prototype,{constructor:uu(Bo),toString:uu("",function(){return this.__name__})});GE(Bo.prototype,{toString:uu(function(){return"Symbol ("+UE(this).__description__+")"}),valueOf:uu(function(){return UE(this)})});uw(Bo.prototype,Bo.toPrimitive,uu("",function(){var e=UE(this);return typeof e=="symbol"?e:e.toString()}));uw(Bo.prototype,Bo.toStringTag,uu("c","Symbol"));uw(Ep.prototype,Bo.toStringTag,uu("c",Bo.prototype[Bo.toStringTag]));uw(Ep.prototype,Bo.toPrimitive,uu("c",Bo.prototype[Bo.toPrimitive]))});var V0=fe((dYe,Mae)=>{"use strict";Mae.exports=sae()()?l2().Symbol:Tae()});var Sae=fe((pYe,Eae)=>{"use strict";var KCe=yc();Eae.exports=function(){return KCe(this).length=0,this}});var Sp=fe((gYe,Cae)=>{"use strict";Cae.exports=function(e){if(typeof e!="function")throw new TypeError(e+" is not a function");return e}});var Lae=fe((yYe,kae)=>{"use strict";var QCe=Jv(),eke=ow(),rke=Object.prototype.toString;kae.exports=function(e){if(!QCe(e))return null;if(eke(e)){var r=e.toString;if(typeof r!="function"||r===rke)return null}try{return""+e}catch(t){return null}}});var Fae=fe((mYe,Rae)=>{"use strict";Rae.exports=function(e){try{return e.toString()}catch(r){try{return String(e)}catch(t){return null}}}});var Iae=fe((xYe,Dae)=>{"use strict";var tke=Fae(),nke=/[\n\r\u2028\u2029]/g;Dae.exports=function(e){var r=tke(e);return r===null?"<Non-coercible to string value>":(r.length>100&&(r=r.slice(0,99)+"\u2026"),r=r.replace(nke,function(t){switch(t){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),r)}});var HE=fe((bYe,Nae)=>{"use strict";var Pae=Jv(),ake=ow(),ike=Lae(),oke=Iae(),Oae=function(e,r){return e.replace("%v",oke(r))};Nae.exports=function(e,r,t){if(!ake(t))throw new TypeError(Oae(r,e));if(!Pae(e)){if("default"in t)return t.default;if(t.isOptional)return null}var n=ike(t.errorMessage);throw Pae(n)||(n=r),new TypeError(Oae(n,e))}});var zae=fe((_Ye,Bae)=>{"use strict";var lke=HE(),ske=Jv();Bae.exports=function(e){return ske(e)?e:lke(e,"Cannot use %v",arguments[1])}});var Uae=fe((wYe,qae)=>{"use strict";var fke=HE(),uke=PE();qae.exports=function(e){return uke(e)?e:fke(e,"%v is not a plain function",arguments[1])}});var Hae=fe((AYe,Gae)=>{"use strict";Gae.exports=function(){var e=Array.from,r,t;return typeof e!="function"?!1:(r=["raz","dwa"],t=e(r),!!(t&&t!==r&&t[1]==="dwa"))}});var Yae=fe((TYe,Vae)=>{"use strict";var cke=Object.prototype.toString,hke=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);Vae.exports=function(e){return typeof e=="function"&&hke(cke.call(e))}});var Xae=fe((MYe,Wae)=>{"use strict";Wae.exports=function(){var e=Math.sign;return typeof e!="function"?!1:e(10)===1&&e(-20)===-1}});var Zae=fe((EYe,jae)=>{"use strict";jae.exports=function(e){return e=Number(e),isNaN(e)||e===0?e:e>0?1:-1}});var Jae=fe((SYe,$ae)=>{"use strict";$ae.exports=Xae()()?Math.sign:Zae()});var Qae=fe((CYe,Kae)=>{"use strict";var vke=Jae(),dke=Math.abs,pke=Math.floor;Kae.exports=function(e){return isNaN(e)?0:(e=Number(e),e===0||!isFinite(e)?e:vke(e)*pke(dke(e)))}});var rie=fe((kYe,eie)=>{"use strict";var gke=Qae(),yke=Math.max;eie.exports=function(e){return yke(0,gke(e))}});var iie=fe((LYe,aie)=>{"use strict";var mke=V0().iterator,xke=i2(),bke=Yae(),_ke=rie(),tie=Sp(),wke=yc(),Ake=H0(),Tke=o2(),nie=Array.isArray,VE=Function.prototype.call,Kv={configurable:!0,enumerable:!0,writable:!0,value:null},YE=Object.defineProperty;aie.exports=function(e){var r=arguments[1],t=arguments[2],n,a,o,i,l,f,s,u,c,v;if(e=Object(wke(e)),Ake(r)&&tie(r),!this||this===Array||!bke(this)){if(!r){if(xke(e))return l=e.length,l!==1?Array.apply(null,e):(i=new Array(1),i[0]=e[0],i);if(nie(e)){for(i=new Array(l=e.length),a=0;a<l;++a)i[a]=e[a];return i}}i=[]}else n=this;if(!nie(e)){if((c=e[mke])!==void 0){for(s=tie(c).call(e),n&&(i=new n),u=s.next(),a=0;!u.done;)v=r?VE.call(r,t,u.value,a):u.value,n?(Kv.value=v,YE(i,a,Kv)):i[a]=v,u=s.next(),++a;l=a}else if(Tke(e)){for(l=e.length,n&&(i=new n),a=0,o=0;a<l;++a)v=e[a],a+1<l&&(f=v.charCodeAt(0),f>=55296&&f<=56319&&(v+=e[++a])),v=r?VE.call(r,t,v,o):v,n?(Kv.value=v,YE(i,o,Kv)):i[o]=v,++o;l=o}}if(l===void 0)for(l=_ke(e.length),n&&(i=new n(l)),a=0;a<l;++a)v=r?VE.call(r,t,e[a],a):e[a],n?(Kv.value=v,YE(i,a,Kv)):i[a]=v;return n&&(Kv.value=null,i.length=l),i}});var lie=fe((RYe,oie)=>{"use strict";oie.exports=Hae()()?Array.from:iie()});var fie=fe((FYe,sie)=>{"use strict";var Mke=lie(),Eke=lw(),Ske=yc();sie.exports=function(e){var r=Object(Ske(e)),t=arguments[1],n=Object(arguments[2]);if(r!==e&&!t)return r;var a={};return t?Mke(t,function(o){(n.ensure||o in e)&&(a[o]=e[o])}):Eke(a,e),a}});var hie=fe((DYe,cie)=>{"use strict";var Cke=Sp(),kke=yc(),Lke=Function.prototype.bind,uie=Function.prototype.call,Rke=Object.keys,Fke=Object.prototype.propertyIsEnumerable;cie.exports=function(e,r){return function(t,n){var a,o=arguments[2],i=arguments[3];return t=Object(kke(t)),Cke(n),a=Rke(t),i&&a.sort(typeof i=="function"?Lke.call(i,t):void 0),typeof e!="function"&&(e=a[e]),uie.call(e,a,function(l,f){return Fke.call(t,l)?uie.call(n,o,t[l],l,t,f):r})}}});var die=fe((IYe,vie)=>{"use strict";vie.exports=hie()("forEach")});var gie=fe((PYe,pie)=>{"use strict";var Dke=Sp(),Ike=die(),Pke=Function.prototype.call;pie.exports=function(e,r){var t={},n=arguments[2];return Dke(r),Ike(e,function(a,o,i,l){t[o]=Pke.call(r,n,a,o,i,l)}),t}});var bie=fe((OYe,xie)=>{"use strict";var Oke=Jv(),Nke=zae(),yie=Uae(),Bke=fie(),zke=OE(),qke=gie(),Uke=Function.prototype.bind,Gke=Object.defineProperty,Hke=Object.prototype.hasOwnProperty,mie;mie=function(e,r,t){var n=Nke(r)&&yie(r.value),a;return a=Bke(r),delete a.writable,delete a.value,a.get=function(){return!t.overwriteDefinition&&Hke.call(this,e)?n:(r.value=Uke.call(n,t.resolveContext?t.resolveContext(this):this),Gke(this,e,r),this[e])},a};xie.exports=function(e){var r=zke(arguments[1]);return Oke(r.resolveContext)&&yie(r.resolveContext),qke(e,function(t,n){return mie(n,t,r)})}});var WE=fe((NYe,Tie)=>{"use strict";var Vke=Sae(),Yke=lw(),Wke=Sp(),Xke=yc(),Sl=mc(),jke=bie(),_ie=V0(),wie=Object.defineProperty,Aie=Object.defineProperties,f2;Tie.exports=f2=function(e,r){if(!(this instanceof f2))throw new TypeError("Constructor requires 'new'");Aie(this,{__list__:Sl("w",Xke(e)),__context__:Sl("w",r),__nextIndex__:Sl("w",0)}),r&&(Wke(r.on),r.on("_add",this._onAdd),r.on("_delete",this._onDelete),r.on("_clear",this._onClear))};delete f2.prototype.constructor;Aie(f2.prototype,Yke({_next:Sl(function(){var e;if(this.__list__){if(this.__redo__&&(e=this.__redo__.shift(),e!==void 0))return e;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:Sl(function(){return this._createResult(this._next())}),_createResult:Sl(function(e){return e===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}}),_resolve:Sl(function(e){return this.__list__[e]}),_unBind:Sl(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:Sl(function(){return"[object "+(this[_ie.toStringTag]||"Object")+"]"})},jke({_onAdd:Sl(function(e){if(!(e>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){wie(this,"__redo__",Sl("c",[e]));return}this.__redo__.forEach(function(r,t){r>=e&&(this.__redo__[t]=++r)},this),this.__redo__.push(e)}}),_onDelete:Sl(function(e){var r;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(r=this.__redo__.indexOf(e),r!==-1&&this.__redo__.splice(r,1),this.__redo__.forEach(function(t,n){t>e&&(this.__redo__[n]=--t)},this)))}),_onClear:Sl(function(){this.__redo__&&Vke.call(this.__redo__),this.__nextIndex__=0})})));wie(f2.prototype,_ie.iterator,Sl(function(){return this}))});var kie=fe((BYe,Cie)=>{"use strict";var Mie=iw(),Eie=BE(),XE=mc(),Zke=V0(),jE=WE(),Sie=Object.defineProperty,Cp;Cp=Cie.exports=function(e,r){if(!(this instanceof Cp))throw new TypeError("Constructor requires 'new'");jE.call(this,e),r?Eie.call(r,"key+value")?r="key+value":Eie.call(r,"key")?r="key":r="value":r="value",Sie(this,"__kind__",XE("",r))};Mie&&Mie(Cp,jE);delete Cp.prototype.constructor;Cp.prototype=Object.create(jE.prototype,{_resolve:XE(function(e){return this.__kind__==="value"?this.__list__[e]:this.__kind__==="key+value"?[e,this.__list__[e]]:e})});Sie(Cp.prototype,Zke.toStringTag,XE("c","Array Iterator"))});var Die=fe((zYe,Fie)=>{"use strict";var Lie=iw(),cw=mc(),$ke=V0(),ZE=WE(),Rie=Object.defineProperty,kp;kp=Fie.exports=function(e){if(!(this instanceof kp))throw new TypeError("Constructor requires 'new'");e=String(e),ZE.call(this,e),Rie(this,"__length__",cw("",e.length))};Lie&&Lie(kp,ZE);delete kp.prototype.constructor;kp.prototype=Object.create(ZE.prototype,{_next:cw(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:cw(function(e){var r=this.__list__[e],t;return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0),t>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r)})});Rie(kp.prototype,$ke.toStringTag,cw("c","String Iterator"))});var Pie=fe((qYe,Iie)=>{"use strict";var Jke=i2(),Kke=H0(),Qke=o2(),eLe=V0().iterator,rLe=Array.isArray;Iie.exports=function(e){return Kke(e)?rLe(e)||Qke(e)||Jke(e)?!0:typeof e[eLe]=="function":!1}});var Nie=fe((UYe,Oie)=>{"use strict";var tLe=Pie();Oie.exports=function(e){if(!tLe(e))throw new TypeError(e+" is not iterable");return e}});var $E=fe((GYe,qie)=>{"use strict";var nLe=i2(),aLe=o2(),Bie=kie(),iLe=Die(),oLe=Nie(),zie=V0().iterator;qie.exports=function(e){return typeof oLe(e)[zie]=="function"?e[zie]():nLe(e)?new Bie(e):aLe(e)?new iLe(e):new Bie(e)}});var Gie=fe((HYe,Uie)=>{"use strict";var lLe=i2(),sLe=Sp(),fLe=o2(),uLe=$E(),cLe=Array.isArray,JE=Function.prototype.call,hLe=Array.prototype.some;Uie.exports=function(e,r){var t,n=arguments[2],a,o,i,l,f,s,u;if(cLe(e)||lLe(e)?t="array":fLe(e)?t="string":e=uLe(e),sLe(r),o=function(){i=!0},t==="array"){hLe.call(e,function(c){return JE.call(r,n,c,o),i});return}if(t==="string"){for(f=e.length,l=0;l<f&&(s=e[l],l+1<f&&(u=s.charCodeAt(0),u>=55296&&u<=56319&&(s+=e[++l])),JE.call(r,n,s,o),!i);++l);return}for(a=e.next();!a.done;){if(JE.call(r,n,a.value,o),i)return;a=e.next()}}});var Vie=fe((VYe,Hie)=>{"use strict";Hie.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()});var Xie=fe((YYe,Wie)=>{"use strict";var vLe=H0(),vw=iw(),hw=bne(),dLe=yc(),pLe=wne(),xc=mc(),gLe=$E(),yLe=Gie(),mLe=V0().toStringTag,Yie=Vie(),xLe=Array.isArray,QE=Object.defineProperty,KE=Object.prototype.hasOwnProperty,bLe=Object.getPrototypeOf,Y0;Wie.exports=Y0=function(){var e=arguments[0],r;if(!(this instanceof Y0))throw new TypeError("Constructor requires 'new'");return r=Yie&&vw&&WeakMap!==Y0?vw(new WeakMap,bLe(this)):this,vLe(e)&&(xLe(e)||(e=gLe(e))),QE(r,"__weakMapData__",xc("c","$weakMap$"+pLe())),e&&yLe(e,function(t){dLe(t),r.set(t[0],t[1])}),r};Yie&&(vw&&vw(Y0,WeakMap),Y0.prototype=Object.create(WeakMap.prototype,{constructor:xc(Y0)}));Object.defineProperties(Y0.prototype,{delete:xc(function(e){return KE.call(hw(e),this.__weakMapData__)?(delete e[this.__weakMapData__],!0):!1}),get:xc(function(e){if(KE.call(hw(e),this.__weakMapData__))return e[this.__weakMapData__]}),has:xc(function(e){return KE.call(hw(e),this.__weakMapData__)}),set:xc(function(e,r){return QE(hw(e),this.__weakMapData__,xc("c",r)),this}),toString:xc(function(){return"[object WeakMap]"})});QE(Y0.prototype,mLe,xc("c","WeakMap"))});var eS=fe((WYe,jie)=>{"use strict";jie.exports=lne()()?WeakMap:Xie()});var $ie=fe((XYe,Zie)=>{"use strict";Zie.exports=function(e,r,t){if(typeof Array.prototype.findIndex=="function")return e.findIndex(r,t);if(typeof r!="function")throw new TypeError("predicate must be a function");var n=Object(e),a=n.length;if(a===0)return-1;for(var o=0;o<a;o++)if(r.call(t,n[o],o,n))return o;return-1}});var eoe=fe((jYe,Qie)=>{"use strict";var dw=N0(),_Le=np(),tS=gi(),wLe=gc(),ALe=ap(),Jie=nne(),TLe=ine(),{float32:MLe,fract32:rS}=$_(),ELe=eS(),Kie=Sm(),SLe=$ie(),CLe=`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,kLe=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,LLe=`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,RLe=`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,FLe=`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,DLe=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`;Qie.exports=Ma;function Ma(e,r){if(!(this instanceof Ma))return new Ma(e,r);if(typeof e=="function"?(r||(r={}),r.regl=e):r=e,r.length&&(r.positions=r),e=r.regl,!e.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=e._gl,this.regl=e,this.passes=[],this.shaders=Ma.shaders.has(e)?Ma.shaders.get(e):Ma.shaders.set(e,Ma.createShaders(e)).get(e),this.update(r)}Ma.dashMult=2;Ma.maxPatternLength=256;Ma.precisionThreshold=3e6;Ma.maxPoints=1e4;Ma.maxLines=2048;Ma.shaders=new ELe;Ma.createShaders=function(e){let r=e.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),t={primitive:"triangle strip",instances:e.prop("count"),count:4,offset:0,uniforms:{miterMode:(i,l)=>l.join==="round"?2:1,miterLimit:e.prop("miterLimit"),scale:e.prop("scale"),scaleFract:e.prop("scaleFract"),translateFract:e.prop("translateFract"),translate:e.prop("translate"),thickness:e.prop("thickness"),dashTexture:e.prop("dashTexture"),opacity:e.prop("opacity"),pixelRatio:e.context("pixelRatio"),id:e.prop("id"),dashLength:e.prop("dashLength"),viewport:(i,l)=>[l.viewport.x,l.viewport.y,i.viewportWidth,i.viewportHeight],depth:e.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:(i,l)=>!l.overlay},stencil:{enable:!1},scissor:{enable:!0,box:e.prop("viewport")},viewport:e.prop("viewport")},n=e(tS({vert:CLe,frag:kLe,attributes:{lineEnd:{buffer:r,divisor:0,stride:8,offset:0},lineTop:{buffer:r,divisor:0,stride:8,offset:4},aCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:e.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:e.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:e.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},t)),a;try{a=e(tS({cull:{enable:!0,face:"back"},vert:FLe,frag:DLe,attributes:{lineEnd:{buffer:r,divisor:0,stride:8,offset:0},lineTop:{buffer:r,divisor:0,stride:8,offset:4},aColor:{buffer:e.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:e.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},t))}catch(i){a=n}return{fill:e({primitive:"triangle",elements:(i,l)=>l.triangles,offset:0,vert:LLe,frag:RLe,uniforms:{scale:e.prop("scale"),color:e.prop("fill"),scaleFract:e.prop("scaleFract"),translateFract:e.prop("translateFract"),translate:e.prop("translate"),opacity:e.prop("opacity"),pixelRatio:e.context("pixelRatio"),id:e.prop("id"),viewport:(i,l)=>[l.viewport.x,l.viewport.y,i.viewportWidth,i.viewportHeight]},attributes:{position:{buffer:e.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:e.prop("positionFractBuffer"),stride:8,offset:8}},blend:t.blend,depth:{enable:!1},scissor:t.scissor,stencil:t.stencil,viewport:t.viewport}),rect:n,miter:a}};Ma.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null};Ma.prototype.render=function(...e){e.length&&this.update(...e),this.draw()};Ma.prototype.draw=function(...e){return(e.length?e:this.passes).forEach((r,t)=>{if(r&&Array.isArray(r))return this.draw(...r);typeof r=="number"&&(r=this.passes[r]),r&&r.count>1&&r.opacity&&(this.regl._refresh(),r.fill&&r.triangles&&r.triangles.length>2&&this.shaders.fill(r),r.thickness&&(r.scale[0]*r.viewport.width>Ma.precisionThreshold||r.scale[1]*r.viewport.height>Ma.precisionThreshold?this.shaders.rect(r):r.join==="rect"||!r.join&&(r.thickness<=2||r.count>=Ma.maxPoints)?this.shaders.rect(r):this.shaders.miter(r)))}),this};Ma.prototype.update=function(e){if(!e)return;e.length!=null?typeof e[0]=="number"&&(e=[{positions:e}]):Array.isArray(e)||(e=[e]);let{regl:r,gl:t}=this;if(e.forEach((a,o)=>{let i=this.passes[o];if(a!==void 0){if(a===null){this.passes[o]=null;return}if(typeof a[0]=="number"&&(a={positions:a}),a=wLe(a,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),i||(this.passes[o]=i={id:o,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:r.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:r.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:r.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:r.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},a=tS({},Ma.defaults,a)),a.thickness!=null&&(i.thickness=parseFloat(a.thickness)),a.opacity!=null&&(i.opacity=parseFloat(a.opacity)),a.miterLimit!=null&&(i.miterLimit=parseFloat(a.miterLimit)),a.overlay!=null&&(i.overlay=!!a.overlay,o<Ma.maxLines&&(i.depth=2*(Ma.maxLines-1-o%Ma.maxLines)/Ma.maxLines-1)),a.join!=null&&(i.join=a.join),a.hole!=null&&(i.hole=a.hole),a.fill!=null&&(i.fill=a.fill?dw(a.fill,"uint8"):null),a.viewport!=null&&(i.viewport=Kie(a.viewport)),i.viewport||(i.viewport=Kie([t.drawingBufferWidth,t.drawingBufferHeight])),a.close!=null&&(i.close=a.close),a.positions===null&&(a.positions=[]),a.positions){let s,u;if(a.positions.x&&a.positions.y){let m=a.positions.x,w=a.positions.y;u=i.count=Math.max(m.length,w.length),s=new Float64Array(u*2);for(let A=0;A<u;A++)s[A*2]=m[A],s[A*2+1]=w[A]}else s=ALe(a.positions,"float64"),u=i.count=Math.floor(s.length/2);let c=i.bounds=_Le(s,2);if(i.fill){let m=[],w={},A=0;for(let y=0,M=0,E=i.count;y<E;y++){let b=s[y*2],T=s[y*2+1];isNaN(b)||isNaN(T)||b==null||T==null?(b=s[A*2],T=s[A*2+1],w[y]=A):A=y,m[M++]=b,m[M++]=T}if(a.splitNull){i.count-1 in w||(w[i.count]=i.count-1);let y=Object.keys(w).map(Number).sort((T,p)=>T-p),M=[],E=0,b=i.hole!=null?i.hole[0]:null;if(b!=null){let T=SLe(y,p=>p>=b);y=y.slice(0,T),y.push(b)}for(let T=0;T<y.length;T++){let p=m.slice(E*2,y[T]*2).concat(b?m.slice(b*2):[]),_=(i.hole||[]).map(h=>h-b+(y[T]-E)),g=Jie(p,_);g=g.map(h=>h+E+(h+E<y[T]?0:b-y[T])),M.push(...g),E=y[T]+1}for(let T=0,p=M.length;T<p;T++)w[M[T]]!=null&&(M[T]=w[M[T]]);i.triangles=M}else{let y=Jie(m,i.hole||[]);for(let M=0,E=y.length;M<E;M++)w[y[M]]!=null&&(y[M]=w[y[M]]);i.triangles=y}}let v=new Float64Array(s);TLe(v,2,c);let x=new Float64Array(u*2+6);i.close?s[0]===s[u*2-2]&&s[1]===s[u*2-1]?(x[0]=v[u*2-4],x[1]=v[u*2-3]):(x[0]=v[u*2-2],x[1]=v[u*2-1]):(x[0]=v[0],x[1]=v[1]),x.set(v,2),i.close?s[0]===s[u*2-2]&&s[1]===s[u*2-1]?(x[u*2+2]=v[2],x[u*2+3]=v[3],i.count-=1):(x[u*2+2]=v[0],x[u*2+3]=v[1],x[u*2+4]=v[2],x[u*2+5]=v[3]):(x[u*2+2]=v[u*2-2],x[u*2+3]=v[u*2-1],x[u*2+4]=v[u*2-2],x[u*2+5]=v[u*2-1]);var l=MLe(x);i.positionBuffer(l);var f=rS(x,l);i.positionFractBuffer(f)}if(a.range?i.range=a.range:i.range||(i.range=i.bounds),(a.range||a.positions)&&i.count){let s=i.bounds,u=s[2]-s[0],c=s[3]-s[1],v=i.range[2]-i.range[0],x=i.range[3]-i.range[1];i.scale=[u/v,c/x],i.translate=[-i.range[0]/v+s[0]/v||0,-i.range[1]/x+s[1]/x||0],i.scaleFract=rS(i.scale),i.translateFract=rS(i.translate)}if(a.dashes){let s=0,u;if(!a.dashes||a.dashes.length<2)s=1,u=new Uint8Array([255,255,255,255,255,255,255,255]);else{s=0;for(let x=0;x<a.dashes.length;++x)s+=a.dashes[x];u=new Uint8Array(s*Ma.dashMult);let c=0,v=255;for(let x=0;x<2;x++)for(let m=0;m<a.dashes.length;++m){for(let w=0,A=a.dashes[m]*Ma.dashMult*.5;w<A;++w)u[c++]=v;v^=255}}i.dashLength=s,i.dashTexture({channels:1,data:u,width:u.length,height:1,mag:"linear",min:"linear"},0,0)}if(a.color){let s=i.count,u=a.color;u||(u="transparent");let c=new Uint8Array(s*4+4);if(!Array.isArray(u)||typeof u[0]=="number"){let v=dw(u,"uint8");for(let x=0;x<s+1;x++)c.set(v,x*4)}else{for(let v=0;v<s;v++){let x=dw(u[v],"uint8");c.set(x,v*4)}c.set(dw(u[0],"uint8"),s*4)}i.colorBuffer({usage:"dynamic",type:"uint8",data:c})}}}),e.length<this.passes.length){for(let a=e.length;a<this.passes.length;a++){let o=this.passes[a];o&&(o.colorBuffer.destroy(),o.positionBuffer.destroy(),o.dashTexture.destroy())}this.passes.length=e.length}let n=[];for(let a=0;a<this.passes.length;a++)this.passes[a]!==null&&n.push(this.passes[a]);return this.passes=n,this};Ma.prototype.destroy=function(){return this.passes.forEach(e=>{e.colorBuffer.destroy(),e.positionBuffer.destroy(),e.dashTexture.destroy()}),this.passes.length=0,this}});var ioe=fe((ZYe,aoe)=>{"use strict";var ILe=np(),PLe=N0(),OLe=ME(),NLe=gc(),roe=gi(),toe=ap(),{float32:BLe,fract32:nS}=$_();aoe.exports=zLe;var noe=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function zLe(e,r){if(typeof e=="function"?(r||(r={}),r.regl=e):r=e,r.length&&(r.positions=r),e=r.regl,!e.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");let t=e._gl,n,a,o,i,l,f,s={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},u=[];return i=e.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),a=e.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),o=e.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),l=e.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),f=e.buffer({usage:"static",type:"float",data:noe}),m(r),n=e({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:e.prop("range"),lineWidth:e.prop("lineWidth"),capSize:e.prop("capSize"),opacity:e.prop("opacity"),scale:e.prop("scale"),translate:e.prop("translate"),scaleFract:e.prop("scaleFract"),translateFract:e.prop("translateFract"),viewport:(A,y)=>[y.viewport.x,y.viewport.y,A.viewportWidth,A.viewportHeight]},attributes:{color:{buffer:i,offset:(A,y)=>y.offset*4,divisor:1},position:{buffer:a,offset:(A,y)=>y.offset*8,divisor:1},positionFract:{buffer:o,offset:(A,y)=>y.offset*8,divisor:1},error:{buffer:l,offset:(A,y)=>y.offset*16,divisor:1},direction:{buffer:f,stride:24,offset:0},lineOffset:{buffer:f,stride:24,offset:8},capOffset:{buffer:f,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:e.prop("viewport")},viewport:e.prop("viewport"),stencil:!1,instances:e.prop("count"),count:noe.length}),roe(c,{update:m,draw:v,destroy:w,regl:e,gl:t,canvas:t.canvas,groups:u}),c;function c(A){A?m(A):A===null&&w(),v()}function v(A){if(typeof A=="number")return x(A);A&&!Array.isArray(A)&&(A=[A]),e._refresh(),u.forEach((y,M)=>{if(y){if(A&&(A[M]?y.draw=!0:y.draw=!1),!y.draw){y.draw=!0;return}x(M)}})}function x(A){typeof A=="number"&&(A=u[A]),A!=null&&A&&A.count&&A.color&&A.opacity&&A.positions&&A.positions.length>1&&(A.scaleRatio=[A.scale[0]*A.viewport.width,A.scale[1]*A.viewport.height],n(A),A.after&&A.after(A))}function m(A){if(!A)return;A.length!=null?typeof A[0]=="number"&&(A=[{positions:A}]):Array.isArray(A)||(A=[A]);let y=0,M=0;if(c.groups=u=A.map((T,p)=>{let _=u[p];if(T)typeof T=="function"?T={after:T}:typeof T[0]=="number"&&(T={positions:T});else return _;return T=NLe(T,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),_||(u[p]=_={id:p,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},T=roe({},s,T)),OLe(_,T,[{lineWidth:g=>+g*.5,capSize:g=>+g*.5,opacity:parseFloat,errors:g=>(g=toe(g),M+=g.length,g),positions:(g,h)=>(g=toe(g,"float64"),h.count=Math.floor(g.length/2),h.bounds=ILe(g,2),h.offset=y,y+=h.count,g)},{color:(g,h)=>{let S=h.count;if(g||(g="transparent"),!Array.isArray(g)||typeof g[0]=="number"){let R=g;g=Array(S);for(let L=0;L<S;L++)g[L]=R}if(g.length<S)throw Error("Not enough colors");let d=new Uint8Array(S*4);for(let R=0;R<S;R++){let L=PLe(g[R],"uint8");d.set(L,R*4)}return d},range:(g,h,S)=>{let d=h.bounds;return g||(g=d),h.scale=[1/(g[2]-g[0]),1/(g[3]-g[1])],h.translate=[-g[0],-g[1]],h.scaleFract=nS(h.scale),h.translateFract=nS(h.translate),g},viewport:g=>{let h;return Array.isArray(g)?h={x:g[0],y:g[1],width:g[2]-g[0],height:g[3]-g[1]}:g?(h={x:g.x||g.left||0,y:g.y||g.top||0},g.right?h.width=g.right-h.x:h.width=g.w||g.width||0,g.bottom?h.height=g.bottom-h.y:h.height=g.h||g.height||0):h={x:0,y:0,width:t.drawingBufferWidth,height:t.drawingBufferHeight},h}}]),_}),y||M){let T=u.reduce((h,S,d)=>h+(S?S.count:0),0),p=new Float64Array(T*2),_=new Uint8Array(T*4),g=new Float32Array(T*4);u.forEach((h,S)=>{if(!h)return;let{positions:d,count:R,offset:L,color:F,errors:O}=h;R&&(_.set(F,L*4),g.set(O,L*4),p.set(d,L*2))});var E=BLe(p);a(E);var b=nS(p,E);o(b),i(_),l(g)}}function w(){a.destroy(),o.destroy(),i.destroy(),l.destroy(),f.destroy()}}});var soe=fe(($Ye,loe)=>{var ooe=/[\'\"]/;loe.exports=function(r){return r?(ooe.test(r.charAt(0))&&(r=r.substr(1)),ooe.test(r.charAt(r.length-1))&&(r=r.substr(0,r.length-1)),r):""}});var aS=fe((JYe,qLe)=>{qLe.exports=["inherit","initial","unset"]});var iS=fe((KYe,ULe)=>{ULe.exports=["caption","icon","menu","message-box","small-caption","status-bar"]});var oS=fe((QYe,GLe)=>{GLe.exports=["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]});var lS=fe((eWe,HLe)=>{HLe.exports=["normal","italic","oblique"]});var sS=fe((rWe,VLe)=>{VLe.exports=["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]});var hoe=fe((tWe,coe)=>{"use strict";function foe(e,r){if(typeof e!="string")return[e];var t=[e];typeof r=="string"||Array.isArray(r)?r={brackets:r}:r||(r={});var n=r.brackets?Array.isArray(r.brackets)?r.brackets:[r.brackets]:["{}","[]","()"],a=r.escape||"___",o=!!r.flat;n.forEach(function(f){var s=new RegExp(["\\",f[0],"[^\\",f[0],"\\",f[1],"]*\\",f[1]].join("")),u=[];function c(v,x,m){var w=t.push(v.slice(f[0].length,-f[1].length))-1;return u.push(w),a+w+a}t.forEach(function(v,x){for(var m,w=0;v!=m;)if(m=v,v=v.replace(s,c),w++>1e4)throw Error("References have circular dependency. Please, check them.");t[x]=v}),u=u.reverse(),t=t.map(function(v){return u.forEach(function(x){v=v.replace(new RegExp("(\\"+a+x+"\\"+a+")","g"),f[0]+"$1"+f[1])}),v})});var i=new RegExp("\\"+a+"([0-9]+)\\"+a);function l(f,s,u){for(var c=[],v,x=0;v=i.exec(f);){if(x++>1e4)throw Error("Circular references in parenthesis");c.push(f.slice(0,v.index)),c.push(l(s[v[1]],s)),f=f.slice(v.index+v[0].length)}return c.push(f),c}return o?t:l(t[0],t)}function uoe(e,r){if(r&&r.flat){var t=r&&r.escape||"___",n=e[0],a;if(!n)return"";for(var o=new RegExp("\\"+t+"([0-9]+)\\"+t),i=0;n!=a;){if(i++>1e4)throw Error("Circular references in "+e);a=n,n=n.replace(o,l)}return n}return e.reduce(function f(s,u){return Array.isArray(u)&&(u=u.reduce(f,"")),s+u},"");function l(f,s){if(e[s]==null)throw Error("Reference "+s+"is undefined");return e[s]}}function fS(e,r){return Array.isArray(e)?uoe(e,r):foe(e,r)}fS.parse=foe;fS.stringify=uoe;coe.exports=fS});var poe=fe((nWe,doe)=>{"use strict";var voe=hoe();doe.exports=function(r,t,n){if(r==null)throw Error("First argument should be a string");if(t==null)throw Error("Separator should be a string or a RegExp");n?(typeof n=="string"||Array.isArray(n))&&(n={ignore:n}):n={},n.escape==null&&(n.escape=!0),n.ignore==null?n.ignore=["[]","()","{}","<>",'""',"''","``","\u201C\u201D","\xAB\xBB"]:(typeof n.ignore=="string"&&(n.ignore=[n.ignore]),n.ignore=n.ignore.map(function(c){return c.length===1&&(c=c+c),c}));var a=voe.parse(r,{flat:!0,brackets:n.ignore}),o=a[0],i=o.split(t);if(n.escape){for(var l=[],f=0;f<i.length;f++){var s=i[f],u=i[f+1];s[s.length-1]==="\\"&&s[s.length-2]!=="\\"?(l.push(s+t+u),f++):l.push(s)}i=l}for(var f=0;f<i.length;f++)a[0]=i[f],i[f]=voe.stringify(a,{flat:!0});return i}});var goe=fe((aWe,YLe)=>{YLe.exports=["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]});var uS=fe((iWe,yoe)=>{"use strict";var WLe=goe();yoe.exports={isSize:function(r){return/^[\d\.]/.test(r)||r.indexOf("/")!==-1||WLe.indexOf(r)!==-1}}});var _oe=fe((oWe,boe)=>{"use strict";var XLe=soe(),jLe=aS(),ZLe=iS(),$Le=oS(),JLe=lS(),KLe=sS(),cS=poe(),QLe=uS().isSize;boe.exports=xoe;var u2=xoe.cache={};function xoe(e){if(typeof e!="string")throw new Error("Font argument must be a string.");if(u2[e])return u2[e];if(e==="")throw new Error("Cannot parse an empty string.");if(ZLe.indexOf(e)!==-1)return u2[e]={system:e};for(var r={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},t=cS(e,/\s+/),n;n=t.shift();){if(jLe.indexOf(n)!==-1)return["style","variant","weight","stretch"].forEach(function(o){r[o]=n}),u2[e]=r;if(JLe.indexOf(n)!==-1){r.style=n;continue}if(n==="normal"||n==="small-caps"){r.variant=n;continue}if(KLe.indexOf(n)!==-1){r.stretch=n;continue}if($Le.indexOf(n)!==-1){r.weight=n;continue}if(QLe(n)){var a=cS(n,"/");if(r.size=a[0],a[1]!=null?r.lineHeight=moe(a[1]):t[0]==="/"&&(t.shift(),r.lineHeight=moe(t.shift())),!t.length)throw new Error("Missing required font-family.");return r.family=cS(t.join(" "),/\s*,\s*/).map(XLe),u2[e]=r}throw new Error("Unknown or unsupported font token: "+n)}throw new Error("Missing required font-size.")}function moe(e){var r=parseFloat(e);return r.toString()===e?r:e}});var vS=fe((lWe,woe)=>{"use strict";var eRe=gc(),rRe=uS().isSize,tRe=h2(aS()),nRe=h2(iS()),aRe=h2(oS()),iRe=h2(lS()),oRe=h2(sS()),lRe={normal:1,"small-caps":1},sRe={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},hS={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};woe.exports=function(r){if(r=eRe(r,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),r.system)return r.system&&c2(r.system,nRe),r.system;if(c2(r.style,iRe),c2(r.variant,lRe),c2(r.weight,aRe),c2(r.stretch,oRe),r.size==null&&(r.size=hS.size),typeof r.size=="number"&&(r.size+="px"),!rRe)throw Error("Bad size value `"+r.size+"`");r.family||(r.family=hS.family),Array.isArray(r.family)&&(r.family.length||(r.family=[hS.family]),r.family=r.family.map(function(n){return sRe[n]?n:'"'+n+'"'}).join(", "));var t=[];return t.push(r.style),r.variant!==r.style&&t.push(r.variant),r.weight!==r.variant&&r.weight!==r.style&&t.push(r.weight),r.stretch!==r.weight&&r.stretch!==r.variant&&r.stretch!==r.style&&t.push(r.stretch),t.push(r.size+(r.lineHeight==null||r.lineHeight==="normal"||r.lineHeight+""=="1"?"":"/"+r.lineHeight)),t.push(r.family),t.filter(Boolean).join(" ")};function c2(e,r){if(e&&!r[e]&&!tRe[e])throw Error("Unknown keyword `"+e+"`");return e}function h2(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=1;return r}});var Toe=fe((sWe,Aoe)=>{"use strict";Aoe.exports={parse:_oe(),stringify:vS()}});var Moe=fe((dS,pS)=>{(function(e,r){typeof dS=="object"&&typeof pS!="undefined"?pS.exports=r():e.createREGL=r()})(dS,function(){"use strict";var e=function(H,ce){for(var ge=Object.keys(ce),Ye=0;Ye<ge.length;++Ye)H[ge[Ye]]=ce[ge[Ye]];return H},r=0,t=0,n=5,a=6;function o(H,ce){this.id=r++,this.type=H,this.data=ce}function i(H){return H.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function l(H){if(H.length===0)return[];var ce=H.charAt(0),ge=H.charAt(H.length-1);if(H.length>1&&ce===ge&&(ce==='"'||ce==="'"))return['"'+i(H.substr(1,H.length-2))+'"'];var Ye=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(H);if(Ye)return l(H.substr(0,Ye.index)).concat(l(Ye[1])).concat(l(H.substr(Ye.index+Ye[0].length)));var rr=H.split(".");if(rr.length===1)return['"'+i(H)+'"'];for(var ar=[],tr=0;tr<rr.length;++tr)ar=ar.concat(l(rr[tr]));return ar}function f(H){return"["+l(H).join("][")+"]"}function s(H,ce){return new o(H,f(ce+""))}function u(H){return typeof H=="function"&&!H._reglType||H instanceof o}function c(H,ce){if(typeof H=="function")return new o(t,H);if(typeof H=="number"||typeof H=="boolean")return new o(n,H);if(Array.isArray(H))return new o(a,H.map(function(ge,Ye){return c(ge,ce+"["+Ye+"]")}));if(H instanceof o)return H}var v={DynamicVariable:o,define:s,isDynamic:u,unbox:c,accessor:f},x={next:typeof requestAnimationFrame=="function"?function(H){return requestAnimationFrame(H)}:function(H){return setTimeout(H,16)},cancel:typeof cancelAnimationFrame=="function"?function(H){return cancelAnimationFrame(H)}:clearTimeout},m=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function w(){var H={"":0},ce=[""];return{id:function(ge){var Ye=H[ge];return Ye||(Ye=H[ge]=ce.length,ce.push(ge),Ye)},str:function(ge){return ce[ge]}}}function A(H,ce,ge){var Ye=document.createElement("canvas");e(Ye.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),H.appendChild(Ye),H===document.body&&(Ye.style.position="absolute",e(H.style,{margin:0,padding:0}));function rr(){var Ar=window.innerWidth,Pr=window.innerHeight;if(H!==document.body){var Ir=Ye.getBoundingClientRect();Ar=Ir.right-Ir.left,Pr=Ir.bottom-Ir.top}Ye.width=ge*Ar,Ye.height=ge*Pr}var ar;H!==document.body&&typeof ResizeObserver=="function"?(ar=new ResizeObserver(function(){setTimeout(rr)}),ar.observe(H)):window.addEventListener("resize",rr,!1);function tr(){ar?ar.disconnect():window.removeEventListener("resize",rr),H.removeChild(Ye)}return rr(),{canvas:Ye,onDestroy:tr}}function y(H,ce){function ge(Ye){try{return H.getContext(Ye,ce)}catch(rr){return null}}return ge("webgl")||ge("experimental-webgl")||ge("webgl-experimental")}function M(H){return typeof H.nodeName=="string"&&typeof H.appendChild=="function"&&typeof H.getBoundingClientRect=="function"}function E(H){return typeof H.drawArrays=="function"||typeof H.drawElements=="function"}function b(H){return typeof H=="string"?H.split():H}function T(H){return typeof H=="string"?document.querySelector(H):H}function p(H){var ce=H||{},ge,Ye,rr,ar,tr={},Ar=[],Pr=[],Ir=typeof window=="undefined"?1:window.devicePixelRatio,Nr=!1,mt={},it=function(Oe){},Wr=function(){};if(typeof ce=="string"?ge=document.querySelector(ce):typeof ce=="object"&&(M(ce)?ge=ce:E(ce)?(ar=ce,rr=ar.canvas):("gl"in ce?ar=ce.gl:"canvas"in ce?rr=T(ce.canvas):"container"in ce&&(Ye=T(ce.container)),"attributes"in ce&&(tr=ce.attributes),"extensions"in ce&&(Ar=b(ce.extensions)),"optionalExtensions"in ce&&(Pr=b(ce.optionalExtensions)),"onDone"in ce&&(it=ce.onDone),"profile"in ce&&(Nr=!!ce.profile),"pixelRatio"in ce&&(Ir=+ce.pixelRatio),"cachedCode"in ce&&(mt=ce.cachedCode))),ge&&(ge.nodeName.toLowerCase()==="canvas"?rr=ge:Ye=ge),!ar){if(!rr){var mr=A(Ye||document.body,it,Ir);if(!mr)return null;rr=mr.canvas,Wr=mr.onDestroy}tr.premultipliedAlpha===void 0&&(tr.premultipliedAlpha=!0),ar=y(rr,tr)}return ar?{gl:ar,canvas:rr,container:Ye,extensions:Ar,optionalExtensions:Pr,pixelRatio:Ir,profile:Nr,cachedCode:mt,onDone:it,onDestroy:Wr}:(Wr(),it("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function _(H,ce){var ge={};function Ye(tr){var Ar=tr.toLowerCase(),Pr;try{Pr=ge[Ar]=H.getExtension(Ar)}catch(Ir){}return!!Pr}for(var rr=0;rr<ce.extensions.length;++rr){var ar=ce.extensions[rr];if(!Ye(ar))return ce.onDestroy(),ce.onDone('"'+ar+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return ce.optionalExtensions.forEach(Ye),{extensions:ge,restore:function(){Object.keys(ge).forEach(function(tr){if(ge[tr]&&!Ye(tr))throw new Error("(regl): error restoring extension "+tr)})}}}function g(H,ce){for(var ge=Array(H),Ye=0;Ye<H;++Ye)ge[Ye]=ce(Ye);return ge}var h=5120,S=5121,d=5122,R=5123,L=5124,F=5125,O=5126;function P(H){for(var ce=16;ce<=1<<28;ce*=16)if(H<=ce)return ce;return 0}function I(H){var ce,ge;return ce=(H>65535)<<4,H>>>=ce,ge=(H>255)<<3,H>>>=ge,ce|=ge,ge=(H>15)<<2,H>>>=ge,ce|=ge,ge=(H>3)<<1,H>>>=ge,ce|=ge,ce|H>>1}function k(){var H=g(8,function(){return[]});function ce(ar){var tr=P(ar),Ar=H[I(tr)>>2];return Ar.length>0?Ar.pop():new ArrayBuffer(tr)}function ge(ar){H[I(ar.byteLength)>>2].push(ar)}function Ye(ar,tr){var Ar=null;switch(ar){case h:Ar=new Int8Array(ce(tr),0,tr);break;case S:Ar=new Uint8Array(ce(tr),0,tr);break;case d:Ar=new Int16Array(ce(2*tr),0,tr);break;case R:Ar=new Uint16Array(ce(2*tr),0,tr);break;case L:Ar=new Int32Array(ce(4*tr),0,tr);break;case F:Ar=new Uint32Array(ce(4*tr),0,tr);break;case O:Ar=new Float32Array(ce(4*tr),0,tr);break;default:return null}return Ar.length!==tr?Ar.subarray(0,tr):Ar}function rr(ar){ge(ar.buffer)}return{alloc:ce,free:ge,allocType:Ye,freeType:rr}}var D=k();D.zero=k();var z=3408,q=3410,j=3411,Q=3412,K=3413,G=3414,B=3415,Z=33901,ie=33902,J=3379,le=3386,te=34921,V=36347,ne=36348,Y=35661,oe=35660,pe=34930,we=36349,De=34076,Re=34024,Ae=7936,Ie=7937,Be=7938,je=35724,Ne=34047,Qe=36063,pr=34852,Se=3553,Fe=34067,hr=34069,dr=33984,kr=6408,Ue=5126,He=5121,Xe=36160,fr=36053,Mr=36064,qr=16384,et=function(H,ce){var ge=1;ce.ext_texture_filter_anisotropic&&(ge=H.getParameter(Ne));var Ye=1,rr=1;ce.webgl_draw_buffers&&(Ye=H.getParameter(pr),rr=H.getParameter(Qe));var ar=!!ce.oes_texture_float;if(ar){var tr=H.createTexture();H.bindTexture(Se,tr),H.texImage2D(Se,0,kr,1,1,0,kr,Ue,null);var Ar=H.createFramebuffer();if(H.bindFramebuffer(Xe,Ar),H.framebufferTexture2D(Xe,Mr,Se,tr,0),H.bindTexture(Se,null),H.checkFramebufferStatus(Xe)!==fr)ar=!1;else{H.viewport(0,0,1,1),H.clearColor(1,0,0,1),H.clear(qr);var Pr=D.allocType(Ue,4);H.readPixels(0,0,1,1,kr,Ue,Pr),H.getError()?ar=!1:(H.deleteFramebuffer(Ar),H.deleteTexture(tr),ar=Pr[0]===1),D.freeType(Pr)}}var Ir=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Nr=!0;if(!Ir){var mt=H.createTexture(),it=D.allocType(He,36);H.activeTexture(dr),H.bindTexture(Fe,mt),H.texImage2D(hr,0,kr,3,3,0,kr,He,it),D.freeType(it),H.bindTexture(Fe,null),H.deleteTexture(mt),Nr=!H.getError()}return{colorBits:[H.getParameter(q),H.getParameter(j),H.getParameter(Q),H.getParameter(K)],depthBits:H.getParameter(G),stencilBits:H.getParameter(B),subpixelBits:H.getParameter(z),extensions:Object.keys(ce).filter(function(Wr){return!!ce[Wr]}),maxAnisotropic:ge,maxDrawbuffers:Ye,maxColorAttachments:rr,pointSizeDims:H.getParameter(Z),lineWidthDims:H.getParameter(ie),maxViewportDims:H.getParameter(le),maxCombinedTextureUnits:H.getParameter(Y),maxCubeMapSize:H.getParameter(De),maxRenderbufferSize:H.getParameter(Re),maxTextureUnits:H.getParameter(pe),maxTextureSize:H.getParameter(J),maxAttributes:H.getParameter(te),maxVertexUniforms:H.getParameter(V),maxVertexTextureUnits:H.getParameter(oe),maxVaryingVectors:H.getParameter(ne),maxFragmentUniforms:H.getParameter(we),glsl:H.getParameter(je),renderer:H.getParameter(Ie),vendor:H.getParameter(Ae),version:H.getParameter(Be),readFloat:ar,npotTextureCube:Nr}},jr=function(H){return H instanceof Uint8Array||H instanceof Uint16Array||H instanceof Uint32Array||H instanceof Int8Array||H instanceof Int16Array||H instanceof Int32Array||H instanceof Float32Array||H instanceof Float64Array||H instanceof Uint8ClampedArray};function Or(H){return!!H&&typeof H=="object"&&Array.isArray(H.shape)&&Array.isArray(H.stride)&&typeof H.offset=="number"&&H.shape.length===H.stride.length&&(Array.isArray(H.data)||jr(H.data))}var _r=function(H){return Object.keys(H).map(function(ce){return H[ce]})},qe={shape:W,flatten:ae};function nr(H,ce,ge){for(var Ye=0;Ye<ce;++Ye)ge[Ye]=H[Ye]}function Te(H,ce,ge,Ye){for(var rr=0,ar=0;ar<ce;++ar)for(var tr=H[ar],Ar=0;Ar<ge;++Ar)Ye[rr++]=tr[Ar]}function be(H,ce,ge,Ye,rr,ar){for(var tr=ar,Ar=0;Ar<ce;++Ar)for(var Pr=H[Ar],Ir=0;Ir<ge;++Ir)for(var Nr=Pr[Ir],mt=0;mt<Ye;++mt)rr[tr++]=Nr[mt]}function Ge(H,ce,ge,Ye,rr){for(var ar=1,tr=ge+1;tr<ce.length;++tr)ar*=ce[tr];var Ar=ce[ge];if(ce.length-ge===4){var Pr=ce[ge+1],Ir=ce[ge+2],Nr=ce[ge+3];for(tr=0;tr<Ar;++tr)be(H[tr],Pr,Ir,Nr,Ye,rr),rr+=ar}else for(tr=0;tr<Ar;++tr)Ge(H[tr],ce,ge+1,Ye,rr),rr+=ar}function ae(H,ce,ge,Ye){var rr=1;if(ce.length)for(var ar=0;ar<ce.length;++ar)rr*=ce[ar];else rr=0;var tr=Ye||D.allocType(ge,rr);switch(ce.length){case 0:break;case 1:nr(H,ce[0],tr);break;case 2:Te(H,ce[0],ce[1],tr);break;case 3:be(H,ce[0],ce[1],ce[2],tr,0);break;default:Ge(H,ce,0,tr,0)}return tr}function W(H){for(var ce=[],ge=H;ge.length;ge=ge[0])ce.push(ge.length);return ce}var re={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ee=5120,We=5122,lr=5124,sr=5121,Yr=5123,rt=5125,zr=5126,vt=5126,dt={int8:Ee,int16:We,int32:lr,uint8:sr,uint16:Yr,uint32:rt,float:zr,float32:vt},qt=35048,Nt=35040,_t={dynamic:qt,stream:Nt,static:35044},Jt=qe.flatten,Ut=qe.shape,$t=35044,cn=35040,jt=5121,Kt=5126,_n=[];_n[5120]=1,_n[5122]=2,_n[5124]=4,_n[5121]=1,_n[5123]=2,_n[5125]=4,_n[5126]=4;function Cn(H){return re[Object.prototype.toString.call(H)]|0}function ua(H,ce){for(var ge=0;ge<ce.length;++ge)H[ge]=ce[ge]}function ra(H,ce,ge,Ye,rr,ar,tr){for(var Ar=0,Pr=0;Pr<ge;++Pr)for(var Ir=0;Ir<Ye;++Ir)H[Ar++]=ce[rr*Pr+ar*Ir+tr]}function la(H,ce,ge,Ye){var rr=0,ar={};function tr(Oe){this.id=rr++,this.buffer=H.createBuffer(),this.type=Oe,this.usage=$t,this.byteLength=0,this.dimension=1,this.dtype=jt,this.persistentData=null,ge.profile&&(this.stats={size:0})}tr.prototype.bind=function(){H.bindBuffer(this.type,this.buffer)},tr.prototype.destroy=function(){it(this)};var Ar=[];function Pr(Oe,ur){var Sr=Ar.pop();return Sr||(Sr=new tr(Oe)),Sr.bind(),mt(Sr,ur,cn,0,1,!1),Sr}function Ir(Oe){Ar.push(Oe)}function Nr(Oe,ur,Sr){Oe.byteLength=ur.byteLength,H.bufferData(Oe.type,ur,Sr)}function mt(Oe,ur,Sr,Dr,br,Xr){var Hr;if(Oe.usage=Sr,Array.isArray(ur)){if(Oe.dtype=Dr||Kt,ur.length>0){var pt;if(Array.isArray(ur[0])){Hr=Ut(ur);for(var xr=1,yr=1;yr<Hr.length;++yr)xr*=Hr[yr];Oe.dimension=xr,pt=Jt(ur,Hr,Oe.dtype),Nr(Oe,pt,Sr),Xr?Oe.persistentData=pt:D.freeType(pt)}else if(typeof ur[0]=="number"){Oe.dimension=br;var Jr=D.allocType(Oe.dtype,ur.length);ua(Jr,ur),Nr(Oe,Jr,Sr),Xr?Oe.persistentData=Jr:D.freeType(Jr)}else jr(ur[0])&&(Oe.dimension=ur[0].length,Oe.dtype=Dr||Cn(ur[0])||Kt,pt=Jt(ur,[ur.length,ur[0].length],Oe.dtype),Nr(Oe,pt,Sr),Xr?Oe.persistentData=pt:D.freeType(pt))}}else if(jr(ur))Oe.dtype=Dr||Cn(ur),Oe.dimension=br,Nr(Oe,ur,Sr),Xr&&(Oe.persistentData=new Uint8Array(new Uint8Array(ur.buffer)));else if(Or(ur)){Hr=ur.shape;var Gr=ur.stride,Br=ur.offset,Ur=0,Kr=0,gt=0,St=0;Hr.length===1?(Ur=Hr[0],Kr=1,gt=Gr[0],St=0):Hr.length===2&&(Ur=Hr[0],Kr=Hr[1],gt=Gr[0],St=Gr[1]),Oe.dtype=Dr||Cn(ur.data)||Kt,Oe.dimension=Kr;var Vr=D.allocType(Oe.dtype,Ur*Kr);ra(Vr,ur.data,Ur,Kr,gt,St,Br),Nr(Oe,Vr,Sr),Xr?Oe.persistentData=Vr:D.freeType(Vr)}else ur instanceof ArrayBuffer&&(Oe.dtype=jt,Oe.dimension=br,Nr(Oe,ur,Sr),Xr&&(Oe.persistentData=new Uint8Array(new Uint8Array(ur))))}function it(Oe){ce.bufferCount--,Ye(Oe);var ur=Oe.buffer;H.deleteBuffer(ur),Oe.buffer=null,delete ar[Oe.id]}function Wr(Oe,ur,Sr,Dr){ce.bufferCount++;var br=new tr(ur);ar[br.id]=br;function Xr(xr){var yr=$t,Jr=null,Gr=0,Br=0,Ur=1;return Array.isArray(xr)||jr(xr)||Or(xr)||xr instanceof ArrayBuffer?Jr=xr:typeof xr=="number"?Gr=xr|0:xr&&("data"in xr&&(Jr=xr.data),"usage"in xr&&(yr=_t[xr.usage]),"type"in xr&&(Br=dt[xr.type]),"dimension"in xr&&(Ur=xr.dimension|0),"length"in xr&&(Gr=xr.length|0)),br.bind(),Jr?mt(br,Jr,yr,Br,Ur,Dr):(Gr&&H.bufferData(br.type,Gr,yr),br.dtype=Br||jt,br.usage=yr,br.dimension=Ur,br.byteLength=Gr),ge.profile&&(br.stats.size=br.byteLength*_n[br.dtype]),Xr}function Hr(xr,yr){H.bufferSubData(br.type,yr,xr)}function pt(xr,yr){var Jr=(yr||0)|0,Gr;if(br.bind(),jr(xr)||xr instanceof ArrayBuffer)Hr(xr,Jr);else if(Array.isArray(xr)){if(xr.length>0){if(typeof xr[0]=="number"){var Br=D.allocType(br.dtype,xr.length);ua(Br,xr),Hr(Br,Jr),D.freeType(Br)}else if(Array.isArray(xr[0])||jr(xr[0])){Gr=Ut(xr);var Ur=Jt(xr,Gr,br.dtype);Hr(Ur,Jr),D.freeType(Ur)}}}else if(Or(xr)){Gr=xr.shape;var Kr=xr.stride,gt=0,St=0,Vr=0,nt=0;Gr.length===1?(gt=Gr[0],St=1,Vr=Kr[0],nt=0):Gr.length===2&&(gt=Gr[0],St=Gr[1],Vr=Kr[0],nt=Kr[1]);var Mt=Array.isArray(xr.data)?br.dtype:Cn(xr.data),Et=D.allocType(Mt,gt*St);ra(Et,xr.data,gt,St,Vr,nt,xr.offset),Hr(Et,Jr),D.freeType(Et)}return Xr}return Sr||Xr(Oe),Xr._reglType="buffer",Xr._buffer=br,Xr.subdata=pt,ge.profile&&(Xr.stats=br.stats),Xr.destroy=function(){it(br)},Xr}function mr(){_r(ar).forEach(function(Oe){Oe.buffer=H.createBuffer(),H.bindBuffer(Oe.type,Oe.buffer),H.bufferData(Oe.type,Oe.persistentData||Oe.byteLength,Oe.usage)})}return ge.profile&&(ce.getTotalBufferSize=function(){var Oe=0;return Object.keys(ar).forEach(function(ur){Oe+=ar[ur].stats.size}),Oe}),{create:Wr,createStream:Pr,destroyStream:Ir,clear:function(){_r(ar).forEach(it),Ar.forEach(it)},getBuffer:function(Oe){return Oe&&Oe._buffer instanceof tr?Oe._buffer:null},restore:mr,_initBuffer:mt}}var Mn=0,Ea=0,oo=1,Zi=1,Si=4,To=4,Ci={points:Mn,point:Ea,lines:oo,line:Zi,triangles:Si,triangle:To,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Ll=0,Rl=1,xi=4,Ya=5120,oi=5121,Mo=5122,Wa=5123,Zt=5124,gn=5125,Pn=34963,Pt=35040,li=35044;function ia(H,ce,ge,Ye){var rr={},ar=0,tr={uint8:oi,uint16:Wa};ce.oes_element_index_uint&&(tr.uint32=gn);function Ar(mr){this.id=ar++,rr[this.id]=this,this.buffer=mr,this.primType=xi,this.vertCount=0,this.type=0}Ar.prototype.bind=function(){this.buffer.bind()};var Pr=[];function Ir(mr){var Oe=Pr.pop();return Oe||(Oe=new Ar(ge.create(null,Pn,!0,!1)._buffer)),mt(Oe,mr,Pt,-1,-1,0,0),Oe}function Nr(mr){Pr.push(mr)}function mt(mr,Oe,ur,Sr,Dr,br,Xr){mr.buffer.bind();var Hr;if(Oe){var pt=Xr;!Xr&&(!jr(Oe)||Or(Oe)&&!jr(Oe.data))&&(pt=ce.oes_element_index_uint?gn:Wa),ge._initBuffer(mr.buffer,Oe,ur,pt,3)}else H.bufferData(Pn,br,ur),mr.buffer.dtype=Hr||oi,mr.buffer.usage=ur,mr.buffer.dimension=3,mr.buffer.byteLength=br;if(Hr=Xr,!Xr){switch(mr.buffer.dtype){case oi:case Ya:Hr=oi;break;case Wa:case Mo:Hr=Wa;break;case gn:case Zt:Hr=gn;break;default:}mr.buffer.dtype=Hr}mr.type=Hr;var xr=Dr;xr<0&&(xr=mr.buffer.byteLength,Hr===Wa?xr>>=1:Hr===gn&&(xr>>=2)),mr.vertCount=xr;var yr=Sr;if(Sr<0){yr=xi;var Jr=mr.buffer.dimension;Jr===1&&(yr=Ll),Jr===2&&(yr=Rl),Jr===3&&(yr=xi)}mr.primType=yr}function it(mr){Ye.elementsCount--,delete rr[mr.id],mr.buffer.destroy(),mr.buffer=null}function Wr(mr,Oe){var ur=ge.create(null,Pn,!0),Sr=new Ar(ur._buffer);Ye.elementsCount++;function Dr(br){if(!br)ur(),Sr.primType=xi,Sr.vertCount=0,Sr.type=oi;else if(typeof br=="number")ur(br),Sr.primType=xi,Sr.vertCount=br|0,Sr.type=oi;else{var Xr=null,Hr=li,pt=-1,xr=-1,yr=0,Jr=0;Array.isArray(br)||jr(br)||Or(br)?Xr=br:("data"in br&&(Xr=br.data),"usage"in br&&(Hr=_t[br.usage]),"primitive"in br&&(pt=Ci[br.primitive]),"count"in br&&(xr=br.count|0),"type"in br&&(Jr=tr[br.type]),"length"in br?yr=br.length|0:(yr=xr,Jr===Wa||Jr===Mo?yr*=2:(Jr===gn||Jr===Zt)&&(yr*=4))),mt(Sr,Xr,Hr,pt,xr,yr,Jr)}return Dr}return Dr(mr),Dr._reglType="elements",Dr._elements=Sr,Dr.subdata=function(br,Xr){return ur.subdata(br,Xr),Dr},Dr.destroy=function(){it(Sr)},Dr}return{create:Wr,createStream:Ir,destroyStream:Nr,getElements:function(mr){return typeof mr=="function"&&mr._elements instanceof Ar?mr._elements:null},clear:function(){_r(rr).forEach(it)}}}var Xa=new Float32Array(1),An=new Uint32Array(Xa.buffer),zo=5123;function Fl(H){for(var ce=D.allocType(zo,H.length),ge=0;ge<H.length;++ge)if(isNaN(H[ge]))ce[ge]=65535;else if(H[ge]===1/0)ce[ge]=31744;else if(H[ge]===-1/0)ce[ge]=64512;else{Xa[0]=H[ge];var Ye=An[0],rr=Ye>>>31<<15,ar=(Ye<<1>>>24)-127,tr=Ye>>13&1023;if(ar<-24)ce[ge]=rr;else if(ar<-14){var Ar=-14-ar;ce[ge]=rr+(tr+1024>>Ar)}else ar>15?ce[ge]=rr+31744:ce[ge]=rr+(ar+15<<10)+tr}return ce}function qi(H){return Array.isArray(H)||jr(H)}var Np=34467,Ia=3553,Ql=34067,tl=34069,ki=6408,Sf=6406,nl=6407,qo=6409,es=6410,wc=32854,al=32855,Fs=36194,sd=32819,Bp=32820,Ac=33635,rh=34042,Ds=6402,rs=34041,il=35904,Uo=35906,Li=36193,Cf=33776,Is=33777,Dl=33778,kf=33779,th=35986,Tc=35987,pu=34798,nh=35840,ah=35841,Mc=35842,ih=35843,Ec=36196,Go=5121,Lf=5123,gu=5125,$i=5126,Rf=10242,zp=10243,qp=10497,yu=33071,fd=33648,mu=10240,Up=10241,ts=9728,Sc=9729,Ps=9984,Ff=9985,Os=9986,Il=9987,ud=33170,Pl=4352,Gp=4353,Cc=4354,Hp=34046,Vp=3317,Yp=37440,cd=37441,xu=37443,oh=37444,Ho=33984,hd=[Ps,Os,Ff,Il],Ui=[0,qo,es,nl,ki],Pa={};Pa[qo]=Pa[Sf]=Pa[Ds]=1,Pa[rs]=Pa[es]=2,Pa[nl]=Pa[il]=3,Pa[ki]=Pa[Uo]=4;function lo(H){return"[object "+H+"]"}var bu=lo("HTMLCanvasElement"),Ol=lo("OffscreenCanvas"),Df=lo("CanvasRenderingContext2D"),kc=lo("ImageBitmap"),lh=lo("HTMLImageElement"),sh=lo("HTMLVideoElement"),Wp=Object.keys(re).concat([bu,Ol,Df,kc,lh,sh]),Eo=[];Eo[Go]=1,Eo[$i]=4,Eo[Li]=2,Eo[Lf]=2,Eo[gu]=4;var Vn=[];Vn[wc]=2,Vn[al]=2,Vn[Fs]=2,Vn[rs]=4,Vn[Cf]=.5,Vn[Is]=.5,Vn[Dl]=1,Vn[kf]=1,Vn[th]=.5,Vn[Tc]=1,Vn[pu]=1,Vn[nh]=.5,Vn[ah]=.25,Vn[Mc]=.5,Vn[ih]=.25,Vn[Ec]=.5;function fh(H){return Array.isArray(H)&&(H.length===0||typeof H[0]=="number")}function uh(H){if(!Array.isArray(H))return!1;var ce=H.length;return!(ce===0||!qi(H[0]))}function so(H){return Object.prototype.toString.call(H)}function ch(H){return so(H)===bu}function hh(H){return so(H)===Ol}function Xp(H){return so(H)===Df}function jp(H){return so(H)===kc}function Zp(H){return so(H)===lh}function $p(H){return so(H)===sh}function _u(H){if(!H)return!1;var ce=so(H);return Wp.indexOf(ce)>=0?!0:fh(H)||uh(H)||Or(H)}function vh(H){return re[Object.prototype.toString.call(H)]|0}function Jp(H,ce){var ge=ce.length;switch(H.type){case Go:case Lf:case gu:case $i:var Ye=D.allocType(H.type,ge);Ye.set(ce),H.data=Ye;break;case Li:H.data=Fl(ce);break;default:}}function dh(H,ce){return D.allocType(H.type===Li?$i:H.type,ce)}function Lc(H,ce){H.type===Li?(H.data=Fl(ce),D.freeType(ce)):H.data=ce}function vd(H,ce,ge,Ye,rr,ar){for(var tr=H.width,Ar=H.height,Pr=H.channels,Ir=tr*Ar*Pr,Nr=dh(H,Ir),mt=0,it=0;it<Ar;++it)for(var Wr=0;Wr<tr;++Wr)for(var mr=0;mr<Pr;++mr)Nr[mt++]=ce[ge*Wr+Ye*it+rr*mr+ar];Lc(H,Nr)}function ns(H,ce,ge,Ye,rr,ar){var tr;if(typeof Vn[H]!="undefined"?tr=Vn[H]:tr=Pa[H]*Eo[ce],ar&&(tr*=6),rr){for(var Ar=0,Pr=ge;Pr>=1;)Ar+=tr*Pr*Pr,Pr/=2;return Ar}else return tr*ge*Ye}function dd(H,ce,ge,Ye,rr,ar,tr){var Ar={"don't care":Pl,"dont care":Pl,nice:Cc,fast:Gp},Pr={repeat:qp,clamp:yu,mirror:fd},Ir={nearest:ts,linear:Sc},Nr=e({mipmap:Il,"nearest mipmap nearest":Ps,"linear mipmap nearest":Ff,"nearest mipmap linear":Os,"linear mipmap linear":Il},Ir),mt={none:0,browser:oh},it={uint8:Go,rgba4:sd,rgb565:Ac,"rgb5 a1":Bp},Wr={alpha:Sf,luminance:qo,"luminance alpha":es,rgb:nl,rgba:ki,rgba4:wc,"rgb5 a1":al,rgb565:Fs},mr={};ce.ext_srgb&&(Wr.srgb=il,Wr.srgba=Uo),ce.oes_texture_float&&(it.float32=it.float=$i),ce.oes_texture_half_float&&(it.float16=it["half float"]=Li),ce.webgl_depth_texture&&(e(Wr,{depth:Ds,"depth stencil":rs}),e(it,{uint16:Lf,uint32:gu,"depth stencil":rh})),ce.webgl_compressed_texture_s3tc&&e(mr,{"rgb s3tc dxt1":Cf,"rgba s3tc dxt1":Is,"rgba s3tc dxt3":Dl,"rgba s3tc dxt5":kf}),ce.webgl_compressed_texture_atc&&e(mr,{"rgb atc":th,"rgba atc explicit alpha":Tc,"rgba atc interpolated alpha":pu}),ce.webgl_compressed_texture_pvrtc&&e(mr,{"rgb pvrtc 4bppv1":nh,"rgb pvrtc 2bppv1":ah,"rgba pvrtc 4bppv1":Mc,"rgba pvrtc 2bppv1":ih}),ce.webgl_compressed_texture_etc1&&(mr["rgb etc1"]=Ec);var Oe=Array.prototype.slice.call(H.getParameter(Np));Object.keys(mr).forEach(function(he){var $e=mr[he];Oe.indexOf($e)>=0&&(Wr[he]=$e)});var ur=Object.keys(Wr);ge.textureFormats=ur;var Sr=[];Object.keys(Wr).forEach(function(he){var $e=Wr[he];Sr[$e]=he});var Dr=[];Object.keys(it).forEach(function(he){var $e=it[he];Dr[$e]=he});var br=[];Object.keys(Ir).forEach(function(he){var $e=Ir[he];br[$e]=he});var Xr=[];Object.keys(Nr).forEach(function(he){var $e=Nr[he];Xr[$e]=he});var Hr=[];Object.keys(Pr).forEach(function(he){var $e=Pr[he];Hr[$e]=he});var pt=ur.reduce(function(he,$e){var er=Wr[$e];return er===qo||er===Sf||er===qo||er===es||er===Ds||er===rs||ce.ext_srgb&&(er===il||er===Uo)?he[er]=er:er===al||$e.indexOf("rgba")>=0?he[er]=ki:he[er]=nl,he},{});function xr(){this.internalformat=ki,this.format=ki,this.type=Go,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=oh,this.width=0,this.height=0,this.channels=0}function yr(he,$e){he.internalformat=$e.internalformat,he.format=$e.format,he.type=$e.type,he.compressed=$e.compressed,he.premultiplyAlpha=$e.premultiplyAlpha,he.flipY=$e.flipY,he.unpackAlignment=$e.unpackAlignment,he.colorSpace=$e.colorSpace,he.width=$e.width,he.height=$e.height,he.channels=$e.channels}function Jr(he,$e){if(!(typeof $e!="object"||!$e)){if("premultiplyAlpha"in $e&&(he.premultiplyAlpha=$e.premultiplyAlpha),"flipY"in $e&&(he.flipY=$e.flipY),"alignment"in $e&&(he.unpackAlignment=$e.alignment),"colorSpace"in $e&&(he.colorSpace=mt[$e.colorSpace]),"type"in $e){var er=$e.type;he.type=it[er]}var st=he.width,Yt=he.height,on=he.channels,ot=!1;"shape"in $e?(st=$e.shape[0],Yt=$e.shape[1],$e.shape.length===3&&(on=$e.shape[2],ot=!0)):("radius"in $e&&(st=Yt=$e.radius),"width"in $e&&(st=$e.width),"height"in $e&&(Yt=$e.height),"channels"in $e&&(on=$e.channels,ot=!0)),he.width=st|0,he.height=Yt|0,he.channels=on|0;var ue=!1;if("format"in $e){var de=$e.format,_e=he.internalformat=Wr[de];he.format=pt[_e],de in it&&("type"in $e||(he.type=it[de])),de in mr&&(he.compressed=!0),ue=!0}!ot&&ue?he.channels=Pa[he.format]:ot&&!ue&&he.channels!==Ui[he.format]&&(he.format=he.internalformat=Ui[he.channels])}}function Gr(he){H.pixelStorei(Yp,he.flipY),H.pixelStorei(cd,he.premultiplyAlpha),H.pixelStorei(xu,he.colorSpace),H.pixelStorei(Vp,he.unpackAlignment)}function Br(){xr.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Ur(he,$e){var er=null;if(_u($e)?er=$e:$e&&(Jr(he,$e),"x"in $e&&(he.xOffset=$e.x|0),"y"in $e&&(he.yOffset=$e.y|0),_u($e.data)&&(er=$e.data)),$e.copy){var st=rr.viewportWidth,Yt=rr.viewportHeight;he.width=he.width||st-he.xOffset,he.height=he.height||Yt-he.yOffset,he.needsCopy=!0}else if(!er)he.width=he.width||1,he.height=he.height||1,he.channels=he.channels||4;else if(jr(er))he.channels=he.channels||4,he.data=er,!("type"in $e)&&he.type===Go&&(he.type=vh(er));else if(fh(er))he.channels=he.channels||4,Jp(he,er),he.alignment=1,he.needsFree=!0;else if(Or(er)){var on=er.data;!Array.isArray(on)&&he.type===Go&&(he.type=vh(on));var ot=er.shape,ue=er.stride,de,_e,Ze,ir,ze,Pe;ot.length===3?(Ze=ot[2],Pe=ue[2]):(Ze=1,Pe=1),de=ot[0],_e=ot[1],ir=ue[0],ze=ue[1],he.alignment=1,he.width=de,he.height=_e,he.channels=Ze,he.format=he.internalformat=Ui[Ze],he.needsFree=!0,vd(he,on,ir,ze,Pe,er.offset)}else if(ch(er)||hh(er)||Xp(er))ch(er)||hh(er)?he.element=er:he.element=er.canvas,he.width=he.element.width,he.height=he.element.height,he.channels=4;else if(jp(er))he.element=er,he.width=er.width,he.height=er.height,he.channels=4;else if(Zp(er))he.element=er,he.width=er.naturalWidth,he.height=er.naturalHeight,he.channels=4;else if($p(er))he.element=er,he.width=er.videoWidth,he.height=er.videoHeight,he.channels=4;else if(uh(er)){var Ce=he.width||er[0].length,me=he.height||er.length,Me=he.channels;qi(er[0][0])?Me=Me||er[0][0].length:Me=Me||1;for(var ye=qe.shape(er),Ve=1,cr=0;cr<ye.length;++cr)Ve*=ye[cr];var Cr=dh(he,Ve);qe.flatten(er,ye,"",Cr),Lc(he,Cr),he.alignment=1,he.width=Ce,he.height=me,he.channels=Me,he.format=he.internalformat=Ui[Me],he.needsFree=!0}he.type===$i||he.type}function Kr(he,$e,er){var st=he.element,Yt=he.data,on=he.internalformat,ot=he.format,ue=he.type,de=he.width,_e=he.height;Gr(he),st?H.texImage2D($e,er,ot,ot,ue,st):he.compressed?H.compressedTexImage2D($e,er,on,de,_e,0,Yt):he.needsCopy?(Ye(),H.copyTexImage2D($e,er,ot,he.xOffset,he.yOffset,de,_e,0)):H.texImage2D($e,er,ot,de,_e,0,ot,ue,Yt||null)}function gt(he,$e,er,st,Yt){var on=he.element,ot=he.data,ue=he.internalformat,de=he.format,_e=he.type,Ze=he.width,ir=he.height;Gr(he),on?H.texSubImage2D($e,Yt,er,st,de,_e,on):he.compressed?H.compressedTexSubImage2D($e,Yt,er,st,ue,Ze,ir,ot):he.needsCopy?(Ye(),H.copyTexSubImage2D($e,Yt,er,st,he.xOffset,he.yOffset,Ze,ir)):H.texSubImage2D($e,Yt,er,st,Ze,ir,de,_e,ot)}var St=[];function Vr(){return St.pop()||new Br}function nt(he){he.needsFree&&D.freeType(he.data),Br.call(he),St.push(he)}function Mt(){xr.call(this),this.genMipmaps=!1,this.mipmapHint=Pl,this.mipmask=0,this.images=Array(16)}function Et(he,$e,er){var st=he.images[0]=Vr();he.mipmask=1,st.width=he.width=$e,st.height=he.height=er,st.channels=he.channels=4}function zt(he,$e){var er=null;if(_u($e))er=he.images[0]=Vr(),yr(er,he),Ur(er,$e),he.mipmask=1;else if(Jr(he,$e),Array.isArray($e.mipmap))for(var st=$e.mipmap,Yt=0;Yt<st.length;++Yt)er=he.images[Yt]=Vr(),yr(er,he),er.width>>=Yt,er.height>>=Yt,Ur(er,st[Yt]),he.mipmask|=1<<Yt;else er=he.images[0]=Vr(),yr(er,he),Ur(er,$e),he.mipmask=1;yr(he,he.images[0]),he.compressed&&(he.internalformat===Cf||he.internalformat===Is||he.internalformat===Dl||he.internalformat)}function En(he,$e){for(var er=he.images,st=0;st<er.length;++st){if(!er[st])return;Kr(er[st],$e,st)}}var Wn=[];function Vt(){var he=Wn.pop()||new Mt;xr.call(he),he.mipmask=0;for(var $e=0;$e<16;++$e)he.images[$e]=null;return he}function ba(he){for(var $e=he.images,er=0;er<$e.length;++er)$e[er]&&nt($e[er]),$e[er]=null;Wn.push(he)}function an(){this.minFilter=ts,this.magFilter=ts,this.wrapS=yu,this.wrapT=yu,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Pl}function sa(he,$e){if("min"in $e){var er=$e.min;he.minFilter=Nr[er],hd.indexOf(he.minFilter)>=0&&!("faces"in $e)&&(he.genMipmaps=!0)}if("mag"in $e){var st=$e.mag;he.magFilter=Ir[st]}var Yt=he.wrapS,on=he.wrapT;if("wrap"in $e){var ot=$e.wrap;typeof ot=="string"?Yt=on=Pr[ot]:Array.isArray(ot)&&(Yt=Pr[ot[0]],on=Pr[ot[1]])}else{if("wrapS"in $e){var ue=$e.wrapS;Yt=Pr[ue]}if("wrapT"in $e){var de=$e.wrapT;on=Pr[de]}}if(he.wrapS=Yt,he.wrapT=on,"anisotropic"in $e){var _e=$e.anisotropic;he.anisotropic=$e.anisotropic}if("mipmap"in $e){var Ze=!1;switch(typeof $e.mipmap){case"string":he.mipmapHint=Ar[$e.mipmap],he.genMipmaps=!0,Ze=!0;break;case"boolean":Ze=he.genMipmaps=$e.mipmap;break;case"object":he.genMipmaps=!1,Ze=!0;break;default:}Ze&&!("min"in $e)&&(he.minFilter=Ps)}}function ha(he,$e){H.texParameteri($e,Up,he.minFilter),H.texParameteri($e,mu,he.magFilter),H.texParameteri($e,Rf,he.wrapS),H.texParameteri($e,zp,he.wrapT),ce.ext_texture_filter_anisotropic&&H.texParameteri($e,Hp,he.anisotropic),he.genMipmaps&&(H.hint(ud,he.mipmapHint),H.generateMipmap($e))}var _a=0,zn={},qn=ge.maxTextureUnits,Xn=Array(qn).map(function(){return null});function Ot(he){xr.call(this),this.mipmask=0,this.internalformat=ki,this.id=_a++,this.refCount=1,this.target=he,this.texture=H.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new an,tr.profile&&(this.stats={size:0})}function Jn(he){H.activeTexture(Ho),H.bindTexture(he.target,he.texture)}function un(){var he=Xn[0];he?H.bindTexture(he.target,he.texture):H.bindTexture(Ia,null)}function va(he){var $e=he.texture,er=he.unit,st=he.target;er>=0&&(H.activeTexture(Ho+er),H.bindTexture(st,null),Xn[er]=null),H.deleteTexture($e),he.texture=null,he.params=null,he.pixels=null,he.refCount=0,delete zn[he.id],ar.textureCount--}e(Ot.prototype,{bind:function(){var he=this;he.bindCount+=1;var $e=he.unit;if($e<0){for(var er=0;er<qn;++er){var st=Xn[er];if(st){if(st.bindCount>0)continue;st.unit=-1}Xn[er]=he,$e=er;break}$e>=qn,tr.profile&&ar.maxTextureUnits<$e+1&&(ar.maxTextureUnits=$e+1),he.unit=$e,H.activeTexture(Ho+$e),H.bindTexture(he.target,he.texture)}return $e},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&va(this)}});function wa(he,$e){var er=new Ot(Ia);zn[er.id]=er,ar.textureCount++;function st(ot,ue){var de=er.texInfo;an.call(de);var _e=Vt();return typeof ot=="number"?typeof ue=="number"?Et(_e,ot|0,ue|0):Et(_e,ot|0,ot|0):ot?(sa(de,ot),zt(_e,ot)):Et(_e,1,1),de.genMipmaps&&(_e.mipmask=(_e.width<<1)-1),er.mipmask=_e.mipmask,yr(er,_e),er.internalformat=_e.internalformat,st.width=_e.width,st.height=_e.height,Jn(er),En(_e,Ia),ha(de,Ia),un(),ba(_e),tr.profile&&(er.stats.size=ns(er.internalformat,er.type,_e.width,_e.height,de.genMipmaps,!1)),st.format=Sr[er.internalformat],st.type=Dr[er.type],st.mag=br[de.magFilter],st.min=Xr[de.minFilter],st.wrapS=Hr[de.wrapS],st.wrapT=Hr[de.wrapT],st}function Yt(ot,ue,de,_e){var Ze=ue|0,ir=de|0,ze=_e|0,Pe=Vr();return yr(Pe,er),Pe.width=0,Pe.height=0,Ur(Pe,ot),Pe.width=Pe.width||(er.width>>ze)-Ze,Pe.height=Pe.height||(er.height>>ze)-ir,Jn(er),gt(Pe,Ia,Ze,ir,ze),un(),nt(Pe),st}function on(ot,ue){var de=ot|0,_e=ue|0||de;if(de===er.width&&_e===er.height)return st;st.width=er.width=de,st.height=er.height=_e,Jn(er);for(var Ze=0;er.mipmask>>Ze;++Ze){var ir=de>>Ze,ze=_e>>Ze;if(!ir||!ze)break;H.texImage2D(Ia,Ze,er.format,ir,ze,0,er.format,er.type,null)}return un(),tr.profile&&(er.stats.size=ns(er.internalformat,er.type,de,_e,!1,!1)),st}return st(he,$e),st.subimage=Yt,st.resize=on,st._reglType="texture2d",st._texture=er,tr.profile&&(st.stats=er.stats),st.destroy=function(){er.decRef()},st}function Aa(he,$e,er,st,Yt,on){var ot=new Ot(Ql);zn[ot.id]=ot,ar.cubeCount++;var ue=new Array(6);function de(ir,ze,Pe,Ce,me,Me){var ye,Ve=ot.texInfo;for(an.call(Ve),ye=0;ye<6;++ye)ue[ye]=Vt();if(typeof ir=="number"||!ir){var cr=ir|0||1;for(ye=0;ye<6;++ye)Et(ue[ye],cr,cr)}else if(typeof ir=="object")if(ze)zt(ue[0],ir),zt(ue[1],ze),zt(ue[2],Pe),zt(ue[3],Ce),zt(ue[4],me),zt(ue[5],Me);else if(sa(Ve,ir),Jr(ot,ir),"faces"in ir){var Cr=ir.faces;for(ye=0;ye<6;++ye)yr(ue[ye],ot),zt(ue[ye],Cr[ye])}else for(ye=0;ye<6;++ye)zt(ue[ye],ir);for(yr(ot,ue[0]),Ve.genMipmaps?ot.mipmask=(ue[0].width<<1)-1:ot.mipmask=ue[0].mipmask,ot.internalformat=ue[0].internalformat,de.width=ue[0].width,de.height=ue[0].height,Jn(ot),ye=0;ye<6;++ye)En(ue[ye],tl+ye);for(ha(Ve,Ql),un(),tr.profile&&(ot.stats.size=ns(ot.internalformat,ot.type,de.width,de.height,Ve.genMipmaps,!0)),de.format=Sr[ot.internalformat],de.type=Dr[ot.type],de.mag=br[Ve.magFilter],de.min=Xr[Ve.minFilter],de.wrapS=Hr[Ve.wrapS],de.wrapT=Hr[Ve.wrapT],ye=0;ye<6;++ye)ba(ue[ye]);return de}function _e(ir,ze,Pe,Ce,me){var Me=Pe|0,ye=Ce|0,Ve=me|0,cr=Vr();return yr(cr,ot),cr.width=0,cr.height=0,Ur(cr,ze),cr.width=cr.width||(ot.width>>Ve)-Me,cr.height=cr.height||(ot.height>>Ve)-ye,Jn(ot),gt(cr,tl+ir,Me,ye,Ve),un(),nt(cr),de}function Ze(ir){var ze=ir|0;if(ze!==ot.width){de.width=ot.width=ze,de.height=ot.height=ze,Jn(ot);for(var Pe=0;Pe<6;++Pe)for(var Ce=0;ot.mipmask>>Ce;++Ce)H.texImage2D(tl+Pe,Ce,ot.format,ze>>Ce,ze>>Ce,0,ot.format,ot.type,null);return un(),tr.profile&&(ot.stats.size=ns(ot.internalformat,ot.type,de.width,de.height,!1,!0)),de}}return de(he,$e,er,st,Yt,on),de.subimage=_e,de.resize=Ze,de._reglType="textureCube",de._texture=ot,tr.profile&&(de.stats=ot.stats),de.destroy=function(){ot.decRef()},de}function Lt(){for(var he=0;he<qn;++he)H.activeTexture(Ho+he),H.bindTexture(Ia,null),Xn[he]=null;_r(zn).forEach(va),ar.cubeCount=0,ar.textureCount=0}tr.profile&&(ar.getTotalTextureSize=function(){var he=0;return Object.keys(zn).forEach(function($e){he+=zn[$e].stats.size}),he});function Xt(){for(var he=0;he<qn;++he){var $e=Xn[he];$e&&($e.bindCount=0,$e.unit=-1,Xn[he]=null)}_r(zn).forEach(function(er){er.texture=H.createTexture(),H.bindTexture(er.target,er.texture);for(var st=0;st<32;++st)if((er.mipmask&1<<st)!==0)if(er.target===Ia)H.texImage2D(Ia,st,er.internalformat,er.width>>st,er.height>>st,0,er.internalformat,er.type,null);else for(var Yt=0;Yt<6;++Yt)H.texImage2D(tl+Yt,st,er.internalformat,er.width>>st,er.height>>st,0,er.internalformat,er.type,null);ha(er.texInfo,er.target)})}function yn(){for(var he=0;he<qn;++he){var $e=Xn[he];$e&&($e.bindCount=0,$e.unit=-1,Xn[he]=null),H.activeTexture(Ho+he),H.bindTexture(Ia,null),H.bindTexture(Ql,null)}}return{create2D:wa,createCube:Aa,clear:Lt,getTexture:function(he){return null},restore:Xt,refresh:yn}}var Gi=36161,Ns=32854,as=32855,ph=36194,gh=33189,yh=36168,mh=34041,Rc=35907,xh=34836,bh=34842,_h=34843,Oa=[];Oa[Ns]=2,Oa[as]=2,Oa[ph]=2,Oa[gh]=2,Oa[yh]=1,Oa[mh]=4,Oa[Rc]=4,Oa[xh]=16,Oa[bh]=8,Oa[_h]=6;function wh(H,ce,ge){return Oa[H]*ce*ge}var Kp=function(H,ce,ge,Ye,rr){var ar={rgba4:Ns,rgb565:ph,"rgb5 a1":as,depth:gh,stencil:yh,"depth stencil":mh};ce.ext_srgb&&(ar.srgba=Rc),ce.ext_color_buffer_half_float&&(ar.rgba16f=bh,ar.rgb16f=_h),ce.webgl_color_buffer_float&&(ar.rgba32f=xh);var tr=[];Object.keys(ar).forEach(function(Wr){var mr=ar[Wr];tr[mr]=Wr});var Ar=0,Pr={};function Ir(Wr){this.id=Ar++,this.refCount=1,this.renderbuffer=Wr,this.format=Ns,this.width=0,this.height=0,rr.profile&&(this.stats={size:0})}Ir.prototype.decRef=function(){--this.refCount<=0&&Nr(this)};function Nr(Wr){var mr=Wr.renderbuffer;H.bindRenderbuffer(Gi,null),H.deleteRenderbuffer(mr),Wr.renderbuffer=null,Wr.refCount=0,delete Pr[Wr.id],Ye.renderbufferCount--}function mt(Wr,mr){var Oe=new Ir(H.createRenderbuffer());Pr[Oe.id]=Oe,Ye.renderbufferCount++;function ur(Dr,br){var Xr=0,Hr=0,pt=Ns;if(typeof Dr=="object"&&Dr){var xr=Dr;if("shape"in xr){var yr=xr.shape;Xr=yr[0]|0,Hr=yr[1]|0}else"radius"in xr&&(Xr=Hr=xr.radius|0),"width"in xr&&(Xr=xr.width|0),"height"in xr&&(Hr=xr.height|0);"format"in xr&&(pt=ar[xr.format])}else typeof Dr=="number"?(Xr=Dr|0,typeof br=="number"?Hr=br|0:Hr=Xr):Dr||(Xr=Hr=1);if(!(Xr===Oe.width&&Hr===Oe.height&&pt===Oe.format))return ur.width=Oe.width=Xr,ur.height=Oe.height=Hr,Oe.format=pt,H.bindRenderbuffer(Gi,Oe.renderbuffer),H.renderbufferStorage(Gi,pt,Xr,Hr),rr.profile&&(Oe.stats.size=wh(Oe.format,Oe.width,Oe.height)),ur.format=tr[Oe.format],ur}function Sr(Dr,br){var Xr=Dr|0,Hr=br|0||Xr;return Xr===Oe.width&&Hr===Oe.height||(ur.width=Oe.width=Xr,ur.height=Oe.height=Hr,H.bindRenderbuffer(Gi,Oe.renderbuffer),H.renderbufferStorage(Gi,Oe.format,Xr,Hr),rr.profile&&(Oe.stats.size=wh(Oe.format,Oe.width,Oe.height))),ur}return ur(Wr,mr),ur.resize=Sr,ur._reglType="renderbuffer",ur._renderbuffer=Oe,rr.profile&&(ur.stats=Oe.stats),ur.destroy=function(){Oe.decRef()},ur}rr.profile&&(Ye.getTotalRenderbufferSize=function(){var Wr=0;return Object.keys(Pr).forEach(function(mr){Wr+=Pr[mr].stats.size}),Wr});function it(){_r(Pr).forEach(function(Wr){Wr.renderbuffer=H.createRenderbuffer(),H.bindRenderbuffer(Gi,Wr.renderbuffer),H.renderbufferStorage(Gi,Wr.format,Wr.width,Wr.height)}),H.bindRenderbuffer(Gi,null)}return{create:mt,clear:function(){_r(Pr).forEach(Nr)},restore:it}},bi=36160,wu=36161,Vo=3553,Fc=34069,Ah=36064,Th=36096,Mh=36128,Bs=33306,Au=36053,ol=36193,Qp=5121,eg=5126,rg=6407,tg=6408,If=[];If[tg]=4,If[rg]=3;var zs=[];zs[Qp]=1,zs[eg]=4,zs[ol]=2;function ng(H,ce,ge,Ye,rr,ar){var tr={cur:null,next:null,dirty:!1,setFBO:null},Ar=["rgba"],Pr=["rgba4","rgb565","rgb5 a1"];ce.ext_srgb&&Pr.push("srgba"),ce.ext_color_buffer_half_float&&Pr.push("rgba16f","rgb16f"),ce.webgl_color_buffer_float&&Pr.push("rgba32f");var Ir=["uint8"];ce.oes_texture_half_float&&Ir.push("half float","float16"),ce.oes_texture_float&&Ir.push("float","float32");function Nr(Br,Ur,Kr){this.target=Br,this.texture=Ur,this.renderbuffer=Kr;var gt=0,St=0;Ur?(gt=Ur.width,St=Ur.height):Kr&&(gt=Kr.width,St=Kr.height),this.width=gt,this.height=St}function mt(Br){Br&&(Br.texture&&Br.texture._texture.decRef(),Br.renderbuffer&&Br.renderbuffer._renderbuffer.decRef())}function it(Br,Ur,Kr){if(Br)if(Br.texture){var gt=Br.texture._texture,St=Math.max(1,gt.width),Vr=Math.max(1,gt.height);gt.refCount+=1}else{var nt=Br.renderbuffer._renderbuffer;nt.refCount+=1}}function Wr(Br,Ur){Ur&&(Ur.texture?H.framebufferTexture2D(bi,Br,Ur.target,Ur.texture._texture.texture,0):H.framebufferRenderbuffer(bi,Br,wu,Ur.renderbuffer._renderbuffer.renderbuffer))}function mr(Br){var Ur=Vo,Kr=null,gt=null,St=Br;typeof Br=="object"&&(St=Br.data,"target"in Br&&(Ur=Br.target|0));var Vr=St._reglType;return Vr==="texture2d"||Vr==="textureCube"?Kr=St:Vr==="renderbuffer"&&(gt=St,Ur=wu),new Nr(Ur,Kr,gt)}function Oe(Br,Ur,Kr,gt,St){if(Kr){var Vr=Ye.create2D({width:Br,height:Ur,format:gt,type:St});return Vr._texture.refCount=0,new Nr(Vo,Vr,null)}else{var nt=rr.create({width:Br,height:Ur,format:gt});return nt._renderbuffer.refCount=0,new Nr(wu,null,nt)}}function ur(Br){return Br&&(Br.texture||Br.renderbuffer)}function Sr(Br,Ur,Kr){Br&&(Br.texture?Br.texture.resize(Ur,Kr):Br.renderbuffer&&Br.renderbuffer.resize(Ur,Kr),Br.width=Ur,Br.height=Kr)}var Dr=0,br={};function Xr(){this.id=Dr++,br[this.id]=this,this.framebuffer=H.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Hr(Br){Br.colorAttachments.forEach(mt),mt(Br.depthAttachment),mt(Br.stencilAttachment),mt(Br.depthStencilAttachment)}function pt(Br){var Ur=Br.framebuffer;H.deleteFramebuffer(Ur),Br.framebuffer=null,ar.framebufferCount--,delete br[Br.id]}function xr(Br){var Ur;H.bindFramebuffer(bi,Br.framebuffer);var Kr=Br.colorAttachments;for(Ur=0;Ur<Kr.length;++Ur)Wr(Ah+Ur,Kr[Ur]);for(Ur=Kr.length;Ur<ge.maxColorAttachments;++Ur)H.framebufferTexture2D(bi,Ah+Ur,Vo,null,0);H.framebufferTexture2D(bi,Bs,Vo,null,0),H.framebufferTexture2D(bi,Th,Vo,null,0),H.framebufferTexture2D(bi,Mh,Vo,null,0),Wr(Th,Br.depthAttachment),Wr(Mh,Br.stencilAttachment),Wr(Bs,Br.depthStencilAttachment);var gt=H.checkFramebufferStatus(bi);H.isContextLost(),H.bindFramebuffer(bi,tr.next?tr.next.framebuffer:null),tr.cur=tr.next,H.getError()}function yr(Br,Ur){var Kr=new Xr;ar.framebufferCount++;function gt(Vr,nt){var Mt,Et=0,zt=0,En=!0,Wn=!0,Vt=null,ba=!0,an="rgba",sa="uint8",ha=1,_a=null,zn=null,qn=null,Xn=!1;if(typeof Vr=="number")Et=Vr|0,zt=nt|0||Et;else if(!Vr)Et=zt=1;else{var Ot=Vr;if("shape"in Ot){var Jn=Ot.shape;Et=Jn[0],zt=Jn[1]}else"radius"in Ot&&(Et=zt=Ot.radius),"width"in Ot&&(Et=Ot.width),"height"in Ot&&(zt=Ot.height);("color"in Ot||"colors"in Ot)&&(Vt=Ot.color||Ot.colors,Array.isArray(Vt)),Vt||("colorCount"in Ot&&(ha=Ot.colorCount|0),"colorTexture"in Ot&&(ba=!!Ot.colorTexture,an="rgba4"),"colorType"in Ot&&(sa=Ot.colorType,ba||(sa==="half float"||sa==="float16"?an="rgba16f":(sa==="float"||sa==="float32")&&(an="rgba32f"))),"colorFormat"in Ot&&(an=Ot.colorFormat,Ar.indexOf(an)>=0?ba=!0:Pr.indexOf(an)>=0&&(ba=!1))),("depthTexture"in Ot||"depthStencilTexture"in Ot)&&(Xn=!!(Ot.depthTexture||Ot.depthStencilTexture)),"depth"in Ot&&(typeof Ot.depth=="boolean"?En=Ot.depth:(_a=Ot.depth,Wn=!1)),"stencil"in Ot&&(typeof Ot.stencil=="boolean"?Wn=Ot.stencil:(zn=Ot.stencil,En=!1)),"depthStencil"in Ot&&(typeof Ot.depthStencil=="boolean"?En=Wn=Ot.depthStencil:(qn=Ot.depthStencil,En=!1,Wn=!1))}var un=null,va=null,wa=null,Aa=null;if(Array.isArray(Vt))un=Vt.map(mr);else if(Vt)un=[mr(Vt)];else for(un=new Array(ha),Mt=0;Mt<ha;++Mt)un[Mt]=Oe(Et,zt,ba,an,sa);Et=Et||un[0].width,zt=zt||un[0].height,_a?va=mr(_a):En&&!Wn&&(va=Oe(Et,zt,Xn,"depth","uint32")),zn?wa=mr(zn):Wn&&!En&&(wa=Oe(Et,zt,!1,"stencil","uint8")),qn?Aa=mr(qn):!_a&&!zn&&Wn&&En&&(Aa=Oe(Et,zt,Xn,"depth stencil","depth stencil"));var Lt=null;for(Mt=0;Mt<un.length;++Mt)if(it(un[Mt],Et,zt),un[Mt]&&un[Mt].texture){var Xt=If[un[Mt].texture._texture.format]*zs[un[Mt].texture._texture.type];Lt===null&&(Lt=Xt)}return it(va,Et,zt),it(wa,Et,zt),it(Aa,Et,zt),Hr(Kr),Kr.width=Et,Kr.height=zt,Kr.colorAttachments=un,Kr.depthAttachment=va,Kr.stencilAttachment=wa,Kr.depthStencilAttachment=Aa,gt.color=un.map(ur),gt.depth=ur(va),gt.stencil=ur(wa),gt.depthStencil=ur(Aa),gt.width=Kr.width,gt.height=Kr.height,xr(Kr),gt}function St(Vr,nt){var Mt=Math.max(Vr|0,1),Et=Math.max(nt|0||Mt,1);if(Mt===Kr.width&&Et===Kr.height)return gt;for(var zt=Kr.colorAttachments,En=0;En<zt.length;++En)Sr(zt[En],Mt,Et);return Sr(Kr.depthAttachment,Mt,Et),Sr(Kr.stencilAttachment,Mt,Et),Sr(Kr.depthStencilAttachment,Mt,Et),Kr.width=gt.width=Mt,Kr.height=gt.height=Et,xr(Kr),gt}return gt(Br,Ur),e(gt,{resize:St,_reglType:"framebuffer",_framebuffer:Kr,destroy:function(){pt(Kr),Hr(Kr)},use:function(Vr){tr.setFBO({framebuffer:gt},Vr)}})}function Jr(Br){var Ur=Array(6);function Kr(St){var Vr,nt={color:null},Mt=0,Et=null,zt="rgba",En="uint8",Wn=1;if(typeof St=="number")Mt=St|0;else if(!St)Mt=1;else{var Vt=St;if("shape"in Vt){var ba=Vt.shape;Mt=ba[0]}else"radius"in Vt&&(Mt=Vt.radius|0),"width"in Vt?(Mt=Vt.width|0,"height"in Vt):"height"in Vt&&(Mt=Vt.height|0);("color"in Vt||"colors"in Vt)&&(Et=Vt.color||Vt.colors,Array.isArray(Et)),Et||("colorCount"in Vt&&(Wn=Vt.colorCount|0),"colorType"in Vt&&(En=Vt.colorType),"colorFormat"in Vt&&(zt=Vt.colorFormat)),"depth"in Vt&&(nt.depth=Vt.depth),"stencil"in Vt&&(nt.stencil=Vt.stencil),"depthStencil"in Vt&&(nt.depthStencil=Vt.depthStencil)}var an;if(Et)if(Array.isArray(Et))for(an=[],Vr=0;Vr<Et.length;++Vr)an[Vr]=Et[Vr];else an=[Et];else{an=Array(Wn);var sa={radius:Mt,format:zt,type:En};for(Vr=0;Vr<Wn;++Vr)an[Vr]=Ye.createCube(sa)}for(nt.color=Array(an.length),Vr=0;Vr<an.length;++Vr){var ha=an[Vr];Mt=Mt||ha.width,nt.color[Vr]={target:Fc,data:an[Vr]}}for(Vr=0;Vr<6;++Vr){for(var _a=0;_a<an.length;++_a)nt.color[_a].target=Fc+Vr;Vr>0&&(nt.depth=Ur[0].depth,nt.stencil=Ur[0].stencil,nt.depthStencil=Ur[0].depthStencil),Ur[Vr]?Ur[Vr](nt):Ur[Vr]=yr(nt)}return e(Kr,{width:Mt,height:Mt,color:an})}function gt(St){var Vr,nt=St|0;if(nt===Kr.width)return Kr;var Mt=Kr.color;for(Vr=0;Vr<Mt.length;++Vr)Mt[Vr].resize(nt);for(Vr=0;Vr<6;++Vr)Ur[Vr].resize(nt);return Kr.width=Kr.height=nt,Kr}return Kr(Br),e(Kr,{faces:Ur,resize:gt,_reglType:"framebufferCube",destroy:function(){Ur.forEach(function(St){St.destroy()})}})}function Gr(){tr.cur=null,tr.next=null,tr.dirty=!0,_r(br).forEach(function(Br){Br.framebuffer=H.createFramebuffer(),xr(Br)})}return e(tr,{getFramebuffer:function(Br){if(typeof Br=="function"&&Br._reglType==="framebuffer"){var Ur=Br._framebuffer;if(Ur instanceof Xr)return Ur}return null},create:yr,createCube:Jr,clear:function(){_r(br).forEach(pt)},restore:Gr})}var ag=5126,Eh=34962,qs=34963;function Us(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=ag,this.offset=0,this.stride=0,this.divisor=0}function Sh(H,ce,ge,Ye,rr,ar,tr){for(var Ar=ge.maxAttributes,Pr=new Array(Ar),Ir=0;Ir<Ar;++Ir)Pr[Ir]=new Us;var Nr=0,mt={},it={Record:Us,scope:{},state:Pr,currentVAO:null,targetVAO:null,restore:mr()?Hr:function(){},createVAO:pt,getVAO:ur,destroyBuffer:Wr,setVAO:mr()?Sr:Dr,clear:mr()?br:function(){}};function Wr(xr){for(var yr=0;yr<Pr.length;++yr){var Jr=Pr[yr];Jr.buffer===xr&&(H.disableVertexAttribArray(yr),Jr.buffer=null)}}function mr(){return ce.oes_vertex_array_object}function Oe(){return ce.angle_instanced_arrays}function ur(xr){return typeof xr=="function"&&xr._vao?xr._vao:null}function Sr(xr){if(xr!==it.currentVAO){var yr=mr();xr?yr.bindVertexArrayOES(xr.vao):yr.bindVertexArrayOES(null),it.currentVAO=xr}}function Dr(xr){if(xr!==it.currentVAO){if(xr)xr.bindAttrs();else{for(var yr=Oe(),Jr=0;Jr<Pr.length;++Jr){var Gr=Pr[Jr];Gr.buffer?(H.enableVertexAttribArray(Jr),Gr.buffer.bind(),H.vertexAttribPointer(Jr,Gr.size,Gr.type,Gr.normalized,Gr.stride,Gr.offfset),yr&&Gr.divisor&&yr.vertexAttribDivisorANGLE(Jr,Gr.divisor)):(H.disableVertexAttribArray(Jr),H.vertexAttrib4f(Jr,Gr.x,Gr.y,Gr.z,Gr.w))}tr.elements?H.bindBuffer(qs,tr.elements.buffer.buffer):H.bindBuffer(qs,null)}it.currentVAO=xr}}function br(){_r(mt).forEach(function(xr){xr.destroy()})}function Xr(){this.id=++Nr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var xr=mr();xr?this.vao=xr.createVertexArrayOES():this.vao=null,mt[this.id]=this,this.buffers=[]}Xr.prototype.bindAttrs=function(){for(var xr=Oe(),yr=this.attributes,Jr=0;Jr<yr.length;++Jr){var Gr=yr[Jr];Gr.buffer?(H.enableVertexAttribArray(Jr),H.bindBuffer(Eh,Gr.buffer.buffer),H.vertexAttribPointer(Jr,Gr.size,Gr.type,Gr.normalized,Gr.stride,Gr.offset),xr&&Gr.divisor&&xr.vertexAttribDivisorANGLE(Jr,Gr.divisor)):(H.disableVertexAttribArray(Jr),H.vertexAttrib4f(Jr,Gr.x,Gr.y,Gr.z,Gr.w))}for(var Br=yr.length;Br<Ar;++Br)H.disableVertexAttribArray(Br);var Ur=ar.getElements(this.elements);Ur?H.bindBuffer(qs,Ur.buffer.buffer):H.bindBuffer(qs,null)},Xr.prototype.refresh=function(){var xr=mr();xr&&(xr.bindVertexArrayOES(this.vao),this.bindAttrs(),it.currentVAO=null,xr.bindVertexArrayOES(null))},Xr.prototype.destroy=function(){if(this.vao){var xr=mr();this===it.currentVAO&&(it.currentVAO=null,xr.bindVertexArrayOES(null)),xr.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),mt[this.id]&&(delete mt[this.id],Ye.vaoCount-=1)};function Hr(){var xr=mr();xr&&_r(mt).forEach(function(yr){yr.refresh()})}function pt(xr){var yr=new Xr;Ye.vaoCount+=1;function Jr(Gr){var Br;if(Array.isArray(Gr))Br=Gr,yr.elements&&yr.ownsElements&&yr.elements.destroy(),yr.elements=null,yr.ownsElements=!1,yr.offset=0,yr.count=0,yr.instances=-1,yr.primitive=4;else{if(Gr.elements){var Ur=Gr.elements;yr.ownsElements?typeof Ur=="function"&&Ur._reglType==="elements"?(yr.elements.destroy(),yr.ownsElements=!1):(yr.elements(Ur),yr.ownsElements=!1):ar.getElements(Gr.elements)?(yr.elements=Gr.elements,yr.ownsElements=!1):(yr.elements=ar.create(Gr.elements),yr.ownsElements=!0)}else yr.elements=null,yr.ownsElements=!1;Br=Gr.attributes,yr.offset=0,yr.count=-1,yr.instances=-1,yr.primitive=4,yr.elements&&(yr.count=yr.elements._elements.vertCount,yr.primitive=yr.elements._elements.primType),"offset"in Gr&&(yr.offset=Gr.offset|0),"count"in Gr&&(yr.count=Gr.count|0),"instances"in Gr&&(yr.instances=Gr.instances|0),"primitive"in Gr&&(yr.primitive=Ci[Gr.primitive])}var Kr={},gt=yr.attributes;gt.length=Br.length;for(var St=0;St<Br.length;++St){var Vr=Br[St],nt=gt[St]=new Us,Mt=Vr.data||Vr;if(Array.isArray(Mt)||jr(Mt)||Or(Mt)){var Et;yr.buffers[St]&&(Et=yr.buffers[St],jr(Mt)&&Et._buffer.byteLength>=Mt.byteLength?Et.subdata(Mt):(Et.destroy(),yr.buffers[St]=null)),yr.buffers[St]||(Et=yr.buffers[St]=rr.create(Vr,Eh,!1,!0)),nt.buffer=rr.getBuffer(Et),nt.size=nt.buffer.dimension|0,nt.normalized=!1,nt.type=nt.buffer.dtype,nt.offset=0,nt.stride=0,nt.divisor=0,nt.state=1,Kr[St]=1}else rr.getBuffer(Vr)?(nt.buffer=rr.getBuffer(Vr),nt.size=nt.buffer.dimension|0,nt.normalized=!1,nt.type=nt.buffer.dtype,nt.offset=0,nt.stride=0,nt.divisor=0,nt.state=1):rr.getBuffer(Vr.buffer)?(nt.buffer=rr.getBuffer(Vr.buffer),nt.size=(+Vr.size||nt.buffer.dimension)|0,nt.normalized=!!Vr.normalized||!1,"type"in Vr?nt.type=dt[Vr.type]:nt.type=nt.buffer.dtype,nt.offset=(Vr.offset||0)|0,nt.stride=(Vr.stride||0)|0,nt.divisor=(Vr.divisor||0)|0,nt.state=1):"x"in Vr&&(nt.x=+Vr.x||0,nt.y=+Vr.y||0,nt.z=+Vr.z||0,nt.w=+Vr.w||0,nt.state=2)}for(var zt=0;zt<yr.buffers.length;++zt)!Kr[zt]&&yr.buffers[zt]&&(yr.buffers[zt].destroy(),yr.buffers[zt]=null);return yr.refresh(),Jr}return Jr.destroy=function(){for(var Gr=0;Gr<yr.buffers.length;++Gr)yr.buffers[Gr]&&yr.buffers[Gr].destroy();yr.buffers.length=0,yr.ownsElements&&(yr.elements.destroy(),yr.elements=null,yr.ownsElements=!1),yr.destroy()},Jr._vao=yr,Jr._reglType="vao",Jr(xr)}return it}var Ch=35632,ig=35633,og=35718,lg=35721;function pd(H,ce,ge,Ye){var rr={},ar={};function tr(Oe,ur,Sr,Dr){this.name=Oe,this.id=ur,this.location=Sr,this.info=Dr}function Ar(Oe,ur){for(var Sr=0;Sr<Oe.length;++Sr)if(Oe[Sr].id===ur.id){Oe[Sr].location=ur.location;return}Oe.push(ur)}function Pr(Oe,ur,Sr){var Dr=Oe===Ch?rr:ar,br=Dr[ur];if(!br){var Xr=ce.str(ur);br=H.createShader(Oe),H.shaderSource(br,Xr),H.compileShader(br),Dr[ur]=br}return br}var Ir={},Nr=[],mt=0;function it(Oe,ur){this.id=mt++,this.fragId=Oe,this.vertId=ur,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Ye.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Wr(Oe,ur,Sr){var Dr,br,Xr=Pr(Ch,Oe.fragId),Hr=Pr(ig,Oe.vertId),pt=Oe.program=H.createProgram();if(H.attachShader(pt,Xr),H.attachShader(pt,Hr),Sr)for(Dr=0;Dr<Sr.length;++Dr){var xr=Sr[Dr];H.bindAttribLocation(pt,xr[0],xr[1])}H.linkProgram(pt);var yr=H.getProgramParameter(pt,og);Ye.profile&&(Oe.stats.uniformsCount=yr);var Jr=Oe.uniforms;for(Dr=0;Dr<yr;++Dr)if(br=H.getActiveUniform(pt,Dr),br)if(br.size>1)for(var Gr=0;Gr<br.size;++Gr){var Br=br.name.replace("[0]","["+Gr+"]");Ar(Jr,new tr(Br,ce.id(Br),H.getUniformLocation(pt,Br),br))}else Ar(Jr,new tr(br.name,ce.id(br.name),H.getUniformLocation(pt,br.name),br));var Ur=H.getProgramParameter(pt,lg);Ye.profile&&(Oe.stats.attributesCount=Ur);var Kr=Oe.attributes;for(Dr=0;Dr<Ur;++Dr)br=H.getActiveAttrib(pt,Dr),br&&Ar(Kr,new tr(br.name,ce.id(br.name),H.getAttribLocation(pt,br.name),br))}Ye.profile&&(ge.getMaxUniformsCount=function(){var Oe=0;return Nr.forEach(function(ur){ur.stats.uniformsCount>Oe&&(Oe=ur.stats.uniformsCount)}),Oe},ge.getMaxAttributesCount=function(){var Oe=0;return Nr.forEach(function(ur){ur.stats.attributesCount>Oe&&(Oe=ur.stats.attributesCount)}),Oe});function mr(){rr={},ar={};for(var Oe=0;Oe<Nr.length;++Oe)Wr(Nr[Oe],null,Nr[Oe].attributes.map(function(ur){return[ur.location,ur.name]}))}return{clear:function(){var Oe=H.deleteShader.bind(H);_r(rr).forEach(Oe),rr={},_r(ar).forEach(Oe),ar={},Nr.forEach(function(ur){H.deleteProgram(ur.program)}),Nr.length=0,Ir={},ge.shaderCount=0},program:function(Oe,ur,Sr,Dr){var br=Ir[ur];br||(br=Ir[ur]={});var Xr=br[Oe];if(Xr&&(Xr.refCount++,!Dr))return Xr;var Hr=new it(ur,Oe);return ge.shaderCount++,Wr(Hr,Sr,Dr),Xr||(br[Oe]=Hr),Nr.push(Hr),e(Hr,{destroy:function(){if(Hr.refCount--,Hr.refCount<=0){H.deleteProgram(Hr.program);var pt=Nr.indexOf(Hr);Nr.splice(pt,1),ge.shaderCount--}br[Hr.vertId].refCount<=0&&(H.deleteShader(ar[Hr.vertId]),delete ar[Hr.vertId],delete Ir[Hr.fragId][Hr.vertId]),Object.keys(Ir[Hr.fragId]).length||(H.deleteShader(rr[Hr.fragId]),delete rr[Hr.fragId],delete Ir[Hr.fragId])}})},restore:mr,shader:Pr,frag:-1,vert:-1}}var sg=6408,Tu=5121,kh=3333,Dc=5126;function gd(H,ce,ge,Ye,rr,ar,tr){function Ar(Nr){var mt;ce.next===null?mt=Tu:mt=ce.next.colorAttachments[0].texture._texture.type;var it=0,Wr=0,mr=Ye.framebufferWidth,Oe=Ye.framebufferHeight,ur=null;jr(Nr)?ur=Nr:Nr&&(it=Nr.x|0,Wr=Nr.y|0,mr=(Nr.width||Ye.framebufferWidth-it)|0,Oe=(Nr.height||Ye.framebufferHeight-Wr)|0,ur=Nr.data||null),ge();var Sr=mr*Oe*4;return ur||(mt===Tu?ur=new Uint8Array(Sr):mt===Dc&&(ur=ur||new Float32Array(Sr))),H.pixelStorei(kh,4),H.readPixels(it,Wr,mr,Oe,sg,mt,ur),ur}function Pr(Nr){var mt;return ce.setFBO({framebuffer:Nr.framebuffer},function(){mt=Ar(Nr)}),mt}function Ir(Nr){return!Nr||!("framebuffer"in Nr)?Ar(Nr):Pr(Nr)}return Ir}var yd=0,fg="";function ug(H){return xd(md(vg(H)))}function md(H){return Lh(Nl(Mu(H),H.length*8))}function b2(H,ce){var ge=Mu(H);ge.length>16&&(ge=Nl(ge,H.length*8));for(var Ye=Array(16),rr=Array(16),ar=0;ar<16;ar++)Ye[ar]=ge[ar]^909522486,rr[ar]=ge[ar]^1549556828;var tr=Nl(Ye.concat(Mu(ce)),512+ce.length*8);return Lh(Nl(rr.concat(tr),768))}function xd(H){for(var ce=yd?"0123456789ABCDEF":"0123456789abcdef",ge="",Ye,rr=0;rr<H.length;rr++)Ye=H.charCodeAt(rr),ge+=ce.charAt(Ye>>>4&15)+ce.charAt(Ye&15);return ge}function cg(H){for(var ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ge="",Ye=H.length,rr=0;rr<Ye;rr+=3)for(var ar=H.charCodeAt(rr)<<16|(rr+1<Ye?H.charCodeAt(rr+1)<<8:0)|(rr+2<Ye?H.charCodeAt(rr+2):0),tr=0;tr<4;tr++)rr*8+tr*6>H.length*8?ge+=fg:ge+=ce.charAt(ar>>>6*(3-tr)&63);return ge}function hg(H,ce){var ge=ce.length,Ye=Array(),rr,ar,tr,Ar,Pr=Array(Math.ceil(H.length/2));for(rr=0;rr<Pr.length;rr++)Pr[rr]=H.charCodeAt(rr*2)<<8|H.charCodeAt(rr*2+1);for(;Pr.length>0;){for(Ar=Array(),tr=0,rr=0;rr<Pr.length;rr++)tr=(tr<<16)+Pr[rr],ar=Math.floor(tr/ge),tr-=ar*ge,(Ar.length>0||ar>0)&&(Ar[Ar.length]=ar);Ye[Ye.length]=tr,Pr=Ar}var Ir="";for(rr=Ye.length-1;rr>=0;rr--)Ir+=ce.charAt(Ye[rr]);var Nr=Math.ceil(H.length*8/(Math.log(ce.length)/Math.log(2)));for(rr=Ir.length;rr<Nr;rr++)Ir=ce[0]+Ir;return Ir}function vg(H){for(var ce="",ge=-1,Ye,rr;++ge<H.length;)Ye=H.charCodeAt(ge),rr=ge+1<H.length?H.charCodeAt(ge+1):0,55296<=Ye&&Ye<=56319&&56320<=rr&&rr<=57343&&(Ye=65536+((Ye&1023)<<10)+(rr&1023),ge++),Ye<=127?ce+=String.fromCharCode(Ye):Ye<=2047?ce+=String.fromCharCode(192|Ye>>>6&31,128|Ye&63):Ye<=65535?ce+=String.fromCharCode(224|Ye>>>12&15,128|Ye>>>6&63,128|Ye&63):Ye<=2097151&&(ce+=String.fromCharCode(240|Ye>>>18&7,128|Ye>>>12&63,128|Ye>>>6&63,128|Ye&63));return ce}function Mu(H){for(var ce=Array(H.length>>2),ge=0;ge<ce.length;ge++)ce[ge]=0;for(var ge=0;ge<H.length*8;ge+=8)ce[ge>>5]|=(H.charCodeAt(ge/8)&255)<<24-ge%32;return ce}function Lh(H){for(var ce="",ge=0;ge<H.length*32;ge+=8)ce+=String.fromCharCode(H[ge>>5]>>>24-ge%32&255);return ce}function Ka(H,ce){return H>>>ce|H<<32-ce}function Rh(H,ce){return H>>>ce}function bd(H,ce,ge){return H&ce^~H&ge}function _d(H,ce,ge){return H&ce^H&ge^ce&ge}function Fh(H){return Ka(H,2)^Ka(H,13)^Ka(H,22)}function wd(H){return Ka(H,6)^Ka(H,11)^Ka(H,25)}function Ic(H){return Ka(H,7)^Ka(H,18)^Rh(H,3)}function Pc(H){return Ka(H,17)^Ka(H,19)^Rh(H,10)}var dg=new Array(1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998);function Nl(H,ce){var ge=new Array(1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225),Ye=new Array(64),rr,ar,tr,Ar,Pr,Ir,Nr,mt,it,Wr,mr,Oe;for(H[ce>>5]|=128<<24-ce%32,H[(ce+64>>9<<4)+15]=ce,it=0;it<H.length;it+=16){for(rr=ge[0],ar=ge[1],tr=ge[2],Ar=ge[3],Pr=ge[4],Ir=ge[5],Nr=ge[6],mt=ge[7],Wr=0;Wr<64;Wr++)Wr<16?Ye[Wr]=H[Wr+it]:Ye[Wr]=Yn(Yn(Yn(Pc(Ye[Wr-2]),Ye[Wr-7]),Ic(Ye[Wr-15])),Ye[Wr-16]),mr=Yn(Yn(Yn(Yn(mt,wd(Pr)),bd(Pr,Ir,Nr)),dg[Wr]),Ye[Wr]),Oe=Yn(Fh(rr),_d(rr,ar,tr)),mt=Nr,Nr=Ir,Ir=Pr,Pr=Yn(Ar,mr),Ar=tr,tr=ar,ar=rr,rr=Yn(mr,Oe);ge[0]=Yn(rr,ge[0]),ge[1]=Yn(ar,ge[1]),ge[2]=Yn(tr,ge[2]),ge[3]=Yn(Ar,ge[3]),ge[4]=Yn(Pr,ge[4]),ge[5]=Yn(Ir,ge[5]),ge[6]=Yn(Nr,ge[6]),ge[7]=Yn(mt,ge[7])}return ge}function Yn(H,ce){var ge=(H&65535)+(ce&65535),Ye=(H>>16)+(ce>>16)+(ge>>16);return Ye<<16|ge&65535}function Yo(H){return Array.prototype.slice.call(H)}function Wo(H){return Yo(H).join("")}function Ad(H){var ce=H&&H.cache,ge=0,Ye=[],rr=[],ar=[];function tr(mr,Oe){var ur=Oe&&Oe.stable;if(!ur){for(var Sr=0;Sr<rr.length;++Sr)if(rr[Sr]===mr&&!ar[Sr])return Ye[Sr]}var Dr="g"+ge++;return Ye.push(Dr),rr.push(mr),ar.push(ur),Dr}function Ar(){var mr=[];function Oe(){mr.push.apply(mr,Yo(arguments))}var ur=[];function Sr(){var Dr="v"+ge++;return ur.push(Dr),arguments.length>0&&(mr.push(Dr,"="),mr.push.apply(mr,Yo(arguments)),mr.push(";")),Dr}return e(Oe,{def:Sr,toString:function(){return Wo([ur.length>0?"var "+ur.join(",")+";":"",Wo(mr)])}})}function Pr(){var mr=Ar(),Oe=Ar(),ur=mr.toString,Sr=Oe.toString;function Dr(br,Xr){Oe(br,Xr,"=",mr.def(br,Xr),";")}return e(function(){mr.apply(mr,Yo(arguments))},{def:mr.def,entry:mr,exit:Oe,save:Dr,set:function(br,Xr,Hr){Dr(br,Xr),mr(br,Xr,"=",Hr,";")},toString:function(){return ur()+Sr()}})}function Ir(){var mr=Wo(arguments),Oe=Pr(),ur=Pr(),Sr=Oe.toString,Dr=ur.toString;return e(Oe,{then:function(){return Oe.apply(Oe,Yo(arguments)),this},else:function(){return ur.apply(ur,Yo(arguments)),this},toString:function(){var br=Dr();return br&&(br="else{"+br+"}"),Wo(["if(",mr,"){",Sr(),"}",br])}})}var Nr=Ar(),mt={};function it(mr,Oe){var ur=[];function Sr(){var pt="a"+ur.length;return ur.push(pt),pt}Oe=Oe||0;for(var Dr=0;Dr<Oe;++Dr)Sr();var br=Pr(),Xr=br.toString,Hr=mt[mr]=e(br,{arg:Sr,toString:function(){return Wo(["function(",ur.join(),"){",Xr(),"}"])}});return Hr}function Wr(){var mr=['"use strict";',Nr,"return {"];Object.keys(mt).forEach(function(Dr){mr.push('"',Dr,'":',mt[Dr].toString(),",")}),mr.push("}");var Oe=Wo(mr).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),ur;if(ce&&(ur=ug(Oe),ce[ur]))return ce[ur].apply(null,rr);var Sr=Function.apply(null,Ye.concat(Oe));return ce&&(ce[ur]=Sr),Sr.apply(null,rr)}return{global:Nr,link:tr,block:Ar,proc:it,scope:Pr,cond:Ir,compile:Wr}}var So="xyzw".split(""),Oc=5121,fo=1,Gs=2,Eu=0,Pf=1,Nc=2,Of=3,Hs=4,Bc=5,Nf=6,zc="dither",Dh="blend.enable",Ih="blend.color",Su="blend.equation",Cu="blend.func",qc="depth.enable",Uc="depth.func",Gc="depth.range",Hc="depth.mask",ku="colorMask",Bf="cull.enable",Ph="cull.face",Lu="frontFace",zf="lineWidth",Vc="polygonOffset.enable",Ru="polygonOffset.offset",qf="sample.alpha",Uf="sample.enable",Gf="sample.coverage",Yc="stencil.enable",Fu="stencil.mask",Hi="stencil.func",Hf="stencil.opFront",Bl="stencil.opBack",Du="scissor.enable",zl="scissor.box",_i="viewport",Vs="profile",Xo="framebuffer",ll="vert",ql="frag",Co="elements",jo="primitive",Zo="count",Iu="offset",Ri="instances",is="vao",Vf="Width",ko="Height",uo=Xo+Vf,co=Xo+ko,pg=_i+Vf,gg=_i+ko,Oh="drawingBuffer",Wc=Oh+Vf,Xc=Oh+ko,Td=[Cu,Su,Hi,Hf,Bl,Gf,_i,zl,Ru],Lo=34962,Pu=34963,Md=2884,yg=3042,mg=3024,xg=2960,Ed=2929,Sd=3089,jc=32823,Cd=32926,Zc=32928,$c=5126,Ul=35664,xa=35665,Yf=35666,Gl=5124,os=35667,Ys=35668,Ou=35669,Nu=35670,ls=35671,Wf=35672,Bu=35673,zu=35674,qu=35675,Uu=35676,Ws=35678,Gu=35680,Hu=4,C=1028,N=1029,U=2304,X=2305,$=32775,ee=32776,ve=519,se=7680,xe=0,ke=1,Le=32774,Je=513,Ke=36160,Er=36064,Lr={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},or={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},gr={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},wr={cw:U,ccw:X};function Rr(H){return Array.isArray(H)||jr(H)||Or(H)}function Fr(H){return H.sort(function(ce,ge){return ce===_i?-1:ge===_i?1:ce<ge?-1:1})}function vr(H,ce,ge,Ye){this.thisDep=H,this.contextDep=ce,this.propDep=ge,this.append=Ye}function at(H){return H&&!(H.thisDep||H.contextDep||H.propDep)}function ct(H){return new vr(!1,!1,!1,H)}function At(H,ce){var ge=H.type;if(ge===Eu){var Ye=H.data.length;return new vr(!0,Ye>=1,Ye>=2,ce)}else if(ge===Hs){var rr=H.data;return new vr(rr.thisDep,rr.contextDep,rr.propDep,ce)}else{if(ge===Bc)return new vr(!1,!1,!1,ce);if(ge===Nf){for(var ar=!1,tr=!1,Ar=!1,Pr=0;Pr<H.data.length;++Pr){var Ir=H.data[Pr];if(Ir.type===Pf)Ar=!0;else if(Ir.type===Nc)tr=!0;else if(Ir.type===Of)ar=!0;else if(Ir.type===Eu){ar=!0;var Nr=Ir.data;Nr>=1&&(tr=!0),Nr>=2&&(Ar=!0)}else Ir.type===Hs&&(ar=ar||Ir.data.thisDep,tr=tr||Ir.data.contextDep,Ar=Ar||Ir.data.propDep)}return new vr(ar,tr,Ar,ce)}else return new vr(ge===Of,ge===Nc,ge===Pf,ce)}}var Ft=new vr(!1,!1,!1,function(){});function Gt(H,ce,ge,Ye,rr,ar,tr,Ar,Pr,Ir,Nr,mt,it,Wr,mr,Oe){var ur=Ir.Record,Sr={add:32774,subtract:32778,"reverse subtract":32779};ge.ext_blend_minmax&&(Sr.min=$,Sr.max=ee);var Dr=ge.angle_instanced_arrays,br=ge.webgl_draw_buffers,Xr=ge.oes_vertex_array_object,Hr={dirty:!0,profile:Oe.profile},pt={},xr=[],yr={},Jr={};function Gr(ue){return ue.replace(".","_")}function Br(ue,de,_e){var Ze=Gr(ue);xr.push(ue),pt[Ze]=Hr[Ze]=!!_e,yr[Ze]=de}function Ur(ue,de,_e){var Ze=Gr(ue);xr.push(ue),Array.isArray(_e)?(Hr[Ze]=_e.slice(),pt[Ze]=_e.slice()):Hr[Ze]=pt[Ze]=_e,Jr[Ze]=de}function Kr(ue){return!!isNaN(ue)}Br(zc,mg),Br(Dh,yg),Ur(Ih,"blendColor",[0,0,0,0]),Ur(Su,"blendEquationSeparate",[Le,Le]),Ur(Cu,"blendFuncSeparate",[ke,xe,ke,xe]),Br(qc,Ed,!0),Ur(Uc,"depthFunc",Je),Ur(Gc,"depthRange",[0,1]),Ur(Hc,"depthMask",!0),Ur(ku,ku,[!0,!0,!0,!0]),Br(Bf,Md),Ur(Ph,"cullFace",N),Ur(Lu,Lu,X),Ur(zf,zf,1),Br(Vc,jc),Ur(Ru,"polygonOffset",[0,0]),Br(qf,Cd),Br(Uf,Zc),Ur(Gf,"sampleCoverage",[1,!1]),Br(Yc,xg),Ur(Fu,"stencilMask",-1),Ur(Hi,"stencilFunc",[ve,0,-1]),Ur(Hf,"stencilOpSeparate",[C,se,se,se]),Ur(Bl,"stencilOpSeparate",[N,se,se,se]),Br(Du,Sd),Ur(zl,"scissor",[0,0,H.drawingBufferWidth,H.drawingBufferHeight]),Ur(_i,_i,[0,0,H.drawingBufferWidth,H.drawingBufferHeight]);var gt={gl:H,context:it,strings:ce,next:pt,current:Hr,draw:mt,elements:ar,buffer:rr,shader:Nr,attributes:Ir.state,vao:Ir,uniforms:Pr,framebuffer:Ar,extensions:ge,timer:Wr,isBufferArgs:Rr},St={primTypes:Ci,compareFuncs:or,blendFuncs:Lr,blendEquations:Sr,stencilOps:gr,glTypes:dt,orientationType:wr};br&&(St.backBuffer=[N],St.drawBuffer=g(Ye.maxDrawbuffers,function(ue){return ue===0?[0]:g(ue,function(de){return Er+de})}));var Vr=0;function nt(){var ue=Ad({cache:mr}),de=ue.link,_e=ue.global;ue.id=Vr++,ue.batchId="0";var Ze=de(gt),ir=ue.shared={props:"a0"};Object.keys(gt).forEach(function(Me){ir[Me]=_e.def(Ze,".",Me)});var ze=ue.next={},Pe=ue.current={};Object.keys(Jr).forEach(function(Me){Array.isArray(Hr[Me])&&(ze[Me]=_e.def(ir.next,".",Me),Pe[Me]=_e.def(ir.current,".",Me))});var Ce=ue.constants={};Object.keys(St).forEach(function(Me){Ce[Me]=_e.def(JSON.stringify(St[Me]))}),ue.invoke=function(Me,ye){switch(ye.type){case Eu:var Ve=["this",ir.context,ir.props,ue.batchId];return Me.def(de(ye.data),".call(",Ve.slice(0,Math.max(ye.data.length+1,4)),")");case Pf:return Me.def(ir.props,ye.data);case Nc:return Me.def(ir.context,ye.data);case Of:return Me.def("this",ye.data);case Hs:return ye.data.append(ue,Me),ye.data.ref;case Bc:return ye.data.toString();case Nf:return ye.data.map(function(cr){return ue.invoke(Me,cr)})}},ue.attribCache={};var me={};return ue.scopeAttrib=function(Me){var ye=ce.id(Me);if(ye in me)return me[ye];var Ve=Ir.scope[ye];Ve||(Ve=Ir.scope[ye]=new ur);var cr=me[ye]=de(Ve);return cr},ue}function Mt(ue){var de=ue.static,_e=ue.dynamic,Ze;if(Vs in de){var ir=!!de[Vs];Ze=ct(function(Pe,Ce){return ir}),Ze.enable=ir}else if(Vs in _e){var ze=_e[Vs];Ze=At(ze,function(Pe,Ce){return Pe.invoke(Ce,ze)})}return Ze}function Et(ue,de){var _e=ue.static,Ze=ue.dynamic;if(Xo in _e){var ir=_e[Xo];return ir?(ir=Ar.getFramebuffer(ir),ct(function(Pe,Ce){var me=Pe.link(ir),Me=Pe.shared;Ce.set(Me.framebuffer,".next",me);var ye=Me.context;return Ce.set(ye,"."+uo,me+".width"),Ce.set(ye,"."+co,me+".height"),me})):ct(function(Pe,Ce){var me=Pe.shared;Ce.set(me.framebuffer,".next","null");var Me=me.context;return Ce.set(Me,"."+uo,Me+"."+Wc),Ce.set(Me,"."+co,Me+"."+Xc),"null"})}else if(Xo in Ze){var ze=Ze[Xo];return At(ze,function(Pe,Ce){var me=Pe.invoke(Ce,ze),Me=Pe.shared,ye=Me.framebuffer,Ve=Ce.def(ye,".getFramebuffer(",me,")");Ce.set(ye,".next",Ve);var cr=Me.context;return Ce.set(cr,"."+uo,Ve+"?"+Ve+".width:"+cr+"."+Wc),Ce.set(cr,"."+co,Ve+"?"+Ve+".height:"+cr+"."+Xc),Ve})}else return null}function zt(ue,de,_e){var Ze=ue.static,ir=ue.dynamic;function ze(me){if(me in Ze){var Me=Ze[me],ye=!0,Ve=Me.x|0,cr=Me.y|0,Cr,xt;return"width"in Me?Cr=Me.width|0:ye=!1,"height"in Me?xt=Me.height|0:ye=!1,new vr(!ye&&de&&de.thisDep,!ye&&de&&de.contextDep,!ye&&de&&de.propDep,function(yt,ht){var ut=yt.shared.context,$r=Cr;"width"in Me||($r=ht.def(ut,".",uo,"-",Ve));var lt=xt;return"height"in Me||(lt=ht.def(ut,".",co,"-",cr)),[Ve,cr,$r,lt]})}else if(me in ir){var Qr=ir[me],Zr=At(Qr,function(yt,ht){var ut=yt.invoke(ht,Qr),$r=yt.shared.context,lt=ht.def(ut,".x|0"),ft=ht.def(ut,".y|0"),Ct=ht.def('"width" in ',ut,"?",ut,".width|0:","(",$r,".",uo,"-",lt,")"),mn=ht.def('"height" in ',ut,"?",ut,".height|0:","(",$r,".",co,"-",ft,")");return[lt,ft,Ct,mn]});return de&&(Zr.thisDep=Zr.thisDep||de.thisDep,Zr.contextDep=Zr.contextDep||de.contextDep,Zr.propDep=Zr.propDep||de.propDep),Zr}else return de?new vr(de.thisDep,de.contextDep,de.propDep,function(yt,ht){var ut=yt.shared.context;return[0,0,ht.def(ut,".",uo),ht.def(ut,".",co)]}):null}var Pe=ze(_i);if(Pe){var Ce=Pe;Pe=new vr(Pe.thisDep,Pe.contextDep,Pe.propDep,function(me,Me){var ye=Ce.append(me,Me),Ve=me.shared.context;return Me.set(Ve,"."+pg,ye[2]),Me.set(Ve,"."+gg,ye[3]),ye})}return{viewport:Pe,scissor_box:ze(zl)}}function En(ue,de){var _e=ue.static,Ze=typeof _e[ql]=="string"&&typeof _e[ll]=="string";if(Ze){if(Object.keys(de.dynamic).length>0)return null;var ir=de.static,ze=Object.keys(ir);if(ze.length>0&&typeof ir[ze[0]]=="number"){for(var Pe=[],Ce=0;Ce<ze.length;++Ce)Pe.push([ir[ze[Ce]]|0,ze[Ce]]);return Pe}}return null}function Wn(ue,de,_e){var Ze=ue.static,ir=ue.dynamic;function ze(ye){if(ye in Ze){var Ve=ce.id(Ze[ye]),cr=ct(function(){return Ve});return cr.id=Ve,cr}else if(ye in ir){var Cr=ir[ye];return At(Cr,function(xt,Qr){var Zr=xt.invoke(Qr,Cr),yt=Qr.def(xt.shared.strings,".id(",Zr,")");return yt})}return null}var Pe=ze(ql),Ce=ze(ll),me=null,Me;return at(Pe)&&at(Ce)?(me=Nr.program(Ce.id,Pe.id,null,_e),Me=ct(function(ye,Ve){return ye.link(me)})):Me=new vr(Pe&&Pe.thisDep||Ce&&Ce.thisDep,Pe&&Pe.contextDep||Ce&&Ce.contextDep,Pe&&Pe.propDep||Ce&&Ce.propDep,function(ye,Ve){var cr=ye.shared.shader,Cr;Pe?Cr=Pe.append(ye,Ve):Cr=Ve.def(cr,".",ql);var xt;Ce?xt=Ce.append(ye,Ve):xt=Ve.def(cr,".",ll);var Qr=cr+".program("+xt+","+Cr;return Ve.def(Qr+")")}),{frag:Pe,vert:Ce,progVar:Me,program:me}}function Vt(ue,de){var _e=ue.static,Ze=ue.dynamic,ir={},ze=!1;function Pe(){if(is in _e){var ht=_e[is];return ht!==null&&Ir.getVAO(ht)===null&&(ht=Ir.createVAO(ht)),ze=!0,ir.vao=ht,ct(function($r){var lt=Ir.getVAO(ht);return lt?$r.link(lt):"null"})}else if(is in Ze){ze=!0;var ut=Ze[is];return At(ut,function($r,lt){var ft=$r.invoke(lt,ut);return lt.def($r.shared.vao+".getVAO("+ft+")")})}return null}var Ce=Pe(),me=!1;function Me(){if(Co in _e){var ht=_e[Co];if(ir.elements=ht,Rr(ht)){var ut=ir.elements=ar.create(ht,!0);ht=ar.getElements(ut),me=!0}else ht&&(ht=ar.getElements(ht),me=!0);var $r=ct(function(ft,Ct){if(ht){var mn=ft.link(ht);return ft.ELEMENTS=mn,mn}return ft.ELEMENTS=null,null});return $r.value=ht,$r}else if(Co in Ze){me=!0;var lt=Ze[Co];return At(lt,function(ft,Ct){var mn=ft.shared,Ta=mn.isBufferArgs,Yi=mn.elements,ho=ft.invoke(Ct,lt),vo=Ct.def("null"),Ua=Ct.def(Ta,"(",ho,")"),Xs=ft.cond(Ua).then(vo,"=",Yi,".createStream(",ho,");").else(vo,"=",Yi,".getElements(",ho,");");return Ct.entry(Xs),Ct.exit(ft.cond(Ua).then(Yi,".destroyStream(",vo,");")),ft.ELEMENTS=vo,vo})}else if(ze)return new vr(Ce.thisDep,Ce.contextDep,Ce.propDep,function(ft,Ct){return Ct.def(ft.shared.vao+".currentVAO?"+ft.shared.elements+".getElements("+ft.shared.vao+".currentVAO.elements):null")});return null}var ye=Me();function Ve(){if(jo in _e){var ht=_e[jo];return ir.primitive=ht,ct(function($r,lt){return Ci[ht]})}else if(jo in Ze){var ut=Ze[jo];return At(ut,function($r,lt){var ft=$r.constants.primTypes,Ct=$r.invoke(lt,ut);return lt.def(ft,"[",Ct,"]")})}else{if(me)return at(ye)?ye.value?ct(function($r,lt){return lt.def($r.ELEMENTS,".primType")}):ct(function(){return Hu}):new vr(ye.thisDep,ye.contextDep,ye.propDep,function($r,lt){var ft=$r.ELEMENTS;return lt.def(ft,"?",ft,".primType:",Hu)});if(ze)return new vr(Ce.thisDep,Ce.contextDep,Ce.propDep,function($r,lt){return lt.def($r.shared.vao+".currentVAO?"+$r.shared.vao+".currentVAO.primitive:"+Hu)})}return null}function cr(ht,ut){if(ht in _e){var $r=_e[ht]|0;return ut?ir.offset=$r:ir.instances=$r,ct(function(ft,Ct){return ut&&(ft.OFFSET=$r),$r})}else if(ht in Ze){var lt=Ze[ht];return At(lt,function(ft,Ct){var mn=ft.invoke(Ct,lt);return ut&&(ft.OFFSET=mn),mn})}else if(ut){if(me)return ct(function(ft,Ct){return ft.OFFSET=0,0});if(ze)return new vr(Ce.thisDep,Ce.contextDep,Ce.propDep,function(ft,Ct){return Ct.def(ft.shared.vao+".currentVAO?"+ft.shared.vao+".currentVAO.offset:0")})}else if(ze)return new vr(Ce.thisDep,Ce.contextDep,Ce.propDep,function(ft,Ct){return Ct.def(ft.shared.vao+".currentVAO?"+ft.shared.vao+".currentVAO.instances:-1")});return null}var Cr=cr(Iu,!0);function xt(){if(Zo in _e){var ht=_e[Zo]|0;return ir.count=ht,ct(function(){return ht})}else if(Zo in Ze){var ut=Ze[Zo];return At(ut,function(Ct,mn){var Ta=Ct.invoke(mn,ut);return Ta})}else if(me)if(at(ye)){if(ye)return Cr?new vr(Cr.thisDep,Cr.contextDep,Cr.propDep,function(Ct,mn){var Ta=mn.def(Ct.ELEMENTS,".vertCount-",Ct.OFFSET);return Ta}):ct(function(Ct,mn){return mn.def(Ct.ELEMENTS,".vertCount")});var $r=ct(function(){return-1});return $r}else{var lt=new vr(ye.thisDep||Cr.thisDep,ye.contextDep||Cr.contextDep,ye.propDep||Cr.propDep,function(Ct,mn){var Ta=Ct.ELEMENTS;return Ct.OFFSET?mn.def(Ta,"?",Ta,".vertCount-",Ct.OFFSET,":-1"):mn.def(Ta,"?",Ta,".vertCount:-1")});return lt}else if(ze){var ft=new vr(Ce.thisDep,Ce.contextDep,Ce.propDep,function(Ct,mn){return mn.def(Ct.shared.vao,".currentVAO?",Ct.shared.vao,".currentVAO.count:-1")});return ft}return null}var Qr=Ve(),Zr=xt(),yt=cr(Ri,!1);return{elements:ye,primitive:Qr,count:Zr,instances:yt,offset:Cr,vao:Ce,vaoActive:ze,elementsActive:me,static:ir}}function ba(ue,de){var _e=ue.static,Ze=ue.dynamic,ir={};return xr.forEach(function(ze){var Pe=Gr(ze);function Ce(me,Me){if(ze in _e){var ye=me(_e[ze]);ir[Pe]=ct(function(){return ye})}else if(ze in Ze){var Ve=Ze[ze];ir[Pe]=At(Ve,function(cr,Cr){return Me(cr,Cr,cr.invoke(Cr,Ve))})}}switch(ze){case Bf:case Dh:case zc:case Yc:case qc:case Du:case Vc:case qf:case Uf:case Hc:return Ce(function(me){return me},function(me,Me,ye){return ye});case Uc:return Ce(function(me){return or[me]},function(me,Me,ye){var Ve=me.constants.compareFuncs;return Me.def(Ve,"[",ye,"]")});case Gc:return Ce(function(me){return me},function(me,Me,ye){var Ve=Me.def("+",ye,"[0]"),cr=Me.def("+",ye,"[1]");return[Ve,cr]});case Cu:return Ce(function(me){var Me="srcRGB"in me?me.srcRGB:me.src,ye="srcAlpha"in me?me.srcAlpha:me.src,Ve="dstRGB"in me?me.dstRGB:me.dst,cr="dstAlpha"in me?me.dstAlpha:me.dst;return[Lr[Me],Lr[Ve],Lr[ye],Lr[cr]]},function(me,Me,ye){var Ve=me.constants.blendFuncs;function cr(ut,$r){var lt=Me.def('"',ut,$r,'" in ',ye,"?",ye,".",ut,$r,":",ye,".",ut);return lt}var Cr=cr("src","RGB"),xt=cr("dst","RGB"),Qr=Me.def(Ve,"[",Cr,"]"),Zr=Me.def(Ve,"[",cr("src","Alpha"),"]"),yt=Me.def(Ve,"[",xt,"]"),ht=Me.def(Ve,"[",cr("dst","Alpha"),"]");return[Qr,yt,Zr,ht]});case Su:return Ce(function(me){if(typeof me=="string")return[Sr[me],Sr[me]];if(typeof me=="object")return[Sr[me.rgb],Sr[me.alpha]]},function(me,Me,ye){var Ve=me.constants.blendEquations,cr=Me.def(),Cr=Me.def(),xt=me.cond("typeof ",ye,'==="string"');return xt.then(cr,"=",Cr,"=",Ve,"[",ye,"];"),xt.else(cr,"=",Ve,"[",ye,".rgb];",Cr,"=",Ve,"[",ye,".alpha];"),Me(xt),[cr,Cr]});case Ih:return Ce(function(me){return g(4,function(Me){return+me[Me]})},function(me,Me,ye){return g(4,function(Ve){return Me.def("+",ye,"[",Ve,"]")})});case Fu:return Ce(function(me){return me|0},function(me,Me,ye){return Me.def(ye,"|0")});case Hi:return Ce(function(me){var Me=me.cmp||"keep",ye=me.ref||0,Ve="mask"in me?me.mask:-1;return[or[Me],ye,Ve]},function(me,Me,ye){var Ve=me.constants.compareFuncs,cr=Me.def('"cmp" in ',ye,"?",Ve,"[",ye,".cmp]",":",se),Cr=Me.def(ye,".ref|0"),xt=Me.def('"mask" in ',ye,"?",ye,".mask|0:-1");return[cr,Cr,xt]});case Hf:case Bl:return Ce(function(me){var Me=me.fail||"keep",ye=me.zfail||"keep",Ve=me.zpass||"keep";return[ze===Bl?N:C,gr[Me],gr[ye],gr[Ve]]},function(me,Me,ye){var Ve=me.constants.stencilOps;function cr(Cr){return Me.def('"',Cr,'" in ',ye,"?",Ve,"[",ye,".",Cr,"]:",se)}return[ze===Bl?N:C,cr("fail"),cr("zfail"),cr("zpass")]});case Ru:return Ce(function(me){var Me=me.factor|0,ye=me.units|0;return[Me,ye]},function(me,Me,ye){var Ve=Me.def(ye,".factor|0"),cr=Me.def(ye,".units|0");return[Ve,cr]});case Ph:return Ce(function(me){var Me=0;return me==="front"?Me=C:me==="back"&&(Me=N),Me},function(me,Me,ye){return Me.def(ye,'==="front"?',C,":",N)});case zf:return Ce(function(me){return me},function(me,Me,ye){return ye});case Lu:return Ce(function(me){return wr[me]},function(me,Me,ye){return Me.def(ye+'==="cw"?'+U+":"+X)});case ku:return Ce(function(me){return me.map(function(Me){return!!Me})},function(me,Me,ye){return g(4,function(Ve){return"!!"+ye+"["+Ve+"]"})});case Gf:return Ce(function(me){var Me="value"in me?me.value:1,ye=!!me.invert;return[Me,ye]},function(me,Me,ye){var Ve=Me.def('"value" in ',ye,"?+",ye,".value:1"),cr=Me.def("!!",ye,".invert");return[Ve,cr]})}}),ir}function an(ue,de){var _e=ue.static,Ze=ue.dynamic,ir={};return Object.keys(_e).forEach(function(ze){var Pe=_e[ze],Ce;if(typeof Pe=="number"||typeof Pe=="boolean")Ce=ct(function(){return Pe});else if(typeof Pe=="function"){var me=Pe._reglType;me==="texture2d"||me==="textureCube"?Ce=ct(function(Me){return Me.link(Pe)}):(me==="framebuffer"||me==="framebufferCube")&&(Ce=ct(function(Me){return Me.link(Pe.color[0])}))}else qi(Pe)&&(Ce=ct(function(Me){var ye=Me.global.def("[",g(Pe.length,function(Ve){return Pe[Ve]}),"]");return ye}));Ce.value=Pe,ir[ze]=Ce}),Object.keys(Ze).forEach(function(ze){var Pe=Ze[ze];ir[ze]=At(Pe,function(Ce,me){return Ce.invoke(me,Pe)})}),ir}function sa(ue,de){var _e=ue.static,Ze=ue.dynamic,ir={};return Object.keys(_e).forEach(function(ze){var Pe=_e[ze],Ce=ce.id(ze),me=new ur;if(Rr(Pe))me.state=fo,me.buffer=rr.getBuffer(rr.create(Pe,Lo,!1,!0)),me.type=0;else{var Me=rr.getBuffer(Pe);if(Me)me.state=fo,me.buffer=Me,me.type=0;else if("constant"in Pe){var ye=Pe.constant;me.buffer="null",me.state=Gs,typeof ye=="number"?me.x=ye:So.forEach(function(yt,ht){ht<ye.length&&(me[yt]=ye[ht])})}else{Rr(Pe.buffer)?Me=rr.getBuffer(rr.create(Pe.buffer,Lo,!1,!0)):Me=rr.getBuffer(Pe.buffer);var Ve=Pe.offset|0,cr=Pe.stride|0,Cr=Pe.size|0,xt=!!Pe.normalized,Qr=0;"type"in Pe&&(Qr=dt[Pe.type]);var Zr=Pe.divisor|0;me.buffer=Me,me.state=fo,me.size=Cr,me.normalized=xt,me.type=Qr||Me.dtype,me.offset=Ve,me.stride=cr,me.divisor=Zr}}ir[ze]=ct(function(yt,ht){var ut=yt.attribCache;if(Ce in ut)return ut[Ce];var $r={isStream:!1};return Object.keys(me).forEach(function(lt){$r[lt]=me[lt]}),me.buffer&&($r.buffer=yt.link(me.buffer),$r.type=$r.type||$r.buffer+".dtype"),ut[Ce]=$r,$r})}),Object.keys(Ze).forEach(function(ze){var Pe=Ze[ze];function Ce(me,Me){var ye=me.invoke(Me,Pe),Ve=me.shared,cr=me.constants,Cr=Ve.isBufferArgs,xt=Ve.buffer,Qr={isStream:Me.def(!1)},Zr=new ur;Zr.state=fo,Object.keys(Zr).forEach(function($r){Qr[$r]=Me.def(""+Zr[$r])});var yt=Qr.buffer,ht=Qr.type;Me("if(",Cr,"(",ye,")){",Qr.isStream,"=true;",yt,"=",xt,".createStream(",Lo,",",ye,");",ht,"=",yt,".dtype;","}else{",yt,"=",xt,".getBuffer(",ye,");","if(",yt,"){",ht,"=",yt,".dtype;",'}else if("constant" in ',ye,"){",Qr.state,"=",Gs,";","if(typeof "+ye+'.constant === "number"){',Qr[So[0]],"=",ye,".constant;",So.slice(1).map(function($r){return Qr[$r]}).join("="),"=0;","}else{",So.map(function($r,lt){return Qr[$r]+"="+ye+".constant.length>"+lt+"?"+ye+".constant["+lt+"]:0;"}).join(""),"}}else{","if(",Cr,"(",ye,".buffer)){",yt,"=",xt,".createStream(",Lo,",",ye,".buffer);","}else{",yt,"=",xt,".getBuffer(",ye,".buffer);","}",ht,'="type" in ',ye,"?",cr.glTypes,"[",ye,".type]:",yt,".dtype;",Qr.normalized,"=!!",ye,".normalized;");function ut($r){Me(Qr[$r],"=",ye,".",$r,"|0;")}return ut("size"),ut("offset"),ut("stride"),ut("divisor"),Me("}}"),Me.exit("if(",Qr.isStream,"){",xt,".destroyStream(",yt,");","}"),Qr}ir[ze]=At(Pe,Ce)}),ir}function ha(ue){var de=ue.static,_e=ue.dynamic,Ze={};return Object.keys(de).forEach(function(ir){var ze=de[ir];Ze[ir]=ct(function(Pe,Ce){return typeof ze=="number"||typeof ze=="boolean"?""+ze:Pe.link(ze)})}),Object.keys(_e).forEach(function(ir){var ze=_e[ir];Ze[ir]=At(ze,function(Pe,Ce){return Pe.invoke(Ce,ze)})}),Ze}function _a(ue,de,_e,Ze,ir){var ze=ue.static,Pe=ue.dynamic,Ce=En(ue,de),me=Et(ue,ir),Me=zt(ue,me,ir),ye=Vt(ue,ir),Ve=ba(ue,ir),cr=Wn(ue,ir,Ce);function Cr(ut){var $r=Me[ut];$r&&(Ve[ut]=$r)}Cr(_i),Cr(Gr(zl));var xt=Object.keys(Ve).length>0,Qr={framebuffer:me,draw:ye,shader:cr,state:Ve,dirty:xt,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Qr.profile=Mt(ue,ir),Qr.uniforms=an(_e,ir),Qr.drawVAO=Qr.scopeVAO=ye.vao,!Qr.drawVAO&&cr.program&&!Ce&&ge.angle_instanced_arrays&&ye.static.elements){var Zr=!0,yt=cr.program.attributes.map(function(ut){var $r=de.static[ut];return Zr=Zr&&!!$r,$r});if(Zr&&yt.length>0){var ht=Ir.getVAO(Ir.createVAO({attributes:yt,elements:ye.static.elements}));Qr.drawVAO=new vr(null,null,null,function(ut,$r){return ut.link(ht)}),Qr.useVAO=!0}}return Ce?Qr.useVAO=!0:Qr.attributes=sa(de,ir),Qr.context=ha(Ze,ir),Qr}function zn(ue,de,_e){var Ze=ue.shared,ir=Ze.context,ze=ue.scope();Object.keys(_e).forEach(function(Pe){de.save(ir,"."+Pe);var Ce=_e[Pe],me=Ce.append(ue,de);Array.isArray(me)?ze(ir,".",Pe,"=[",me.join(),"];"):ze(ir,".",Pe,"=",me,";")}),de(ze)}function qn(ue,de,_e,Ze){var ir=ue.shared,ze=ir.gl,Pe=ir.framebuffer,Ce;br&&(Ce=de.def(ir.extensions,".webgl_draw_buffers"));var me=ue.constants,Me=me.drawBuffer,ye=me.backBuffer,Ve;_e?Ve=_e.append(ue,de):Ve=de.def(Pe,".next"),Ze||de("if(",Ve,"!==",Pe,".cur){"),de("if(",Ve,"){",ze,".bindFramebuffer(",Ke,",",Ve,".framebuffer);"),br&&de(Ce,".drawBuffersWEBGL(",Me,"[",Ve,".colorAttachments.length]);"),de("}else{",ze,".bindFramebuffer(",Ke,",null);"),br&&de(Ce,".drawBuffersWEBGL(",ye,");"),de("}",Pe,".cur=",Ve,";"),Ze||de("}")}function Xn(ue,de,_e){var Ze=ue.shared,ir=Ze.gl,ze=ue.current,Pe=ue.next,Ce=Ze.current,me=Ze.next,Me=ue.cond(Ce,".dirty");xr.forEach(function(ye){var Ve=Gr(ye);if(!(Ve in _e.state)){var cr,Cr;if(Ve in Pe){cr=Pe[Ve],Cr=ze[Ve];var xt=g(Hr[Ve].length,function(Zr){return Me.def(cr,"[",Zr,"]")});Me(ue.cond(xt.map(function(Zr,yt){return Zr+"!=="+Cr+"["+yt+"]"}).join("||")).then(ir,".",Jr[Ve],"(",xt,");",xt.map(function(Zr,yt){return Cr+"["+yt+"]="+Zr}).join(";"),";"))}else{cr=Me.def(me,".",Ve);var Qr=ue.cond(cr,"!==",Ce,".",Ve);Me(Qr),Ve in yr?Qr(ue.cond(cr).then(ir,".enable(",yr[Ve],");").else(ir,".disable(",yr[Ve],");"),Ce,".",Ve,"=",cr,";"):Qr(ir,".",Jr[Ve],"(",cr,");",Ce,".",Ve,"=",cr,";")}}}),Object.keys(_e.state).length===0&&Me(Ce,".dirty=false;"),de(Me)}function Ot(ue,de,_e,Ze){var ir=ue.shared,ze=ue.current,Pe=ir.current,Ce=ir.gl,me;Fr(Object.keys(_e)).forEach(function(Me){var ye=_e[Me];if(!(Ze&&!Ze(ye))){var Ve=ye.append(ue,de);if(yr[Me]){var cr=yr[Me];at(ye)?(me=ue.link(Ve,{stable:!0}),de(ue.cond(me).then(Ce,".enable(",cr,");").else(Ce,".disable(",cr,");")),de(Pe,".",Me,"=",me,";")):(de(ue.cond(Ve).then(Ce,".enable(",cr,");").else(Ce,".disable(",cr,");")),de(Pe,".",Me,"=",Ve,";"))}else if(qi(Ve)){var Cr=ze[Me];de(Ce,".",Jr[Me],"(",Ve,");",Ve.map(function(xt,Qr){return Cr+"["+Qr+"]="+xt}).join(";"),";")}else at(ye)?(me=ue.link(Ve,{stable:!0}),de(Ce,".",Jr[Me],"(",me,");",Pe,".",Me,"=",me,";")):de(Ce,".",Jr[Me],"(",Ve,");",Pe,".",Me,"=",Ve,";")}})}function Jn(ue,de){Dr&&(ue.instancing=de.def(ue.shared.extensions,".angle_instanced_arrays"))}function un(ue,de,_e,Ze,ir){var ze=ue.shared,Pe=ue.stats,Ce=ze.current,me=ze.timer,Me=_e.profile;function ye(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}var Ve,cr;function Cr(ut){Ve=de.def(),ut(Ve,"=",ye(),";"),typeof ir=="string"?ut(Pe,".count+=",ir,";"):ut(Pe,".count++;"),Wr&&(Ze?(cr=de.def(),ut(cr,"=",me,".getNumPendingQueries();")):ut(me,".beginQuery(",Pe,");"))}function xt(ut){ut(Pe,".cpuTime+=",ye(),"-",Ve,";"),Wr&&(Ze?ut(me,".pushScopeStats(",cr,",",me,".getNumPendingQueries(),",Pe,");"):ut(me,".endQuery();"))}function Qr(ut){var $r=de.def(Ce,".profile");de(Ce,".profile=",ut,";"),de.exit(Ce,".profile=",$r,";")}var Zr;if(Me){if(at(Me)){Me.enable?(Cr(de),xt(de.exit),Qr("true")):Qr("false");return}Zr=Me.append(ue,de),Qr(Zr)}else Zr=de.def(Ce,".profile");var yt=ue.block();Cr(yt),de("if(",Zr,"){",yt,"}");var ht=ue.block();xt(ht),de.exit("if(",Zr,"){",ht,"}")}function va(ue,de,_e,Ze,ir){var ze=ue.shared;function Pe(me){switch(me){case Ul:case os:case ls:return 2;case xa:case Ys:case Wf:return 3;case Yf:case Ou:case Bu:return 4;default:return 1}}function Ce(me,Me,ye){var Ve=ze.gl,cr=de.def(me,".location"),Cr=de.def(ze.attributes,"[",cr,"]"),xt=ye.state,Qr=ye.buffer,Zr=[ye.x,ye.y,ye.z,ye.w],yt=["buffer","normalized","offset","stride"];function ht(){de("if(!",Cr,".buffer){",Ve,".enableVertexAttribArray(",cr,");}");var $r=ye.type,lt;if(ye.size?lt=de.def(ye.size,"||",Me):lt=Me,de("if(",Cr,".type!==",$r,"||",Cr,".size!==",lt,"||",yt.map(function(Ct){return Cr+"."+Ct+"!=="+ye[Ct]}).join("||"),"){",Ve,".bindBuffer(",Lo,",",Qr,".buffer);",Ve,".vertexAttribPointer(",[cr,lt,$r,ye.normalized,ye.stride,ye.offset],");",Cr,".type=",$r,";",Cr,".size=",lt,";",yt.map(function(Ct){return Cr+"."+Ct+"="+ye[Ct]+";"}).join(""),"}"),Dr){var ft=ye.divisor;de("if(",Cr,".divisor!==",ft,"){",ue.instancing,".vertexAttribDivisorANGLE(",[cr,ft],");",Cr,".divisor=",ft,";}")}}function ut(){de("if(",Cr,".buffer){",Ve,".disableVertexAttribArray(",cr,");",Cr,".buffer=null;","}if(",So.map(function($r,lt){return Cr+"."+$r+"!=="+Zr[lt]}).join("||"),"){",Ve,".vertexAttrib4f(",cr,",",Zr,");",So.map(function($r,lt){return Cr+"."+$r+"="+Zr[lt]+";"}).join(""),"}")}xt===fo?ht():xt===Gs?ut():(de("if(",xt,"===",fo,"){"),ht(),de("}else{"),ut(),de("}"))}Ze.forEach(function(me){var Me=me.name,ye=_e.attributes[Me],Ve;if(ye){if(!ir(ye))return;Ve=ye.append(ue,de)}else{if(!ir(Ft))return;var cr=ue.scopeAttrib(Me);Ve={},Object.keys(new ur).forEach(function(Cr){Ve[Cr]=de.def(cr,".",Cr)})}Ce(ue.link(me),Pe(me.info.type),Ve)})}function wa(ue,de,_e,Ze,ir,ze){for(var Pe=ue.shared,Ce=Pe.gl,me,Me=0;Me<Ze.length;++Me){var ye=Ze[Me],Ve=ye.name,cr=ye.info.type,Cr=_e.uniforms[Ve],xt=ue.link(ye),Qr=xt+".location",Zr;if(Cr){if(!ir(Cr))continue;if(at(Cr)){var yt=Cr.value;if(cr===Ws||cr===Gu){var ht=ue.link(yt._texture||yt.color[0]._texture);de(Ce,".uniform1i(",Qr,",",ht+".bind());"),de.exit(ht,".unbind();")}else if(cr===zu||cr===qu||cr===Uu){var ut=ue.global.def("new Float32Array(["+Array.prototype.slice.call(yt)+"])"),$r=2;cr===qu?$r=3:cr===Uu&&($r=4),de(Ce,".uniformMatrix",$r,"fv(",Qr,",false,",ut,");")}else{switch(cr){case $c:me="1f";break;case Ul:me="2f";break;case xa:me="3f";break;case Yf:me="4f";break;case Nu:me="1i";break;case Gl:me="1i";break;case ls:me="2i";break;case os:me="2i";break;case Wf:me="3i";break;case Ys:me="3i";break;case Bu:me="4i";break;case Ou:me="4i";break}de(Ce,".uniform",me,"(",Qr,",",qi(yt)?Array.prototype.slice.call(yt):yt,");")}continue}else Zr=Cr.append(ue,de)}else{if(!ir(Ft))continue;Zr=de.def(Pe.uniforms,"[",ce.id(Ve),"]")}cr===Ws?de("if(",Zr,"&&",Zr,'._reglType==="framebuffer"){',Zr,"=",Zr,".color[0];","}"):cr===Gu&&de("if(",Zr,"&&",Zr,'._reglType==="framebufferCube"){',Zr,"=",Zr,".color[0];","}");var lt=1;switch(cr){case Ws:case Gu:var ft=de.def(Zr,"._texture");de(Ce,".uniform1i(",Qr,",",ft,".bind());"),de.exit(ft,".unbind();");continue;case Gl:case Nu:me="1i";break;case os:case ls:me="2i",lt=2;break;case Ys:case Wf:me="3i",lt=3;break;case Ou:case Bu:me="4i",lt=4;break;case $c:me="1f";break;case Ul:me="2f",lt=2;break;case xa:me="3f",lt=3;break;case Yf:me="4f",lt=4;break;case zu:me="Matrix2fv";break;case qu:me="Matrix3fv";break;case Uu:me="Matrix4fv";break}if(me.charAt(0)==="M"){de(Ce,".uniform",me,"(",Qr,",");var Ct=Math.pow(cr-zu+2,2),mn=ue.global.def("new Float32Array(",Ct,")");Array.isArray(Zr)?de("false,(",g(Ct,function(Ua){return mn+"["+Ua+"]="+Zr[Ua]}),",",mn,")"):de("false,(Array.isArray(",Zr,")||",Zr," instanceof Float32Array)?",Zr,":(",g(Ct,function(Ua){return mn+"["+Ua+"]="+Zr+"["+Ua+"]"}),",",mn,")"),de(");")}else if(lt>1){for(var Ta=[],Yi=[],ho=0;ho<lt;++ho)Array.isArray(Zr)?Yi.push(Zr[ho]):Yi.push(de.def(Zr+"["+ho+"]")),ze&&Ta.push(de.def());ze&&de("if(!",ue.batchId,"||",Ta.map(function(Ua,Xs){return Ua+"!=="+Yi[Xs]}).join("||"),"){",Ta.map(function(Ua,Xs){return Ua+"="+Yi[Xs]+";"}).join("")),de(Ce,".uniform",me,"(",Qr,",",Yi.join(","),");"),ze&&de("}")}else{if(ze){var vo=de.def();de("if(!",ue.batchId,"||",vo,"!==",Zr,"){",vo,"=",Zr,";")}de(Ce,".uniform",me,"(",Qr,",",Zr,");"),ze&&de("}")}}}function Aa(ue,de,_e,Ze){var ir=ue.shared,ze=ir.gl,Pe=ir.draw,Ce=Ze.draw;function me(){var lt=Ce.elements,ft,Ct=de;return lt?((lt.contextDep&&Ze.contextDynamic||lt.propDep)&&(Ct=_e),ft=lt.append(ue,Ct),Ce.elementsActive&&Ct("if("+ft+")"+ze+".bindBuffer("+Pu+","+ft+".buffer.buffer);")):(ft=Ct.def(),Ct(ft,"=",Pe,".",Co,";","if(",ft,"){",ze,".bindBuffer(",Pu,",",ft,".buffer.buffer);}","else if(",ir.vao,".currentVAO){",ft,"=",ue.shared.elements+".getElements("+ir.vao,".currentVAO.elements);",Xr?"":"if("+ft+")"+ze+".bindBuffer("+Pu+","+ft+".buffer.buffer);","}")),ft}function Me(){var lt=Ce.count,ft,Ct=de;return lt?((lt.contextDep&&Ze.contextDynamic||lt.propDep)&&(Ct=_e),ft=lt.append(ue,Ct)):ft=Ct.def(Pe,".",Zo),ft}var ye=me();function Ve(lt){var ft=Ce[lt];return ft?ft.contextDep&&Ze.contextDynamic||ft.propDep?ft.append(ue,_e):ft.append(ue,de):de.def(Pe,".",lt)}var cr=Ve(jo),Cr=Ve(Iu),xt=Me();if(typeof xt=="number"){if(xt===0)return}else _e("if(",xt,"){"),_e.exit("}");var Qr,Zr;Dr&&(Qr=Ve(Ri),Zr=ue.instancing);var yt=ye+".type",ht=Ce.elements&&at(Ce.elements)&&!Ce.vaoActive;function ut(){function lt(){_e(Zr,".drawElementsInstancedANGLE(",[cr,xt,yt,Cr+"<<(("+yt+"-"+Oc+")>>1)",Qr],");")}function ft(){_e(Zr,".drawArraysInstancedANGLE(",[cr,Cr,xt,Qr],");")}ye&&ye!=="null"?ht?lt():(_e("if(",ye,"){"),lt(),_e("}else{"),ft(),_e("}")):ft()}function $r(){function lt(){_e(ze+".drawElements("+[cr,xt,yt,Cr+"<<(("+yt+"-"+Oc+")>>1)"]+");")}function ft(){_e(ze+".drawArrays("+[cr,Cr,xt]+");")}ye&&ye!=="null"?ht?lt():(_e("if(",ye,"){"),lt(),_e("}else{"),ft(),_e("}")):ft()}Dr&&(typeof Qr!="number"||Qr>=0)?typeof Qr=="string"?(_e("if(",Qr,">0){"),ut(),_e("}else if(",Qr,"<0){"),$r(),_e("}")):ut():$r()}function Lt(ue,de,_e,Ze,ir){var ze=nt(),Pe=ze.proc("body",ir);return Dr&&(ze.instancing=Pe.def(ze.shared.extensions,".angle_instanced_arrays")),ue(ze,Pe,_e,Ze),ze.compile().body}function Xt(ue,de,_e,Ze){Jn(ue,de),_e.useVAO?_e.drawVAO?de(ue.shared.vao,".setVAO(",_e.drawVAO.append(ue,de),");"):de(ue.shared.vao,".setVAO(",ue.shared.vao,".targetVAO);"):(de(ue.shared.vao,".setVAO(null);"),va(ue,de,_e,Ze.attributes,function(){return!0})),wa(ue,de,_e,Ze.uniforms,function(){return!0},!1),Aa(ue,de,de,_e)}function yn(ue,de){var _e=ue.proc("draw",1);Jn(ue,_e),zn(ue,_e,de.context),qn(ue,_e,de.framebuffer),Xn(ue,_e,de),Ot(ue,_e,de.state),un(ue,_e,de,!1,!0);var Ze=de.shader.progVar.append(ue,_e);if(_e(ue.shared.gl,".useProgram(",Ze,".program);"),de.shader.program)Xt(ue,_e,de,de.shader.program);else{_e(ue.shared.vao,".setVAO(null);");var ir=ue.global.def("{}"),ze=_e.def(Ze,".id"),Pe=_e.def(ir,"[",ze,"]");_e(ue.cond(Pe).then(Pe,".call(this,a0);").else(Pe,"=",ir,"[",ze,"]=",ue.link(function(Ce){return Lt(Xt,ue,de,Ce,1)}),"(",Ze,");",Pe,".call(this,a0);"))}Object.keys(de.state).length>0&&_e(ue.shared.current,".dirty=true;"),ue.shared.vao&&_e(ue.shared.vao,".setVAO(null);")}function he(ue,de,_e,Ze){ue.batchId="a1",Jn(ue,de);function ir(){return!0}va(ue,de,_e,Ze.attributes,ir),wa(ue,de,_e,Ze.uniforms,ir,!1),Aa(ue,de,de,_e)}function $e(ue,de,_e,Ze){Jn(ue,de);var ir=_e.contextDep,ze=de.def(),Pe="a0",Ce="a1",me=de.def();ue.shared.props=me,ue.batchId=ze;var Me=ue.scope(),ye=ue.scope();de(Me.entry,"for(",ze,"=0;",ze,"<",Ce,";++",ze,"){",me,"=",Pe,"[",ze,"];",ye,"}",Me.exit);function Ve(yt){return yt.contextDep&&ir||yt.propDep}function cr(yt){return!Ve(yt)}if(_e.needsContext&&zn(ue,ye,_e.context),_e.needsFramebuffer&&qn(ue,ye,_e.framebuffer),Ot(ue,ye,_e.state,Ve),_e.profile&&Ve(_e.profile)&&un(ue,ye,_e,!1,!0),Ze)_e.useVAO?_e.drawVAO?Ve(_e.drawVAO)?ye(ue.shared.vao,".setVAO(",_e.drawVAO.append(ue,ye),");"):Me(ue.shared.vao,".setVAO(",_e.drawVAO.append(ue,Me),");"):Me(ue.shared.vao,".setVAO(",ue.shared.vao,".targetVAO);"):(Me(ue.shared.vao,".setVAO(null);"),va(ue,Me,_e,Ze.attributes,cr),va(ue,ye,_e,Ze.attributes,Ve)),wa(ue,Me,_e,Ze.uniforms,cr,!1),wa(ue,ye,_e,Ze.uniforms,Ve,!0),Aa(ue,Me,ye,_e);else{var Cr=ue.global.def("{}"),xt=_e.shader.progVar.append(ue,ye),Qr=ye.def(xt,".id"),Zr=ye.def(Cr,"[",Qr,"]");ye(ue.shared.gl,".useProgram(",xt,".program);","if(!",Zr,"){",Zr,"=",Cr,"[",Qr,"]=",ue.link(function(yt){return Lt(he,ue,_e,yt,2)}),"(",xt,");}",Zr,".call(this,a0[",ze,"],",ze,");")}}function er(ue,de){var _e=ue.proc("batch",2);ue.batchId="0",Jn(ue,_e);var Ze=!1,ir=!0;Object.keys(de.context).forEach(function(Cr){Ze=Ze||de.context[Cr].propDep}),Ze||(zn(ue,_e,de.context),ir=!1);var ze=de.framebuffer,Pe=!1;ze?(ze.propDep?Ze=Pe=!0:ze.contextDep&&Ze&&(Pe=!0),Pe||qn(ue,_e,ze)):qn(ue,_e,null),de.state.viewport&&de.state.viewport.propDep&&(Ze=!0);function Ce(Cr){return Cr.contextDep&&Ze||Cr.propDep}Xn(ue,_e,de),Ot(ue,_e,de.state,function(Cr){return!Ce(Cr)}),(!de.profile||!Ce(de.profile))&&un(ue,_e,de,!1,"a1"),de.contextDep=Ze,de.needsContext=ir,de.needsFramebuffer=Pe;var me=de.shader.progVar;if(me.contextDep&&Ze||me.propDep)$e(ue,_e,de,null);else{var Me=me.append(ue,_e);if(_e(ue.shared.gl,".useProgram(",Me,".program);"),de.shader.program)$e(ue,_e,de,de.shader.program);else{_e(ue.shared.vao,".setVAO(null);");var ye=ue.global.def("{}"),Ve=_e.def(Me,".id"),cr=_e.def(ye,"[",Ve,"]");_e(ue.cond(cr).then(cr,".call(this,a0,a1);").else(cr,"=",ye,"[",Ve,"]=",ue.link(function(Cr){return Lt($e,ue,de,Cr,2)}),"(",Me,");",cr,".call(this,a0,a1);"))}}Object.keys(de.state).length>0&&_e(ue.shared.current,".dirty=true;"),ue.shared.vao&&_e(ue.shared.vao,".setVAO(null);")}function st(ue,de){var _e=ue.proc("scope",3);ue.batchId="a2";var Ze=ue.shared,ir=Ze.current;if(zn(ue,_e,de.context),de.framebuffer&&de.framebuffer.append(ue,_e),Fr(Object.keys(de.state)).forEach(function(Ce){var me=de.state[Ce],Me=me.append(ue,_e);qi(Me)?Me.forEach(function(ye,Ve){Kr(ye)?_e.set(ue.next[Ce],"["+Ve+"]",ye):_e.set(ue.next[Ce],"["+Ve+"]",ue.link(ye,{stable:!0}))}):at(me)?_e.set(Ze.next,"."+Ce,ue.link(Me,{stable:!0})):_e.set(Ze.next,"."+Ce,Me)}),un(ue,_e,de,!0,!0),[Co,Iu,Zo,Ri,jo].forEach(function(Ce){var me=de.draw[Ce];if(me){var Me=me.append(ue,_e);Kr(Me)?_e.set(Ze.draw,"."+Ce,Me):_e.set(Ze.draw,"."+Ce,ue.link(Me),{stable:!0})}}),Object.keys(de.uniforms).forEach(function(Ce){var me=de.uniforms[Ce].append(ue,_e);Array.isArray(me)&&(me="["+me.map(function(Me){return Kr(Me)?Me:ue.link(Me,{stable:!0})})+"]"),_e.set(Ze.uniforms,"["+ue.link(ce.id(Ce),{stable:!0})+"]",me)}),Object.keys(de.attributes).forEach(function(Ce){var me=de.attributes[Ce].append(ue,_e),Me=ue.scopeAttrib(Ce);Object.keys(new ur).forEach(function(ye){_e.set(Me,"."+ye,me[ye])})}),de.scopeVAO){var ze=de.scopeVAO.append(ue,_e);Kr(ze)?_e.set(Ze.vao,".targetVAO",ze):_e.set(Ze.vao,".targetVAO",ue.link(ze,{stable:!0}))}function Pe(Ce){var me=de.shader[Ce];if(me){var Me=me.append(ue,_e);Kr(Me)?_e.set(Ze.shader,"."+Ce,Me):_e.set(Ze.shader,"."+Ce,ue.link(Me,{stable:!0}))}}Pe(ll),Pe(ql),Object.keys(de.state).length>0&&(_e(ir,".dirty=true;"),_e.exit(ir,".dirty=true;")),_e("a1(",ue.shared.context,",a0,",ue.batchId,");")}function Yt(ue){if(!(typeof ue!="object"||qi(ue))){for(var de=Object.keys(ue),_e=0;_e<de.length;++_e)if(v.isDynamic(ue[de[_e]]))return!0;return!1}}function on(ue,de,_e){var Ze=de.static[_e];if(!Ze||!Yt(Ze))return;var ir=ue.global,ze=Object.keys(Ze),Pe=!1,Ce=!1,me=!1,Me=ue.global.def("{}");ze.forEach(function(Ve){var cr=Ze[Ve];if(v.isDynamic(cr)){typeof cr=="function"&&(cr=Ze[Ve]=v.unbox(cr));var Cr=At(cr,null);Pe=Pe||Cr.thisDep,me=me||Cr.propDep,Ce=Ce||Cr.contextDep}else{switch(ir(Me,".",Ve,"="),typeof cr){case"number":ir(cr);break;case"string":ir('"',cr,'"');break;case"object":Array.isArray(cr)&&ir("[",cr.join(),"]");break;default:ir(ue.link(cr));break}ir(";")}});function ye(Ve,cr){ze.forEach(function(Cr){var xt=Ze[Cr];if(v.isDynamic(xt)){var Qr=Ve.invoke(cr,xt);cr(Me,".",Cr,"=",Qr,";")}})}de.dynamic[_e]=new v.DynamicVariable(Hs,{thisDep:Pe,contextDep:Ce,propDep:me,ref:Me,append:ye}),delete de.static[_e]}function ot(ue,de,_e,Ze,ir){var ze=nt();ze.stats=ze.link(ir),Object.keys(de.static).forEach(function(Ce){on(ze,de,Ce)}),Td.forEach(function(Ce){on(ze,ue,Ce)});var Pe=_a(ue,de,_e,Ze,ze);return Pe.shader.program&&(Pe.shader.program.attributes.sort(function(Ce,me){return Ce.name<me.name?-1:1}),Pe.shader.program.uniforms.sort(function(Ce,me){return Ce.name<me.name?-1:1})),yn(ze,Pe),st(ze,Pe),er(ze,Pe),e(ze.compile(),{destroy:function(){Pe.shader.program.destroy()}})}return{next:pt,current:Hr,procs:function(){var ue=nt(),de=ue.proc("poll"),_e=ue.proc("refresh"),Ze=ue.block();de(Ze),_e(Ze);var ir=ue.shared,ze=ir.gl,Pe=ir.next,Ce=ir.current;Ze(Ce,".dirty=false;"),qn(ue,de),qn(ue,_e,null,!0);var me;Dr&&(me=ue.link(Dr)),ge.oes_vertex_array_object&&_e(ue.link(ge.oes_vertex_array_object),".bindVertexArrayOES(null);");var Me=_e.def(ir.attributes),ye=_e.def(0),Ve=ue.cond(ye,".buffer");Ve.then(ze,".enableVertexAttribArray(i);",ze,".bindBuffer(",Lo,",",ye,".buffer.buffer);",ze,".vertexAttribPointer(i,",ye,".size,",ye,".type,",ye,".normalized,",ye,".stride,",ye,".offset);").else(ze,".disableVertexAttribArray(i);",ze,".vertexAttrib4f(i,",ye,".x,",ye,".y,",ye,".z,",ye,".w);",ye,".buffer=null;");var cr=ue.link(Ye.maxAttributes,{stable:!0});return _e("for(var i=0;i<",cr,";++i){",ye,"=",Me,"[i];",Ve,"}"),Dr&&_e("for(var i=0;i<",cr,";++i){",me,".vertexAttribDivisorANGLE(i,",Me,"[i].divisor);","}"),_e(ue.shared.vao,".currentVAO=null;",ue.shared.vao,".setVAO(",ue.shared.vao,".targetVAO);"),Object.keys(yr).forEach(function(Cr){var xt=yr[Cr],Qr=Ze.def(Pe,".",Cr),Zr=ue.block();Zr("if(",Qr,"){",ze,".enable(",xt,")}else{",ze,".disable(",xt,")}",Ce,".",Cr,"=",Qr,";"),_e(Zr),de("if(",Qr,"!==",Ce,".",Cr,"){",Zr,"}")}),Object.keys(Jr).forEach(function(Cr){var xt=Jr[Cr],Qr=Hr[Cr],Zr,yt,ht=ue.block();if(ht(ze,".",xt,"("),qi(Qr)){var ut=Qr.length;Zr=ue.global.def(Pe,".",Cr),yt=ue.global.def(Ce,".",Cr),ht(g(ut,function($r){return Zr+"["+$r+"]"}),");",g(ut,function($r){return yt+"["+$r+"]="+Zr+"["+$r+"];"}).join("")),de("if(",g(ut,function($r){return Zr+"["+$r+"]!=="+yt+"["+$r+"]"}).join("||"),"){",ht,"}")}else Zr=Ze.def(Pe,".",Cr),yt=Ze.def(Ce,".",Cr),ht(Zr,");",Ce,".",Cr,"=",Zr,";"),de("if(",Zr,"!==",yt,"){",ht,"}");_e(ht)}),ue.compile()}(),compile:ot}}function Ht(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var sn=34918,Wt=34919,en=35007,Bn=function(H,ce){if(!ce.ext_disjoint_timer_query)return null;var ge=[];function Ye(){return ge.pop()||ce.ext_disjoint_timer_query.createQueryEXT()}function rr(Sr){ge.push(Sr)}var ar=[];function tr(Sr){var Dr=Ye();ce.ext_disjoint_timer_query.beginQueryEXT(en,Dr),ar.push(Dr),Wr(ar.length-1,ar.length,Sr)}function Ar(){ce.ext_disjoint_timer_query.endQueryEXT(en)}function Pr(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Ir=[];function Nr(){return Ir.pop()||new Pr}function mt(Sr){Ir.push(Sr)}var it=[];function Wr(Sr,Dr,br){var Xr=Nr();Xr.startQueryIndex=Sr,Xr.endQueryIndex=Dr,Xr.sum=0,Xr.stats=br,it.push(Xr)}var mr=[],Oe=[];function ur(){var Sr,Dr,br=ar.length;if(br!==0){Oe.length=Math.max(Oe.length,br+1),mr.length=Math.max(mr.length,br+1),mr[0]=0,Oe[0]=0;var Xr=0;for(Sr=0,Dr=0;Dr<ar.length;++Dr){var Hr=ar[Dr];ce.ext_disjoint_timer_query.getQueryObjectEXT(Hr,Wt)?(Xr+=ce.ext_disjoint_timer_query.getQueryObjectEXT(Hr,sn),rr(Hr)):ar[Sr++]=Hr,mr[Dr+1]=Xr,Oe[Dr+1]=Sr}for(ar.length=Sr,Sr=0,Dr=0;Dr<it.length;++Dr){var pt=it[Dr],xr=pt.startQueryIndex,yr=pt.endQueryIndex;pt.sum+=mr[yr]-mr[xr];var Jr=Oe[xr],Gr=Oe[yr];Gr===Jr?(pt.stats.gpuTime+=pt.sum/1e6,mt(pt)):(pt.startQueryIndex=Jr,pt.endQueryIndex=Gr,it[Sr++]=pt)}it.length=Sr}}return{beginQuery:tr,endQuery:Ar,pushScopeStats:Wr,update:ur,getNumPendingQueries:function(){return ar.length},clear:function(){ge.push.apply(ge,ar);for(var Sr=0;Sr<ge.length;Sr++)ce.ext_disjoint_timer_query.deleteQueryEXT(ge[Sr]);ar.length=0,ge.length=0},restore:function(){ar.length=0,ge.length=0}}},Ra=16384,Zn=256,kt=1024,fn=34962,hn="webglcontextlost",On="webglcontextrestored",ca=1,qa=2,si=3;function fi(H,ce){for(var ge=0;ge<H.length;++ge)if(H[ge]===ce)return ge;return-1}function Vi(H){var ce=p(H);if(!ce)return null;var ge=ce.gl,Ye=ge.getContextAttributes(),rr=ge.isContextLost(),ar=_(ge,ce);if(!ar)return null;var tr=w(),Ar=Ht(),Pr=ce.cachedCode||{},Ir=ar.extensions,Nr=Bn(ge,Ir),mt=m(),it=ge.drawingBufferWidth,Wr=ge.drawingBufferHeight,mr={tick:0,time:0,viewportWidth:it,viewportHeight:Wr,framebufferWidth:it,framebufferHeight:Wr,drawingBufferWidth:it,drawingBufferHeight:Wr,pixelRatio:ce.pixelRatio},Oe={},ur={elements:null,primitive:4,count:-1,offset:0,instances:-1},Sr=et(ge,Ir),Dr=la(ge,Ar,ce,Hr),br=ia(ge,Ir,Dr,Ar),Xr=Sh(ge,Ir,Sr,Ar,Dr,br,ur);function Hr(Lt){return Xr.destroyBuffer(Lt)}var pt=pd(ge,tr,Ar,ce),xr=dd(ge,Ir,Sr,function(){Gr.procs.poll()},mr,Ar,ce),yr=Kp(ge,Ir,Sr,Ar,ce),Jr=ng(ge,Ir,Sr,xr,yr,Ar),Gr=Gt(ge,tr,Ir,Sr,Dr,br,xr,Jr,Oe,Xr,pt,ur,mr,Nr,Pr,ce),Br=gd(ge,Jr,Gr.procs.poll,mr,Ye,Ir,Sr),Ur=Gr.next,Kr=ge.canvas,gt=[],St=[],Vr=[],nt=[ce.onDestroy],Mt=null;function Et(){if(gt.length===0){Nr&&Nr.update(),Mt=null;return}Mt=x.next(Et),Xn();for(var Lt=gt.length-1;Lt>=0;--Lt){var Xt=gt[Lt];Xt&&Xt(mr,null,0)}ge.flush(),Nr&&Nr.update()}function zt(){!Mt&&gt.length>0&&(Mt=x.next(Et))}function En(){Mt&&(x.cancel(Et),Mt=null)}function Wn(Lt){Lt.preventDefault(),rr=!0,En(),St.forEach(function(Xt){Xt()})}function Vt(Lt){ge.getError(),rr=!1,ar.restore(),pt.restore(),Dr.restore(),xr.restore(),yr.restore(),Jr.restore(),Xr.restore(),Nr&&Nr.restore(),Gr.procs.refresh(),zt(),Vr.forEach(function(Xt){Xt()})}Kr&&(Kr.addEventListener(hn,Wn,!1),Kr.addEventListener(On,Vt,!1));function ba(){gt.length=0,En(),Kr&&(Kr.removeEventListener(hn,Wn),Kr.removeEventListener(On,Vt)),pt.clear(),Jr.clear(),yr.clear(),Xr.clear(),xr.clear(),br.clear(),Dr.clear(),Nr&&Nr.clear(),nt.forEach(function(Lt){Lt()})}function an(Lt){function Xt(ze){var Pe=e({},ze);delete Pe.uniforms,delete Pe.attributes,delete Pe.context,delete Pe.vao,"stencil"in Pe&&Pe.stencil.op&&(Pe.stencil.opBack=Pe.stencil.opFront=Pe.stencil.op,delete Pe.stencil.op);function Ce(me){if(me in Pe){var Me=Pe[me];delete Pe[me],Object.keys(Me).forEach(function(ye){Pe[me+"."+ye]=Me[ye]})}}return Ce("blend"),Ce("depth"),Ce("cull"),Ce("stencil"),Ce("polygonOffset"),Ce("scissor"),Ce("sample"),"vao"in ze&&(Pe.vao=ze.vao),Pe}function yn(ze,Pe){var Ce={},me={};return Object.keys(ze).forEach(function(Me){var ye=ze[Me];if(v.isDynamic(ye)){me[Me]=v.unbox(ye,Me);return}else if(Pe&&Array.isArray(ye)){for(var Ve=0;Ve<ye.length;++Ve)if(v.isDynamic(ye[Ve])){me[Me]=v.unbox(ye,Me);return}}Ce[Me]=ye}),{dynamic:me,static:Ce}}var he=yn(Lt.context||{},!0),$e=yn(Lt.uniforms||{},!0),er=yn(Lt.attributes||{},!1),st=yn(Xt(Lt),!1),Yt={gpuTime:0,cpuTime:0,count:0},on=Gr.compile(st,er,$e,he,Yt),ot=on.draw,ue=on.batch,de=on.scope,_e=[];function Ze(ze){for(;_e.length<ze;)_e.push(null);return _e}function ir(ze,Pe){var Ce;if(typeof ze=="function")return de.call(this,null,ze,0);if(typeof Pe=="function")if(typeof ze=="number")for(Ce=0;Ce<ze;++Ce)de.call(this,null,Pe,Ce);else if(Array.isArray(ze))for(Ce=0;Ce<ze.length;++Ce)de.call(this,ze[Ce],Pe,Ce);else return de.call(this,ze,Pe,0);else if(typeof ze=="number"){if(ze>0)return ue.call(this,Ze(ze|0),ze|0)}else if(Array.isArray(ze)){if(ze.length)return ue.call(this,ze,ze.length)}else return ot.call(this,ze)}return e(ir,{stats:Yt,destroy:function(){on.destroy()}})}var sa=Jr.setFBO=an({framebuffer:v.define.call(null,ca,"framebuffer")});function ha(Lt,Xt){var yn=0;Gr.procs.poll();var he=Xt.color;he&&(ge.clearColor(+he[0]||0,+he[1]||0,+he[2]||0,+he[3]||0),yn|=Ra),"depth"in Xt&&(ge.clearDepth(+Xt.depth),yn|=Zn),"stencil"in Xt&&(ge.clearStencil(Xt.stencil|0),yn|=kt),ge.clear(yn)}function _a(Lt){if("framebuffer"in Lt)if(Lt.framebuffer&&Lt.framebuffer_reglType==="framebufferCube")for(var Xt=0;Xt<6;++Xt)sa(e({framebuffer:Lt.framebuffer.faces[Xt]},Lt),ha);else sa(Lt,ha);else ha(null,Lt)}function zn(Lt){gt.push(Lt);function Xt(){var yn=fi(gt,Lt);function he(){var $e=fi(gt,he);gt[$e]=gt[gt.length-1],gt.length-=1,gt.length<=0&&En()}gt[yn]=he}return zt(),{cancel:Xt}}function qn(){var Lt=Ur.viewport,Xt=Ur.scissor_box;Lt[0]=Lt[1]=Xt[0]=Xt[1]=0,mr.viewportWidth=mr.framebufferWidth=mr.drawingBufferWidth=Lt[2]=Xt[2]=ge.drawingBufferWidth,mr.viewportHeight=mr.framebufferHeight=mr.drawingBufferHeight=Lt[3]=Xt[3]=ge.drawingBufferHeight}function Xn(){mr.tick+=1,mr.time=Jn(),qn(),Gr.procs.poll()}function Ot(){xr.refresh(),qn(),Gr.procs.refresh(),Nr&&Nr.update()}function Jn(){return(m()-mt)/1e3}Ot();function un(Lt,Xt){var yn;switch(Lt){case"frame":return zn(Xt);case"lost":yn=St;break;case"restore":yn=Vr;break;case"destroy":yn=nt;break;default:}return yn.push(Xt),{cancel:function(){for(var he=0;he<yn.length;++he)if(yn[he]===Xt){yn[he]=yn[yn.length-1],yn.pop();return}}}}function va(){return Pr}function wa(Lt){Object.entries(Lt).forEach(function(Xt){Pr[Xt[0]]=Xt[1]})}var Aa=e(an,{clear:_a,prop:v.define.bind(null,ca),context:v.define.bind(null,qa),this:v.define.bind(null,si),draw:an({}),buffer:function(Lt){return Dr.create(Lt,fn,!1,!1)},elements:function(Lt){return br.create(Lt,!1)},texture:xr.create2D,cube:xr.createCube,renderbuffer:yr.create,framebuffer:Jr.create,framebufferCube:Jr.createCube,vao:Xr.createVAO,attributes:Ye,frame:zn,on:un,limits:Sr,hasExtension:function(Lt){return Sr.extensions.indexOf(Lt.toLowerCase())>=0},read:Br,destroy:ba,_gl:ge,_refresh:Ot,poll:function(){Xn(),Nr&&Nr.update()},now:Jn,stats:Ar,getCachedCode:va,preloadCachedCode:wa});return ce.onDone(null,Aa),Aa}return Vi})});var Loe=fe((fWe,koe)=>{"use strict";var fRe=gc();koe.exports=function(r){if(r?typeof r=="string"&&(r={container:r}):r={},Soe(r)?r={container:r}:uRe(r)?r={container:r}:cRe(r)?r={gl:r}:r=fRe(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),r.pixelRatio||(r.pixelRatio=window.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if(typeof r.container=="string"){var t=document.querySelector(r.container);if(!t)throw Error("Element "+r.container+" is not found");r.container=t}Soe(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=Coe(),r.container.appendChild(r.canvas),Eoe(r))}else if(!r.canvas)if(typeof document!="undefined")r.container=document.body||document.documentElement,r.canvas=Coe(),r.container.appendChild(r.canvas),Eoe(r);else throw Error("Not DOM environment. Use headless-gl.");return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(n){try{r.gl=r.canvas.getContext(n,r.attrs)}catch(a){}return r.gl}),r.gl};function Eoe(e){if(e.container)if(e.container==document.body)document.body.style.width||(e.canvas.width=e.width||e.pixelRatio*window.innerWidth),document.body.style.height||(e.canvas.height=e.height||e.pixelRatio*window.innerHeight);else{var r=e.container.getBoundingClientRect();e.canvas.width=e.width||r.right-r.left,e.canvas.height=e.height||r.bottom-r.top}}function Soe(e){return typeof e.getContext=="function"&&"width"in e&&"height"in e}function uRe(e){return typeof e.nodeName=="string"&&typeof e.appendChild=="function"&&typeof e.getBoundingClientRect=="function"}function cRe(e){return typeof e.drawArrays=="function"||typeof e.drawElements=="function"}function Coe(){var e=document.createElement("canvas");return e.style.position="absolute",e.style.top=0,e.style.left=0,e}});var Foe=fe((uWe,Roe)=>{"use strict";var hRe=vS(),vRe=[32,126];Roe.exports=dRe;function dRe(e){e=e||{};var r=e.shape?e.shape:e.canvas?[e.canvas.width,e.canvas.height]:[512,512],t=e.canvas||document.createElement("canvas"),n=e.font,a=typeof e.step=="number"?[e.step,e.step]:e.step||[32,32],o=e.chars||vRe;if(n&&typeof n!="string"&&(n=hRe(n)),!Array.isArray(o))o=String(o).split("");else if(o.length===2&&typeof o[0]=="number"&&typeof o[1]=="number"){for(var i=[],l=o[0],f=0;l<=o[1];l++)i[f++]=String.fromCharCode(l);o=i}r=r.slice(),t.width=r[0],t.height=r[1];var s=t.getContext("2d");s.fillStyle="#000",s.fillRect(0,0,t.width,t.height),s.font=n,s.textAlign="center",s.textBaseline="middle",s.fillStyle="#fff";for(var u=a[0]/2,c=a[1]/2,l=0;l<o.length;l++)s.fillText(o[l],u,c),(u+=a[0])>r[0]-a[0]/2&&(u=a[0]/2,c+=a[1]);return t}});var yS=fe(mi=>{"use strict";"use restrict";var gS=32;mi.INT_BITS=gS;mi.INT_MAX=2147483647;mi.INT_MIN=-1<<gS-1;mi.sign=function(e){return(e>0)-(e<0)};mi.abs=function(e){var r=e>>gS-1;return(e^r)-r};mi.min=function(e,r){return r^(e^r)&-(e<r)};mi.max=function(e,r){return e^(e^r)&-(e<r)};mi.isPow2=function(e){return!(e&e-1)&&!!e};mi.log2=function(e){var r,t;return r=(e>65535)<<4,e>>>=r,t=(e>255)<<3,e>>>=t,r|=t,t=(e>15)<<2,e>>>=t,r|=t,t=(e>3)<<1,e>>>=t,r|=t,r|e>>1};mi.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0};mi.popCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24};function Doe(e){var r=32;return e&=-e,e&&r--,e&65535&&(r-=16),e&16711935&&(r-=8),e&252645135&&(r-=4),e&858993459&&(r-=2),e&1431655765&&(r-=1),r}mi.countTrailingZeros=Doe;mi.nextPow2=function(e){return e+=e===0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1};mi.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)};mi.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,27030>>>e&1};var v2=new Array(256);(function(e){for(var r=0;r<256;++r){var t=r,n=r,a=7;for(t>>>=1;t;t>>>=1)n<<=1,n|=t&1,--a;e[r]=n<<a&255}})(v2);mi.reverse=function(e){return v2[e&255]<<24|v2[e>>>8&255]<<16|v2[e>>>16&255]<<8|v2[e>>>24&255]};mi.interleave2=function(e,r){return e&=65535,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r&=65535,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e|r<<1};mi.deinterleave2=function(e,r){return e=e>>>r&1431655765,e=(e|e>>>1)&858993459,e=(e|e>>>2)&252645135,e=(e|e>>>4)&16711935,e=(e|e>>>16)&65535,e<<16>>16};mi.interleave3=function(e,r,t){return e&=1023,e=(e|e<<16)&4278190335,e=(e|e<<8)&251719695,e=(e|e<<4)&3272356035,e=(e|e<<2)&1227133513,r&=1023,r=(r|r<<16)&4278190335,r=(r|r<<8)&251719695,r=(r|r<<4)&3272356035,r=(r|r<<2)&1227133513,e|=r<<1,t&=1023,t=(t|t<<16)&4278190335,t=(t|t<<8)&251719695,t=(t|t<<4)&3272356035,t=(t|t<<2)&1227133513,e|t<<2};mi.deinterleave3=function(e,r){return e=e>>>r&1227133513,e=(e|e>>>2)&3272356035,e=(e|e>>>4)&251719695,e=(e|e>>>8)&4278190335,e=(e|e>>>16)&1023,e<<22>>22};mi.nextCombination=function(e){var r=e|e-1;return r+1|(~r&-~r)-1>>>Doe(e)+1}});var Ooe=fe((hWe,Poe)=>{"use strict";function Ioe(e,r,t){var n=e[t]|0;if(n<=0)return[];var a=new Array(n),o;if(t===e.length-1)for(o=0;o<n;++o)a[o]=r;else for(o=0;o<n;++o)a[o]=Ioe(e,r,t+1);return a}function pRe(e,r){var t,n;for(t=new Array(e),n=0;n<e;++n)t[n]=r;return t}function gRe(e,r){switch(typeof r=="undefined"&&(r=0),typeof e){case"number":if(e>0)return pRe(e|0,r);break;case"object":if(typeof e.length=="number")return Ioe(e,r,0);break}return[]}Poe.exports=gRe});var zoe=fe(pw=>{"use strict";pw.byteLength=mRe;pw.toByteArray=bRe;pw.fromByteArray=ARe;var cu=[],Ls=[],yRe=typeof Uint8Array!="undefined"?Uint8Array:Array,mS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Qv=0,Noe=mS.length;Qv<Noe;++Qv)cu[Qv]=mS[Qv],Ls[mS.charCodeAt(Qv)]=Qv;var Qv,Noe;Ls[45]=62;Ls[95]=63;function Boe(e){var r=e.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");t===-1&&(t=r);var n=t===r?0:4-t%4;return[t,n]}function mRe(e){var r=Boe(e),t=r[0],n=r[1];return(t+n)*3/4-n}function xRe(e,r,t){return(r+t)*3/4-t}function bRe(e){var r,t=Boe(e),n=t[0],a=t[1],o=new yRe(xRe(e,n,a)),i=0,l=a>0?n-4:n,f;for(f=0;f<l;f+=4)r=Ls[e.charCodeAt(f)]<<18|Ls[e.charCodeAt(f+1)]<<12|Ls[e.charCodeAt(f+2)]<<6|Ls[e.charCodeAt(f+3)],o[i++]=r>>16&255,o[i++]=r>>8&255,o[i++]=r&255;return a===2&&(r=Ls[e.charCodeAt(f)]<<2|Ls[e.charCodeAt(f+1)]>>4,o[i++]=r&255),a===1&&(r=Ls[e.charCodeAt(f)]<<10|Ls[e.charCodeAt(f+1)]<<4|Ls[e.charCodeAt(f+2)]>>2,o[i++]=r>>8&255,o[i++]=r&255),o}function _Re(e){return cu[e>>18&63]+cu[e>>12&63]+cu[e>>6&63]+cu[e&63]}function wRe(e,r,t){for(var n,a=[],o=r;o<t;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),a.push(_Re(n));return a.join("")}function ARe(e){for(var r,t=e.length,n=t%3,a=[],o=16383,i=0,l=t-n;i<l;i+=o)a.push(wRe(e,i,i+o>l?l:i+o));return n===1?(r=e[t-1],a.push(cu[r>>2]+cu[r<<4&63]+"==")):n===2&&(r=(e[t-2]<<8)+e[t-1],a.push(cu[r>>10]+cu[r>>4&63]+cu[r<<2&63]+"=")),a.join("")}});var qoe=fe(xS=>{xS.read=function(e,r,t,n,a){var o,i,l=a*8-n-1,f=(1<<l)-1,s=f>>1,u=-7,c=t?a-1:0,v=t?-1:1,x=e[r+c];for(c+=v,o=x&(1<<-u)-1,x>>=-u,u+=l;u>0;o=o*256+e[r+c],c+=v,u-=8);for(i=o&(1<<-u)-1,o>>=-u,u+=n;u>0;i=i*256+e[r+c],c+=v,u-=8);if(o===0)o=1-s;else{if(o===f)return i?NaN:(x?-1:1)*(1/0);i=i+Math.pow(2,n),o=o-s}return(x?-1:1)*i*Math.pow(2,o-n)};xS.write=function(e,r,t,n,a,o){var i,l,f,s=o*8-a-1,u=(1<<s)-1,c=u>>1,v=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=n?0:o-1,m=n?1:-1,w=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(l=isNaN(r)?1:0,i=u):(i=Math.floor(Math.log(r)/Math.LN2),r*(f=Math.pow(2,-i))<1&&(i--,f*=2),i+c>=1?r+=v/f:r+=v*Math.pow(2,1-c),r*f>=2&&(i++,f/=2),i+c>=u?(l=0,i=u):i+c>=1?(l=(r*f-1)*Math.pow(2,a),i=i+c):(l=r*Math.pow(2,c-1)*Math.pow(2,a),i=0));a>=8;e[t+x]=l&255,x+=m,l/=256,a-=8);for(i=i<<a|l,s+=a;s>0;e[t+x]=i&255,x+=m,i/=256,s-=8);e[t+x-m]|=w*128}});var nle=fe(Dp=>{"use strict";var bS=zoe(),Rp=qoe(),Uoe=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Dp.Buffer=wt;Dp.SlowBuffer=kRe;Dp.INSPECT_MAX_BYTES=50;var gw=2147483647;Dp.kMaxLength=gw;wt.TYPED_ARRAY_SUPPORT=TRe();!wt.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function TRe(){try{let e=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(e,r),e.foo()===42}catch(e){return!1}}Object.defineProperty(wt.prototype,"parent",{enumerable:!0,get:function(){if(wt.isBuffer(this))return this.buffer}});Object.defineProperty(wt.prototype,"offset",{enumerable:!0,get:function(){if(wt.isBuffer(this))return this.byteOffset}});function bc(e){if(e>gw)throw new RangeError('The value "'+e+'" is invalid for option "size"');let r=new Uint8Array(e);return Object.setPrototypeOf(r,wt.prototype),r}function wt(e,r,t){if(typeof e=="number"){if(typeof r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return TS(e)}return Yoe(e,r,t)}wt.poolSize=8192;function Yoe(e,r,t){if(typeof e=="string")return ERe(e,r);if(ArrayBuffer.isView(e))return SRe(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(hu(e,ArrayBuffer)||e&&hu(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(hu(e,SharedArrayBuffer)||e&&hu(e.buffer,SharedArrayBuffer)))return wS(e,r,t);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return wt.from(n,r,t);let a=CRe(e);if(a)return a;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return wt.from(e[Symbol.toPrimitive]("string"),r,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}wt.from=function(e,r,t){return Yoe(e,r,t)};Object.setPrototypeOf(wt.prototype,Uint8Array.prototype);Object.setPrototypeOf(wt,Uint8Array);function Woe(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function MRe(e,r,t){return Woe(e),e<=0?bc(e):r!==void 0?typeof t=="string"?bc(e).fill(r,t):bc(e).fill(r):bc(e)}wt.alloc=function(e,r,t){return MRe(e,r,t)};function TS(e){return Woe(e),bc(e<0?0:MS(e)|0)}wt.allocUnsafe=function(e){return TS(e)};wt.allocUnsafeSlow=function(e){return TS(e)};function ERe(e,r){if((typeof r!="string"||r==="")&&(r="utf8"),!wt.isEncoding(r))throw new TypeError("Unknown encoding: "+r);let t=Xoe(e,r)|0,n=bc(t),a=n.write(e,r);return a!==t&&(n=n.slice(0,a)),n}function _S(e){let r=e.length<0?0:MS(e.length)|0,t=bc(r);for(let n=0;n<r;n+=1)t[n]=e[n]&255;return t}function SRe(e){if(hu(e,Uint8Array)){let r=new Uint8Array(e);return wS(r.buffer,r.byteOffset,r.byteLength)}return _S(e)}function wS(e,r,t){if(r<0||e.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<r+(t||0))throw new RangeError('"length" is outside of buffer bounds');let n;return r===void 0&&t===void 0?n=new Uint8Array(e):t===void 0?n=new Uint8Array(e,r):n=new Uint8Array(e,r,t),Object.setPrototypeOf(n,wt.prototype),n}function CRe(e){if(wt.isBuffer(e)){let r=MS(e.length)|0,t=bc(r);return t.length===0||e.copy(t,0,0,r),t}if(e.length!==void 0)return typeof e.length!="number"||SS(e.length)?bc(0):_S(e);if(e.type==="Buffer"&&Array.isArray(e.data))return _S(e.data)}function MS(e){if(e>=gw)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+gw.toString(16)+" bytes");return e|0}function kRe(e){return+e!=e&&(e=0),wt.alloc(+e)}wt.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==wt.prototype};wt.compare=function(r,t){if(hu(r,Uint8Array)&&(r=wt.from(r,r.offset,r.byteLength)),hu(t,Uint8Array)&&(t=wt.from(t,t.offset,t.byteLength)),!wt.isBuffer(r)||!wt.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===t)return 0;let n=r.length,a=t.length;for(let o=0,i=Math.min(n,a);o<i;++o)if(r[o]!==t[o]){n=r[o],a=t[o];break}return n<a?-1:a<n?1:0};wt.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};wt.concat=function(r,t){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return wt.alloc(0);let n;if(t===void 0)for(t=0,n=0;n<r.length;++n)t+=r[n].length;let a=wt.allocUnsafe(t),o=0;for(n=0;n<r.length;++n){let i=r[n];if(hu(i,Uint8Array))o+i.length>a.length?(wt.isBuffer(i)||(i=wt.from(i)),i.copy(a,o)):Uint8Array.prototype.set.call(a,i,o);else if(wt.isBuffer(i))i.copy(a,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=i.length}return a};function Xoe(e,r){if(wt.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||hu(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let t=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let a=!1;for(;;)switch(r){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return AS(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return tle(e).length;default:if(a)return n?-1:AS(e).length;r=(""+r).toLowerCase(),a=!0}}wt.byteLength=Xoe;function LRe(e,r,t){let n=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,r>>>=0,t<=r))return"";for(e||(e="utf8");;)switch(e){case"hex":return qRe(this,r,t);case"utf8":case"utf-8":return Zoe(this,r,t);case"ascii":return BRe(this,r,t);case"latin1":case"binary":return zRe(this,r,t);case"base64":return ORe(this,r,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return URe(this,r,t);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}wt.prototype._isBuffer=!0;function ed(e,r,t){let n=e[r];e[r]=e[t],e[t]=n}wt.prototype.swap16=function(){let r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<r;t+=2)ed(this,t,t+1);return this};wt.prototype.swap32=function(){let r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<r;t+=4)ed(this,t,t+3),ed(this,t+1,t+2);return this};wt.prototype.swap64=function(){let r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<r;t+=8)ed(this,t,t+7),ed(this,t+1,t+6),ed(this,t+2,t+5),ed(this,t+3,t+4);return this};wt.prototype.toString=function(){let r=this.length;return r===0?"":arguments.length===0?Zoe(this,0,r):LRe.apply(this,arguments)};wt.prototype.toLocaleString=wt.prototype.toString;wt.prototype.equals=function(r){if(!wt.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:wt.compare(this,r)===0};wt.prototype.inspect=function(){let r="",t=Dp.INSPECT_MAX_BYTES;return r=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(r+=" ... "),"<Buffer "+r+">"};Uoe&&(wt.prototype[Uoe]=wt.prototype.inspect);wt.prototype.compare=function(r,t,n,a,o){if(hu(r,Uint8Array)&&(r=wt.from(r,r.offset,r.byteLength)),!wt.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(t===void 0&&(t=0),n===void 0&&(n=r?r.length:0),a===void 0&&(a=0),o===void 0&&(o=this.length),t<0||n>r.length||a<0||o>this.length)throw new RangeError("out of range index");if(a>=o&&t>=n)return 0;if(a>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,a>>>=0,o>>>=0,this===r)return 0;let i=o-a,l=n-t,f=Math.min(i,l),s=this.slice(a,o),u=r.slice(t,n);for(let c=0;c<f;++c)if(s[c]!==u[c]){i=s[c],l=u[c];break}return i<l?-1:l<i?1:0};function joe(e,r,t,n,a){if(e.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,SS(t)&&(t=a?0:e.length-1),t<0&&(t=e.length+t),t>=e.length){if(a)return-1;t=e.length-1}else if(t<0)if(a)t=0;else return-1;if(typeof r=="string"&&(r=wt.from(r,n)),wt.isBuffer(r))return r.length===0?-1:Goe(e,r,t,n,a);if(typeof r=="number")return r=r&255,typeof Uint8Array.prototype.indexOf=="function"?a?Uint8Array.prototype.indexOf.call(e,r,t):Uint8Array.prototype.lastIndexOf.call(e,r,t):Goe(e,[r],t,n,a);throw new TypeError("val must be string, number or Buffer")}function Goe(e,r,t,n,a){let o=1,i=e.length,l=r.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||r.length<2)return-1;o=2,i/=2,l/=2,t/=2}function f(u,c){return o===1?u[c]:u.readUInt16BE(c*o)}let s;if(a){let u=-1;for(s=t;s<i;s++)if(f(e,s)===f(r,u===-1?0:s-u)){if(u===-1&&(u=s),s-u+1===l)return u*o}else u!==-1&&(s-=s-u),u=-1}else for(t+l>i&&(t=i-l),s=t;s>=0;s--){let u=!0;for(let c=0;c<l;c++)if(f(e,s+c)!==f(r,c)){u=!1;break}if(u)return s}return-1}wt.prototype.includes=function(r,t,n){return this.indexOf(r,t,n)!==-1};wt.prototype.indexOf=function(r,t,n){return joe(this,r,t,n,!0)};wt.prototype.lastIndexOf=function(r,t,n){return joe(this,r,t,n,!1)};function RRe(e,r,t,n){t=Number(t)||0;let a=e.length-t;n?(n=Number(n),n>a&&(n=a)):n=a;let o=r.length;n>o/2&&(n=o/2);let i;for(i=0;i<n;++i){let l=parseInt(r.substr(i*2,2),16);if(SS(l))return i;e[t+i]=l}return i}function FRe(e,r,t,n){return yw(AS(r,e.length-t),e,t,n)}function DRe(e,r,t,n){return yw(YRe(r),e,t,n)}function IRe(e,r,t,n){return yw(tle(r),e,t,n)}function PRe(e,r,t,n){return yw(WRe(r,e.length-t),e,t,n)}wt.prototype.write=function(r,t,n,a){if(t===void 0)a="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")a=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,a===void 0&&(a="utf8")):(a=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-t;if((n===void 0||n>o)&&(n=o),r.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");let i=!1;for(;;)switch(a){case"hex":return RRe(this,r,t,n);case"utf8":case"utf-8":return FRe(this,r,t,n);case"ascii":case"latin1":case"binary":return DRe(this,r,t,n);case"base64":return IRe(this,r,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return PRe(this,r,t,n);default:if(i)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),i=!0}};wt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ORe(e,r,t){return r===0&&t===e.length?bS.fromByteArray(e):bS.fromByteArray(e.slice(r,t))}function Zoe(e,r,t){t=Math.min(e.length,t);let n=[],a=r;for(;a<t;){let o=e[a],i=null,l=o>239?4:o>223?3:o>191?2:1;if(a+l<=t){let f,s,u,c;switch(l){case 1:o<128&&(i=o);break;case 2:f=e[a+1],(f&192)===128&&(c=(o&31)<<6|f&63,c>127&&(i=c));break;case 3:f=e[a+1],s=e[a+2],(f&192)===128&&(s&192)===128&&(c=(o&15)<<12|(f&63)<<6|s&63,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:f=e[a+1],s=e[a+2],u=e[a+3],(f&192)===128&&(s&192)===128&&(u&192)===128&&(c=(o&15)<<18|(f&63)<<12|(s&63)<<6|u&63,c>65535&&c<1114112&&(i=c))}}i===null?(i=65533,l=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|i&1023),n.push(i),a+=l}return NRe(n)}var Hoe=4096;function NRe(e){let r=e.length;if(r<=Hoe)return String.fromCharCode.apply(String,e);let t="",n=0;for(;n<r;)t+=String.fromCharCode.apply(String,e.slice(n,n+=Hoe));return t}function BRe(e,r,t){let n="";t=Math.min(e.length,t);for(let a=r;a<t;++a)n+=String.fromCharCode(e[a]&127);return n}function zRe(e,r,t){let n="";t=Math.min(e.length,t);for(let a=r;a<t;++a)n+=String.fromCharCode(e[a]);return n}function qRe(e,r,t){let n=e.length;(!r||r<0)&&(r=0),(!t||t<0||t>n)&&(t=n);let a="";for(let o=r;o<t;++o)a+=XRe[e[o]];return a}function URe(e,r,t){let n=e.slice(r,t),a="";for(let o=0;o<n.length-1;o+=2)a+=String.fromCharCode(n[o]+n[o+1]*256);return a}wt.prototype.slice=function(r,t){let n=this.length;r=~~r,t=t===void 0?n:~~t,r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<r&&(t=r);let a=this.subarray(r,t);return Object.setPrototypeOf(a,wt.prototype),a};function io(e,r,t){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+r>t)throw new RangeError("Trying to access beyond buffer length")}wt.prototype.readUintLE=wt.prototype.readUIntLE=function(r,t,n){r=r>>>0,t=t>>>0,n||io(r,t,this.length);let a=this[r],o=1,i=0;for(;++i<t&&(o*=256);)a+=this[r+i]*o;return a};wt.prototype.readUintBE=wt.prototype.readUIntBE=function(r,t,n){r=r>>>0,t=t>>>0,n||io(r,t,this.length);let a=this[r+--t],o=1;for(;t>0&&(o*=256);)a+=this[r+--t]*o;return a};wt.prototype.readUint8=wt.prototype.readUInt8=function(r,t){return r=r>>>0,t||io(r,1,this.length),this[r]};wt.prototype.readUint16LE=wt.prototype.readUInt16LE=function(r,t){return r=r>>>0,t||io(r,2,this.length),this[r]|this[r+1]<<8};wt.prototype.readUint16BE=wt.prototype.readUInt16BE=function(r,t){return r=r>>>0,t||io(r,2,this.length),this[r]<<8|this[r+1]};wt.prototype.readUint32LE=wt.prototype.readUInt32LE=function(r,t){return r=r>>>0,t||io(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216};wt.prototype.readUint32BE=wt.prototype.readUInt32BE=function(r,t){return r=r>>>0,t||io(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])};wt.prototype.readBigUInt64LE=W0(function(r){r=r>>>0,Fp(r,"offset");let t=this[r],n=this[r+7];(t===void 0||n===void 0)&&d2(r,this.length-8);let a=t+this[++r]*2**8+this[++r]*2**16+this[++r]*2**24,o=this[++r]+this[++r]*2**8+this[++r]*2**16+n*2**24;return BigInt(a)+(BigInt(o)<<BigInt(32))});wt.prototype.readBigUInt64BE=W0(function(r){r=r>>>0,Fp(r,"offset");let t=this[r],n=this[r+7];(t===void 0||n===void 0)&&d2(r,this.length-8);let a=t*2**24+this[++r]*2**16+this[++r]*2**8+this[++r],o=this[++r]*2**24+this[++r]*2**16+this[++r]*2**8+n;return(BigInt(a)<<BigInt(32))+BigInt(o)});wt.prototype.readIntLE=function(r,t,n){r=r>>>0,t=t>>>0,n||io(r,t,this.length);let a=this[r],o=1,i=0;for(;++i<t&&(o*=256);)a+=this[r+i]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*t)),a};wt.prototype.readIntBE=function(r,t,n){r=r>>>0,t=t>>>0,n||io(r,t,this.length);let a=t,o=1,i=this[r+--a];for(;a>0&&(o*=256);)i+=this[r+--a]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i};wt.prototype.readInt8=function(r,t){return r=r>>>0,t||io(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]};wt.prototype.readInt16LE=function(r,t){r=r>>>0,t||io(r,2,this.length);let n=this[r]|this[r+1]<<8;return n&32768?n|4294901760:n};wt.prototype.readInt16BE=function(r,t){r=r>>>0,t||io(r,2,this.length);let n=this[r+1]|this[r]<<8;return n&32768?n|4294901760:n};wt.prototype.readInt32LE=function(r,t){return r=r>>>0,t||io(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24};wt.prototype.readInt32BE=function(r,t){return r=r>>>0,t||io(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]};wt.prototype.readBigInt64LE=W0(function(r){r=r>>>0,Fp(r,"offset");let t=this[r],n=this[r+7];(t===void 0||n===void 0)&&d2(r,this.length-8);let a=this[r+4]+this[r+5]*2**8+this[r+6]*2**16+(n<<24);return(BigInt(a)<<BigInt(32))+BigInt(t+this[++r]*2**8+this[++r]*2**16+this[++r]*2**24)});wt.prototype.readBigInt64BE=W0(function(r){r=r>>>0,Fp(r,"offset");let t=this[r],n=this[r+7];(t===void 0||n===void 0)&&d2(r,this.length-8);let a=(t<<24)+this[++r]*2**16+this[++r]*2**8+this[++r];return(BigInt(a)<<BigInt(32))+BigInt(this[++r]*2**24+this[++r]*2**16+this[++r]*2**8+n)});wt.prototype.readFloatLE=function(r,t){return r=r>>>0,t||io(r,4,this.length),Rp.read(this,r,!0,23,4)};wt.prototype.readFloatBE=function(r,t){return r=r>>>0,t||io(r,4,this.length),Rp.read(this,r,!1,23,4)};wt.prototype.readDoubleLE=function(r,t){return r=r>>>0,t||io(r,8,this.length),Rp.read(this,r,!0,52,8)};wt.prototype.readDoubleBE=function(r,t){return r=r>>>0,t||io(r,8,this.length),Rp.read(this,r,!1,52,8)};function Cl(e,r,t,n,a,o){if(!wt.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>a||r<o)throw new RangeError('"value" argument is out of bounds');if(t+n>e.length)throw new RangeError("Index out of range")}wt.prototype.writeUintLE=wt.prototype.writeUIntLE=function(r,t,n,a){if(r=+r,t=t>>>0,n=n>>>0,!a){let l=Math.pow(2,8*n)-1;Cl(this,r,t,n,l,0)}let o=1,i=0;for(this[t]=r&255;++i<n&&(o*=256);)this[t+i]=r/o&255;return t+n};wt.prototype.writeUintBE=wt.prototype.writeUIntBE=function(r,t,n,a){if(r=+r,t=t>>>0,n=n>>>0,!a){let l=Math.pow(2,8*n)-1;Cl(this,r,t,n,l,0)}let o=n-1,i=1;for(this[t+o]=r&255;--o>=0&&(i*=256);)this[t+o]=r/i&255;return t+n};wt.prototype.writeUint8=wt.prototype.writeUInt8=function(r,t,n){return r=+r,t=t>>>0,n||Cl(this,r,t,1,255,0),this[t]=r&255,t+1};wt.prototype.writeUint16LE=wt.prototype.writeUInt16LE=function(r,t,n){return r=+r,t=t>>>0,n||Cl(this,r,t,2,65535,0),this[t]=r&255,this[t+1]=r>>>8,t+2};wt.prototype.writeUint16BE=wt.prototype.writeUInt16BE=function(r,t,n){return r=+r,t=t>>>0,n||Cl(this,r,t,2,65535,0),this[t]=r>>>8,this[t+1]=r&255,t+2};wt.prototype.writeUint32LE=wt.prototype.writeUInt32LE=function(r,t,n){return r=+r,t=t>>>0,n||Cl(this,r,t,4,4294967295,0),this[t+3]=r>>>24,this[t+2]=r>>>16,this[t+1]=r>>>8,this[t]=r&255,t+4};wt.prototype.writeUint32BE=wt.prototype.writeUInt32BE=function(r,t,n){return r=+r,t=t>>>0,n||Cl(this,r,t,4,4294967295,0),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255,t+4};function $oe(e,r,t,n,a){rle(r,n,a,e,t,7);let o=Number(r&BigInt(4294967295));e[t++]=o,o=o>>8,e[t++]=o,o=o>>8,e[t++]=o,o=o>>8,e[t++]=o;let i=Number(r>>BigInt(32)&BigInt(4294967295));return e[t++]=i,i=i>>8,e[t++]=i,i=i>>8,e[t++]=i,i=i>>8,e[t++]=i,t}function Joe(e,r,t,n,a){rle(r,n,a,e,t,7);let o=Number(r&BigInt(4294967295));e[t+7]=o,o=o>>8,e[t+6]=o,o=o>>8,e[t+5]=o,o=o>>8,e[t+4]=o;let i=Number(r>>BigInt(32)&BigInt(4294967295));return e[t+3]=i,i=i>>8,e[t+2]=i,i=i>>8,e[t+1]=i,i=i>>8,e[t]=i,t+8}wt.prototype.writeBigUInt64LE=W0(function(r,t=0){return $oe(this,r,t,BigInt(0),BigInt("0xffffffffffffffff"))});wt.prototype.writeBigUInt64BE=W0(function(r,t=0){return Joe(this,r,t,BigInt(0),BigInt("0xffffffffffffffff"))});wt.prototype.writeIntLE=function(r,t,n,a){if(r=+r,t=t>>>0,!a){let f=Math.pow(2,8*n-1);Cl(this,r,t,n,f-1,-f)}let o=0,i=1,l=0;for(this[t]=r&255;++o<n&&(i*=256);)r<0&&l===0&&this[t+o-1]!==0&&(l=1),this[t+o]=(r/i>>0)-l&255;return t+n};wt.prototype.writeIntBE=function(r,t,n,a){if(r=+r,t=t>>>0,!a){let f=Math.pow(2,8*n-1);Cl(this,r,t,n,f-1,-f)}let o=n-1,i=1,l=0;for(this[t+o]=r&255;--o>=0&&(i*=256);)r<0&&l===0&&this[t+o+1]!==0&&(l=1),this[t+o]=(r/i>>0)-l&255;return t+n};wt.prototype.writeInt8=function(r,t,n){return r=+r,t=t>>>0,n||Cl(this,r,t,1,127,-128),r<0&&(r=255+r+1),this[t]=r&255,t+1};wt.prototype.writeInt16LE=function(r,t,n){return r=+r,t=t>>>0,n||Cl(this,r,t,2,32767,-32768),this[t]=r&255,this[t+1]=r>>>8,t+2};wt.prototype.writeInt16BE=function(r,t,n){return r=+r,t=t>>>0,n||Cl(this,r,t,2,32767,-32768),this[t]=r>>>8,this[t+1]=r&255,t+2};wt.prototype.writeInt32LE=function(r,t,n){return r=+r,t=t>>>0,n||Cl(this,r,t,4,2147483647,-2147483648),this[t]=r&255,this[t+1]=r>>>8,this[t+2]=r>>>16,this[t+3]=r>>>24,t+4};wt.prototype.writeInt32BE=function(r,t,n){return r=+r,t=t>>>0,n||Cl(this,r,t,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255,t+4};wt.prototype.writeBigInt64LE=W0(function(r,t=0){return $oe(this,r,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});wt.prototype.writeBigInt64BE=W0(function(r,t=0){return Joe(this,r,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Koe(e,r,t,n,a,o){if(t+n>e.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Qoe(e,r,t,n,a){return r=+r,t=t>>>0,a||Koe(e,r,t,4,34028234663852886e22,-34028234663852886e22),Rp.write(e,r,t,n,23,4),t+4}wt.prototype.writeFloatLE=function(r,t,n){return Qoe(this,r,t,!0,n)};wt.prototype.writeFloatBE=function(r,t,n){return Qoe(this,r,t,!1,n)};function ele(e,r,t,n,a){return r=+r,t=t>>>0,a||Koe(e,r,t,8,17976931348623157e292,-17976931348623157e292),Rp.write(e,r,t,n,52,8),t+8}wt.prototype.writeDoubleLE=function(r,t,n){return ele(this,r,t,!0,n)};wt.prototype.writeDoubleBE=function(r,t,n){return ele(this,r,t,!1,n)};wt.prototype.copy=function(r,t,n,a){if(!wt.isBuffer(r))throw new TypeError("argument should be a Buffer");if(n||(n=0),!a&&a!==0&&(a=this.length),t>=r.length&&(t=r.length),t||(t=0),a>0&&a<n&&(a=n),a===n||r.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),r.length-t<a-n&&(a=r.length-t+n);let o=a-n;return this===r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,a):Uint8Array.prototype.set.call(r,this.subarray(n,a),t),o};wt.prototype.fill=function(r,t,n,a){if(typeof r=="string"){if(typeof t=="string"?(a=t,t=0,n=this.length):typeof n=="string"&&(a=n,n=this.length),a!==void 0&&typeof a!="string")throw new TypeError("encoding must be a string");if(typeof a=="string"&&!wt.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(r.length===1){let i=r.charCodeAt(0);(a==="utf8"&&i<128||a==="latin1")&&(r=i)}}else typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=Number(r));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,r||(r=0);let o;if(typeof r=="number")for(o=t;o<n;++o)this[o]=r;else{let i=wt.isBuffer(r)?r:wt.from(r,a),l=i.length;if(l===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%l]}return this};var Lp={};function ES(e,r,t){Lp[e]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:r.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(a){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:a,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}ES("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);ES("ERR_INVALID_ARG_TYPE",function(e,r){return`The "${e}" argument must be of type number. Received type ${typeof r}`},TypeError);ES("ERR_OUT_OF_RANGE",function(e,r,t){let n=`The value of "${e}" is out of range.`,a=t;return Number.isInteger(t)&&Math.abs(t)>2**32?a=Voe(String(t)):typeof t=="bigint"&&(a=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(a=Voe(a)),a+="n"),n+=` It must be ${r}. Received ${a}`,n},RangeError);function Voe(e){let r="",t=e.length,n=e[0]==="-"?1:0;for(;t>=n+4;t-=3)r=`_${e.slice(t-3,t)}${r}`;return`${e.slice(0,t)}${r}`}function GRe(e,r,t){Fp(r,"offset"),(e[r]===void 0||e[r+t]===void 0)&&d2(r,e.length-(t+1))}function rle(e,r,t,n,a,o){if(e>t||e<r){let i=typeof r=="bigint"?"n":"",l;throw o>3?r===0||r===BigInt(0)?l=`>= 0${i} and < 2${i} ** ${(o+1)*8}${i}`:l=`>= -(2${i} ** ${(o+1)*8-1}${i}) and < 2 ** ${(o+1)*8-1}${i}`:l=`>= ${r}${i} and <= ${t}${i}`,new Lp.ERR_OUT_OF_RANGE("value",l,e)}GRe(n,a,o)}function Fp(e,r){if(typeof e!="number")throw new Lp.ERR_INVALID_ARG_TYPE(r,"number",e)}function d2(e,r,t){throw Math.floor(e)!==e?(Fp(e,t),new Lp.ERR_OUT_OF_RANGE(t||"offset","an integer",e)):r<0?new Lp.ERR_BUFFER_OUT_OF_BOUNDS:new Lp.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${r}`,e)}var HRe=/[^+/0-9A-Za-z-_]/g;function VRe(e){if(e=e.split("=")[0],e=e.trim().replace(HRe,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function AS(e,r){r=r||1/0;let t,n=e.length,a=null,o=[];for(let i=0;i<n;++i){if(t=e.charCodeAt(i),t>55295&&t<57344){if(!a){if(t>56319){(r-=3)>-1&&o.push(239,191,189);continue}else if(i+1===n){(r-=3)>-1&&o.push(239,191,189);continue}a=t;continue}if(t<56320){(r-=3)>-1&&o.push(239,191,189),a=t;continue}t=(a-55296<<10|t-56320)+65536}else a&&(r-=3)>-1&&o.push(239,191,189);if(a=null,t<128){if((r-=1)<0)break;o.push(t)}else if(t<2048){if((r-=2)<0)break;o.push(t>>6|192,t&63|128)}else if(t<65536){if((r-=3)<0)break;o.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((r-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return o}function YRe(e){let r=[];for(let t=0;t<e.length;++t)r.push(e.charCodeAt(t)&255);return r}function WRe(e,r){let t,n,a,o=[];for(let i=0;i<e.length&&!((r-=2)<0);++i)t=e.charCodeAt(i),n=t>>8,a=t%256,o.push(a),o.push(n);return o}function tle(e){return bS.toByteArray(VRe(e))}function yw(e,r,t,n){let a;for(a=0;a<n&&!(a+t>=r.length||a>=e.length);++a)r[a+t]=e[a];return a}function hu(e,r){return e instanceof r||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===r.name}function SS(e){return e!==e}var XRe=function(){let e="0123456789abcdef",r=new Array(256);for(let t=0;t<16;++t){let n=t*16;for(let a=0;a<16;++a)r[n+a]=e[t]+e[a]}return r}();function W0(e){return typeof BigInt=="undefined"?jRe:e}function jRe(){throw new Error("BigInt not supported")}});var mle=fe(na=>{"use strict";var X0=yS(),wo=Ooe(),ale=nle().Buffer;window.__TYPEDARRAY_POOL||(window.__TYPEDARRAY_POOL={UINT8:wo([32,0]),UINT16:wo([32,0]),UINT32:wo([32,0]),BIGUINT64:wo([32,0]),INT8:wo([32,0]),INT16:wo([32,0]),INT32:wo([32,0]),BIGINT64:wo([32,0]),FLOAT:wo([32,0]),DOUBLE:wo([32,0]),DATA:wo([32,0]),UINT8C:wo([32,0]),BUFFER:wo([32,0])});var ZRe=typeof Uint8ClampedArray!="undefined",$Re=typeof BigUint64Array!="undefined",JRe=typeof BigInt64Array!="undefined",Ei=window.__TYPEDARRAY_POOL;Ei.UINT8C||(Ei.UINT8C=wo([32,0]));Ei.BIGUINT64||(Ei.BIGUINT64=wo([32,0]));Ei.BIGINT64||(Ei.BIGINT64=wo([32,0]));Ei.BUFFER||(Ei.BUFFER=wo([32,0]));var mw=Ei.DATA,xw=Ei.BUFFER;na.free=function(r){if(ale.isBuffer(r))xw[X0.log2(r.length)].push(r);else{if(Object.prototype.toString.call(r)!=="[object ArrayBuffer]"&&(r=r.buffer),!r)return;var t=r.length||r.byteLength,n=X0.log2(t)|0;mw[n].push(r)}};function ile(e){if(e){var r=e.length||e.byteLength,t=X0.log2(r);mw[t].push(e)}}function KRe(e){ile(e.buffer)}na.freeUint8=na.freeUint16=na.freeUint32=na.freeBigUint64=na.freeInt8=na.freeInt16=na.freeInt32=na.freeBigInt64=na.freeFloat32=na.freeFloat=na.freeFloat64=na.freeDouble=na.freeUint8Clamped=na.freeDataView=KRe;na.freeArrayBuffer=ile;na.freeBuffer=function(r){xw[X0.log2(r.length)].push(r)};na.malloc=function(r,t){if(t===void 0||t==="arraybuffer")return kl(r);switch(t){case"uint8":return CS(r);case"uint16":return ole(r);case"uint32":return lle(r);case"int8":return sle(r);case"int16":return fle(r);case"int32":return ule(r);case"float":case"float32":return cle(r);case"double":case"float64":return hle(r);case"uint8_clamped":return vle(r);case"bigint64":return ple(r);case"biguint64":return dle(r);case"buffer":return yle(r);case"data":case"dataview":return gle(r);default:return null}return null};function kl(r){var r=X0.nextPow2(r),t=X0.log2(r),n=mw[t];return n.length>0?n.pop():new ArrayBuffer(r)}na.mallocArrayBuffer=kl;function CS(e){return new Uint8Array(kl(e),0,e)}na.mallocUint8=CS;function ole(e){return new Uint16Array(kl(2*e),0,e)}na.mallocUint16=ole;function lle(e){return new Uint32Array(kl(4*e),0,e)}na.mallocUint32=lle;function sle(e){return new Int8Array(kl(e),0,e)}na.mallocInt8=sle;function fle(e){return new Int16Array(kl(2*e),0,e)}na.mallocInt16=fle;function ule(e){return new Int32Array(kl(4*e),0,e)}na.mallocInt32=ule;function cle(e){return new Float32Array(kl(4*e),0,e)}na.mallocFloat32=na.mallocFloat=cle;function hle(e){return new Float64Array(kl(8*e),0,e)}na.mallocFloat64=na.mallocDouble=hle;function vle(e){return ZRe?new Uint8ClampedArray(kl(e),0,e):CS(e)}na.mallocUint8Clamped=vle;function dle(e){return $Re?new BigUint64Array(kl(8*e),0,e):null}na.mallocBigUint64=dle;function ple(e){return JRe?new BigInt64Array(kl(8*e),0,e):null}na.mallocBigInt64=ple;function gle(e){return new DataView(kl(e),0,e)}na.mallocDataView=gle;function yle(e){e=X0.nextPow2(e);var r=X0.log2(e),t=xw[r];return t.length>0?t.pop():new ale(e)}na.mallocBuffer=yle;na.clearCache=function(){for(var r=0;r<32;++r)Ei.UINT8[r].length=0,Ei.UINT16[r].length=0,Ei.UINT32[r].length=0,Ei.INT8[r].length=0,Ei.INT16[r].length=0,Ei.INT32[r].length=0,Ei.FLOAT[r].length=0,Ei.DOUBLE[r].length=0,Ei.BIGUINT64[r].length=0,Ei.BIGINT64[r].length=0,Ei.UINT8C[r].length=0,mw[r].length=0,xw[r].length=0}});var ble=fe((mWe,xle)=>{"use strict";var QRe=Object.prototype.toString;xle.exports=function(e){var r;return QRe.call(e)==="[object Object]"&&(r=Object.getPrototypeOf(e),r===null||r===Object.getPrototypeOf({}))}});var kS=fe((xWe,_le)=>{_le.exports=function(r,t){t||(t=[0,""]),r=String(r);var n=parseFloat(r,10);return t[0]=n,t[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}});var Tle=fe((bWe,Ale)=>{"use strict";var eFe=kS();Ale.exports=wle;var p2=96;function LS(e,r){var t=eFe(getComputedStyle(e).getPropertyValue(r));return t[0]*wle(t[1],e)}function rFe(e,r){var t=document.createElement("div");t.style["font-size"]="128"+e,r.appendChild(t);var n=LS(t,"font-size")/128;return r.removeChild(t),n}function wle(e,r){switch(r=r||document.body,e=(e||"px").trim().toLowerCase(),(r===window||r===document)&&(r=document.body),e){case"%":return r.clientHeight/100;case"ch":case"ex":return rFe(e,r);case"em":return LS(r,"font-size");case"rem":return LS(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return p2;case"cm":return p2/2.54;case"mm":return p2/25.4;case"pt":return p2/72;case"pc":return p2/6}return 1}});var Sle=fe((_We,Ele)=>{"use strict";Ele.exports=ww;var tFe=ww.canvas=document.createElement("canvas"),bw=tFe.getContext("2d"),Mle=_w([32,126]);ww.createPairs=_w;ww.ascii=Mle;function ww(e,r){Array.isArray(e)&&(e=e.join(", "));var t={},n,a=16,o=.05;r&&(r.length===2&&typeof r[0]=="number"?n=_w(r):Array.isArray(r)?n=r:(r.o?n=_w(r.o):r.pairs&&(n=r.pairs),r.fontSize&&(a=r.fontSize),r.threshold!=null&&(o=r.threshold))),n||(n=Mle),bw.font=a+"px "+e;for(var i=0;i<n.length;i++){var l=n[i],f=bw.measureText(l[0]).width+bw.measureText(l[1]).width,s=bw.measureText(l).width;if(Math.abs(f-s)>a*o){var u=(s-f)/a;t[l]=u*1e3}}return t}function _w(e){for(var r=[],t=e[0];t<=e[1];t++)for(var n=String.fromCharCode(t),a=e[0];a<e[1];a++){var o=String.fromCharCode(a),i=n+o;r.push(i)}return r}});var Rle=fe((wWe,Lle)=>{"use strict";Lle.exports=j0;j0.canvas=document.createElement("canvas");j0.cache={};function j0(i,r){r||(r={}),(typeof i=="string"||Array.isArray(i))&&(r.family=i);var t=Array.isArray(r.family)?r.family.join(", "):r.family;if(!t)throw Error("`family` must be defined");var n=r.size||r.fontSize||r.em||48,a=r.weight||r.fontWeight||"",o=r.style||r.fontStyle||"",i=[o,a,n].join(" ")+"px "+t,l=r.origin||"top";if(j0.cache[t]&&n<=j0.cache[t].em)return Cle(j0.cache[t],l);var f=r.canvas||j0.canvas,s=f.getContext("2d"),u={upper:r.upper!==void 0?r.upper:"H",lower:r.lower!==void 0?r.lower:"x",descent:r.descent!==void 0?r.descent:"p",ascent:r.ascent!==void 0?r.ascent:"h",tittle:r.tittle!==void 0?r.tittle:"i",overshoot:r.overshoot!==void 0?r.overshoot:"O"},c=Math.ceil(n*1.5);f.height=c,f.width=c*.5,s.font=i;var v="H",x={top:0};s.clearRect(0,0,c,c),s.textBaseline="top",s.fillStyle="black",s.fillText(v,0,0);var m=vu(s.getImageData(0,0,c,c));s.clearRect(0,0,c,c),s.textBaseline="bottom",s.fillText(v,0,c);var w=vu(s.getImageData(0,0,c,c));x.lineHeight=x.bottom=c-w+m,s.clearRect(0,0,c,c),s.textBaseline="alphabetic",s.fillText(v,0,c);var A=vu(s.getImageData(0,0,c,c)),y=c-A-1+m;x.baseline=x.alphabetic=y,s.clearRect(0,0,c,c),s.textBaseline="middle",s.fillText(v,0,c*.5);var M=vu(s.getImageData(0,0,c,c));x.median=x.middle=c-M-1+m-c*.5,s.clearRect(0,0,c,c),s.textBaseline="hanging",s.fillText(v,0,c*.5);var E=vu(s.getImageData(0,0,c,c));x.hanging=c-E-1+m-c*.5,s.clearRect(0,0,c,c),s.textBaseline="ideographic",s.fillText(v,0,c);var b=vu(s.getImageData(0,0,c,c));if(x.ideographic=c-b-1+m,u.upper&&(s.clearRect(0,0,c,c),s.textBaseline="top",s.fillText(u.upper,0,0),x.upper=vu(s.getImageData(0,0,c,c)),x.capHeight=x.baseline-x.upper),u.lower&&(s.clearRect(0,0,c,c),s.textBaseline="top",s.fillText(u.lower,0,0),x.lower=vu(s.getImageData(0,0,c,c)),x.xHeight=x.baseline-x.lower),u.tittle&&(s.clearRect(0,0,c,c),s.textBaseline="top",s.fillText(u.tittle,0,0),x.tittle=vu(s.getImageData(0,0,c,c))),u.ascent&&(s.clearRect(0,0,c,c),s.textBaseline="top",s.fillText(u.ascent,0,0),x.ascent=vu(s.getImageData(0,0,c,c))),u.descent&&(s.clearRect(0,0,c,c),s.textBaseline="top",s.fillText(u.descent,0,0),x.descent=kle(s.getImageData(0,0,c,c))),u.overshoot){s.clearRect(0,0,c,c),s.textBaseline="top",s.fillText(u.overshoot,0,0);var T=kle(s.getImageData(0,0,c,c));x.overshoot=T-y}for(var p in x)x[p]/=n;return x.em=n,j0.cache[t]=x,Cle(x,l)}function Cle(e,r){var t={};typeof r=="string"&&(r=e[r]);for(var n in e)n!=="em"&&(t[n]=e[n]-r);return t}function vu(e){for(var r=e.height,t=e.data,n=3;n<t.length;n+=4)if(t[n]!==0)return Math.floor((n-3)*.25/r)}function kle(e){for(var r=e.height,t=e.data,n=t.length-1;n>0;n-=4)if(t[n]!==0)return Math.floor((n-3)*.25/r)}});var Ple=fe((AWe,Ile)=>{"use strict";var Ip=Toe(),nFe=gc(),aFe=Moe(),iFe=Loe(),oFe=eS(),RS=N0(),lFe=Foe(),Z0=mle(),sFe=Sm(),fFe=ble(),uFe=kS(),cFe=Tle(),hFe=Sle(),vFe=gi(),dFe=Rle(),pFe=ap(),gFe=yS(),Fle=gFe.nextPow2,Dle=new oFe,Tw=!1;document.body&&(Aw=document.body.appendChild(document.createElement("div")),Aw.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(Aw).fontStretch&&(Tw=!0),document.body.removeChild(Aw));var Aw,ga=function(r){yFe(r)?(r={regl:r},this.gl=r.regl._gl):this.gl=iFe(r),this.shader=Dle.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=r.regl||aFe({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),Dle.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(fFe(r)?r:{})};ga.prototype.createShader=function(){var r=this.regl,t=r({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:r.prop("count"),offset:r.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:r.this("sizeBuffer")},width:{offset:0,stride:8,buffer:r.this("sizeBuffer")},char:r.this("charBuffer"),position:r.this("position")},uniforms:{atlasSize:function(a,o){return[o.atlas.width,o.atlas.height]},atlasDim:function(a,o){return[o.atlas.cols,o.atlas.rows]},atlas:function(a,o){return o.atlas.texture},charStep:function(a,o){return o.atlas.step},em:function(a,o){return o.atlas.em},color:r.prop("color"),opacity:r.prop("opacity"),viewport:r.this("viewportArray"),scale:r.this("scale"),align:r.prop("align"),baseline:r.prop("baseline"),translate:r.this("translate"),positionOffset:r.prop("positionOffset")},primitive:"points",viewport:r.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),n={};return{regl:r,draw:t,atlas:n}};ga.prototype.update=function(r){var t=this;if(typeof r=="string")r={text:r};else if(!r)return;r=nFe(r,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),r.opacity!=null&&(Array.isArray(r.opacity)?this.opacity=r.opacity.map(function(K){return parseFloat(K)}):this.opacity=parseFloat(r.opacity)),r.viewport!=null&&(this.viewport=sFe(r.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),r.kerning!=null&&(this.kerning=r.kerning),r.offset!=null&&(typeof r.offset=="number"&&(r.offset=[r.offset,0]),this.positionOffset=pFe(r.offset)),r.direction&&(this.direction=r.direction),r.range&&(this.range=r.range,this.scale=[1/(r.range[2]-r.range[0]),1/(r.range[3]-r.range[1])],this.translate=[-r.range[0],-r.range[1]]),r.scale&&(this.scale=r.scale),r.translate&&(this.translate=r.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!r.font&&(r.font=ga.baseFontSize+"px sans-serif");var n=!1,a=!1;if(r.font&&(Array.isArray(r.font)?r.font:[r.font]).forEach(function(K,G){if(typeof K=="string")try{K=Ip.parse(K)}catch(oe){K=Ip.parse(ga.baseFontSize+"px "+K)}else{var B=K.style,Z=K.weight,ie=K.stretch,J=K.variant;K=Ip.parse(Ip.stringify(K)),B&&(K.style=B),Z&&(K.weight=Z),ie&&(K.stretch=ie),J&&(K.variant=J)}var le=Ip.stringify({size:ga.baseFontSize,family:K.family,stretch:Tw?K.stretch:void 0,variant:K.variant,weight:K.weight,style:K.style}),te=uFe(K.size),V=Math.round(te[0]*cFe(te[1]));if(V!==t.fontSize[G]&&(a=!0,t.fontSize[G]=V),(!t.font[G]||le!=t.font[G].baseString)&&(n=!0,t.font[G]=ga.fonts[le],!t.font[G])){var ne=K.family.join(", "),Y=[K.style];K.style!=K.variant&&Y.push(K.variant),K.variant!=K.weight&&Y.push(K.weight),Tw&&K.weight!=K.stretch&&Y.push(K.stretch),t.font[G]={baseString:le,family:ne,weight:K.weight,stretch:K.stretch,style:K.style,variant:K.variant,width:{},kerning:{},metrics:dFe(ne,{origin:"top",fontSize:ga.baseFontSize,fontStyle:Y.join(" ")})},ga.fonts[le]=t.font[G]}}),(n||a)&&this.font.forEach(function(K,G){var B=Ip.stringify({size:t.fontSize[G],family:K.family,stretch:Tw?K.stretch:void 0,variant:K.variant,weight:K.weight,style:K.style});if(t.fontAtlas[G]=t.shader.atlas[B],!t.fontAtlas[G]){var Z=K.metrics;t.shader.atlas[B]=t.fontAtlas[G]={fontString:B,step:Math.ceil(t.fontSize[G]*Z.bottom*.5)*2,em:t.fontSize[G],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:t.regl.texture()}}r.text==null&&(r.text=t.text)}),typeof r.text=="string"&&r.position&&r.position.length>2){for(var o=Array(r.position.length*.5),i=0;i<o.length;i++)o[i]=r.text;r.text=o}var l;if(r.text!=null||n){if(this.textOffsets=[0],Array.isArray(r.text)){this.count=r.text[0].length,this.counts=[this.count];for(var f=1;f<r.text.length;f++)this.textOffsets[f]=this.textOffsets[f-1]+r.text[f-1].length,this.count+=r.text[f].length,this.counts.push(r.text[f].length);this.text=r.text.join("")}else this.text=r.text,this.count=this.text.length,this.counts=[this.count];l=[],this.font.forEach(function(K,G){ga.atlasContext.font=K.baseString;for(var B=t.fontAtlas[G],Z=0;Z<t.text.length;Z++){var ie=t.text.charAt(Z);if(B.ids[ie]==null&&(B.ids[ie]=B.chars.length,B.chars.push(ie),l.push(ie)),K.width[ie]==null&&(K.width[ie]=ga.atlasContext.measureText(ie).width/ga.baseFontSize,t.kerning)){var J=[];for(var le in K.width)J.push(le+ie,ie+le);vFe(K.kerning,hFe(K.family,{pairs:J}))}}})}if(r.position)if(r.position.length>2){for(var s=!r.position[0].length,u=Z0.mallocFloat(this.count*2),c=0,v=0;c<this.counts.length;c++){var x=this.counts[c];if(s)for(var m=0;m<x;m++)u[v++]=r.position[c*2],u[v++]=r.position[c*2+1];else for(var w=0;w<x;w++)u[v++]=r.position[c][0],u[v++]=r.position[c][1]}this.position.call?this.position({type:"float",data:u}):this.position=this.regl.buffer({type:"float",data:u}),Z0.freeFloat(u)}else this.position.destroy&&this.position.destroy(),this.position={constant:r.position};if(r.text||n){var A=Z0.mallocUint8(this.count),y=Z0.mallocFloat(this.count*2);this.textWidth=[];for(var M=0,E=0;M<this.counts.length;M++){for(var b=this.counts[M],T=this.font[M]||this.font[0],p=this.fontAtlas[M]||this.fontAtlas[0],_=0;_<b;_++){var g=this.text.charAt(E),h=this.text.charAt(E-1);if(A[E]=p.ids[g],y[E*2]=T.width[g],_){var S=y[E*2-2],d=y[E*2],R=y[E*2-1],L=R+S*.5+d*.5;if(this.kerning){var F=T.kerning[h+g];F&&(L+=F*.001)}y[E*2+1]=L}else y[E*2+1]=y[E*2]*.5;E++}this.textWidth.push(y.length?y[E*2-2]*.5+y[E*2-1]:0)}r.align||(r.align=this.align),this.charBuffer({data:A,type:"uint8",usage:"stream"}),this.sizeBuffer({data:y,type:"float",usage:"stream"}),Z0.freeUint8(A),Z0.freeFloat(y),l.length&&this.font.forEach(function(K,G){var B=t.fontAtlas[G],Z=B.step,ie=Math.floor(ga.maxAtlasSize/Z),J=Math.min(ie,B.chars.length),le=Math.ceil(B.chars.length/J),te=Fle(J*Z),V=Fle(le*Z);B.width=te,B.height=V,B.rows=le,B.cols=J,B.em&&B.texture({data:lFe({canvas:ga.atlasCanvas,font:B.fontString,chars:B.chars,shape:[te,V],step:[Z,Z]})})})}if(r.align&&(this.align=r.align,this.alignOffset=this.textWidth.map(function(K,G){var B=Array.isArray(t.align)?t.align.length>1?t.align[G]:t.align[0]:t.align;if(typeof B=="number")return B;switch(B){case"right":case"end":return-K;case"center":case"centre":case"middle":return-K*.5}return 0})),this.baseline==null&&r.baseline==null&&(r.baseline=0),r.baseline!=null&&(this.baseline=r.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(K,G){var B=(t.font[G]||t.font[0]).metrics,Z=0;return Z+=B.bottom*.5,typeof K=="number"?Z+=K-B.baseline:Z+=-B[K],Z*=-1,Z})),r.color!=null)if(r.color||(r.color="transparent"),typeof r.color=="string"||!isNaN(r.color))this.color=RS(r.color,"uint8");else{var O;if(typeof r.color[0]=="number"&&r.color.length>this.counts.length){var P=r.color.length;O=Z0.mallocUint8(P);for(var I=(r.color.subarray||r.color.slice).bind(r.color),k=0;k<P;k+=4)O.set(RS(I(k,k+4),"uint8"),k)}else{var D=r.color.length;O=Z0.mallocUint8(D*4);for(var z=0;z<D;z++)O.set(RS(r.color[z]||0,"uint8"),z*4)}this.color=O}if(r.position||r.text||r.color||r.baseline||r.align||r.font||r.offset||r.opacity){var q=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(q){var j=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(j);for(var Q=0;Q<this.batch.length;Q++)this.batch[Q]={count:this.counts.length>1?this.counts[Q]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Q]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(Q*4,Q*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Q]:this.opacity,baseline:this.baselineOffset[Q]!=null?this.baselineOffset[Q]:this.baselineOffset[0],align:this.align?this.alignOffset[Q]!=null?this.alignOffset[Q]:this.alignOffset[0]:0,atlas:this.fontAtlas[Q]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(Q*2,Q*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}};ga.prototype.destroy=function(){};ga.prototype.kerning=!0;ga.prototype.position={constant:new Float32Array(2)};ga.prototype.translate=null;ga.prototype.scale=null;ga.prototype.font=null;ga.prototype.text="";ga.prototype.positionOffset=[0,0];ga.prototype.opacity=1;ga.prototype.color=new Uint8Array([0,0,0,255]);ga.prototype.alignOffset=[0,0];ga.maxAtlasSize=1024;ga.atlasCanvas=document.createElement("canvas");ga.atlasContext=ga.atlasCanvas.getContext("2d",{alpha:!1});ga.baseFontSize=64;ga.fonts={};function yFe(e){return typeof e=="function"&&e._gl&&e.prop&&e.texture&&e.buffer}Ile.exports=ga});var Ole=fe((FS,DS)=>{(function(e,r){typeof FS=="object"&&typeof DS!="undefined"?DS.exports=r():e.createREGL=r()})(FS,function(){"use strict";var e=function(H,ce){for(var ge=Object.keys(ce),Ye=0;Ye<ge.length;++Ye)H[ge[Ye]]=ce[ge[Ye]];return H},r=0,t=0,n=5,a=6;function o(H,ce){this.id=r++,this.type=H,this.data=ce}function i(H){return H.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function l(H){if(H.length===0)return[];var ce=H.charAt(0),ge=H.charAt(H.length-1);if(H.length>1&&ce===ge&&(ce==='"'||ce==="'"))return['"'+i(H.substr(1,H.length-2))+'"'];var Ye=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(H);if(Ye)return l(H.substr(0,Ye.index)).concat(l(Ye[1])).concat(l(H.substr(Ye.index+Ye[0].length)));var rr=H.split(".");if(rr.length===1)return['"'+i(H)+'"'];for(var ar=[],tr=0;tr<rr.length;++tr)ar=ar.concat(l(rr[tr]));return ar}function f(H){return"["+l(H).join("][")+"]"}function s(H,ce){return new o(H,f(ce+""))}function u(H){return typeof H=="function"&&!H._reglType||H instanceof o}function c(H,ce){if(typeof H=="function")return new o(t,H);if(typeof H=="number"||typeof H=="boolean")return new o(n,H);if(Array.isArray(H))return new o(a,H.map(function(ge,Ye){return c(ge,ce+"["+Ye+"]")}));if(H instanceof o)return H}var v={DynamicVariable:o,define:s,isDynamic:u,unbox:c,accessor:f},x={next:typeof requestAnimationFrame=="function"?function(H){return requestAnimationFrame(H)}:function(H){return setTimeout(H,16)},cancel:typeof cancelAnimationFrame=="function"?function(H){return cancelAnimationFrame(H)}:clearTimeout},m=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function w(){var H={"":0},ce=[""];return{id:function(ge){var Ye=H[ge];return Ye||(Ye=H[ge]=ce.length,ce.push(ge),Ye)},str:function(ge){return ce[ge]}}}function A(H,ce,ge){var Ye=document.createElement("canvas");e(Ye.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),H.appendChild(Ye),H===document.body&&(Ye.style.position="absolute",e(H.style,{margin:0,padding:0}));function rr(){var Ar=window.innerWidth,Pr=window.innerHeight;if(H!==document.body){var Ir=Ye.getBoundingClientRect();Ar=Ir.right-Ir.left,Pr=Ir.bottom-Ir.top}Ye.width=ge*Ar,Ye.height=ge*Pr}var ar;H!==document.body&&typeof ResizeObserver=="function"?(ar=new ResizeObserver(function(){setTimeout(rr)}),ar.observe(H)):window.addEventListener("resize",rr,!1);function tr(){ar?ar.disconnect():window.removeEventListener("resize",rr),H.removeChild(Ye)}return rr(),{canvas:Ye,onDestroy:tr}}function y(H,ce){function ge(Ye){try{return H.getContext(Ye,ce)}catch(rr){return null}}return ge("webgl")||ge("experimental-webgl")||ge("webgl-experimental")}function M(H){return typeof H.nodeName=="string"&&typeof H.appendChild=="function"&&typeof H.getBoundingClientRect=="function"}function E(H){return typeof H.drawArrays=="function"||typeof H.drawElements=="function"}function b(H){return typeof H=="string"?H.split():H}function T(H){return typeof H=="string"?document.querySelector(H):H}function p(H){var ce=H||{},ge,Ye,rr,ar,tr={},Ar=[],Pr=[],Ir=typeof window=="undefined"?1:window.devicePixelRatio,Nr=!1,mt={},it=function(Oe){},Wr=function(){};if(typeof ce=="string"?ge=document.querySelector(ce):typeof ce=="object"&&(M(ce)?ge=ce:E(ce)?(ar=ce,rr=ar.canvas):("gl"in ce?ar=ce.gl:"canvas"in ce?rr=T(ce.canvas):"container"in ce&&(Ye=T(ce.container)),"attributes"in ce&&(tr=ce.attributes),"extensions"in ce&&(Ar=b(ce.extensions)),"optionalExtensions"in ce&&(Pr=b(ce.optionalExtensions)),"onDone"in ce&&(it=ce.onDone),"profile"in ce&&(Nr=!!ce.profile),"pixelRatio"in ce&&(Ir=+ce.pixelRatio),"cachedCode"in ce&&(mt=ce.cachedCode))),ge&&(ge.nodeName.toLowerCase()==="canvas"?rr=ge:Ye=ge),!ar){if(!rr){var mr=A(Ye||document.body,it,Ir);if(!mr)return null;rr=mr.canvas,Wr=mr.onDestroy}tr.premultipliedAlpha===void 0&&(tr.premultipliedAlpha=!0),ar=y(rr,tr)}return ar?{gl:ar,canvas:rr,container:Ye,extensions:Ar,optionalExtensions:Pr,pixelRatio:Ir,profile:Nr,cachedCode:mt,onDone:it,onDestroy:Wr}:(Wr(),it("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function _(H,ce){var ge={};function Ye(tr){var Ar=tr.toLowerCase(),Pr;try{Pr=ge[Ar]=H.getExtension(Ar)}catch(Ir){}return!!Pr}for(var rr=0;rr<ce.extensions.length;++rr){var ar=ce.extensions[rr];if(!Ye(ar))return ce.onDestroy(),ce.onDone('"'+ar+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return ce.optionalExtensions.forEach(Ye),{extensions:ge,restore:function(){Object.keys(ge).forEach(function(tr){if(ge[tr]&&!Ye(tr))throw new Error("(regl): error restoring extension "+tr)})}}}function g(H,ce){for(var ge=Array(H),Ye=0;Ye<H;++Ye)ge[Ye]=ce(Ye);return ge}var h=5120,S=5121,d=5122,R=5123,L=5124,F=5125,O=5126;function P(H){for(var ce=16;ce<=1<<28;ce*=16)if(H<=ce)return ce;return 0}function I(H){var ce,ge;return ce=(H>65535)<<4,H>>>=ce,ge=(H>255)<<3,H>>>=ge,ce|=ge,ge=(H>15)<<2,H>>>=ge,ce|=ge,ge=(H>3)<<1,H>>>=ge,ce|=ge,ce|H>>1}function k(){var H=g(8,function(){return[]});function ce(ar){var tr=P(ar),Ar=H[I(tr)>>2];return Ar.length>0?Ar.pop():new ArrayBuffer(tr)}function ge(ar){H[I(ar.byteLength)>>2].push(ar)}function Ye(ar,tr){var Ar=null;switch(ar){case h:Ar=new Int8Array(ce(tr),0,tr);break;case S:Ar=new Uint8Array(ce(tr),0,tr);break;case d:Ar=new Int16Array(ce(2*tr),0,tr);break;case R:Ar=new Uint16Array(ce(2*tr),0,tr);break;case L:Ar=new Int32Array(ce(4*tr),0,tr);break;case F:Ar=new Uint32Array(ce(4*tr),0,tr);break;case O:Ar=new Float32Array(ce(4*tr),0,tr);break;default:return null}return Ar.length!==tr?Ar.subarray(0,tr):Ar}function rr(ar){ge(ar.buffer)}return{alloc:ce,free:ge,allocType:Ye,freeType:rr}}var D=k();D.zero=k();var z=3408,q=3410,j=3411,Q=3412,K=3413,G=3414,B=3415,Z=33901,ie=33902,J=3379,le=3386,te=34921,V=36347,ne=36348,Y=35661,oe=35660,pe=34930,we=36349,De=34076,Re=34024,Ae=7936,Ie=7937,Be=7938,je=35724,Ne=34047,Qe=36063,pr=34852,Se=3553,Fe=34067,hr=34069,dr=33984,kr=6408,Ue=5126,He=5121,Xe=36160,fr=36053,Mr=36064,qr=16384,et=function(H,ce){var ge=1;ce.ext_texture_filter_anisotropic&&(ge=H.getParameter(Ne));var Ye=1,rr=1;ce.webgl_draw_buffers&&(Ye=H.getParameter(pr),rr=H.getParameter(Qe));var ar=!!ce.oes_texture_float;if(ar){var tr=H.createTexture();H.bindTexture(Se,tr),H.texImage2D(Se,0,kr,1,1,0,kr,Ue,null);var Ar=H.createFramebuffer();if(H.bindFramebuffer(Xe,Ar),H.framebufferTexture2D(Xe,Mr,Se,tr,0),H.bindTexture(Se,null),H.checkFramebufferStatus(Xe)!==fr)ar=!1;else{H.viewport(0,0,1,1),H.clearColor(1,0,0,1),H.clear(qr);var Pr=D.allocType(Ue,4);H.readPixels(0,0,1,1,kr,Ue,Pr),H.getError()?ar=!1:(H.deleteFramebuffer(Ar),H.deleteTexture(tr),ar=Pr[0]===1),D.freeType(Pr)}}var Ir=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Nr=!0;if(!Ir){var mt=H.createTexture(),it=D.allocType(He,36);H.activeTexture(dr),H.bindTexture(Fe,mt),H.texImage2D(hr,0,kr,3,3,0,kr,He,it),D.freeType(it),H.bindTexture(Fe,null),H.deleteTexture(mt),Nr=!H.getError()}return{colorBits:[H.getParameter(q),H.getParameter(j),H.getParameter(Q),H.getParameter(K)],depthBits:H.getParameter(G),stencilBits:H.getParameter(B),subpixelBits:H.getParameter(z),extensions:Object.keys(ce).filter(function(Wr){return!!ce[Wr]}),maxAnisotropic:ge,maxDrawbuffers:Ye,maxColorAttachments:rr,pointSizeDims:H.getParameter(Z),lineWidthDims:H.getParameter(ie),maxViewportDims:H.getParameter(le),maxCombinedTextureUnits:H.getParameter(Y),maxCubeMapSize:H.getParameter(De),maxRenderbufferSize:H.getParameter(Re),maxTextureUnits:H.getParameter(pe),maxTextureSize:H.getParameter(J),maxAttributes:H.getParameter(te),maxVertexUniforms:H.getParameter(V),maxVertexTextureUnits:H.getParameter(oe),maxVaryingVectors:H.getParameter(ne),maxFragmentUniforms:H.getParameter(we),glsl:H.getParameter(je),renderer:H.getParameter(Ie),vendor:H.getParameter(Ae),version:H.getParameter(Be),readFloat:ar,npotTextureCube:Nr}},jr=function(H){return H instanceof Uint8Array||H instanceof Uint16Array||H instanceof Uint32Array||H instanceof Int8Array||H instanceof Int16Array||H instanceof Int32Array||H instanceof Float32Array||H instanceof Float64Array||H instanceof Uint8ClampedArray};function Or(H){return!!H&&typeof H=="object"&&Array.isArray(H.shape)&&Array.isArray(H.stride)&&typeof H.offset=="number"&&H.shape.length===H.stride.length&&(Array.isArray(H.data)||jr(H.data))}var _r=function(H){return Object.keys(H).map(function(ce){return H[ce]})},qe={shape:W,flatten:ae};function nr(H,ce,ge){for(var Ye=0;Ye<ce;++Ye)ge[Ye]=H[Ye]}function Te(H,ce,ge,Ye){for(var rr=0,ar=0;ar<ce;++ar)for(var tr=H[ar],Ar=0;Ar<ge;++Ar)Ye[rr++]=tr[Ar]}function be(H,ce,ge,Ye,rr,ar){for(var tr=ar,Ar=0;Ar<ce;++Ar)for(var Pr=H[Ar],Ir=0;Ir<ge;++Ir)for(var Nr=Pr[Ir],mt=0;mt<Ye;++mt)rr[tr++]=Nr[mt]}function Ge(H,ce,ge,Ye,rr){for(var ar=1,tr=ge+1;tr<ce.length;++tr)ar*=ce[tr];var Ar=ce[ge];if(ce.length-ge===4){var Pr=ce[ge+1],Ir=ce[ge+2],Nr=ce[ge+3];for(tr=0;tr<Ar;++tr)be(H[tr],Pr,Ir,Nr,Ye,rr),rr+=ar}else for(tr=0;tr<Ar;++tr)Ge(H[tr],ce,ge+1,Ye,rr),rr+=ar}function ae(H,ce,ge,Ye){var rr=1;if(ce.length)for(var ar=0;ar<ce.length;++ar)rr*=ce[ar];else rr=0;var tr=Ye||D.allocType(ge,rr);switch(ce.length){case 0:break;case 1:nr(H,ce[0],tr);break;case 2:Te(H,ce[0],ce[1],tr);break;case 3:be(H,ce[0],ce[1],ce[2],tr,0);break;default:Ge(H,ce,0,tr,0)}return tr}function W(H){for(var ce=[],ge=H;ge.length;ge=ge[0])ce.push(ge.length);return ce}var re={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ee=5120,We=5122,lr=5124,sr=5121,Yr=5123,rt=5125,zr=5126,vt=5126,dt={int8:Ee,int16:We,int32:lr,uint8:sr,uint16:Yr,uint32:rt,float:zr,float32:vt},qt=35048,Nt=35040,_t={dynamic:qt,stream:Nt,static:35044},Jt=qe.flatten,Ut=qe.shape,$t=35044,cn=35040,jt=5121,Kt=5126,_n=[];_n[5120]=1,_n[5122]=2,_n[5124]=4,_n[5121]=1,_n[5123]=2,_n[5125]=4,_n[5126]=4;function Cn(H){return re[Object.prototype.toString.call(H)]|0}function ua(H,ce){for(var ge=0;ge<ce.length;++ge)H[ge]=ce[ge]}function ra(H,ce,ge,Ye,rr,ar,tr){for(var Ar=0,Pr=0;Pr<ge;++Pr)for(var Ir=0;Ir<Ye;++Ir)H[Ar++]=ce[rr*Pr+ar*Ir+tr]}function la(H,ce,ge,Ye){var rr=0,ar={};function tr(Oe){this.id=rr++,this.buffer=H.createBuffer(),this.type=Oe,this.usage=$t,this.byteLength=0,this.dimension=1,this.dtype=jt,this.persistentData=null,ge.profile&&(this.stats={size:0})}tr.prototype.bind=function(){H.bindBuffer(this.type,this.buffer)},tr.prototype.destroy=function(){it(this)};var Ar=[];function Pr(Oe,ur){var Sr=Ar.pop();return Sr||(Sr=new tr(Oe)),Sr.bind(),mt(Sr,ur,cn,0,1,!1),Sr}function Ir(Oe){Ar.push(Oe)}function Nr(Oe,ur,Sr){Oe.byteLength=ur.byteLength,H.bufferData(Oe.type,ur,Sr)}function mt(Oe,ur,Sr,Dr,br,Xr){var Hr;if(Oe.usage=Sr,Array.isArray(ur)){if(Oe.dtype=Dr||Kt,ur.length>0){var pt;if(Array.isArray(ur[0])){Hr=Ut(ur);for(var xr=1,yr=1;yr<Hr.length;++yr)xr*=Hr[yr];Oe.dimension=xr,pt=Jt(ur,Hr,Oe.dtype),Nr(Oe,pt,Sr),Xr?Oe.persistentData=pt:D.freeType(pt)}else if(typeof ur[0]=="number"){Oe.dimension=br;var Jr=D.allocType(Oe.dtype,ur.length);ua(Jr,ur),Nr(Oe,Jr,Sr),Xr?Oe.persistentData=Jr:D.freeType(Jr)}else jr(ur[0])&&(Oe.dimension=ur[0].length,Oe.dtype=Dr||Cn(ur[0])||Kt,pt=Jt(ur,[ur.length,ur[0].length],Oe.dtype),Nr(Oe,pt,Sr),Xr?Oe.persistentData=pt:D.freeType(pt))}}else if(jr(ur))Oe.dtype=Dr||Cn(ur),Oe.dimension=br,Nr(Oe,ur,Sr),Xr&&(Oe.persistentData=new Uint8Array(new Uint8Array(ur.buffer)));else if(Or(ur)){Hr=ur.shape;var Gr=ur.stride,Br=ur.offset,Ur=0,Kr=0,gt=0,St=0;Hr.length===1?(Ur=Hr[0],Kr=1,gt=Gr[0],St=0):Hr.length===2&&(Ur=Hr[0],Kr=Hr[1],gt=Gr[0],St=Gr[1]),Oe.dtype=Dr||Cn(ur.data)||Kt,Oe.dimension=Kr;var Vr=D.allocType(Oe.dtype,Ur*Kr);ra(Vr,ur.data,Ur,Kr,gt,St,Br),Nr(Oe,Vr,Sr),Xr?Oe.persistentData=Vr:D.freeType(Vr)}else ur instanceof ArrayBuffer&&(Oe.dtype=jt,Oe.dimension=br,Nr(Oe,ur,Sr),Xr&&(Oe.persistentData=new Uint8Array(new Uint8Array(ur))))}function it(Oe){ce.bufferCount--,Ye(Oe);var ur=Oe.buffer;H.deleteBuffer(ur),Oe.buffer=null,delete ar[Oe.id]}function Wr(Oe,ur,Sr,Dr){ce.bufferCount++;var br=new tr(ur);ar[br.id]=br;function Xr(xr){var yr=$t,Jr=null,Gr=0,Br=0,Ur=1;return Array.isArray(xr)||jr(xr)||Or(xr)||xr instanceof ArrayBuffer?Jr=xr:typeof xr=="number"?Gr=xr|0:xr&&("data"in xr&&(Jr=xr.data),"usage"in xr&&(yr=_t[xr.usage]),"type"in xr&&(Br=dt[xr.type]),"dimension"in xr&&(Ur=xr.dimension|0),"length"in xr&&(Gr=xr.length|0)),br.bind(),Jr?mt(br,Jr,yr,Br,Ur,Dr):(Gr&&H.bufferData(br.type,Gr,yr),br.dtype=Br||jt,br.usage=yr,br.dimension=Ur,br.byteLength=Gr),ge.profile&&(br.stats.size=br.byteLength*_n[br.dtype]),Xr}function Hr(xr,yr){H.bufferSubData(br.type,yr,xr)}function pt(xr,yr){var Jr=(yr||0)|0,Gr;if(br.bind(),jr(xr)||xr instanceof ArrayBuffer)Hr(xr,Jr);else if(Array.isArray(xr)){if(xr.length>0){if(typeof xr[0]=="number"){var Br=D.allocType(br.dtype,xr.length);ua(Br,xr),Hr(Br,Jr),D.freeType(Br)}else if(Array.isArray(xr[0])||jr(xr[0])){Gr=Ut(xr);var Ur=Jt(xr,Gr,br.dtype);Hr(Ur,Jr),D.freeType(Ur)}}}else if(Or(xr)){Gr=xr.shape;var Kr=xr.stride,gt=0,St=0,Vr=0,nt=0;Gr.length===1?(gt=Gr[0],St=1,Vr=Kr[0],nt=0):Gr.length===2&&(gt=Gr[0],St=Gr[1],Vr=Kr[0],nt=Kr[1]);var Mt=Array.isArray(xr.data)?br.dtype:Cn(xr.data),Et=D.allocType(Mt,gt*St);ra(Et,xr.data,gt,St,Vr,nt,xr.offset),Hr(Et,Jr),D.freeType(Et)}return Xr}return Sr||Xr(Oe),Xr._reglType="buffer",Xr._buffer=br,Xr.subdata=pt,ge.profile&&(Xr.stats=br.stats),Xr.destroy=function(){it(br)},Xr}function mr(){_r(ar).forEach(function(Oe){Oe.buffer=H.createBuffer(),H.bindBuffer(Oe.type,Oe.buffer),H.bufferData(Oe.type,Oe.persistentData||Oe.byteLength,Oe.usage)})}return ge.profile&&(ce.getTotalBufferSize=function(){var Oe=0;return Object.keys(ar).forEach(function(ur){Oe+=ar[ur].stats.size}),Oe}),{create:Wr,createStream:Pr,destroyStream:Ir,clear:function(){_r(ar).forEach(it),Ar.forEach(it)},getBuffer:function(Oe){return Oe&&Oe._buffer instanceof tr?Oe._buffer:null},restore:mr,_initBuffer:mt}}var Mn=0,Ea=0,oo=1,Zi=1,Si=4,To=4,Ci={points:Mn,point:Ea,lines:oo,line:Zi,triangles:Si,triangle:To,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Ll=0,Rl=1,xi=4,Ya=5120,oi=5121,Mo=5122,Wa=5123,Zt=5124,gn=5125,Pn=34963,Pt=35040,li=35044;function ia(H,ce,ge,Ye){var rr={},ar=0,tr={uint8:oi,uint16:Wa};ce.oes_element_index_uint&&(tr.uint32=gn);function Ar(mr){this.id=ar++,rr[this.id]=this,this.buffer=mr,this.primType=xi,this.vertCount=0,this.type=0}Ar.prototype.bind=function(){this.buffer.bind()};var Pr=[];function Ir(mr){var Oe=Pr.pop();return Oe||(Oe=new Ar(ge.create(null,Pn,!0,!1)._buffer)),mt(Oe,mr,Pt,-1,-1,0,0),Oe}function Nr(mr){Pr.push(mr)}function mt(mr,Oe,ur,Sr,Dr,br,Xr){mr.buffer.bind();var Hr;if(Oe){var pt=Xr;!Xr&&(!jr(Oe)||Or(Oe)&&!jr(Oe.data))&&(pt=ce.oes_element_index_uint?gn:Wa),ge._initBuffer(mr.buffer,Oe,ur,pt,3)}else H.bufferData(Pn,br,ur),mr.buffer.dtype=Hr||oi,mr.buffer.usage=ur,mr.buffer.dimension=3,mr.buffer.byteLength=br;if(Hr=Xr,!Xr){switch(mr.buffer.dtype){case oi:case Ya:Hr=oi;break;case Wa:case Mo:Hr=Wa;break;case gn:case Zt:Hr=gn;break;default:}mr.buffer.dtype=Hr}mr.type=Hr;var xr=Dr;xr<0&&(xr=mr.buffer.byteLength,Hr===Wa?xr>>=1:Hr===gn&&(xr>>=2)),mr.vertCount=xr;var yr=Sr;if(Sr<0){yr=xi;var Jr=mr.buffer.dimension;Jr===1&&(yr=Ll),Jr===2&&(yr=Rl),Jr===3&&(yr=xi)}mr.primType=yr}function it(mr){Ye.elementsCount--,delete rr[mr.id],mr.buffer.destroy(),mr.buffer=null}function Wr(mr,Oe){var ur=ge.create(null,Pn,!0),Sr=new Ar(ur._buffer);Ye.elementsCount++;function Dr(br){if(!br)ur(),Sr.primType=xi,Sr.vertCount=0,Sr.type=oi;else if(typeof br=="number")ur(br),Sr.primType=xi,Sr.vertCount=br|0,Sr.type=oi;else{var Xr=null,Hr=li,pt=-1,xr=-1,yr=0,Jr=0;Array.isArray(br)||jr(br)||Or(br)?Xr=br:("data"in br&&(Xr=br.data),"usage"in br&&(Hr=_t[br.usage]),"primitive"in br&&(pt=Ci[br.primitive]),"count"in br&&(xr=br.count|0),"type"in br&&(Jr=tr[br.type]),"length"in br?yr=br.length|0:(yr=xr,Jr===Wa||Jr===Mo?yr*=2:(Jr===gn||Jr===Zt)&&(yr*=4))),mt(Sr,Xr,Hr,pt,xr,yr,Jr)}return Dr}return Dr(mr),Dr._reglType="elements",Dr._elements=Sr,Dr.subdata=function(br,Xr){return ur.subdata(br,Xr),Dr},Dr.destroy=function(){it(Sr)},Dr}return{create:Wr,createStream:Ir,destroyStream:Nr,getElements:function(mr){return typeof mr=="function"&&mr._elements instanceof Ar?mr._elements:null},clear:function(){_r(rr).forEach(it)}}}var Xa=new Float32Array(1),An=new Uint32Array(Xa.buffer),zo=5123;function Fl(H){for(var ce=D.allocType(zo,H.length),ge=0;ge<H.length;++ge)if(isNaN(H[ge]))ce[ge]=65535;else if(H[ge]===1/0)ce[ge]=31744;else if(H[ge]===-1/0)ce[ge]=64512;else{Xa[0]=H[ge];var Ye=An[0],rr=Ye>>>31<<15,ar=(Ye<<1>>>24)-127,tr=Ye>>13&1023;if(ar<-24)ce[ge]=rr;else if(ar<-14){var Ar=-14-ar;ce[ge]=rr+(tr+1024>>Ar)}else ar>15?ce[ge]=rr+31744:ce[ge]=rr+(ar+15<<10)+tr}return ce}function qi(H){return Array.isArray(H)||jr(H)}var Np=34467,Ia=3553,Ql=34067,tl=34069,ki=6408,Sf=6406,nl=6407,qo=6409,es=6410,wc=32854,al=32855,Fs=36194,sd=32819,Bp=32820,Ac=33635,rh=34042,Ds=6402,rs=34041,il=35904,Uo=35906,Li=36193,Cf=33776,Is=33777,Dl=33778,kf=33779,th=35986,Tc=35987,pu=34798,nh=35840,ah=35841,Mc=35842,ih=35843,Ec=36196,Go=5121,Lf=5123,gu=5125,$i=5126,Rf=10242,zp=10243,qp=10497,yu=33071,fd=33648,mu=10240,Up=10241,ts=9728,Sc=9729,Ps=9984,Ff=9985,Os=9986,Il=9987,ud=33170,Pl=4352,Gp=4353,Cc=4354,Hp=34046,Vp=3317,Yp=37440,cd=37441,xu=37443,oh=37444,Ho=33984,hd=[Ps,Os,Ff,Il],Ui=[0,qo,es,nl,ki],Pa={};Pa[qo]=Pa[Sf]=Pa[Ds]=1,Pa[rs]=Pa[es]=2,Pa[nl]=Pa[il]=3,Pa[ki]=Pa[Uo]=4;function lo(H){return"[object "+H+"]"}var bu=lo("HTMLCanvasElement"),Ol=lo("OffscreenCanvas"),Df=lo("CanvasRenderingContext2D"),kc=lo("ImageBitmap"),lh=lo("HTMLImageElement"),sh=lo("HTMLVideoElement"),Wp=Object.keys(re).concat([bu,Ol,Df,kc,lh,sh]),Eo=[];Eo[Go]=1,Eo[$i]=4,Eo[Li]=2,Eo[Lf]=2,Eo[gu]=4;var Vn=[];Vn[wc]=2,Vn[al]=2,Vn[Fs]=2,Vn[rs]=4,Vn[Cf]=.5,Vn[Is]=.5,Vn[Dl]=1,Vn[kf]=1,Vn[th]=.5,Vn[Tc]=1,Vn[pu]=1,Vn[nh]=.5,Vn[ah]=.25,Vn[Mc]=.5,Vn[ih]=.25,Vn[Ec]=.5;function fh(H){return Array.isArray(H)&&(H.length===0||typeof H[0]=="number")}function uh(H){if(!Array.isArray(H))return!1;var ce=H.length;return!(ce===0||!qi(H[0]))}function so(H){return Object.prototype.toString.call(H)}function ch(H){return so(H)===bu}function hh(H){return so(H)===Ol}function Xp(H){return so(H)===Df}function jp(H){return so(H)===kc}function Zp(H){return so(H)===lh}function $p(H){return so(H)===sh}function _u(H){if(!H)return!1;var ce=so(H);return Wp.indexOf(ce)>=0?!0:fh(H)||uh(H)||Or(H)}function vh(H){return re[Object.prototype.toString.call(H)]|0}function Jp(H,ce){var ge=ce.length;switch(H.type){case Go:case Lf:case gu:case $i:var Ye=D.allocType(H.type,ge);Ye.set(ce),H.data=Ye;break;case Li:H.data=Fl(ce);break;default:}}function dh(H,ce){return D.allocType(H.type===Li?$i:H.type,ce)}function Lc(H,ce){H.type===Li?(H.data=Fl(ce),D.freeType(ce)):H.data=ce}function vd(H,ce,ge,Ye,rr,ar){for(var tr=H.width,Ar=H.height,Pr=H.channels,Ir=tr*Ar*Pr,Nr=dh(H,Ir),mt=0,it=0;it<Ar;++it)for(var Wr=0;Wr<tr;++Wr)for(var mr=0;mr<Pr;++mr)Nr[mt++]=ce[ge*Wr+Ye*it+rr*mr+ar];Lc(H,Nr)}function ns(H,ce,ge,Ye,rr,ar){var tr;if(typeof Vn[H]!="undefined"?tr=Vn[H]:tr=Pa[H]*Eo[ce],ar&&(tr*=6),rr){for(var Ar=0,Pr=ge;Pr>=1;)Ar+=tr*Pr*Pr,Pr/=2;return Ar}else return tr*ge*Ye}function dd(H,ce,ge,Ye,rr,ar,tr){var Ar={"don't care":Pl,"dont care":Pl,nice:Cc,fast:Gp},Pr={repeat:qp,clamp:yu,mirror:fd},Ir={nearest:ts,linear:Sc},Nr=e({mipmap:Il,"nearest mipmap nearest":Ps,"linear mipmap nearest":Ff,"nearest mipmap linear":Os,"linear mipmap linear":Il},Ir),mt={none:0,browser:oh},it={uint8:Go,rgba4:sd,rgb565:Ac,"rgb5 a1":Bp},Wr={alpha:Sf,luminance:qo,"luminance alpha":es,rgb:nl,rgba:ki,rgba4:wc,"rgb5 a1":al,rgb565:Fs},mr={};ce.ext_srgb&&(Wr.srgb=il,Wr.srgba=Uo),ce.oes_texture_float&&(it.float32=it.float=$i),ce.oes_texture_half_float&&(it.float16=it["half float"]=Li),ce.webgl_depth_texture&&(e(Wr,{depth:Ds,"depth stencil":rs}),e(it,{uint16:Lf,uint32:gu,"depth stencil":rh})),ce.webgl_compressed_texture_s3tc&&e(mr,{"rgb s3tc dxt1":Cf,"rgba s3tc dxt1":Is,"rgba s3tc dxt3":Dl,"rgba s3tc dxt5":kf}),ce.webgl_compressed_texture_atc&&e(mr,{"rgb atc":th,"rgba atc explicit alpha":Tc,"rgba atc interpolated alpha":pu}),ce.webgl_compressed_texture_pvrtc&&e(mr,{"rgb pvrtc 4bppv1":nh,"rgb pvrtc 2bppv1":ah,"rgba pvrtc 4bppv1":Mc,"rgba pvrtc 2bppv1":ih}),ce.webgl_compressed_texture_etc1&&(mr["rgb etc1"]=Ec);var Oe=Array.prototype.slice.call(H.getParameter(Np));Object.keys(mr).forEach(function(he){var $e=mr[he];Oe.indexOf($e)>=0&&(Wr[he]=$e)});var ur=Object.keys(Wr);ge.textureFormats=ur;var Sr=[];Object.keys(Wr).forEach(function(he){var $e=Wr[he];Sr[$e]=he});var Dr=[];Object.keys(it).forEach(function(he){var $e=it[he];Dr[$e]=he});var br=[];Object.keys(Ir).forEach(function(he){var $e=Ir[he];br[$e]=he});var Xr=[];Object.keys(Nr).forEach(function(he){var $e=Nr[he];Xr[$e]=he});var Hr=[];Object.keys(Pr).forEach(function(he){var $e=Pr[he];Hr[$e]=he});var pt=ur.reduce(function(he,$e){var er=Wr[$e];return er===qo||er===Sf||er===qo||er===es||er===Ds||er===rs||ce.ext_srgb&&(er===il||er===Uo)?he[er]=er:er===al||$e.indexOf("rgba")>=0?he[er]=ki:he[er]=nl,he},{});function xr(){this.internalformat=ki,this.format=ki,this.type=Go,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=oh,this.width=0,this.height=0,this.channels=0}function yr(he,$e){he.internalformat=$e.internalformat,he.format=$e.format,he.type=$e.type,he.compressed=$e.compressed,he.premultiplyAlpha=$e.premultiplyAlpha,he.flipY=$e.flipY,he.unpackAlignment=$e.unpackAlignment,he.colorSpace=$e.colorSpace,he.width=$e.width,he.height=$e.height,he.channels=$e.channels}function Jr(he,$e){if(!(typeof $e!="object"||!$e)){if("premultiplyAlpha"in $e&&(he.premultiplyAlpha=$e.premultiplyAlpha),"flipY"in $e&&(he.flipY=$e.flipY),"alignment"in $e&&(he.unpackAlignment=$e.alignment),"colorSpace"in $e&&(he.colorSpace=mt[$e.colorSpace]),"type"in $e){var er=$e.type;he.type=it[er]}var st=he.width,Yt=he.height,on=he.channels,ot=!1;"shape"in $e?(st=$e.shape[0],Yt=$e.shape[1],$e.shape.length===3&&(on=$e.shape[2],ot=!0)):("radius"in $e&&(st=Yt=$e.radius),"width"in $e&&(st=$e.width),"height"in $e&&(Yt=$e.height),"channels"in $e&&(on=$e.channels,ot=!0)),he.width=st|0,he.height=Yt|0,he.channels=on|0;var ue=!1;if("format"in $e){var de=$e.format,_e=he.internalformat=Wr[de];he.format=pt[_e],de in it&&("type"in $e||(he.type=it[de])),de in mr&&(he.compressed=!0),ue=!0}!ot&&ue?he.channels=Pa[he.format]:ot&&!ue&&he.channels!==Ui[he.format]&&(he.format=he.internalformat=Ui[he.channels])}}function Gr(he){H.pixelStorei(Yp,he.flipY),H.pixelStorei(cd,he.premultiplyAlpha),H.pixelStorei(xu,he.colorSpace),H.pixelStorei(Vp,he.unpackAlignment)}function Br(){xr.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Ur(he,$e){var er=null;if(_u($e)?er=$e:$e&&(Jr(he,$e),"x"in $e&&(he.xOffset=$e.x|0),"y"in $e&&(he.yOffset=$e.y|0),_u($e.data)&&(er=$e.data)),$e.copy){var st=rr.viewportWidth,Yt=rr.viewportHeight;he.width=he.width||st-he.xOffset,he.height=he.height||Yt-he.yOffset,he.needsCopy=!0}else if(!er)he.width=he.width||1,he.height=he.height||1,he.channels=he.channels||4;else if(jr(er))he.channels=he.channels||4,he.data=er,!("type"in $e)&&he.type===Go&&(he.type=vh(er));else if(fh(er))he.channels=he.channels||4,Jp(he,er),he.alignment=1,he.needsFree=!0;else if(Or(er)){var on=er.data;!Array.isArray(on)&&he.type===Go&&(he.type=vh(on));var ot=er.shape,ue=er.stride,de,_e,Ze,ir,ze,Pe;ot.length===3?(Ze=ot[2],Pe=ue[2]):(Ze=1,Pe=1),de=ot[0],_e=ot[1],ir=ue[0],ze=ue[1],he.alignment=1,he.width=de,he.height=_e,he.channels=Ze,he.format=he.internalformat=Ui[Ze],he.needsFree=!0,vd(he,on,ir,ze,Pe,er.offset)}else if(ch(er)||hh(er)||Xp(er))ch(er)||hh(er)?he.element=er:he.element=er.canvas,he.width=he.element.width,he.height=he.element.height,he.channels=4;else if(jp(er))he.element=er,he.width=er.width,he.height=er.height,he.channels=4;else if(Zp(er))he.element=er,he.width=er.naturalWidth,he.height=er.naturalHeight,he.channels=4;else if($p(er))he.element=er,he.width=er.videoWidth,he.height=er.videoHeight,he.channels=4;else if(uh(er)){var Ce=he.width||er[0].length,me=he.height||er.length,Me=he.channels;qi(er[0][0])?Me=Me||er[0][0].length:Me=Me||1;for(var ye=qe.shape(er),Ve=1,cr=0;cr<ye.length;++cr)Ve*=ye[cr];var Cr=dh(he,Ve);qe.flatten(er,ye,"",Cr),Lc(he,Cr),he.alignment=1,he.width=Ce,he.height=me,he.channels=Me,he.format=he.internalformat=Ui[Me],he.needsFree=!0}he.type===$i||he.type}function Kr(he,$e,er){var st=he.element,Yt=he.data,on=he.internalformat,ot=he.format,ue=he.type,de=he.width,_e=he.height;Gr(he),st?H.texImage2D($e,er,ot,ot,ue,st):he.compressed?H.compressedTexImage2D($e,er,on,de,_e,0,Yt):he.needsCopy?(Ye(),H.copyTexImage2D($e,er,ot,he.xOffset,he.yOffset,de,_e,0)):H.texImage2D($e,er,ot,de,_e,0,ot,ue,Yt||null)}function gt(he,$e,er,st,Yt){var on=he.element,ot=he.data,ue=he.internalformat,de=he.format,_e=he.type,Ze=he.width,ir=he.height;Gr(he),on?H.texSubImage2D($e,Yt,er,st,de,_e,on):he.compressed?H.compressedTexSubImage2D($e,Yt,er,st,ue,Ze,ir,ot):he.needsCopy?(Ye(),H.copyTexSubImage2D($e,Yt,er,st,he.xOffset,he.yOffset,Ze,ir)):H.texSubImage2D($e,Yt,er,st,Ze,ir,de,_e,ot)}var St=[];function Vr(){return St.pop()||new Br}function nt(he){he.needsFree&&D.freeType(he.data),Br.call(he),St.push(he)}function Mt(){xr.call(this),this.genMipmaps=!1,this.mipmapHint=Pl,this.mipmask=0,this.images=Array(16)}function Et(he,$e,er){var st=he.images[0]=Vr();he.mipmask=1,st.width=he.width=$e,st.height=he.height=er,st.channels=he.channels=4}function zt(he,$e){var er=null;if(_u($e))er=he.images[0]=Vr(),yr(er,he),Ur(er,$e),he.mipmask=1;else if(Jr(he,$e),Array.isArray($e.mipmap))for(var st=$e.mipmap,Yt=0;Yt<st.length;++Yt)er=he.images[Yt]=Vr(),yr(er,he),er.width>>=Yt,er.height>>=Yt,Ur(er,st[Yt]),he.mipmask|=1<<Yt;else er=he.images[0]=Vr(),yr(er,he),Ur(er,$e),he.mipmask=1;yr(he,he.images[0]),he.compressed&&(he.internalformat===Cf||he.internalformat===Is||he.internalformat===Dl||he.internalformat)}function En(he,$e){for(var er=he.images,st=0;st<er.length;++st){if(!er[st])return;Kr(er[st],$e,st)}}var Wn=[];function Vt(){var he=Wn.pop()||new Mt;xr.call(he),he.mipmask=0;for(var $e=0;$e<16;++$e)he.images[$e]=null;return he}function ba(he){for(var $e=he.images,er=0;er<$e.length;++er)$e[er]&&nt($e[er]),$e[er]=null;Wn.push(he)}function an(){this.minFilter=ts,this.magFilter=ts,this.wrapS=yu,this.wrapT=yu,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Pl}function sa(he,$e){if("min"in $e){var er=$e.min;he.minFilter=Nr[er],hd.indexOf(he.minFilter)>=0&&!("faces"in $e)&&(he.genMipmaps=!0)}if("mag"in $e){var st=$e.mag;he.magFilter=Ir[st]}var Yt=he.wrapS,on=he.wrapT;if("wrap"in $e){var ot=$e.wrap;typeof ot=="string"?Yt=on=Pr[ot]:Array.isArray(ot)&&(Yt=Pr[ot[0]],on=Pr[ot[1]])}else{if("wrapS"in $e){var ue=$e.wrapS;Yt=Pr[ue]}if("wrapT"in $e){var de=$e.wrapT;on=Pr[de]}}if(he.wrapS=Yt,he.wrapT=on,"anisotropic"in $e){var _e=$e.anisotropic;he.anisotropic=$e.anisotropic}if("mipmap"in $e){var Ze=!1;switch(typeof $e.mipmap){case"string":he.mipmapHint=Ar[$e.mipmap],he.genMipmaps=!0,Ze=!0;break;case"boolean":Ze=he.genMipmaps=$e.mipmap;break;case"object":he.genMipmaps=!1,Ze=!0;break;default:}Ze&&!("min"in $e)&&(he.minFilter=Ps)}}function ha(he,$e){H.texParameteri($e,Up,he.minFilter),H.texParameteri($e,mu,he.magFilter),H.texParameteri($e,Rf,he.wrapS),H.texParameteri($e,zp,he.wrapT),ce.ext_texture_filter_anisotropic&&H.texParameteri($e,Hp,he.anisotropic),he.genMipmaps&&(H.hint(ud,he.mipmapHint),H.generateMipmap($e))}var _a=0,zn={},qn=ge.maxTextureUnits,Xn=Array(qn).map(function(){return null});function Ot(he){xr.call(this),this.mipmask=0,this.internalformat=ki,this.id=_a++,this.refCount=1,this.target=he,this.texture=H.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new an,tr.profile&&(this.stats={size:0})}function Jn(he){H.activeTexture(Ho),H.bindTexture(he.target,he.texture)}function un(){var he=Xn[0];he?H.bindTexture(he.target,he.texture):H.bindTexture(Ia,null)}function va(he){var $e=he.texture,er=he.unit,st=he.target;er>=0&&(H.activeTexture(Ho+er),H.bindTexture(st,null),Xn[er]=null),H.deleteTexture($e),he.texture=null,he.params=null,he.pixels=null,he.refCount=0,delete zn[he.id],ar.textureCount--}e(Ot.prototype,{bind:function(){var he=this;he.bindCount+=1;var $e=he.unit;if($e<0){for(var er=0;er<qn;++er){var st=Xn[er];if(st){if(st.bindCount>0)continue;st.unit=-1}Xn[er]=he,$e=er;break}$e>=qn,tr.profile&&ar.maxTextureUnits<$e+1&&(ar.maxTextureUnits=$e+1),he.unit=$e,H.activeTexture(Ho+$e),H.bindTexture(he.target,he.texture)}return $e},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&va(this)}});function wa(he,$e){var er=new Ot(Ia);zn[er.id]=er,ar.textureCount++;function st(ot,ue){var de=er.texInfo;an.call(de);var _e=Vt();return typeof ot=="number"?typeof ue=="number"?Et(_e,ot|0,ue|0):Et(_e,ot|0,ot|0):ot?(sa(de,ot),zt(_e,ot)):Et(_e,1,1),de.genMipmaps&&(_e.mipmask=(_e.width<<1)-1),er.mipmask=_e.mipmask,yr(er,_e),er.internalformat=_e.internalformat,st.width=_e.width,st.height=_e.height,Jn(er),En(_e,Ia),ha(de,Ia),un(),ba(_e),tr.profile&&(er.stats.size=ns(er.internalformat,er.type,_e.width,_e.height,de.genMipmaps,!1)),st.format=Sr[er.internalformat],st.type=Dr[er.type],st.mag=br[de.magFilter],st.min=Xr[de.minFilter],st.wrapS=Hr[de.wrapS],st.wrapT=Hr[de.wrapT],st}function Yt(ot,ue,de,_e){var Ze=ue|0,ir=de|0,ze=_e|0,Pe=Vr();return yr(Pe,er),Pe.width=0,Pe.height=0,Ur(Pe,ot),Pe.width=Pe.width||(er.width>>ze)-Ze,Pe.height=Pe.height||(er.height>>ze)-ir,Jn(er),gt(Pe,Ia,Ze,ir,ze),un(),nt(Pe),st}function on(ot,ue){var de=ot|0,_e=ue|0||de;if(de===er.width&&_e===er.height)return st;st.width=er.width=de,st.height=er.height=_e,Jn(er);for(var Ze=0;er.mipmask>>Ze;++Ze){var ir=de>>Ze,ze=_e>>Ze;if(!ir||!ze)break;H.texImage2D(Ia,Ze,er.format,ir,ze,0,er.format,er.type,null)}return un(),tr.profile&&(er.stats.size=ns(er.internalformat,er.type,de,_e,!1,!1)),st}return st(he,$e),st.subimage=Yt,st.resize=on,st._reglType="texture2d",st._texture=er,tr.profile&&(st.stats=er.stats),st.destroy=function(){er.decRef()},st}function Aa(he,$e,er,st,Yt,on){var ot=new Ot(Ql);zn[ot.id]=ot,ar.cubeCount++;var ue=new Array(6);function de(ir,ze,Pe,Ce,me,Me){var ye,Ve=ot.texInfo;for(an.call(Ve),ye=0;ye<6;++ye)ue[ye]=Vt();if(typeof ir=="number"||!ir){var cr=ir|0||1;for(ye=0;ye<6;++ye)Et(ue[ye],cr,cr)}else if(typeof ir=="object")if(ze)zt(ue[0],ir),zt(ue[1],ze),zt(ue[2],Pe),zt(ue[3],Ce),zt(ue[4],me),zt(ue[5],Me);else if(sa(Ve,ir),Jr(ot,ir),"faces"in ir){var Cr=ir.faces;for(ye=0;ye<6;++ye)yr(ue[ye],ot),zt(ue[ye],Cr[ye])}else for(ye=0;ye<6;++ye)zt(ue[ye],ir);for(yr(ot,ue[0]),Ve.genMipmaps?ot.mipmask=(ue[0].width<<1)-1:ot.mipmask=ue[0].mipmask,ot.internalformat=ue[0].internalformat,de.width=ue[0].width,de.height=ue[0].height,Jn(ot),ye=0;ye<6;++ye)En(ue[ye],tl+ye);for(ha(Ve,Ql),un(),tr.profile&&(ot.stats.size=ns(ot.internalformat,ot.type,de.width,de.height,Ve.genMipmaps,!0)),de.format=Sr[ot.internalformat],de.type=Dr[ot.type],de.mag=br[Ve.magFilter],de.min=Xr[Ve.minFilter],de.wrapS=Hr[Ve.wrapS],de.wrapT=Hr[Ve.wrapT],ye=0;ye<6;++ye)ba(ue[ye]);return de}function _e(ir,ze,Pe,Ce,me){var Me=Pe|0,ye=Ce|0,Ve=me|0,cr=Vr();return yr(cr,ot),cr.width=0,cr.height=0,Ur(cr,ze),cr.width=cr.width||(ot.width>>Ve)-Me,cr.height=cr.height||(ot.height>>Ve)-ye,Jn(ot),gt(cr,tl+ir,Me,ye,Ve),un(),nt(cr),de}function Ze(ir){var ze=ir|0;if(ze!==ot.width){de.width=ot.width=ze,de.height=ot.height=ze,Jn(ot);for(var Pe=0;Pe<6;++Pe)for(var Ce=0;ot.mipmask>>Ce;++Ce)H.texImage2D(tl+Pe,Ce,ot.format,ze>>Ce,ze>>Ce,0,ot.format,ot.type,null);return un(),tr.profile&&(ot.stats.size=ns(ot.internalformat,ot.type,de.width,de.height,!1,!0)),de}}return de(he,$e,er,st,Yt,on),de.subimage=_e,de.resize=Ze,de._reglType="textureCube",de._texture=ot,tr.profile&&(de.stats=ot.stats),de.destroy=function(){ot.decRef()},de}function Lt(){for(var he=0;he<qn;++he)H.activeTexture(Ho+he),H.bindTexture(Ia,null),Xn[he]=null;_r(zn).forEach(va),ar.cubeCount=0,ar.textureCount=0}tr.profile&&(ar.getTotalTextureSize=function(){var he=0;return Object.keys(zn).forEach(function($e){he+=zn[$e].stats.size}),he});function Xt(){for(var he=0;he<qn;++he){var $e=Xn[he];$e&&($e.bindCount=0,$e.unit=-1,Xn[he]=null)}_r(zn).forEach(function(er){er.texture=H.createTexture(),H.bindTexture(er.target,er.texture);for(var st=0;st<32;++st)if((er.mipmask&1<<st)!==0)if(er.target===Ia)H.texImage2D(Ia,st,er.internalformat,er.width>>st,er.height>>st,0,er.internalformat,er.type,null);else for(var Yt=0;Yt<6;++Yt)H.texImage2D(tl+Yt,st,er.internalformat,er.width>>st,er.height>>st,0,er.internalformat,er.type,null);ha(er.texInfo,er.target)})}function yn(){for(var he=0;he<qn;++he){var $e=Xn[he];$e&&($e.bindCount=0,$e.unit=-1,Xn[he]=null),H.activeTexture(Ho+he),H.bindTexture(Ia,null),H.bindTexture(Ql,null)}}return{create2D:wa,createCube:Aa,clear:Lt,getTexture:function(he){return null},restore:Xt,refresh:yn}}var Gi=36161,Ns=32854,as=32855,ph=36194,gh=33189,yh=36168,mh=34041,Rc=35907,xh=34836,bh=34842,_h=34843,Oa=[];Oa[Ns]=2,Oa[as]=2,Oa[ph]=2,Oa[gh]=2,Oa[yh]=1,Oa[mh]=4,Oa[Rc]=4,Oa[xh]=16,Oa[bh]=8,Oa[_h]=6;function wh(H,ce,ge){return Oa[H]*ce*ge}var Kp=function(H,ce,ge,Ye,rr){var ar={rgba4:Ns,rgb565:ph,"rgb5 a1":as,depth:gh,stencil:yh,"depth stencil":mh};ce.ext_srgb&&(ar.srgba=Rc),ce.ext_color_buffer_half_float&&(ar.rgba16f=bh,ar.rgb16f=_h),ce.webgl_color_buffer_float&&(ar.rgba32f=xh);var tr=[];Object.keys(ar).forEach(function(Wr){var mr=ar[Wr];tr[mr]=Wr});var Ar=0,Pr={};function Ir(Wr){this.id=Ar++,this.refCount=1,this.renderbuffer=Wr,this.format=Ns,this.width=0,this.height=0,rr.profile&&(this.stats={size:0})}Ir.prototype.decRef=function(){--this.refCount<=0&&Nr(this)};function Nr(Wr){var mr=Wr.renderbuffer;H.bindRenderbuffer(Gi,null),H.deleteRenderbuffer(mr),Wr.renderbuffer=null,Wr.refCount=0,delete Pr[Wr.id],Ye.renderbufferCount--}function mt(Wr,mr){var Oe=new Ir(H.createRenderbuffer());Pr[Oe.id]=Oe,Ye.renderbufferCount++;function ur(Dr,br){var Xr=0,Hr=0,pt=Ns;if(typeof Dr=="object"&&Dr){var xr=Dr;if("shape"in xr){var yr=xr.shape;Xr=yr[0]|0,Hr=yr[1]|0}else"radius"in xr&&(Xr=Hr=xr.radius|0),"width"in xr&&(Xr=xr.width|0),"height"in xr&&(Hr=xr.height|0);"format"in xr&&(pt=ar[xr.format])}else typeof Dr=="number"?(Xr=Dr|0,typeof br=="number"?Hr=br|0:Hr=Xr):Dr||(Xr=Hr=1);if(!(Xr===Oe.width&&Hr===Oe.height&&pt===Oe.format))return ur.width=Oe.width=Xr,ur.height=Oe.height=Hr,Oe.format=pt,H.bindRenderbuffer(Gi,Oe.renderbuffer),H.renderbufferStorage(Gi,pt,Xr,Hr),rr.profile&&(Oe.stats.size=wh(Oe.format,Oe.width,Oe.height)),ur.format=tr[Oe.format],ur}function Sr(Dr,br){var Xr=Dr|0,Hr=br|0||Xr;return Xr===Oe.width&&Hr===Oe.height||(ur.width=Oe.width=Xr,ur.height=Oe.height=Hr,H.bindRenderbuffer(Gi,Oe.renderbuffer),H.renderbufferStorage(Gi,Oe.format,Xr,Hr),rr.profile&&(Oe.stats.size=wh(Oe.format,Oe.width,Oe.height))),ur}return ur(Wr,mr),ur.resize=Sr,ur._reglType="renderbuffer",ur._renderbuffer=Oe,rr.profile&&(ur.stats=Oe.stats),ur.destroy=function(){Oe.decRef()},ur}rr.profile&&(Ye.getTotalRenderbufferSize=function(){var Wr=0;return Object.keys(Pr).forEach(function(mr){Wr+=Pr[mr].stats.size}),Wr});function it(){_r(Pr).forEach(function(Wr){Wr.renderbuffer=H.createRenderbuffer(),H.bindRenderbuffer(Gi,Wr.renderbuffer),H.renderbufferStorage(Gi,Wr.format,Wr.width,Wr.height)}),H.bindRenderbuffer(Gi,null)}return{create:mt,clear:function(){_r(Pr).forEach(Nr)},restore:it}},bi=36160,wu=36161,Vo=3553,Fc=34069,Ah=36064,Th=36096,Mh=36128,Bs=33306,Au=36053,ol=36193,Qp=5121,eg=5126,rg=6407,tg=6408,If=[];If[tg]=4,If[rg]=3;var zs=[];zs[Qp]=1,zs[eg]=4,zs[ol]=2;function ng(H,ce,ge,Ye,rr,ar){var tr={cur:null,next:null,dirty:!1,setFBO:null},Ar=["rgba"],Pr=["rgba4","rgb565","rgb5 a1"];ce.ext_srgb&&Pr.push("srgba"),ce.ext_color_buffer_half_float&&Pr.push("rgba16f","rgb16f"),ce.webgl_color_buffer_float&&Pr.push("rgba32f");var Ir=["uint8"];ce.oes_texture_half_float&&Ir.push("half float","float16"),ce.oes_texture_float&&Ir.push("float","float32");function Nr(Br,Ur,Kr){this.target=Br,this.texture=Ur,this.renderbuffer=Kr;var gt=0,St=0;Ur?(gt=Ur.width,St=Ur.height):Kr&&(gt=Kr.width,St=Kr.height),this.width=gt,this.height=St}function mt(Br){Br&&(Br.texture&&Br.texture._texture.decRef(),Br.renderbuffer&&Br.renderbuffer._renderbuffer.decRef())}function it(Br,Ur,Kr){if(Br)if(Br.texture){var gt=Br.texture._texture,St=Math.max(1,gt.width),Vr=Math.max(1,gt.height);gt.refCount+=1}else{var nt=Br.renderbuffer._renderbuffer;nt.refCount+=1}}function Wr(Br,Ur){Ur&&(Ur.texture?H.framebufferTexture2D(bi,Br,Ur.target,Ur.texture._texture.texture,0):H.framebufferRenderbuffer(bi,Br,wu,Ur.renderbuffer._renderbuffer.renderbuffer))}function mr(Br){var Ur=Vo,Kr=null,gt=null,St=Br;typeof Br=="object"&&(St=Br.data,"target"in Br&&(Ur=Br.target|0));var Vr=St._reglType;return Vr==="texture2d"||Vr==="textureCube"?Kr=St:Vr==="renderbuffer"&&(gt=St,Ur=wu),new Nr(Ur,Kr,gt)}function Oe(Br,Ur,Kr,gt,St){if(Kr){var Vr=Ye.create2D({width:Br,height:Ur,format:gt,type:St});return Vr._texture.refCount=0,new Nr(Vo,Vr,null)}else{var nt=rr.create({width:Br,height:Ur,format:gt});return nt._renderbuffer.refCount=0,new Nr(wu,null,nt)}}function ur(Br){return Br&&(Br.texture||Br.renderbuffer)}function Sr(Br,Ur,Kr){Br&&(Br.texture?Br.texture.resize(Ur,Kr):Br.renderbuffer&&Br.renderbuffer.resize(Ur,Kr),Br.width=Ur,Br.height=Kr)}var Dr=0,br={};function Xr(){this.id=Dr++,br[this.id]=this,this.framebuffer=H.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Hr(Br){Br.colorAttachments.forEach(mt),mt(Br.depthAttachment),mt(Br.stencilAttachment),mt(Br.depthStencilAttachment)}function pt(Br){var Ur=Br.framebuffer;H.deleteFramebuffer(Ur),Br.framebuffer=null,ar.framebufferCount--,delete br[Br.id]}function xr(Br){var Ur;H.bindFramebuffer(bi,Br.framebuffer);var Kr=Br.colorAttachments;for(Ur=0;Ur<Kr.length;++Ur)Wr(Ah+Ur,Kr[Ur]);for(Ur=Kr.length;Ur<ge.maxColorAttachments;++Ur)H.framebufferTexture2D(bi,Ah+Ur,Vo,null,0);H.framebufferTexture2D(bi,Bs,Vo,null,0),H.framebufferTexture2D(bi,Th,Vo,null,0),H.framebufferTexture2D(bi,Mh,Vo,null,0),Wr(Th,Br.depthAttachment),Wr(Mh,Br.stencilAttachment),Wr(Bs,Br.depthStencilAttachment);var gt=H.checkFramebufferStatus(bi);H.isContextLost(),H.bindFramebuffer(bi,tr.next?tr.next.framebuffer:null),tr.cur=tr.next,H.getError()}function yr(Br,Ur){var Kr=new Xr;ar.framebufferCount++;function gt(Vr,nt){var Mt,Et=0,zt=0,En=!0,Wn=!0,Vt=null,ba=!0,an="rgba",sa="uint8",ha=1,_a=null,zn=null,qn=null,Xn=!1;if(typeof Vr=="number")Et=Vr|0,zt=nt|0||Et;else if(!Vr)Et=zt=1;else{var Ot=Vr;if("shape"in Ot){var Jn=Ot.shape;Et=Jn[0],zt=Jn[1]}else"radius"in Ot&&(Et=zt=Ot.radius),"width"in Ot&&(Et=Ot.width),"height"in Ot&&(zt=Ot.height);("color"in Ot||"colors"in Ot)&&(Vt=Ot.color||Ot.colors,Array.isArray(Vt)),Vt||("colorCount"in Ot&&(ha=Ot.colorCount|0),"colorTexture"in Ot&&(ba=!!Ot.colorTexture,an="rgba4"),"colorType"in Ot&&(sa=Ot.colorType,ba||(sa==="half float"||sa==="float16"?an="rgba16f":(sa==="float"||sa==="float32")&&(an="rgba32f"))),"colorFormat"in Ot&&(an=Ot.colorFormat,Ar.indexOf(an)>=0?ba=!0:Pr.indexOf(an)>=0&&(ba=!1))),("depthTexture"in Ot||"depthStencilTexture"in Ot)&&(Xn=!!(Ot.depthTexture||Ot.depthStencilTexture)),"depth"in Ot&&(typeof Ot.depth=="boolean"?En=Ot.depth:(_a=Ot.depth,Wn=!1)),"stencil"in Ot&&(typeof Ot.stencil=="boolean"?Wn=Ot.stencil:(zn=Ot.stencil,En=!1)),"depthStencil"in Ot&&(typeof Ot.depthStencil=="boolean"?En=Wn=Ot.depthStencil:(qn=Ot.depthStencil,En=!1,Wn=!1))}var un=null,va=null,wa=null,Aa=null;if(Array.isArray(Vt))un=Vt.map(mr);else if(Vt)un=[mr(Vt)];else for(un=new Array(ha),Mt=0;Mt<ha;++Mt)un[Mt]=Oe(Et,zt,ba,an,sa);Et=Et||un[0].width,zt=zt||un[0].height,_a?va=mr(_a):En&&!Wn&&(va=Oe(Et,zt,Xn,"depth","uint32")),zn?wa=mr(zn):Wn&&!En&&(wa=Oe(Et,zt,!1,"stencil","uint8")),qn?Aa=mr(qn):!_a&&!zn&&Wn&&En&&(Aa=Oe(Et,zt,Xn,"depth stencil","depth stencil"));var Lt=null;for(Mt=0;Mt<un.length;++Mt)if(it(un[Mt],Et,zt),un[Mt]&&un[Mt].texture){var Xt=If[un[Mt].texture._texture.format]*zs[un[Mt].texture._texture.type];Lt===null&&(Lt=Xt)}return it(va,Et,zt),it(wa,Et,zt),it(Aa,Et,zt),Hr(Kr),Kr.width=Et,Kr.height=zt,Kr.colorAttachments=un,Kr.depthAttachment=va,Kr.stencilAttachment=wa,Kr.depthStencilAttachment=Aa,gt.color=un.map(ur),gt.depth=ur(va),gt.stencil=ur(wa),gt.depthStencil=ur(Aa),gt.width=Kr.width,gt.height=Kr.height,xr(Kr),gt}function St(Vr,nt){var Mt=Math.max(Vr|0,1),Et=Math.max(nt|0||Mt,1);if(Mt===Kr.width&&Et===Kr.height)return gt;for(var zt=Kr.colorAttachments,En=0;En<zt.length;++En)Sr(zt[En],Mt,Et);return Sr(Kr.depthAttachment,Mt,Et),Sr(Kr.stencilAttachment,Mt,Et),Sr(Kr.depthStencilAttachment,Mt,Et),Kr.width=gt.width=Mt,Kr.height=gt.height=Et,xr(Kr),gt}return gt(Br,Ur),e(gt,{resize:St,_reglType:"framebuffer",_framebuffer:Kr,destroy:function(){pt(Kr),Hr(Kr)},use:function(Vr){tr.setFBO({framebuffer:gt},Vr)}})}function Jr(Br){var Ur=Array(6);function Kr(St){var Vr,nt={color:null},Mt=0,Et=null,zt="rgba",En="uint8",Wn=1;if(typeof St=="number")Mt=St|0;else if(!St)Mt=1;else{var Vt=St;if("shape"in Vt){var ba=Vt.shape;Mt=ba[0]}else"radius"in Vt&&(Mt=Vt.radius|0),"width"in Vt?(Mt=Vt.width|0,"height"in Vt):"height"in Vt&&(Mt=Vt.height|0);("color"in Vt||"colors"in Vt)&&(Et=Vt.color||Vt.colors,Array.isArray(Et)),Et||("colorCount"in Vt&&(Wn=Vt.colorCount|0),"colorType"in Vt&&(En=Vt.colorType),"colorFormat"in Vt&&(zt=Vt.colorFormat)),"depth"in Vt&&(nt.depth=Vt.depth),"stencil"in Vt&&(nt.stencil=Vt.stencil),"depthStencil"in Vt&&(nt.depthStencil=Vt.depthStencil)}var an;if(Et)if(Array.isArray(Et))for(an=[],Vr=0;Vr<Et.length;++Vr)an[Vr]=Et[Vr];else an=[Et];else{an=Array(Wn);var sa={radius:Mt,format:zt,type:En};for(Vr=0;Vr<Wn;++Vr)an[Vr]=Ye.createCube(sa)}for(nt.color=Array(an.length),Vr=0;Vr<an.length;++Vr){var ha=an[Vr];Mt=Mt||ha.width,nt.color[Vr]={target:Fc,data:an[Vr]}}for(Vr=0;Vr<6;++Vr){for(var _a=0;_a<an.length;++_a)nt.color[_a].target=Fc+Vr;Vr>0&&(nt.depth=Ur[0].depth,nt.stencil=Ur[0].stencil,nt.depthStencil=Ur[0].depthStencil),Ur[Vr]?Ur[Vr](nt):Ur[Vr]=yr(nt)}return e(Kr,{width:Mt,height:Mt,color:an})}function gt(St){var Vr,nt=St|0;if(nt===Kr.width)return Kr;var Mt=Kr.color;for(Vr=0;Vr<Mt.length;++Vr)Mt[Vr].resize(nt);for(Vr=0;Vr<6;++Vr)Ur[Vr].resize(nt);return Kr.width=Kr.height=nt,Kr}return Kr(Br),e(Kr,{faces:Ur,resize:gt,_reglType:"framebufferCube",destroy:function(){Ur.forEach(function(St){St.destroy()})}})}function Gr(){tr.cur=null,tr.next=null,tr.dirty=!0,_r(br).forEach(function(Br){Br.framebuffer=H.createFramebuffer(),xr(Br)})}return e(tr,{getFramebuffer:function(Br){if(typeof Br=="function"&&Br._reglType==="framebuffer"){var Ur=Br._framebuffer;if(Ur instanceof Xr)return Ur}return null},create:yr,createCube:Jr,clear:function(){_r(br).forEach(pt)},restore:Gr})}var ag=5126,Eh=34962,qs=34963;function Us(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=ag,this.offset=0,this.stride=0,this.divisor=0}function Sh(H,ce,ge,Ye,rr,ar,tr){for(var Ar=ge.maxAttributes,Pr=new Array(Ar),Ir=0;Ir<Ar;++Ir)Pr[Ir]=new Us;var Nr=0,mt={},it={Record:Us,scope:{},state:Pr,currentVAO:null,targetVAO:null,restore:mr()?Hr:function(){},createVAO:pt,getVAO:ur,destroyBuffer:Wr,setVAO:mr()?Sr:Dr,clear:mr()?br:function(){}};function Wr(xr){for(var yr=0;yr<Pr.length;++yr){var Jr=Pr[yr];Jr.buffer===xr&&(H.disableVertexAttribArray(yr),Jr.buffer=null)}}function mr(){return ce.oes_vertex_array_object}function Oe(){return ce.angle_instanced_arrays}function ur(xr){return typeof xr=="function"&&xr._vao?xr._vao:null}function Sr(xr){if(xr!==it.currentVAO){var yr=mr();xr?yr.bindVertexArrayOES(xr.vao):yr.bindVertexArrayOES(null),it.currentVAO=xr}}function Dr(xr){if(xr!==it.currentVAO){if(xr)xr.bindAttrs();else{for(var yr=Oe(),Jr=0;Jr<Pr.length;++Jr){var Gr=Pr[Jr];Gr.buffer?(H.enableVertexAttribArray(Jr),Gr.buffer.bind(),H.vertexAttribPointer(Jr,Gr.size,Gr.type,Gr.normalized,Gr.stride,Gr.offfset),yr&&Gr.divisor&&yr.vertexAttribDivisorANGLE(Jr,Gr.divisor)):(H.disableVertexAttribArray(Jr),H.vertexAttrib4f(Jr,Gr.x,Gr.y,Gr.z,Gr.w))}tr.elements?H.bindBuffer(qs,tr.elements.buffer.buffer):H.bindBuffer(qs,null)}it.currentVAO=xr}}function br(){_r(mt).forEach(function(xr){xr.destroy()})}function Xr(){this.id=++Nr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var xr=mr();xr?this.vao=xr.createVertexArrayOES():this.vao=null,mt[this.id]=this,this.buffers=[]}Xr.prototype.bindAttrs=function(){for(var xr=Oe(),yr=this.attributes,Jr=0;Jr<yr.length;++Jr){var Gr=yr[Jr];Gr.buffer?(H.enableVertexAttribArray(Jr),H.bindBuffer(Eh,Gr.buffer.buffer),H.vertexAttribPointer(Jr,Gr.size,Gr.type,Gr.normalized,Gr.stride,Gr.offset),xr&&Gr.divisor&&xr.vertexAttribDivisorANGLE(Jr,Gr.divisor)):(H.disableVertexAttribArray(Jr),H.vertexAttrib4f(Jr,Gr.x,Gr.y,Gr.z,Gr.w))}for(var Br=yr.length;Br<Ar;++Br)H.disableVertexAttribArray(Br);var Ur=ar.getElements(this.elements);Ur?H.bindBuffer(qs,Ur.buffer.buffer):H.bindBuffer(qs,null)},Xr.prototype.refresh=function(){var xr=mr();xr&&(xr.bindVertexArrayOES(this.vao),this.bindAttrs(),it.currentVAO=null,xr.bindVertexArrayOES(null))},Xr.prototype.destroy=function(){if(this.vao){var xr=mr();this===it.currentVAO&&(it.currentVAO=null,xr.bindVertexArrayOES(null)),xr.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),mt[this.id]&&(delete mt[this.id],Ye.vaoCount-=1)};function Hr(){var xr=mr();xr&&_r(mt).forEach(function(yr){yr.refresh()})}function pt(xr){var yr=new Xr;Ye.vaoCount+=1;function Jr(Gr){var Br;if(Array.isArray(Gr))Br=Gr,yr.elements&&yr.ownsElements&&yr.elements.destroy(),yr.elements=null,yr.ownsElements=!1,yr.offset=0,yr.count=0,yr.instances=-1,yr.primitive=4;else{if(Gr.elements){var Ur=Gr.elements;yr.ownsElements?typeof Ur=="function"&&Ur._reglType==="elements"?(yr.elements.destroy(),yr.ownsElements=!1):(yr.elements(Ur),yr.ownsElements=!1):ar.getElements(Gr.elements)?(yr.elements=Gr.elements,yr.ownsElements=!1):(yr.elements=ar.create(Gr.elements),yr.ownsElements=!0)}else yr.elements=null,yr.ownsElements=!1;Br=Gr.attributes,yr.offset=0,yr.count=-1,yr.instances=-1,yr.primitive=4,yr.elements&&(yr.count=yr.elements._elements.vertCount,yr.primitive=yr.elements._elements.primType),"offset"in Gr&&(yr.offset=Gr.offset|0),"count"in Gr&&(yr.count=Gr.count|0),"instances"in Gr&&(yr.instances=Gr.instances|0),"primitive"in Gr&&(yr.primitive=Ci[Gr.primitive])}var Kr={},gt=yr.attributes;gt.length=Br.length;for(var St=0;St<Br.length;++St){var Vr=Br[St],nt=gt[St]=new Us,Mt=Vr.data||Vr;if(Array.isArray(Mt)||jr(Mt)||Or(Mt)){var Et;yr.buffers[St]&&(Et=yr.buffers[St],jr(Mt)&&Et._buffer.byteLength>=Mt.byteLength?Et.subdata(Mt):(Et.destroy(),yr.buffers[St]=null)),yr.buffers[St]||(Et=yr.buffers[St]=rr.create(Vr,Eh,!1,!0)),nt.buffer=rr.getBuffer(Et),nt.size=nt.buffer.dimension|0,nt.normalized=!1,nt.type=nt.buffer.dtype,nt.offset=0,nt.stride=0,nt.divisor=0,nt.state=1,Kr[St]=1}else rr.getBuffer(Vr)?(nt.buffer=rr.getBuffer(Vr),nt.size=nt.buffer.dimension|0,nt.normalized=!1,nt.type=nt.buffer.dtype,nt.offset=0,nt.stride=0,nt.divisor=0,nt.state=1):rr.getBuffer(Vr.buffer)?(nt.buffer=rr.getBuffer(Vr.buffer),nt.size=(+Vr.size||nt.buffer.dimension)|0,nt.normalized=!!Vr.normalized||!1,"type"in Vr?nt.type=dt[Vr.type]:nt.type=nt.buffer.dtype,nt.offset=(Vr.offset||0)|0,nt.stride=(Vr.stride||0)|0,nt.divisor=(Vr.divisor||0)|0,nt.state=1):"x"in Vr&&(nt.x=+Vr.x||0,nt.y=+Vr.y||0,nt.z=+Vr.z||0,nt.w=+Vr.w||0,nt.state=2)}for(var zt=0;zt<yr.buffers.length;++zt)!Kr[zt]&&yr.buffers[zt]&&(yr.buffers[zt].destroy(),yr.buffers[zt]=null);return yr.refresh(),Jr}return Jr.destroy=function(){for(var Gr=0;Gr<yr.buffers.length;++Gr)yr.buffers[Gr]&&yr.buffers[Gr].destroy();yr.buffers.length=0,yr.ownsElements&&(yr.elements.destroy(),yr.elements=null,yr.ownsElements=!1),yr.destroy()},Jr._vao=yr,Jr._reglType="vao",Jr(xr)}return it}var Ch=35632,ig=35633,og=35718,lg=35721;function pd(H,ce,ge,Ye){var rr={},ar={};function tr(Oe,ur,Sr,Dr){this.name=Oe,this.id=ur,this.location=Sr,this.info=Dr}function Ar(Oe,ur){for(var Sr=0;Sr<Oe.length;++Sr)if(Oe[Sr].id===ur.id){Oe[Sr].location=ur.location;return}Oe.push(ur)}function Pr(Oe,ur,Sr){var Dr=Oe===Ch?rr:ar,br=Dr[ur];if(!br){var Xr=ce.str(ur);br=H.createShader(Oe),H.shaderSource(br,Xr),H.compileShader(br),Dr[ur]=br}return br}var Ir={},Nr=[],mt=0;function it(Oe,ur){this.id=mt++,this.fragId=Oe,this.vertId=ur,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Ye.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Wr(Oe,ur,Sr){var Dr,br,Xr=Pr(Ch,Oe.fragId),Hr=Pr(ig,Oe.vertId),pt=Oe.program=H.createProgram();if(H.attachShader(pt,Xr),H.attachShader(pt,Hr),Sr)for(Dr=0;Dr<Sr.length;++Dr){var xr=Sr[Dr];H.bindAttribLocation(pt,xr[0],xr[1])}H.linkProgram(pt);var yr=H.getProgramParameter(pt,og);Ye.profile&&(Oe.stats.uniformsCount=yr);var Jr=Oe.uniforms;for(Dr=0;Dr<yr;++Dr)if(br=H.getActiveUniform(pt,Dr),br)if(br.size>1)for(var Gr=0;Gr<br.size;++Gr){var Br=br.name.replace("[0]","["+Gr+"]");Ar(Jr,new tr(Br,ce.id(Br),H.getUniformLocation(pt,Br),br))}else Ar(Jr,new tr(br.name,ce.id(br.name),H.getUniformLocation(pt,br.name),br));var Ur=H.getProgramParameter(pt,lg);Ye.profile&&(Oe.stats.attributesCount=Ur);var Kr=Oe.attributes;for(Dr=0;Dr<Ur;++Dr)br=H.getActiveAttrib(pt,Dr),br&&Ar(Kr,new tr(br.name,ce.id(br.name),H.getAttribLocation(pt,br.name),br))}Ye.profile&&(ge.getMaxUniformsCount=function(){var Oe=0;return Nr.forEach(function(ur){ur.stats.uniformsCount>Oe&&(Oe=ur.stats.uniformsCount)}),Oe},ge.getMaxAttributesCount=function(){var Oe=0;return Nr.forEach(function(ur){ur.stats.attributesCount>Oe&&(Oe=ur.stats.attributesCount)}),Oe});function mr(){rr={},ar={};for(var Oe=0;Oe<Nr.length;++Oe)Wr(Nr[Oe],null,Nr[Oe].attributes.map(function(ur){return[ur.location,ur.name]}))}return{clear:function(){var Oe=H.deleteShader.bind(H);_r(rr).forEach(Oe),rr={},_r(ar).forEach(Oe),ar={},Nr.forEach(function(ur){H.deleteProgram(ur.program)}),Nr.length=0,Ir={},ge.shaderCount=0},program:function(Oe,ur,Sr,Dr){var br=Ir[ur];br||(br=Ir[ur]={});var Xr=br[Oe];if(Xr&&(Xr.refCount++,!Dr))return Xr;var Hr=new it(ur,Oe);return ge.shaderCount++,Wr(Hr,Sr,Dr),Xr||(br[Oe]=Hr),Nr.push(Hr),e(Hr,{destroy:function(){if(Hr.refCount--,Hr.refCount<=0){H.deleteProgram(Hr.program);var pt=Nr.indexOf(Hr);Nr.splice(pt,1),ge.shaderCount--}br[Hr.vertId].refCount<=0&&(H.deleteShader(ar[Hr.vertId]),delete ar[Hr.vertId],delete Ir[Hr.fragId][Hr.vertId]),Object.keys(Ir[Hr.fragId]).length||(H.deleteShader(rr[Hr.fragId]),delete rr[Hr.fragId],delete Ir[Hr.fragId])}})},restore:mr,shader:Pr,frag:-1,vert:-1}}var sg=6408,Tu=5121,kh=3333,Dc=5126;function gd(H,ce,ge,Ye,rr,ar,tr){function Ar(Nr){var mt;ce.next===null?mt=Tu:mt=ce.next.colorAttachments[0].texture._texture.type;var it=0,Wr=0,mr=Ye.framebufferWidth,Oe=Ye.framebufferHeight,ur=null;jr(Nr)?ur=Nr:Nr&&(it=Nr.x|0,Wr=Nr.y|0,mr=(Nr.width||Ye.framebufferWidth-it)|0,Oe=(Nr.height||Ye.framebufferHeight-Wr)|0,ur=Nr.data||null),ge();var Sr=mr*Oe*4;return ur||(mt===Tu?ur=new Uint8Array(Sr):mt===Dc&&(ur=ur||new Float32Array(Sr))),H.pixelStorei(kh,4),H.readPixels(it,Wr,mr,Oe,sg,mt,ur),ur}function Pr(Nr){var mt;return ce.setFBO({framebuffer:Nr.framebuffer},function(){mt=Ar(Nr)}),mt}function Ir(Nr){return!Nr||!("framebuffer"in Nr)?Ar(Nr):Pr(Nr)}return Ir}var yd=0,fg="";function ug(H){return xd(md(vg(H)))}function md(H){return Lh(Nl(Mu(H),H.length*8))}function b2(H,ce){var ge=Mu(H);ge.length>16&&(ge=Nl(ge,H.length*8));for(var Ye=Array(16),rr=Array(16),ar=0;ar<16;ar++)Ye[ar]=ge[ar]^909522486,rr[ar]=ge[ar]^1549556828;var tr=Nl(Ye.concat(Mu(ce)),512+ce.length*8);return Lh(Nl(rr.concat(tr),768))}function xd(H){for(var ce=yd?"0123456789ABCDEF":"0123456789abcdef",ge="",Ye,rr=0;rr<H.length;rr++)Ye=H.charCodeAt(rr),ge+=ce.charAt(Ye>>>4&15)+ce.charAt(Ye&15);return ge}function cg(H){for(var ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ge="",Ye=H.length,rr=0;rr<Ye;rr+=3)for(var ar=H.charCodeAt(rr)<<16|(rr+1<Ye?H.charCodeAt(rr+1)<<8:0)|(rr+2<Ye?H.charCodeAt(rr+2):0),tr=0;tr<4;tr++)rr*8+tr*6>H.length*8?ge+=fg:ge+=ce.charAt(ar>>>6*(3-tr)&63);return ge}function hg(H,ce){var ge=ce.length,Ye=Array(),rr,ar,tr,Ar,Pr=Array(Math.ceil(H.length/2));for(rr=0;rr<Pr.length;rr++)Pr[rr]=H.charCodeAt(rr*2)<<8|H.charCodeAt(rr*2+1);for(;Pr.length>0;){for(Ar=Array(),tr=0,rr=0;rr<Pr.length;rr++)tr=(tr<<16)+Pr[rr],ar=Math.floor(tr/ge),tr-=ar*ge,(Ar.length>0||ar>0)&&(Ar[Ar.length]=ar);Ye[Ye.length]=tr,Pr=Ar}var Ir="";for(rr=Ye.length-1;rr>=0;rr--)Ir+=ce.charAt(Ye[rr]);var Nr=Math.ceil(H.length*8/(Math.log(ce.length)/Math.log(2)));for(rr=Ir.length;rr<Nr;rr++)Ir=ce[0]+Ir;return Ir}function vg(H){for(var ce="",ge=-1,Ye,rr;++ge<H.length;)Ye=H.charCodeAt(ge),rr=ge+1<H.length?H.charCodeAt(ge+1):0,55296<=Ye&&Ye<=56319&&56320<=rr&&rr<=57343&&(Ye=65536+((Ye&1023)<<10)+(rr&1023),ge++),Ye<=127?ce+=String.fromCharCode(Ye):Ye<=2047?ce+=String.fromCharCode(192|Ye>>>6&31,128|Ye&63):Ye<=65535?ce+=String.fromCharCode(224|Ye>>>12&15,128|Ye>>>6&63,128|Ye&63):Ye<=2097151&&(ce+=String.fromCharCode(240|Ye>>>18&7,128|Ye>>>12&63,128|Ye>>>6&63,128|Ye&63));return ce}function Mu(H){for(var ce=Array(H.length>>2),ge=0;ge<ce.length;ge++)ce[ge]=0;for(var ge=0;ge<H.length*8;ge+=8)ce[ge>>5]|=(H.charCodeAt(ge/8)&255)<<24-ge%32;return ce}function Lh(H){for(var ce="",ge=0;ge<H.length*32;ge+=8)ce+=String.fromCharCode(H[ge>>5]>>>24-ge%32&255);return ce}function Ka(H,ce){return H>>>ce|H<<32-ce}function Rh(H,ce){return H>>>ce}function bd(H,ce,ge){return H&ce^~H&ge}function _d(H,ce,ge){return H&ce^H&ge^ce&ge}function Fh(H){return Ka(H,2)^Ka(H,13)^Ka(H,22)}function wd(H){return Ka(H,6)^Ka(H,11)^Ka(H,25)}function Ic(H){return Ka(H,7)^Ka(H,18)^Rh(H,3)}function Pc(H){return Ka(H,17)^Ka(H,19)^Rh(H,10)}var dg=new Array(1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998);function Nl(H,ce){var ge=new Array(1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225),Ye=new Array(64),rr,ar,tr,Ar,Pr,Ir,Nr,mt,it,Wr,mr,Oe;for(H[ce>>5]|=128<<24-ce%32,H[(ce+64>>9<<4)+15]=ce,it=0;it<H.length;it+=16){for(rr=ge[0],ar=ge[1],tr=ge[2],Ar=ge[3],Pr=ge[4],Ir=ge[5],Nr=ge[6],mt=ge[7],Wr=0;Wr<64;Wr++)Wr<16?Ye[Wr]=H[Wr+it]:Ye[Wr]=Yn(Yn(Yn(Pc(Ye[Wr-2]),Ye[Wr-7]),Ic(Ye[Wr-15])),Ye[Wr-16]),mr=Yn(Yn(Yn(Yn(mt,wd(Pr)),bd(Pr,Ir,Nr)),dg[Wr]),Ye[Wr]),Oe=Yn(Fh(rr),_d(rr,ar,tr)),mt=Nr,Nr=Ir,Ir=Pr,Pr=Yn(Ar,mr),Ar=tr,tr=ar,ar=rr,rr=Yn(mr,Oe);ge[0]=Yn(rr,ge[0]),ge[1]=Yn(ar,ge[1]),ge[2]=Yn(tr,ge[2]),ge[3]=Yn(Ar,ge[3]),ge[4]=Yn(Pr,ge[4]),ge[5]=Yn(Ir,ge[5]),ge[6]=Yn(Nr,ge[6]),ge[7]=Yn(mt,ge[7])}return ge}function Yn(H,ce){var ge=(H&65535)+(ce&65535),Ye=(H>>16)+(ce>>16)+(ge>>16);return Ye<<16|ge&65535}function Yo(H){return Array.prototype.slice.call(H)}function Wo(H){return Yo(H).join("")}function Ad(H){var ce=H&&H.cache,ge=0,Ye=[],rr=[],ar=[];function tr(mr,Oe){var ur=Oe&&Oe.stable;if(!ur){for(var Sr=0;Sr<rr.length;++Sr)if(rr[Sr]===mr&&!ar[Sr])return Ye[Sr]}var Dr="g"+ge++;return Ye.push(Dr),rr.push(mr),ar.push(ur),Dr}function Ar(){var mr=[];function Oe(){mr.push.apply(mr,Yo(arguments))}var ur=[];function Sr(){var Dr="v"+ge++;return ur.push(Dr),arguments.length>0&&(mr.push(Dr,"="),mr.push.apply(mr,Yo(arguments)),mr.push(";")),Dr}return e(Oe,{def:Sr,toString:function(){return Wo([ur.length>0?"var "+ur.join(",")+";":"",Wo(mr)])}})}function Pr(){var mr=Ar(),Oe=Ar(),ur=mr.toString,Sr=Oe.toString;function Dr(br,Xr){Oe(br,Xr,"=",mr.def(br,Xr),";")}return e(function(){mr.apply(mr,Yo(arguments))},{def:mr.def,entry:mr,exit:Oe,save:Dr,set:function(br,Xr,Hr){Dr(br,Xr),mr(br,Xr,"=",Hr,";")},toString:function(){return ur()+Sr()}})}function Ir(){var mr=Wo(arguments),Oe=Pr(),ur=Pr(),Sr=Oe.toString,Dr=ur.toString;return e(Oe,{then:function(){return Oe.apply(Oe,Yo(arguments)),this},else:function(){return ur.apply(ur,Yo(arguments)),this},toString:function(){var br=Dr();return br&&(br="else{"+br+"}"),Wo(["if(",mr,"){",Sr(),"}",br])}})}var Nr=Ar(),mt={};function it(mr,Oe){var ur=[];function Sr(){var pt="a"+ur.length;return ur.push(pt),pt}Oe=Oe||0;for(var Dr=0;Dr<Oe;++Dr)Sr();var br=Pr(),Xr=br.toString,Hr=mt[mr]=e(br,{arg:Sr,toString:function(){return Wo(["function(",ur.join(),"){",Xr(),"}"])}});return Hr}function Wr(){var mr=['"use strict";',Nr,"return {"];Object.keys(mt).forEach(function(Dr){mr.push('"',Dr,'":',mt[Dr].toString(),",")}),mr.push("}");var Oe=Wo(mr).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),ur;if(ce&&(ur=ug(Oe),ce[ur]))return ce[ur].apply(null,rr);var Sr=Function.apply(null,Ye.concat(Oe));return ce&&(ce[ur]=Sr),Sr.apply(null,rr)}return{global:Nr,link:tr,block:Ar,proc:it,scope:Pr,cond:Ir,compile:Wr}}var So="xyzw".split(""),Oc=5121,fo=1,Gs=2,Eu=0,Pf=1,Nc=2,Of=3,Hs=4,Bc=5,Nf=6,zc="dither",Dh="blend.enable",Ih="blend.color",Su="blend.equation",Cu="blend.func",qc="depth.enable",Uc="depth.func",Gc="depth.range",Hc="depth.mask",ku="colorMask",Bf="cull.enable",Ph="cull.face",Lu="frontFace",zf="lineWidth",Vc="polygonOffset.enable",Ru="polygonOffset.offset",qf="sample.alpha",Uf="sample.enable",Gf="sample.coverage",Yc="stencil.enable",Fu="stencil.mask",Hi="stencil.func",Hf="stencil.opFront",Bl="stencil.opBack",Du="scissor.enable",zl="scissor.box",_i="viewport",Vs="profile",Xo="framebuffer",ll="vert",ql="frag",Co="elements",jo="primitive",Zo="count",Iu="offset",Ri="instances",is="vao",Vf="Width",ko="Height",uo=Xo+Vf,co=Xo+ko,pg=_i+Vf,gg=_i+ko,Oh="drawingBuffer",Wc=Oh+Vf,Xc=Oh+ko,Td=[Cu,Su,Hi,Hf,Bl,Gf,_i,zl,Ru],Lo=34962,Pu=34963,Md=2884,yg=3042,mg=3024,xg=2960,Ed=2929,Sd=3089,jc=32823,Cd=32926,Zc=32928,$c=5126,Ul=35664,xa=35665,Yf=35666,Gl=5124,os=35667,Ys=35668,Ou=35669,Nu=35670,ls=35671,Wf=35672,Bu=35673,zu=35674,qu=35675,Uu=35676,Ws=35678,Gu=35680,Hu=4,C=1028,N=1029,U=2304,X=2305,$=32775,ee=32776,ve=519,se=7680,xe=0,ke=1,Le=32774,Je=513,Ke=36160,Er=36064,Lr={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},or={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},gr={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},wr={cw:U,ccw:X};function Rr(H){return Array.isArray(H)||jr(H)||Or(H)}function Fr(H){return H.sort(function(ce,ge){return ce===_i?-1:ge===_i?1:ce<ge?-1:1})}function vr(H,ce,ge,Ye){this.thisDep=H,this.contextDep=ce,this.propDep=ge,this.append=Ye}function at(H){return H&&!(H.thisDep||H.contextDep||H.propDep)}function ct(H){return new vr(!1,!1,!1,H)}function At(H,ce){var ge=H.type;if(ge===Eu){var Ye=H.data.length;return new vr(!0,Ye>=1,Ye>=2,ce)}else if(ge===Hs){var rr=H.data;return new vr(rr.thisDep,rr.contextDep,rr.propDep,ce)}else{if(ge===Bc)return new vr(!1,!1,!1,ce);if(ge===Nf){for(var ar=!1,tr=!1,Ar=!1,Pr=0;Pr<H.data.length;++Pr){var Ir=H.data[Pr];if(Ir.type===Pf)Ar=!0;else if(Ir.type===Nc)tr=!0;else if(Ir.type===Of)ar=!0;else if(Ir.type===Eu){ar=!0;var Nr=Ir.data;Nr>=1&&(tr=!0),Nr>=2&&(Ar=!0)}else Ir.type===Hs&&(ar=ar||Ir.data.thisDep,tr=tr||Ir.data.contextDep,Ar=Ar||Ir.data.propDep)}return new vr(ar,tr,Ar,ce)}else return new vr(ge===Of,ge===Nc,ge===Pf,ce)}}var Ft=new vr(!1,!1,!1,function(){});function Gt(H,ce,ge,Ye,rr,ar,tr,Ar,Pr,Ir,Nr,mt,it,Wr,mr,Oe){var ur=Ir.Record,Sr={add:32774,subtract:32778,"reverse subtract":32779};ge.ext_blend_minmax&&(Sr.min=$,Sr.max=ee);var Dr=ge.angle_instanced_arrays,br=ge.webgl_draw_buffers,Xr=ge.oes_vertex_array_object,Hr={dirty:!0,profile:Oe.profile},pt={},xr=[],yr={},Jr={};function Gr(ue){return ue.replace(".","_")}function Br(ue,de,_e){var Ze=Gr(ue);xr.push(ue),pt[Ze]=Hr[Ze]=!!_e,yr[Ze]=de}function Ur(ue,de,_e){var Ze=Gr(ue);xr.push(ue),Array.isArray(_e)?(Hr[Ze]=_e.slice(),pt[Ze]=_e.slice()):Hr[Ze]=pt[Ze]=_e,Jr[Ze]=de}function Kr(ue){return!!isNaN(ue)}Br(zc,mg),Br(Dh,yg),Ur(Ih,"blendColor",[0,0,0,0]),Ur(Su,"blendEquationSeparate",[Le,Le]),Ur(Cu,"blendFuncSeparate",[ke,xe,ke,xe]),Br(qc,Ed,!0),Ur(Uc,"depthFunc",Je),Ur(Gc,"depthRange",[0,1]),Ur(Hc,"depthMask",!0),Ur(ku,ku,[!0,!0,!0,!0]),Br(Bf,Md),Ur(Ph,"cullFace",N),Ur(Lu,Lu,X),Ur(zf,zf,1),Br(Vc,jc),Ur(Ru,"polygonOffset",[0,0]),Br(qf,Cd),Br(Uf,Zc),Ur(Gf,"sampleCoverage",[1,!1]),Br(Yc,xg),Ur(Fu,"stencilMask",-1),Ur(Hi,"stencilFunc",[ve,0,-1]),Ur(Hf,"stencilOpSeparate",[C,se,se,se]),Ur(Bl,"stencilOpSeparate",[N,se,se,se]),Br(Du,Sd),Ur(zl,"scissor",[0,0,H.drawingBufferWidth,H.drawingBufferHeight]),Ur(_i,_i,[0,0,H.drawingBufferWidth,H.drawingBufferHeight]);var gt={gl:H,context:it,strings:ce,next:pt,current:Hr,draw:mt,elements:ar,buffer:rr,shader:Nr,attributes:Ir.state,vao:Ir,uniforms:Pr,framebuffer:Ar,extensions:ge,timer:Wr,isBufferArgs:Rr},St={primTypes:Ci,compareFuncs:or,blendFuncs:Lr,blendEquations:Sr,stencilOps:gr,glTypes:dt,orientationType:wr};br&&(St.backBuffer=[N],St.drawBuffer=g(Ye.maxDrawbuffers,function(ue){return ue===0?[0]:g(ue,function(de){return Er+de})}));var Vr=0;function nt(){var ue=Ad({cache:mr}),de=ue.link,_e=ue.global;ue.id=Vr++,ue.batchId="0";var Ze=de(gt),ir=ue.shared={props:"a0"};Object.keys(gt).forEach(function(Me){ir[Me]=_e.def(Ze,".",Me)});var ze=ue.next={},Pe=ue.current={};Object.keys(Jr).forEach(function(Me){Array.isArray(Hr[Me])&&(ze[Me]=_e.def(ir.next,".",Me),Pe[Me]=_e.def(ir.current,".",Me))});var Ce=ue.constants={};Object.keys(St).forEach(function(Me){Ce[Me]=_e.def(JSON.stringify(St[Me]))}),ue.invoke=function(Me,ye){switch(ye.type){case Eu:var Ve=["this",ir.context,ir.props,ue.batchId];return Me.def(de(ye.data),".call(",Ve.slice(0,Math.max(ye.data.length+1,4)),")");case Pf:return Me.def(ir.props,ye.data);case Nc:return Me.def(ir.context,ye.data);case Of:return Me.def("this",ye.data);case Hs:return ye.data.append(ue,Me),ye.data.ref;case Bc:return ye.data.toString();case Nf:return ye.data.map(function(cr){return ue.invoke(Me,cr)})}},ue.attribCache={};var me={};return ue.scopeAttrib=function(Me){var ye=ce.id(Me);if(ye in me)return me[ye];var Ve=Ir.scope[ye];Ve||(Ve=Ir.scope[ye]=new ur);var cr=me[ye]=de(Ve);return cr},ue}function Mt(ue){var de=ue.static,_e=ue.dynamic,Ze;if(Vs in de){var ir=!!de[Vs];Ze=ct(function(Pe,Ce){return ir}),Ze.enable=ir}else if(Vs in _e){var ze=_e[Vs];Ze=At(ze,function(Pe,Ce){return Pe.invoke(Ce,ze)})}return Ze}function Et(ue,de){var _e=ue.static,Ze=ue.dynamic;if(Xo in _e){var ir=_e[Xo];return ir?(ir=Ar.getFramebuffer(ir),ct(function(Pe,Ce){var me=Pe.link(ir),Me=Pe.shared;Ce.set(Me.framebuffer,".next",me);var ye=Me.context;return Ce.set(ye,"."+uo,me+".width"),Ce.set(ye,"."+co,me+".height"),me})):ct(function(Pe,Ce){var me=Pe.shared;Ce.set(me.framebuffer,".next","null");var Me=me.context;return Ce.set(Me,"."+uo,Me+"."+Wc),Ce.set(Me,"."+co,Me+"."+Xc),"null"})}else if(Xo in Ze){var ze=Ze[Xo];return At(ze,function(Pe,Ce){var me=Pe.invoke(Ce,ze),Me=Pe.shared,ye=Me.framebuffer,Ve=Ce.def(ye,".getFramebuffer(",me,")");Ce.set(ye,".next",Ve);var cr=Me.context;return Ce.set(cr,"."+uo,Ve+"?"+Ve+".width:"+cr+"."+Wc),Ce.set(cr,"."+co,Ve+"?"+Ve+".height:"+cr+"."+Xc),Ve})}else return null}function zt(ue,de,_e){var Ze=ue.static,ir=ue.dynamic;function ze(me){if(me in Ze){var Me=Ze[me],ye=!0,Ve=Me.x|0,cr=Me.y|0,Cr,xt;return"width"in Me?Cr=Me.width|0:ye=!1,"height"in Me?xt=Me.height|0:ye=!1,new vr(!ye&&de&&de.thisDep,!ye&&de&&de.contextDep,!ye&&de&&de.propDep,function(yt,ht){var ut=yt.shared.context,$r=Cr;"width"in Me||($r=ht.def(ut,".",uo,"-",Ve));var lt=xt;return"height"in Me||(lt=ht.def(ut,".",co,"-",cr)),[Ve,cr,$r,lt]})}else if(me in ir){var Qr=ir[me],Zr=At(Qr,function(yt,ht){var ut=yt.invoke(ht,Qr),$r=yt.shared.context,lt=ht.def(ut,".x|0"),ft=ht.def(ut,".y|0"),Ct=ht.def('"width" in ',ut,"?",ut,".width|0:","(",$r,".",uo,"-",lt,")"),mn=ht.def('"height" in ',ut,"?",ut,".height|0:","(",$r,".",co,"-",ft,")");return[lt,ft,Ct,mn]});return de&&(Zr.thisDep=Zr.thisDep||de.thisDep,Zr.contextDep=Zr.contextDep||de.contextDep,Zr.propDep=Zr.propDep||de.propDep),Zr}else return de?new vr(de.thisDep,de.contextDep,de.propDep,function(yt,ht){var ut=yt.shared.context;return[0,0,ht.def(ut,".",uo),ht.def(ut,".",co)]}):null}var Pe=ze(_i);if(Pe){var Ce=Pe;Pe=new vr(Pe.thisDep,Pe.contextDep,Pe.propDep,function(me,Me){var ye=Ce.append(me,Me),Ve=me.shared.context;return Me.set(Ve,"."+pg,ye[2]),Me.set(Ve,"."+gg,ye[3]),ye})}return{viewport:Pe,scissor_box:ze(zl)}}function En(ue,de){var _e=ue.static,Ze=typeof _e[ql]=="string"&&typeof _e[ll]=="string";if(Ze){if(Object.keys(de.dynamic).length>0)return null;var ir=de.static,ze=Object.keys(ir);if(ze.length>0&&typeof ir[ze[0]]=="number"){for(var Pe=[],Ce=0;Ce<ze.length;++Ce)Pe.push([ir[ze[Ce]]|0,ze[Ce]]);return Pe}}return null}function Wn(ue,de,_e){var Ze=ue.static,ir=ue.dynamic;function ze(ye){if(ye in Ze){var Ve=ce.id(Ze[ye]),cr=ct(function(){return Ve});return cr.id=Ve,cr}else if(ye in ir){var Cr=ir[ye];return At(Cr,function(xt,Qr){var Zr=xt.invoke(Qr,Cr),yt=Qr.def(xt.shared.strings,".id(",Zr,")");return yt})}return null}var Pe=ze(ql),Ce=ze(ll),me=null,Me;return at(Pe)&&at(Ce)?(me=Nr.program(Ce.id,Pe.id,null,_e),Me=ct(function(ye,Ve){return ye.link(me)})):Me=new vr(Pe&&Pe.thisDep||Ce&&Ce.thisDep,Pe&&Pe.contextDep||Ce&&Ce.contextDep,Pe&&Pe.propDep||Ce&&Ce.propDep,function(ye,Ve){var cr=ye.shared.shader,Cr;Pe?Cr=Pe.append(ye,Ve):Cr=Ve.def(cr,".",ql);var xt;Ce?xt=Ce.append(ye,Ve):xt=Ve.def(cr,".",ll);var Qr=cr+".program("+xt+","+Cr;return Ve.def(Qr+")")}),{frag:Pe,vert:Ce,progVar:Me,program:me}}function Vt(ue,de){var _e=ue.static,Ze=ue.dynamic,ir={},ze=!1;function Pe(){if(is in _e){var ht=_e[is];return ht!==null&&Ir.getVAO(ht)===null&&(ht=Ir.createVAO(ht)),ze=!0,ir.vao=ht,ct(function($r){var lt=Ir.getVAO(ht);return lt?$r.link(lt):"null"})}else if(is in Ze){ze=!0;var ut=Ze[is];return At(ut,function($r,lt){var ft=$r.invoke(lt,ut);return lt.def($r.shared.vao+".getVAO("+ft+")")})}return null}var Ce=Pe(),me=!1;function Me(){if(Co in _e){var ht=_e[Co];if(ir.elements=ht,Rr(ht)){var ut=ir.elements=ar.create(ht,!0);ht=ar.getElements(ut),me=!0}else ht&&(ht=ar.getElements(ht),me=!0);var $r=ct(function(ft,Ct){if(ht){var mn=ft.link(ht);return ft.ELEMENTS=mn,mn}return ft.ELEMENTS=null,null});return $r.value=ht,$r}else if(Co in Ze){me=!0;var lt=Ze[Co];return At(lt,function(ft,Ct){var mn=ft.shared,Ta=mn.isBufferArgs,Yi=mn.elements,ho=ft.invoke(Ct,lt),vo=Ct.def("null"),Ua=Ct.def(Ta,"(",ho,")"),Xs=ft.cond(Ua).then(vo,"=",Yi,".createStream(",ho,");").else(vo,"=",Yi,".getElements(",ho,");");return Ct.entry(Xs),Ct.exit(ft.cond(Ua).then(Yi,".destroyStream(",vo,");")),ft.ELEMENTS=vo,vo})}else if(ze)return new vr(Ce.thisDep,Ce.contextDep,Ce.propDep,function(ft,Ct){return Ct.def(ft.shared.vao+".currentVAO?"+ft.shared.elements+".getElements("+ft.shared.vao+".currentVAO.elements):null")});return null}var ye=Me();function Ve(){if(jo in _e){var ht=_e[jo];return ir.primitive=ht,ct(function($r,lt){return Ci[ht]})}else if(jo in Ze){var ut=Ze[jo];return At(ut,function($r,lt){var ft=$r.constants.primTypes,Ct=$r.invoke(lt,ut);return lt.def(ft,"[",Ct,"]")})}else{if(me)return at(ye)?ye.value?ct(function($r,lt){return lt.def($r.ELEMENTS,".primType")}):ct(function(){return Hu}):new vr(ye.thisDep,ye.contextDep,ye.propDep,function($r,lt){var ft=$r.ELEMENTS;return lt.def(ft,"?",ft,".primType:",Hu)});if(ze)return new vr(Ce.thisDep,Ce.contextDep,Ce.propDep,function($r,lt){return lt.def($r.shared.vao+".currentVAO?"+$r.shared.vao+".currentVAO.primitive:"+Hu)})}return null}function cr(ht,ut){if(ht in _e){var $r=_e[ht]|0;return ut?ir.offset=$r:ir.instances=$r,ct(function(ft,Ct){return ut&&(ft.OFFSET=$r),$r})}else if(ht in Ze){var lt=Ze[ht];return At(lt,function(ft,Ct){var mn=ft.invoke(Ct,lt);return ut&&(ft.OFFSET=mn),mn})}else if(ut){if(me)return ct(function(ft,Ct){return ft.OFFSET=0,0});if(ze)return new vr(Ce.thisDep,Ce.contextDep,Ce.propDep,function(ft,Ct){return Ct.def(ft.shared.vao+".currentVAO?"+ft.shared.vao+".currentVAO.offset:0")})}else if(ze)return new vr(Ce.thisDep,Ce.contextDep,Ce.propDep,function(ft,Ct){return Ct.def(ft.shared.vao+".currentVAO?"+ft.shared.vao+".currentVAO.instances:-1")});return null}var Cr=cr(Iu,!0);function xt(){if(Zo in _e){var ht=_e[Zo]|0;return ir.count=ht,ct(function(){return ht})}else if(Zo in Ze){var ut=Ze[Zo];return At(ut,function(Ct,mn){var Ta=Ct.invoke(mn,ut);return Ta})}else if(me)if(at(ye)){if(ye)return Cr?new vr(Cr.thisDep,Cr.contextDep,Cr.propDep,function(Ct,mn){var Ta=mn.def(Ct.ELEMENTS,".vertCount-",Ct.OFFSET);return Ta}):ct(function(Ct,mn){return mn.def(Ct.ELEMENTS,".vertCount")});var $r=ct(function(){return-1});return $r}else{var lt=new vr(ye.thisDep||Cr.thisDep,ye.contextDep||Cr.contextDep,ye.propDep||Cr.propDep,function(Ct,mn){var Ta=Ct.ELEMENTS;return Ct.OFFSET?mn.def(Ta,"?",Ta,".vertCount-",Ct.OFFSET,":-1"):mn.def(Ta,"?",Ta,".vertCount:-1")});return lt}else if(ze){var ft=new vr(Ce.thisDep,Ce.contextDep,Ce.propDep,function(Ct,mn){return mn.def(Ct.shared.vao,".currentVAO?",Ct.shared.vao,".currentVAO.count:-1")});return ft}return null}var Qr=Ve(),Zr=xt(),yt=cr(Ri,!1);return{elements:ye,primitive:Qr,count:Zr,instances:yt,offset:Cr,vao:Ce,vaoActive:ze,elementsActive:me,static:ir}}function ba(ue,de){var _e=ue.static,Ze=ue.dynamic,ir={};return xr.forEach(function(ze){var Pe=Gr(ze);function Ce(me,Me){if(ze in _e){var ye=me(_e[ze]);ir[Pe]=ct(function(){return ye})}else if(ze in Ze){var Ve=Ze[ze];ir[Pe]=At(Ve,function(cr,Cr){return Me(cr,Cr,cr.invoke(Cr,Ve))})}}switch(ze){case Bf:case Dh:case zc:case Yc:case qc:case Du:case Vc:case qf:case Uf:case Hc:return Ce(function(me){return me},function(me,Me,ye){return ye});case Uc:return Ce(function(me){return or[me]},function(me,Me,ye){var Ve=me.constants.compareFuncs;return Me.def(Ve,"[",ye,"]")});case Gc:return Ce(function(me){return me},function(me,Me,ye){var Ve=Me.def("+",ye,"[0]"),cr=Me.def("+",ye,"[1]");return[Ve,cr]});case Cu:return Ce(function(me){var Me="srcRGB"in me?me.srcRGB:me.src,ye="srcAlpha"in me?me.srcAlpha:me.src,Ve="dstRGB"in me?me.dstRGB:me.dst,cr="dstAlpha"in me?me.dstAlpha:me.dst;return[Lr[Me],Lr[Ve],Lr[ye],Lr[cr]]},function(me,Me,ye){var Ve=me.constants.blendFuncs;function cr(ut,$r){var lt=Me.def('"',ut,$r,'" in ',ye,"?",ye,".",ut,$r,":",ye,".",ut);return lt}var Cr=cr("src","RGB"),xt=cr("dst","RGB"),Qr=Me.def(Ve,"[",Cr,"]"),Zr=Me.def(Ve,"[",cr("src","Alpha"),"]"),yt=Me.def(Ve,"[",xt,"]"),ht=Me.def(Ve,"[",cr("dst","Alpha"),"]");return[Qr,yt,Zr,ht]});case Su:return Ce(function(me){if(typeof me=="string")return[Sr[me],Sr[me]];if(typeof me=="object")return[Sr[me.rgb],Sr[me.alpha]]},function(me,Me,ye){var Ve=me.constants.blendEquations,cr=Me.def(),Cr=Me.def(),xt=me.cond("typeof ",ye,'==="string"');return xt.then(cr,"=",Cr,"=",Ve,"[",ye,"];"),xt.else(cr,"=",Ve,"[",ye,".rgb];",Cr,"=",Ve,"[",ye,".alpha];"),Me(xt),[cr,Cr]});case Ih:return Ce(function(me){return g(4,function(Me){return+me[Me]})},function(me,Me,ye){return g(4,function(Ve){return Me.def("+",ye,"[",Ve,"]")})});case Fu:return Ce(function(me){return me|0},function(me,Me,ye){return Me.def(ye,"|0")});case Hi:return Ce(function(me){var Me=me.cmp||"keep",ye=me.ref||0,Ve="mask"in me?me.mask:-1;return[or[Me],ye,Ve]},function(me,Me,ye){var Ve=me.constants.compareFuncs,cr=Me.def('"cmp" in ',ye,"?",Ve,"[",ye,".cmp]",":",se),Cr=Me.def(ye,".ref|0"),xt=Me.def('"mask" in ',ye,"?",ye,".mask|0:-1");return[cr,Cr,xt]});case Hf:case Bl:return Ce(function(me){var Me=me.fail||"keep",ye=me.zfail||"keep",Ve=me.zpass||"keep";return[ze===Bl?N:C,gr[Me],gr[ye],gr[Ve]]},function(me,Me,ye){var Ve=me.constants.stencilOps;function cr(Cr){return Me.def('"',Cr,'" in ',ye,"?",Ve,"[",ye,".",Cr,"]:",se)}return[ze===Bl?N:C,cr("fail"),cr("zfail"),cr("zpass")]});case Ru:return Ce(function(me){var Me=me.factor|0,ye=me.units|0;return[Me,ye]},function(me,Me,ye){var Ve=Me.def(ye,".factor|0"),cr=Me.def(ye,".units|0");return[Ve,cr]});case Ph:return Ce(function(me){var Me=0;return me==="front"?Me=C:me==="back"&&(Me=N),Me},function(me,Me,ye){return Me.def(ye,'==="front"?',C,":",N)});case zf:return Ce(function(me){return me},function(me,Me,ye){return ye});case Lu:return Ce(function(me){return wr[me]},function(me,Me,ye){return Me.def(ye+'==="cw"?'+U+":"+X)});case ku:return Ce(function(me){return me.map(function(Me){return!!Me})},function(me,Me,ye){return g(4,function(Ve){return"!!"+ye+"["+Ve+"]"})});case Gf:return Ce(function(me){var Me="value"in me?me.value:1,ye=!!me.invert;return[Me,ye]},function(me,Me,ye){var Ve=Me.def('"value" in ',ye,"?+",ye,".value:1"),cr=Me.def("!!",ye,".invert");return[Ve,cr]})}}),ir}function an(ue,de){var _e=ue.static,Ze=ue.dynamic,ir={};return Object.keys(_e).forEach(function(ze){var Pe=_e[ze],Ce;if(typeof Pe=="number"||typeof Pe=="boolean")Ce=ct(function(){return Pe});else if(typeof Pe=="function"){var me=Pe._reglType;me==="texture2d"||me==="textureCube"?Ce=ct(function(Me){return Me.link(Pe)}):(me==="framebuffer"||me==="framebufferCube")&&(Ce=ct(function(Me){return Me.link(Pe.color[0])}))}else qi(Pe)&&(Ce=ct(function(Me){var ye=Me.global.def("[",g(Pe.length,function(Ve){return Pe[Ve]}),"]");return ye}));Ce.value=Pe,ir[ze]=Ce}),Object.keys(Ze).forEach(function(ze){var Pe=Ze[ze];ir[ze]=At(Pe,function(Ce,me){return Ce.invoke(me,Pe)})}),ir}function sa(ue,de){var _e=ue.static,Ze=ue.dynamic,ir={};return Object.keys(_e).forEach(function(ze){var Pe=_e[ze],Ce=ce.id(ze),me=new ur;if(Rr(Pe))me.state=fo,me.buffer=rr.getBuffer(rr.create(Pe,Lo,!1,!0)),me.type=0;else{var Me=rr.getBuffer(Pe);if(Me)me.state=fo,me.buffer=Me,me.type=0;else if("constant"in Pe){var ye=Pe.constant;me.buffer="null",me.state=Gs,typeof ye=="number"?me.x=ye:So.forEach(function(yt,ht){ht<ye.length&&(me[yt]=ye[ht])})}else{Rr(Pe.buffer)?Me=rr.getBuffer(rr.create(Pe.buffer,Lo,!1,!0)):Me=rr.getBuffer(Pe.buffer);var Ve=Pe.offset|0,cr=Pe.stride|0,Cr=Pe.size|0,xt=!!Pe.normalized,Qr=0;"type"in Pe&&(Qr=dt[Pe.type]);var Zr=Pe.divisor|0;me.buffer=Me,me.state=fo,me.size=Cr,me.normalized=xt,me.type=Qr||Me.dtype,me.offset=Ve,me.stride=cr,me.divisor=Zr}}ir[ze]=ct(function(yt,ht){var ut=yt.attribCache;if(Ce in ut)return ut[Ce];var $r={isStream:!1};return Object.keys(me).forEach(function(lt){$r[lt]=me[lt]}),me.buffer&&($r.buffer=yt.link(me.buffer),$r.type=$r.type||$r.buffer+".dtype"),ut[Ce]=$r,$r})}),Object.keys(Ze).forEach(function(ze){var Pe=Ze[ze];function Ce(me,Me){var ye=me.invoke(Me,Pe),Ve=me.shared,cr=me.constants,Cr=Ve.isBufferArgs,xt=Ve.buffer,Qr={isStream:Me.def(!1)},Zr=new ur;Zr.state=fo,Object.keys(Zr).forEach(function($r){Qr[$r]=Me.def(""+Zr[$r])});var yt=Qr.buffer,ht=Qr.type;Me("if(",Cr,"(",ye,")){",Qr.isStream,"=true;",yt,"=",xt,".createStream(",Lo,",",ye,");",ht,"=",yt,".dtype;","}else{",yt,"=",xt,".getBuffer(",ye,");","if(",yt,"){",ht,"=",yt,".dtype;",'}else if("constant" in ',ye,"){",Qr.state,"=",Gs,";","if(typeof "+ye+'.constant === "number"){',Qr[So[0]],"=",ye,".constant;",So.slice(1).map(function($r){return Qr[$r]}).join("="),"=0;","}else{",So.map(function($r,lt){return Qr[$r]+"="+ye+".constant.length>"+lt+"?"+ye+".constant["+lt+"]:0;"}).join(""),"}}else{","if(",Cr,"(",ye,".buffer)){",yt,"=",xt,".createStream(",Lo,",",ye,".buffer);","}else{",yt,"=",xt,".getBuffer(",ye,".buffer);","}",ht,'="type" in ',ye,"?",cr.glTypes,"[",ye,".type]:",yt,".dtype;",Qr.normalized,"=!!",ye,".normalized;");function ut($r){Me(Qr[$r],"=",ye,".",$r,"|0;")}return ut("size"),ut("offset"),ut("stride"),ut("divisor"),Me("}}"),Me.exit("if(",Qr.isStream,"){",xt,".destroyStream(",yt,");","}"),Qr}ir[ze]=At(Pe,Ce)}),ir}function ha(ue){var de=ue.static,_e=ue.dynamic,Ze={};return Object.keys(de).forEach(function(ir){var ze=de[ir];Ze[ir]=ct(function(Pe,Ce){return typeof ze=="number"||typeof ze=="boolean"?""+ze:Pe.link(ze)})}),Object.keys(_e).forEach(function(ir){var ze=_e[ir];Ze[ir]=At(ze,function(Pe,Ce){return Pe.invoke(Ce,ze)})}),Ze}function _a(ue,de,_e,Ze,ir){var ze=ue.static,Pe=ue.dynamic,Ce=En(ue,de),me=Et(ue,ir),Me=zt(ue,me,ir),ye=Vt(ue,ir),Ve=ba(ue,ir),cr=Wn(ue,ir,Ce);function Cr(ut){var $r=Me[ut];$r&&(Ve[ut]=$r)}Cr(_i),Cr(Gr(zl));var xt=Object.keys(Ve).length>0,Qr={framebuffer:me,draw:ye,shader:cr,state:Ve,dirty:xt,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Qr.profile=Mt(ue,ir),Qr.uniforms=an(_e,ir),Qr.drawVAO=Qr.scopeVAO=ye.vao,!Qr.drawVAO&&cr.program&&!Ce&&ge.angle_instanced_arrays&&ye.static.elements){var Zr=!0,yt=cr.program.attributes.map(function(ut){var $r=de.static[ut];return Zr=Zr&&!!$r,$r});if(Zr&&yt.length>0){var ht=Ir.getVAO(Ir.createVAO({attributes:yt,elements:ye.static.elements}));Qr.drawVAO=new vr(null,null,null,function(ut,$r){return ut.link(ht)}),Qr.useVAO=!0}}return Ce?Qr.useVAO=!0:Qr.attributes=sa(de,ir),Qr.context=ha(Ze,ir),Qr}function zn(ue,de,_e){var Ze=ue.shared,ir=Ze.context,ze=ue.scope();Object.keys(_e).forEach(function(Pe){de.save(ir,"."+Pe);var Ce=_e[Pe],me=Ce.append(ue,de);Array.isArray(me)?ze(ir,".",Pe,"=[",me.join(),"];"):ze(ir,".",Pe,"=",me,";")}),de(ze)}function qn(ue,de,_e,Ze){var ir=ue.shared,ze=ir.gl,Pe=ir.framebuffer,Ce;br&&(Ce=de.def(ir.extensions,".webgl_draw_buffers"));var me=ue.constants,Me=me.drawBuffer,ye=me.backBuffer,Ve;_e?Ve=_e.append(ue,de):Ve=de.def(Pe,".next"),Ze||de("if(",Ve,"!==",Pe,".cur){"),de("if(",Ve,"){",ze,".bindFramebuffer(",Ke,",",Ve,".framebuffer);"),br&&de(Ce,".drawBuffersWEBGL(",Me,"[",Ve,".colorAttachments.length]);"),de("}else{",ze,".bindFramebuffer(",Ke,",null);"),br&&de(Ce,".drawBuffersWEBGL(",ye,");"),de("}",Pe,".cur=",Ve,";"),Ze||de("}")}function Xn(ue,de,_e){var Ze=ue.shared,ir=Ze.gl,ze=ue.current,Pe=ue.next,Ce=Ze.current,me=Ze.next,Me=ue.cond(Ce,".dirty");xr.forEach(function(ye){var Ve=Gr(ye);if(!(Ve in _e.state)){var cr,Cr;if(Ve in Pe){cr=Pe[Ve],Cr=ze[Ve];var xt=g(Hr[Ve].length,function(Zr){return Me.def(cr,"[",Zr,"]")});Me(ue.cond(xt.map(function(Zr,yt){return Zr+"!=="+Cr+"["+yt+"]"}).join("||")).then(ir,".",Jr[Ve],"(",xt,");",xt.map(function(Zr,yt){return Cr+"["+yt+"]="+Zr}).join(";"),";"))}else{cr=Me.def(me,".",Ve);var Qr=ue.cond(cr,"!==",Ce,".",Ve);Me(Qr),Ve in yr?Qr(ue.cond(cr).then(ir,".enable(",yr[Ve],");").else(ir,".disable(",yr[Ve],");"),Ce,".",Ve,"=",cr,";"):Qr(ir,".",Jr[Ve],"(",cr,");",Ce,".",Ve,"=",cr,";")}}}),Object.keys(_e.state).length===0&&Me(Ce,".dirty=false;"),de(Me)}function Ot(ue,de,_e,Ze){var ir=ue.shared,ze=ue.current,Pe=ir.current,Ce=ir.gl,me;Fr(Object.keys(_e)).forEach(function(Me){var ye=_e[Me];if(!(Ze&&!Ze(ye))){var Ve=ye.append(ue,de);if(yr[Me]){var cr=yr[Me];at(ye)?(me=ue.link(Ve,{stable:!0}),de(ue.cond(me).then(Ce,".enable(",cr,");").else(Ce,".disable(",cr,");")),de(Pe,".",Me,"=",me,";")):(de(ue.cond(Ve).then(Ce,".enable(",cr,");").else(Ce,".disable(",cr,");")),de(Pe,".",Me,"=",Ve,";"))}else if(qi(Ve)){var Cr=ze[Me];de(Ce,".",Jr[Me],"(",Ve,");",Ve.map(function(xt,Qr){return Cr+"["+Qr+"]="+xt}).join(";"),";")}else at(ye)?(me=ue.link(Ve,{stable:!0}),de(Ce,".",Jr[Me],"(",me,");",Pe,".",Me,"=",me,";")):de(Ce,".",Jr[Me],"(",Ve,");",Pe,".",Me,"=",Ve,";")}})}function Jn(ue,de){Dr&&(ue.instancing=de.def(ue.shared.extensions,".angle_instanced_arrays"))}function un(ue,de,_e,Ze,ir){var ze=ue.shared,Pe=ue.stats,Ce=ze.current,me=ze.timer,Me=_e.profile;function ye(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}var Ve,cr;function Cr(ut){Ve=de.def(),ut(Ve,"=",ye(),";"),typeof ir=="string"?ut(Pe,".count+=",ir,";"):ut(Pe,".count++;"),Wr&&(Ze?(cr=de.def(),ut(cr,"=",me,".getNumPendingQueries();")):ut(me,".beginQuery(",Pe,");"))}function xt(ut){ut(Pe,".cpuTime+=",ye(),"-",Ve,";"),Wr&&(Ze?ut(me,".pushScopeStats(",cr,",",me,".getNumPendingQueries(),",Pe,");"):ut(me,".endQuery();"))}function Qr(ut){var $r=de.def(Ce,".profile");de(Ce,".profile=",ut,";"),de.exit(Ce,".profile=",$r,";")}var Zr;if(Me){if(at(Me)){Me.enable?(Cr(de),xt(de.exit),Qr("true")):Qr("false");return}Zr=Me.append(ue,de),Qr(Zr)}else Zr=de.def(Ce,".profile");var yt=ue.block();Cr(yt),de("if(",Zr,"){",yt,"}");var ht=ue.block();xt(ht),de.exit("if(",Zr,"){",ht,"}")}function va(ue,de,_e,Ze,ir){var ze=ue.shared;function Pe(me){switch(me){case Ul:case os:case ls:return 2;case xa:case Ys:case Wf:return 3;case Yf:case Ou:case Bu:return 4;default:return 1}}function Ce(me,Me,ye){var Ve=ze.gl,cr=de.def(me,".location"),Cr=de.def(ze.attributes,"[",cr,"]"),xt=ye.state,Qr=ye.buffer,Zr=[ye.x,ye.y,ye.z,ye.w],yt=["buffer","normalized","offset","stride"];function ht(){de("if(!",Cr,".buffer){",Ve,".enableVertexAttribArray(",cr,");}");var $r=ye.type,lt;if(ye.size?lt=de.def(ye.size,"||",Me):lt=Me,de("if(",Cr,".type!==",$r,"||",Cr,".size!==",lt,"||",yt.map(function(Ct){return Cr+"."+Ct+"!=="+ye[Ct]}).join("||"),"){",Ve,".bindBuffer(",Lo,",",Qr,".buffer);",Ve,".vertexAttribPointer(",[cr,lt,$r,ye.normalized,ye.stride,ye.offset],");",Cr,".type=",$r,";",Cr,".size=",lt,";",yt.map(function(Ct){return Cr+"."+Ct+"="+ye[Ct]+";"}).join(""),"}"),Dr){var ft=ye.divisor;de("if(",Cr,".divisor!==",ft,"){",ue.instancing,".vertexAttribDivisorANGLE(",[cr,ft],");",Cr,".divisor=",ft,";}")}}function ut(){de("if(",Cr,".buffer){",Ve,".disableVertexAttribArray(",cr,");",Cr,".buffer=null;","}if(",So.map(function($r,lt){return Cr+"."+$r+"!=="+Zr[lt]}).join("||"),"){",Ve,".vertexAttrib4f(",cr,",",Zr,");",So.map(function($r,lt){return Cr+"."+$r+"="+Zr[lt]+";"}).join(""),"}")}xt===fo?ht():xt===Gs?ut():(de("if(",xt,"===",fo,"){"),ht(),de("}else{"),ut(),de("}"))}Ze.forEach(function(me){var Me=me.name,ye=_e.attributes[Me],Ve;if(ye){if(!ir(ye))return;Ve=ye.append(ue,de)}else{if(!ir(Ft))return;var cr=ue.scopeAttrib(Me);Ve={},Object.keys(new ur).forEach(function(Cr){Ve[Cr]=de.def(cr,".",Cr)})}Ce(ue.link(me),Pe(me.info.type),Ve)})}function wa(ue,de,_e,Ze,ir,ze){for(var Pe=ue.shared,Ce=Pe.gl,me,Me=0;Me<Ze.length;++Me){var ye=Ze[Me],Ve=ye.name,cr=ye.info.type,Cr=_e.uniforms[Ve],xt=ue.link(ye),Qr=xt+".location",Zr;if(Cr){if(!ir(Cr))continue;if(at(Cr)){var yt=Cr.value;if(cr===Ws||cr===Gu){var ht=ue.link(yt._texture||yt.color[0]._texture);de(Ce,".uniform1i(",Qr,",",ht+".bind());"),de.exit(ht,".unbind();")}else if(cr===zu||cr===qu||cr===Uu){var ut=ue.global.def("new Float32Array(["+Array.prototype.slice.call(yt)+"])"),$r=2;cr===qu?$r=3:cr===Uu&&($r=4),de(Ce,".uniformMatrix",$r,"fv(",Qr,",false,",ut,");")}else{switch(cr){case $c:me="1f";break;case Ul:me="2f";break;case xa:me="3f";break;case Yf:me="4f";break;case Nu:me="1i";break;case Gl:me="1i";break;case ls:me="2i";break;case os:me="2i";break;case Wf:me="3i";break;case Ys:me="3i";break;case Bu:me="4i";break;case Ou:me="4i";break}de(Ce,".uniform",me,"(",Qr,",",qi(yt)?Array.prototype.slice.call(yt):yt,");")}continue}else Zr=Cr.append(ue,de)}else{if(!ir(Ft))continue;Zr=de.def(Pe.uniforms,"[",ce.id(Ve),"]")}cr===Ws?de("if(",Zr,"&&",Zr,'._reglType==="framebuffer"){',Zr,"=",Zr,".color[0];","}"):cr===Gu&&de("if(",Zr,"&&",Zr,'._reglType==="framebufferCube"){',Zr,"=",Zr,".color[0];","}");var lt=1;switch(cr){case Ws:case Gu:var ft=de.def(Zr,"._texture");de(Ce,".uniform1i(",Qr,",",ft,".bind());"),de.exit(ft,".unbind();");continue;case Gl:case Nu:me="1i";break;case os:case ls:me="2i",lt=2;break;case Ys:case Wf:me="3i",lt=3;break;case Ou:case Bu:me="4i",lt=4;break;case $c:me="1f";break;case Ul:me="2f",lt=2;break;case xa:me="3f",lt=3;break;case Yf:me="4f",lt=4;break;case zu:me="Matrix2fv";break;case qu:me="Matrix3fv";break;case Uu:me="Matrix4fv";break}if(me.charAt(0)==="M"){de(Ce,".uniform",me,"(",Qr,",");var Ct=Math.pow(cr-zu+2,2),mn=ue.global.def("new Float32Array(",Ct,")");Array.isArray(Zr)?de("false,(",g(Ct,function(Ua){return mn+"["+Ua+"]="+Zr[Ua]}),",",mn,")"):de("false,(Array.isArray(",Zr,")||",Zr," instanceof Float32Array)?",Zr,":(",g(Ct,function(Ua){return mn+"["+Ua+"]="+Zr+"["+Ua+"]"}),",",mn,")"),de(");")}else if(lt>1){for(var Ta=[],Yi=[],ho=0;ho<lt;++ho)Array.isArray(Zr)?Yi.push(Zr[ho]):Yi.push(de.def(Zr+"["+ho+"]")),ze&&Ta.push(de.def());ze&&de("if(!",ue.batchId,"||",Ta.map(function(Ua,Xs){return Ua+"!=="+Yi[Xs]}).join("||"),"){",Ta.map(function(Ua,Xs){return Ua+"="+Yi[Xs]+";"}).join("")),de(Ce,".uniform",me,"(",Qr,",",Yi.join(","),");"),ze&&de("}")}else{if(ze){var vo=de.def();de("if(!",ue.batchId,"||",vo,"!==",Zr,"){",vo,"=",Zr,";")}de(Ce,".uniform",me,"(",Qr,",",Zr,");"),ze&&de("}")}}}function Aa(ue,de,_e,Ze){var ir=ue.shared,ze=ir.gl,Pe=ir.draw,Ce=Ze.draw;function me(){var lt=Ce.elements,ft,Ct=de;return lt?((lt.contextDep&&Ze.contextDynamic||lt.propDep)&&(Ct=_e),ft=lt.append(ue,Ct),Ce.elementsActive&&Ct("if("+ft+")"+ze+".bindBuffer("+Pu+","+ft+".buffer.buffer);")):(ft=Ct.def(),Ct(ft,"=",Pe,".",Co,";","if(",ft,"){",ze,".bindBuffer(",Pu,",",ft,".buffer.buffer);}","else if(",ir.vao,".currentVAO){",ft,"=",ue.shared.elements+".getElements("+ir.vao,".currentVAO.elements);",Xr?"":"if("+ft+")"+ze+".bindBuffer("+Pu+","+ft+".buffer.buffer);","}")),ft}function Me(){var lt=Ce.count,ft,Ct=de;return lt?((lt.contextDep&&Ze.contextDynamic||lt.propDep)&&(Ct=_e),ft=lt.append(ue,Ct)):ft=Ct.def(Pe,".",Zo),ft}var ye=me();function Ve(lt){var ft=Ce[lt];return ft?ft.contextDep&&Ze.contextDynamic||ft.propDep?ft.append(ue,_e):ft.append(ue,de):de.def(Pe,".",lt)}var cr=Ve(jo),Cr=Ve(Iu),xt=Me();if(typeof xt=="number"){if(xt===0)return}else _e("if(",xt,"){"),_e.exit("}");var Qr,Zr;Dr&&(Qr=Ve(Ri),Zr=ue.instancing);var yt=ye+".type",ht=Ce.elements&&at(Ce.elements)&&!Ce.vaoActive;function ut(){function lt(){_e(Zr,".drawElementsInstancedANGLE(",[cr,xt,yt,Cr+"<<(("+yt+"-"+Oc+")>>1)",Qr],");")}function ft(){_e(Zr,".drawArraysInstancedANGLE(",[cr,Cr,xt,Qr],");")}ye&&ye!=="null"?ht?lt():(_e("if(",ye,"){"),lt(),_e("}else{"),ft(),_e("}")):ft()}function $r(){function lt(){_e(ze+".drawElements("+[cr,xt,yt,Cr+"<<(("+yt+"-"+Oc+")>>1)"]+");")}function ft(){_e(ze+".drawArrays("+[cr,Cr,xt]+");")}ye&&ye!=="null"?ht?lt():(_e("if(",ye,"){"),lt(),_e("}else{"),ft(),_e("}")):ft()}Dr&&(typeof Qr!="number"||Qr>=0)?typeof Qr=="string"?(_e("if(",Qr,">0){"),ut(),_e("}else if(",Qr,"<0){"),$r(),_e("}")):ut():$r()}function Lt(ue,de,_e,Ze,ir){var ze=nt(),Pe=ze.proc("body",ir);return Dr&&(ze.instancing=Pe.def(ze.shared.extensions,".angle_instanced_arrays")),ue(ze,Pe,_e,Ze),ze.compile().body}function Xt(ue,de,_e,Ze){Jn(ue,de),_e.useVAO?_e.drawVAO?de(ue.shared.vao,".setVAO(",_e.drawVAO.append(ue,de),");"):de(ue.shared.vao,".setVAO(",ue.shared.vao,".targetVAO);"):(de(ue.shared.vao,".setVAO(null);"),va(ue,de,_e,Ze.attributes,function(){return!0})),wa(ue,de,_e,Ze.uniforms,function(){return!0},!1),Aa(ue,de,de,_e)}function yn(ue,de){var _e=ue.proc("draw",1);Jn(ue,_e),zn(ue,_e,de.context),qn(ue,_e,de.framebuffer),Xn(ue,_e,de),Ot(ue,_e,de.state),un(ue,_e,de,!1,!0);var Ze=de.shader.progVar.append(ue,_e);if(_e(ue.shared.gl,".useProgram(",Ze,".program);"),de.shader.program)Xt(ue,_e,de,de.shader.program);else{_e(ue.shared.vao,".setVAO(null);");var ir=ue.global.def("{}"),ze=_e.def(Ze,".id"),Pe=_e.def(ir,"[",ze,"]");_e(ue.cond(Pe).then(Pe,".call(this,a0);").else(Pe,"=",ir,"[",ze,"]=",ue.link(function(Ce){return Lt(Xt,ue,de,Ce,1)}),"(",Ze,");",Pe,".call(this,a0);"))}Object.keys(de.state).length>0&&_e(ue.shared.current,".dirty=true;"),ue.shared.vao&&_e(ue.shared.vao,".setVAO(null);")}function he(ue,de,_e,Ze){ue.batchId="a1",Jn(ue,de);function ir(){return!0}va(ue,de,_e,Ze.attributes,ir),wa(ue,de,_e,Ze.uniforms,ir,!1),Aa(ue,de,de,_e)}function $e(ue,de,_e,Ze){Jn(ue,de);var ir=_e.contextDep,ze=de.def(),Pe="a0",Ce="a1",me=de.def();ue.shared.props=me,ue.batchId=ze;var Me=ue.scope(),ye=ue.scope();de(Me.entry,"for(",ze,"=0;",ze,"<",Ce,";++",ze,"){",me,"=",Pe,"[",ze,"];",ye,"}",Me.exit);function Ve(yt){return yt.contextDep&&ir||yt.propDep}function cr(yt){return!Ve(yt)}if(_e.needsContext&&zn(ue,ye,_e.context),_e.needsFramebuffer&&qn(ue,ye,_e.framebuffer),Ot(ue,ye,_e.state,Ve),_e.profile&&Ve(_e.profile)&&un(ue,ye,_e,!1,!0),Ze)_e.useVAO?_e.drawVAO?Ve(_e.drawVAO)?ye(ue.shared.vao,".setVAO(",_e.drawVAO.append(ue,ye),");"):Me(ue.shared.vao,".setVAO(",_e.drawVAO.append(ue,Me),");"):Me(ue.shared.vao,".setVAO(",ue.shared.vao,".targetVAO);"):(Me(ue.shared.vao,".setVAO(null);"),va(ue,Me,_e,Ze.attributes,cr),va(ue,ye,_e,Ze.attributes,Ve)),wa(ue,Me,_e,Ze.uniforms,cr,!1),wa(ue,ye,_e,Ze.uniforms,Ve,!0),Aa(ue,Me,ye,_e);else{var Cr=ue.global.def("{}"),xt=_e.shader.progVar.append(ue,ye),Qr=ye.def(xt,".id"),Zr=ye.def(Cr,"[",Qr,"]");ye(ue.shared.gl,".useProgram(",xt,".program);","if(!",Zr,"){",Zr,"=",Cr,"[",Qr,"]=",ue.link(function(yt){return Lt(he,ue,_e,yt,2)}),"(",xt,");}",Zr,".call(this,a0[",ze,"],",ze,");")}}function er(ue,de){var _e=ue.proc("batch",2);ue.batchId="0",Jn(ue,_e);var Ze=!1,ir=!0;Object.keys(de.context).forEach(function(Cr){Ze=Ze||de.context[Cr].propDep}),Ze||(zn(ue,_e,de.context),ir=!1);var ze=de.framebuffer,Pe=!1;ze?(ze.propDep?Ze=Pe=!0:ze.contextDep&&Ze&&(Pe=!0),Pe||qn(ue,_e,ze)):qn(ue,_e,null),de.state.viewport&&de.state.viewport.propDep&&(Ze=!0);function Ce(Cr){return Cr.contextDep&&Ze||Cr.propDep}Xn(ue,_e,de),Ot(ue,_e,de.state,function(Cr){return!Ce(Cr)}),(!de.profile||!Ce(de.profile))&&un(ue,_e,de,!1,"a1"),de.contextDep=Ze,de.needsContext=ir,de.needsFramebuffer=Pe;var me=de.shader.progVar;if(me.contextDep&&Ze||me.propDep)$e(ue,_e,de,null);else{var Me=me.append(ue,_e);if(_e(ue.shared.gl,".useProgram(",Me,".program);"),de.shader.program)$e(ue,_e,de,de.shader.program);else{_e(ue.shared.vao,".setVAO(null);");var ye=ue.global.def("{}"),Ve=_e.def(Me,".id"),cr=_e.def(ye,"[",Ve,"]");_e(ue.cond(cr).then(cr,".call(this,a0,a1);").else(cr,"=",ye,"[",Ve,"]=",ue.link(function(Cr){return Lt($e,ue,de,Cr,2)}),"(",Me,");",cr,".call(this,a0,a1);"))}}Object.keys(de.state).length>0&&_e(ue.shared.current,".dirty=true;"),ue.shared.vao&&_e(ue.shared.vao,".setVAO(null);")}function st(ue,de){var _e=ue.proc("scope",3);ue.batchId="a2";var Ze=ue.shared,ir=Ze.current;if(zn(ue,_e,de.context),de.framebuffer&&de.framebuffer.append(ue,_e),Fr(Object.keys(de.state)).forEach(function(Ce){var me=de.state[Ce],Me=me.append(ue,_e);qi(Me)?Me.forEach(function(ye,Ve){Kr(ye)?_e.set(ue.next[Ce],"["+Ve+"]",ye):_e.set(ue.next[Ce],"["+Ve+"]",ue.link(ye,{stable:!0}))}):at(me)?_e.set(Ze.next,"."+Ce,ue.link(Me,{stable:!0})):_e.set(Ze.next,"."+Ce,Me)}),un(ue,_e,de,!0,!0),[Co,Iu,Zo,Ri,jo].forEach(function(Ce){var me=de.draw[Ce];if(me){var Me=me.append(ue,_e);Kr(Me)?_e.set(Ze.draw,"."+Ce,Me):_e.set(Ze.draw,"."+Ce,ue.link(Me),{stable:!0})}}),Object.keys(de.uniforms).forEach(function(Ce){var me=de.uniforms[Ce].append(ue,_e);Array.isArray(me)&&(me="["+me.map(function(Me){return Kr(Me)?Me:ue.link(Me,{stable:!0})})+"]"),_e.set(Ze.uniforms,"["+ue.link(ce.id(Ce),{stable:!0})+"]",me)}),Object.keys(de.attributes).forEach(function(Ce){var me=de.attributes[Ce].append(ue,_e),Me=ue.scopeAttrib(Ce);Object.keys(new ur).forEach(function(ye){_e.set(Me,"."+ye,me[ye])})}),de.scopeVAO){var ze=de.scopeVAO.append(ue,_e);Kr(ze)?_e.set(Ze.vao,".targetVAO",ze):_e.set(Ze.vao,".targetVAO",ue.link(ze,{stable:!0}))}function Pe(Ce){var me=de.shader[Ce];if(me){var Me=me.append(ue,_e);Kr(Me)?_e.set(Ze.shader,"."+Ce,Me):_e.set(Ze.shader,"."+Ce,ue.link(Me,{stable:!0}))}}Pe(ll),Pe(ql),Object.keys(de.state).length>0&&(_e(ir,".dirty=true;"),_e.exit(ir,".dirty=true;")),_e("a1(",ue.shared.context,",a0,",ue.batchId,");")}function Yt(ue){if(!(typeof ue!="object"||qi(ue))){for(var de=Object.keys(ue),_e=0;_e<de.length;++_e)if(v.isDynamic(ue[de[_e]]))return!0;return!1}}function on(ue,de,_e){var Ze=de.static[_e];if(!Ze||!Yt(Ze))return;var ir=ue.global,ze=Object.keys(Ze),Pe=!1,Ce=!1,me=!1,Me=ue.global.def("{}");ze.forEach(function(Ve){var cr=Ze[Ve];if(v.isDynamic(cr)){typeof cr=="function"&&(cr=Ze[Ve]=v.unbox(cr));var Cr=At(cr,null);Pe=Pe||Cr.thisDep,me=me||Cr.propDep,Ce=Ce||Cr.contextDep}else{switch(ir(Me,".",Ve,"="),typeof cr){case"number":ir(cr);break;case"string":ir('"',cr,'"');break;case"object":Array.isArray(cr)&&ir("[",cr.join(),"]");break;default:ir(ue.link(cr));break}ir(";")}});function ye(Ve,cr){ze.forEach(function(Cr){var xt=Ze[Cr];if(v.isDynamic(xt)){var Qr=Ve.invoke(cr,xt);cr(Me,".",Cr,"=",Qr,";")}})}de.dynamic[_e]=new v.DynamicVariable(Hs,{thisDep:Pe,contextDep:Ce,propDep:me,ref:Me,append:ye}),delete de.static[_e]}function ot(ue,de,_e,Ze,ir){var ze=nt();ze.stats=ze.link(ir),Object.keys(de.static).forEach(function(Ce){on(ze,de,Ce)}),Td.forEach(function(Ce){on(ze,ue,Ce)});var Pe=_a(ue,de,_e,Ze,ze);return Pe.shader.program&&(Pe.shader.program.attributes.sort(function(Ce,me){return Ce.name<me.name?-1:1}),Pe.shader.program.uniforms.sort(function(Ce,me){return Ce.name<me.name?-1:1})),yn(ze,Pe),st(ze,Pe),er(ze,Pe),e(ze.compile(),{destroy:function(){Pe.shader.program.destroy()}})}return{next:pt,current:Hr,procs:function(){var ue=nt(),de=ue.proc("poll"),_e=ue.proc("refresh"),Ze=ue.block();de(Ze),_e(Ze);var ir=ue.shared,ze=ir.gl,Pe=ir.next,Ce=ir.current;Ze(Ce,".dirty=false;"),qn(ue,de),qn(ue,_e,null,!0);var me;Dr&&(me=ue.link(Dr)),ge.oes_vertex_array_object&&_e(ue.link(ge.oes_vertex_array_object),".bindVertexArrayOES(null);");var Me=_e.def(ir.attributes),ye=_e.def(0),Ve=ue.cond(ye,".buffer");Ve.then(ze,".enableVertexAttribArray(i);",ze,".bindBuffer(",Lo,",",ye,".buffer.buffer);",ze,".vertexAttribPointer(i,",ye,".size,",ye,".type,",ye,".normalized,",ye,".stride,",ye,".offset);").else(ze,".disableVertexAttribArray(i);",ze,".vertexAttrib4f(i,",ye,".x,",ye,".y,",ye,".z,",ye,".w);",ye,".buffer=null;");var cr=ue.link(Ye.maxAttributes,{stable:!0});return _e("for(var i=0;i<",cr,";++i){",ye,"=",Me,"[i];",Ve,"}"),Dr&&_e("for(var i=0;i<",cr,";++i){",me,".vertexAttribDivisorANGLE(i,",Me,"[i].divisor);","}"),_e(ue.shared.vao,".currentVAO=null;",ue.shared.vao,".setVAO(",ue.shared.vao,".targetVAO);"),Object.keys(yr).forEach(function(Cr){var xt=yr[Cr],Qr=Ze.def(Pe,".",Cr),Zr=ue.block();Zr("if(",Qr,"){",ze,".enable(",xt,")}else{",ze,".disable(",xt,")}",Ce,".",Cr,"=",Qr,";"),_e(Zr),de("if(",Qr,"!==",Ce,".",Cr,"){",Zr,"}")}),Object.keys(Jr).forEach(function(Cr){var xt=Jr[Cr],Qr=Hr[Cr],Zr,yt,ht=ue.block();if(ht(ze,".",xt,"("),qi(Qr)){var ut=Qr.length;Zr=ue.global.def(Pe,".",Cr),yt=ue.global.def(Ce,".",Cr),ht(g(ut,function($r){return Zr+"["+$r+"]"}),");",g(ut,function($r){return yt+"["+$r+"]="+Zr+"["+$r+"];"}).join("")),de("if(",g(ut,function($r){return Zr+"["+$r+"]!=="+yt+"["+$r+"]"}).join("||"),"){",ht,"}")}else Zr=Ze.def(Pe,".",Cr),yt=Ze.def(Ce,".",Cr),ht(Zr,");",Ce,".",Cr,"=",Zr,";"),de("if(",Zr,"!==",yt,"){",ht,"}");_e(ht)}),ue.compile()}(),compile:ot}}function Ht(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var sn=34918,Wt=34919,en=35007,Bn=function(H,ce){if(!ce.ext_disjoint_timer_query)return null;var ge=[];function Ye(){return ge.pop()||ce.ext_disjoint_timer_query.createQueryEXT()}function rr(Sr){ge.push(Sr)}var ar=[];function tr(Sr){var Dr=Ye();ce.ext_disjoint_timer_query.beginQueryEXT(en,Dr),ar.push(Dr),Wr(ar.length-1,ar.length,Sr)}function Ar(){ce.ext_disjoint_timer_query.endQueryEXT(en)}function Pr(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Ir=[];function Nr(){return Ir.pop()||new Pr}function mt(Sr){Ir.push(Sr)}var it=[];function Wr(Sr,Dr,br){var Xr=Nr();Xr.startQueryIndex=Sr,Xr.endQueryIndex=Dr,Xr.sum=0,Xr.stats=br,it.push(Xr)}var mr=[],Oe=[];function ur(){var Sr,Dr,br=ar.length;if(br!==0){Oe.length=Math.max(Oe.length,br+1),mr.length=Math.max(mr.length,br+1),mr[0]=0,Oe[0]=0;var Xr=0;for(Sr=0,Dr=0;Dr<ar.length;++Dr){var Hr=ar[Dr];ce.ext_disjoint_timer_query.getQueryObjectEXT(Hr,Wt)?(Xr+=ce.ext_disjoint_timer_query.getQueryObjectEXT(Hr,sn),rr(Hr)):ar[Sr++]=Hr,mr[Dr+1]=Xr,Oe[Dr+1]=Sr}for(ar.length=Sr,Sr=0,Dr=0;Dr<it.length;++Dr){var pt=it[Dr],xr=pt.startQueryIndex,yr=pt.endQueryIndex;pt.sum+=mr[yr]-mr[xr];var Jr=Oe[xr],Gr=Oe[yr];Gr===Jr?(pt.stats.gpuTime+=pt.sum/1e6,mt(pt)):(pt.startQueryIndex=Jr,pt.endQueryIndex=Gr,it[Sr++]=pt)}it.length=Sr}}return{beginQuery:tr,endQuery:Ar,pushScopeStats:Wr,update:ur,getNumPendingQueries:function(){return ar.length},clear:function(){ge.push.apply(ge,ar);for(var Sr=0;Sr<ge.length;Sr++)ce.ext_disjoint_timer_query.deleteQueryEXT(ge[Sr]);ar.length=0,ge.length=0},restore:function(){ar.length=0,ge.length=0}}},Ra=16384,Zn=256,kt=1024,fn=34962,hn="webglcontextlost",On="webglcontextrestored",ca=1,qa=2,si=3;function fi(H,ce){for(var ge=0;ge<H.length;++ge)if(H[ge]===ce)return ge;return-1}function Vi(H){var ce=p(H);if(!ce)return null;var ge=ce.gl,Ye=ge.getContextAttributes(),rr=ge.isContextLost(),ar=_(ge,ce);if(!ar)return null;var tr=w(),Ar=Ht(),Pr=ce.cachedCode||{},Ir=ar.extensions,Nr=Bn(ge,Ir),mt=m(),it=ge.drawingBufferWidth,Wr=ge.drawingBufferHeight,mr={tick:0,time:0,viewportWidth:it,viewportHeight:Wr,framebufferWidth:it,framebufferHeight:Wr,drawingBufferWidth:it,drawingBufferHeight:Wr,pixelRatio:ce.pixelRatio},Oe={},ur={elements:null,primitive:4,count:-1,offset:0,instances:-1},Sr=et(ge,Ir),Dr=la(ge,Ar,ce,Hr),br=ia(ge,Ir,Dr,Ar),Xr=Sh(ge,Ir,Sr,Ar,Dr,br,ur);function Hr(Lt){return Xr.destroyBuffer(Lt)}var pt=pd(ge,tr,Ar,ce),xr=dd(ge,Ir,Sr,function(){Gr.procs.poll()},mr,Ar,ce),yr=Kp(ge,Ir,Sr,Ar,ce),Jr=ng(ge,Ir,Sr,xr,yr,Ar),Gr=Gt(ge,tr,Ir,Sr,Dr,br,xr,Jr,Oe,Xr,pt,ur,mr,Nr,Pr,ce),Br=gd(ge,Jr,Gr.procs.poll,mr,Ye,Ir,Sr),Ur=Gr.next,Kr=ge.canvas,gt=[],St=[],Vr=[],nt=[ce.onDestroy],Mt=null;function Et(){if(gt.length===0){Nr&&Nr.update(),Mt=null;return}Mt=x.next(Et),Xn();for(var Lt=gt.length-1;Lt>=0;--Lt){var Xt=gt[Lt];Xt&&Xt(mr,null,0)}ge.flush(),Nr&&Nr.update()}function zt(){!Mt&&gt.length>0&&(Mt=x.next(Et))}function En(){Mt&&(x.cancel(Et),Mt=null)}function Wn(Lt){Lt.preventDefault(),rr=!0,En(),St.forEach(function(Xt){Xt()})}function Vt(Lt){ge.getError(),rr=!1,ar.restore(),pt.restore(),Dr.restore(),xr.restore(),yr.restore(),Jr.restore(),Xr.restore(),Nr&&Nr.restore(),Gr.procs.refresh(),zt(),Vr.forEach(function(Xt){Xt()})}Kr&&(Kr.addEventListener(hn,Wn,!1),Kr.addEventListener(On,Vt,!1));function ba(){gt.length=0,En(),Kr&&(Kr.removeEventListener(hn,Wn),Kr.removeEventListener(On,Vt)),pt.clear(),Jr.clear(),yr.clear(),Xr.clear(),xr.clear(),br.clear(),Dr.clear(),Nr&&Nr.clear(),nt.forEach(function(Lt){Lt()})}function an(Lt){function Xt(ze){var Pe=e({},ze);delete Pe.uniforms,delete Pe.attributes,delete Pe.context,delete Pe.vao,"stencil"in Pe&&Pe.stencil.op&&(Pe.stencil.opBack=Pe.stencil.opFront=Pe.stencil.op,delete Pe.stencil.op);function Ce(me){if(me in Pe){var Me=Pe[me];delete Pe[me],Object.keys(Me).forEach(function(ye){Pe[me+"."+ye]=Me[ye]})}}return Ce("blend"),Ce("depth"),Ce("cull"),Ce("stencil"),Ce("polygonOffset"),Ce("scissor"),Ce("sample"),"vao"in ze&&(Pe.vao=ze.vao),Pe}function yn(ze,Pe){var Ce={},me={};return Object.keys(ze).forEach(function(Me){var ye=ze[Me];if(v.isDynamic(ye)){me[Me]=v.unbox(ye,Me);return}else if(Pe&&Array.isArray(ye)){for(var Ve=0;Ve<ye.length;++Ve)if(v.isDynamic(ye[Ve])){me[Me]=v.unbox(ye,Me);return}}Ce[Me]=ye}),{dynamic:me,static:Ce}}var he=yn(Lt.context||{},!0),$e=yn(Lt.uniforms||{},!0),er=yn(Lt.attributes||{},!1),st=yn(Xt(Lt),!1),Yt={gpuTime:0,cpuTime:0,count:0},on=Gr.compile(st,er,$e,he,Yt),ot=on.draw,ue=on.batch,de=on.scope,_e=[];function Ze(ze){for(;_e.length<ze;)_e.push(null);return _e}function ir(ze,Pe){var Ce;if(typeof ze=="function")return de.call(this,null,ze,0);if(typeof Pe=="function")if(typeof ze=="number")for(Ce=0;Ce<ze;++Ce)de.call(this,null,Pe,Ce);else if(Array.isArray(ze))for(Ce=0;Ce<ze.length;++Ce)de.call(this,ze[Ce],Pe,Ce);else return de.call(this,ze,Pe,0);else if(typeof ze=="number"){if(ze>0)return ue.call(this,Ze(ze|0),ze|0)}else if(Array.isArray(ze)){if(ze.length)return ue.call(this,ze,ze.length)}else return ot.call(this,ze)}return e(ir,{stats:Yt,destroy:function(){on.destroy()}})}var sa=Jr.setFBO=an({framebuffer:v.define.call(null,ca,"framebuffer")});function ha(Lt,Xt){var yn=0;Gr.procs.poll();var he=Xt.color;he&&(ge.clearColor(+he[0]||0,+he[1]||0,+he[2]||0,+he[3]||0),yn|=Ra),"depth"in Xt&&(ge.clearDepth(+Xt.depth),yn|=Zn),"stencil"in Xt&&(ge.clearStencil(Xt.stencil|0),yn|=kt),ge.clear(yn)}function _a(Lt){if("framebuffer"in Lt)if(Lt.framebuffer&&Lt.framebuffer_reglType==="framebufferCube")for(var Xt=0;Xt<6;++Xt)sa(e({framebuffer:Lt.framebuffer.faces[Xt]},Lt),ha);else sa(Lt,ha);else ha(null,Lt)}function zn(Lt){gt.push(Lt);function Xt(){var yn=fi(gt,Lt);function he(){var $e=fi(gt,he);gt[$e]=gt[gt.length-1],gt.length-=1,gt.length<=0&&En()}gt[yn]=he}return zt(),{cancel:Xt}}function qn(){var Lt=Ur.viewport,Xt=Ur.scissor_box;Lt[0]=Lt[1]=Xt[0]=Xt[1]=0,mr.viewportWidth=mr.framebufferWidth=mr.drawingBufferWidth=Lt[2]=Xt[2]=ge.drawingBufferWidth,mr.viewportHeight=mr.framebufferHeight=mr.drawingBufferHeight=Lt[3]=Xt[3]=ge.drawingBufferHeight}function Xn(){mr.tick+=1,mr.time=Jn(),qn(),Gr.procs.poll()}function Ot(){xr.refresh(),qn(),Gr.procs.refresh(),Nr&&Nr.update()}function Jn(){return(m()-mt)/1e3}Ot();function un(Lt,Xt){var yn;switch(Lt){case"frame":return zn(Xt);case"lost":yn=St;break;case"restore":yn=Vr;break;case"destroy":yn=nt;break;default:}return yn.push(Xt),{cancel:function(){for(var he=0;he<yn.length;++he)if(yn[he]===Xt){yn[he]=yn[yn.length-1],yn.pop();return}}}}function va(){return Pr}function wa(Lt){Object.entries(Lt).forEach(function(Xt){Pr[Xt[0]]=Xt[1]})}var Aa=e(an,{clear:_a,prop:v.define.bind(null,ca),context:v.define.bind(null,qa),this:v.define.bind(null,si),draw:an({}),buffer:function(Lt){return Dr.create(Lt,fn,!1,!1)},elements:function(Lt){return br.create(Lt,!1)},texture:xr.create2D,cube:xr.createCube,renderbuffer:yr.create,framebuffer:Jr.create,framebufferCube:Jr.createCube,vao:Xr.createVAO,attributes:Ye,frame:zn,on:un,limits:Sr,hasExtension:function(Lt){return Sr.extensions.indexOf(Lt.toLowerCase())>=0},read:Br,destroy:ba,_gl:ge,_refresh:Ot,poll:function(){Xn(),Nr&&Nr.update()},now:Jn,stats:Ar,getCachedCode:va,preloadCachedCode:wa});return ce.onDone(null,Aa),Aa}return Vi})});var Ble=fe((TWe,Nle)=>{"use strict";var mFe=QM(),xFe=Ole();Nle.exports=function(r,t,n){var a=r._fullLayout,o=!0;return a._glcanvas.each(function(i){if(i.regl){i.regl.preloadCachedCode(n);return}if(!(i.pick&&!a._has("parcoords"))){try{i.regl=xFe({canvas:this,attributes:{antialias:!i.pick,preserveDrawingBuffer:!0},pixelRatio:r._context.plotGlPixelRatio||window.devicePixelRatio,extensions:t||[],cachedCode:n||{}})}catch(l){o=!1}i.regl||(o=!1),o&&this.addEventListener("webglcontextlost",function(l){r&&r.emit&&r.emit("plotly_webglcontextlost",{event:l,layer:i.key})},!1)}}),o||mFe({container:a._glcontainer.node()}),o}});var Vle=fe((PS,Hle)=>{"use strict";var zle=Kte(),qle=eoe(),bFe=ioe(),Ule=Ple(),IS=tt(),_Fe=pv().selectMode,wFe=Ble(),AFe=Ki(),TFe=YT(),MFe=TE().styleTextSelection,Gle={};function EFe(e,r,t,n){var a=e._size,o=e.width*n,i=e.height*n,l=a.l*n,f=a.b*n,s=a.r*n,u=a.t*n,c=a.w*n,v=a.h*n;return[l+r.domain[0]*c,f+t.domain[0]*v,o-s-(1-r.domain[1])*c,i-u-(1-t.domain[1])*v]}var PS=Hle.exports=function(r,t,n){if(n.length){var a=r._fullLayout,o=t._scene,i=t.xaxis,l=t.yaxis,f,s;if(o){var u=wFe(r,["ANGLE_instanced_arrays","OES_element_index_uint"],Gle);if(!u){o.init();return}var c=o.count,v=a._glcanvas.data()[0].regl;if(TFe(r,t,n),o.dirty){if((o.line2d||o.error2d)&&!(o.scatter2d||o.fill2d||o.glText)&&v.clear({color:!0,depth:!0}),o.error2d===!0&&(o.error2d=bFe(v)),o.line2d===!0&&(o.line2d=qle(v)),o.scatter2d===!0&&(o.scatter2d=zle(v)),o.fill2d===!0&&(o.fill2d=qle(v)),o.glText===!0)for(o.glText=new Array(c),f=0;f<c;f++)o.glText[f]=new Ule(v);if(o.glText){if(c>o.glText.length){var x=c-o.glText.length;for(f=0;f<x;f++)o.glText.push(new Ule(v))}else if(c<o.glText.length){var m=o.glText.length-c,w=o.glText.splice(c,m);w.forEach(function(D){D.destroy()})}for(f=0;f<c;f++)o.glText[f].update(o.textOptions[f])}if(o.line2d&&(o.line2d.update(o.lineOptions),o.lineOptions=o.lineOptions.map(function(D){if(D&&D.positions){for(var z=D.positions,q=0;q<z.length&&(isNaN(z[q])||isNaN(z[q+1]));)q+=2;for(var j=z.length-2;j>q&&(isNaN(z[j])||isNaN(z[j+1]));)j-=2;D.positions=z.slice(q,j+2)}return D}),o.line2d.update(o.lineOptions)),o.error2d){var A=(o.errorXOptions||[]).concat(o.errorYOptions||[]);o.error2d.update(A)}o.scatter2d&&o.scatter2d.update(o.markerOptions),o.fillOrder=IS.repeat(null,c),o.fill2d&&(o.fillOptions=o.fillOptions.map(function(D,z){var q=n[z];if(!(!D||!q||!q[0]||!q[0].trace)){var j=q[0],Q=j.trace,K=j.t,G=o.lineOptions[z],B,Z,ie=[];Q._ownfill&&ie.push(z),Q._nexttrace&&ie.push(z+1),ie.length&&(o.fillOrder[z]=ie);var J=[],le=G&&G.positions||K.positions,te,V;if(Q.fill==="tozeroy"){for(te=0;te<le.length&&isNaN(le[te+1]);)te+=2;for(V=le.length-2;V>te&&isNaN(le[V+1]);)V-=2;le[te+1]!==0&&(J=[le[te],0]),J=J.concat(le.slice(te,V+2)),le[V+1]!==0&&(J=J.concat([le[V],0]))}else if(Q.fill==="tozerox"){for(te=0;te<le.length&&isNaN(le[te]);)te+=2;for(V=le.length-2;V>te&&isNaN(le[V]);)V-=2;le[te]!==0&&(J=[0,le[te+1]]),J=J.concat(le.slice(te,V+2)),le[V]!==0&&(J=J.concat([0,le[V+1]]))}else if(Q.fill==="toself"||Q.fill==="tonext"){for(J=[],B=0,D.splitNull=!0,Z=0;Z<le.length;Z+=2)(isNaN(le[Z])||isNaN(le[Z+1]))&&(J=J.concat(le.slice(B,Z)),J.push(le[B],le[B+1]),J.push(null,null),B=Z+2);J=J.concat(le.slice(B)),B&&J.push(le[B],le[B+1])}else{var ne=Q._nexttrace;if(ne){var Y=o.lineOptions[z+1];if(Y){var oe=Y.positions;if(Q.fill==="tonexty"){for(J=le.slice(),z=Math.floor(oe.length/2);z--;){var pe=oe[z*2],we=oe[z*2+1];isNaN(pe)||isNaN(we)||J.push(pe,we)}D.fill=ne.fillcolor}}}}if(Q._prevtrace&&Q._prevtrace.fill==="tonext"){var De=o.lineOptions[z-1].positions,Re=J.length/2;B=Re;var Ae=[B];for(Z=0;Z<De.length;Z+=2)(isNaN(De[Z])||isNaN(De[Z+1]))&&(Ae.push(Z/2+Re+1),B=Z+2);J=J.concat(De),D.hole=Ae}return D.fillmode=Q.fill,D.opacity=Q.opacity,D.positions=J,D}}),o.fill2d.update(o.fillOptions))}var y=a.dragmode,M=_Fe(y),E=a.clickmode.indexOf("select")>-1;for(f=0;f<c;f++){var b=n[f][0],T=b.trace,p=b.t,_=p.index,g=T._length,h=p.x,S=p.y;if(T.selectedpoints||M||E){if(M||(M=!0),T.selectedpoints){var d=o.selectBatch[_]=IS.selIndices2selPoints(T),R={};for(s=0;s<d.length;s++)R[d[s]]=1;var L=[];for(s=0;s<g;s++)R[s]||L.push(s);o.unselectBatch[_]=L}var F=p.xpx=new Array(g),O=p.ypx=new Array(g);for(s=0;s<g;s++)F[s]=i.c2p(h[s]),O[s]=l.c2p(S[s])}else p.xpx=p.ypx=null}if(M){if(o.select2d||(o.select2d=zle(a._glcanvas.data()[1].regl)),o.scatter2d){var P=new Array(c);for(f=0;f<c;f++)P[f]=o.selectBatch[f].length||o.unselectBatch[f].length?o.markerUnselectedOptions[f]:{};o.scatter2d.update(P)}o.select2d&&(o.select2d.update(o.markerOptions),o.select2d.update(o.markerSelectedOptions)),o.glText&&n.forEach(function(D){var z=((D||[])[0]||{}).trace||{};AFe.hasText(z)&&MFe(D)})}else o.scatter2d&&o.scatter2d.update(o.markerOptions);var I={viewport:EFe(a,i,l,r._context.plotGlPixelRatio),range:[(i._rl||i.range)[0],(l._rl||l.range)[0],(i._rl||i.range)[1],(l._rl||l.range)[1]]},k=IS.repeat(I,o.count);o.fill2d&&o.fill2d.update(k),o.line2d&&o.line2d.update(k),o.error2d&&o.error2d.update(k.concat(k)),o.scatter2d&&o.scatter2d.update(k),o.select2d&&o.select2d.update(k),o.glText&&o.glText.forEach(function(D){D.update(I)})}}};PS.reglPrecompiled=Gle});var Xle=fe((MWe,Wle)=>{"use strict";var Yle=Bte();Yle.plot=Vle();Wle.exports=Yle});var Zle=fe((EWe,jle)=>{"use strict";jle.exports=Xle()});var Ao=fe((SWe,Jle)=>{var Ew=gi();function $le(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}Ew($le.prototype,{instance:function(e,r){e=(e||"gregorian").toLowerCase(),r=r||"";var t=this._localCals[e+"-"+r];if(!t&&this.calendars[e]&&(t=new this.calendars[e](r),this._localCals[e+"-"+r]=t),!t)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,e);return t},newDate:function(e,r,t,n,a){return n=(e!=null&&e.year?e.calendar():typeof n=="string"?this.instance(n,a):n)||this.instance(),n.newDate(e,r,t)},substituteDigits:function(e){return function(r){return(r+"").replace(/[0-9]/g,function(t){return e[t]})}},substituteChineseDigits:function(e,r){return function(t){for(var n="",a=0;t>0;){var o=t%10;n=(o===0?"":e[o]+r[a])+n,a++,t=Math.floor(t/10)}return n.indexOf(e[1]+r[1])===0&&(n=n.substr(1)),n||e[0]}}});function OS(e,r,t,n){if(this._calendar=e,this._year=r,this._month=t,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(Sn.local.invalidDate||Sn.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function Mw(e,r){return e=""+e,"000000".substring(0,r-e.length)+e}Ew(OS.prototype,{newDate:function(e,r,t){return this._calendar.newDate(e==null?this:e,r,t)},year:function(e){return arguments.length===0?this._year:this.set(e,"y")},month:function(e){return arguments.length===0?this._month:this.set(e,"m")},day:function(e){return arguments.length===0?this._day:this.set(e,"d")},date:function(e,r,t){if(!this._calendar.isValid(e,r,t))throw(Sn.local.invalidDate||Sn.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=e,this._month=r,this._day=t,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(e,r){return this._calendar.add(this,e,r)},set:function(e,r){return this._calendar.set(this,e,r)},compareTo:function(e){if(this._calendar.name!==e._calendar.name)throw(Sn.local.differentCalendars||Sn.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,e._calendar.local.name);var r=this._year!==e._year?this._year-e._year:this._month!==e._month?this.monthOfYear()-e.monthOfYear():this._day-e._day;return r===0?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(e){return this._calendar.fromJD(e)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(e){return this._calendar.fromJSDate(e)},toString:function(){return(this.year()<0?"-":"")+Mw(Math.abs(this.year()),4)+"-"+Mw(this.month(),2)+"-"+Mw(this.day(),2)}});function NS(){this.shortYearCutoff="+10"}Ew(NS.prototype,{_validateLevel:0,newDate:function(e,r,t){return e==null?this.today():(e.year&&(this._validate(e,r,t,Sn.local.invalidDate||Sn.regionalOptions[""].invalidDate),t=e.day(),r=e.month(),e=e.year()),new OS(this,e,r,t))},today:function(){return this.fromJSDate(new Date)},epoch:function(e){var r=this._validate(e,this.minMonth,this.minDay,Sn.local.invalidYear||Sn.regionalOptions[""].invalidYear);return r.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Sn.local.invalidYear||Sn.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+Mw(Math.abs(r.year()),4)},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Sn.local.invalidYear||Sn.regionalOptions[""].invalidYear),12},monthOfYear:function(e,r){var t=this._validate(e,r,this.minDay,Sn.local.invalidMonth||Sn.regionalOptions[""].invalidMonth);return(t.month()+this.monthsInYear(t)-this.firstMonth)%this.monthsInYear(t)+this.minMonth},fromMonthOfYear:function(e,r){var t=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(e)+this.minMonth;return this._validate(e,t,this.minDay,Sn.local.invalidMonth||Sn.regionalOptions[""].invalidMonth),t},daysInYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Sn.local.invalidYear||Sn.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(e,r,t){var n=this._validate(e,r,t,Sn.local.invalidDate||Sn.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(e,r,t){var n=this._validate(e,r,t,Sn.local.invalidDate||Sn.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(e,r,t){return this._validate(e,r,t,Sn.local.invalidDate||Sn.regionalOptions[""].invalidDate),{}},add:function(e,r,t){return this._validate(e,this.minMonth,this.minDay,Sn.local.invalidDate||Sn.regionalOptions[""].invalidDate),this._correctAdd(e,this._add(e,r,t),r,t)},_add:function(e,r,t){if(this._validateLevel++,t==="d"||t==="w"){var n=e.toJD()+r*(t==="w"?this.daysInWeek():1),a=e.calendar().fromJD(n);return this._validateLevel--,[a.year(),a.month(),a.day()]}try{var o=e.year()+(t==="y"?r:0),i=e.monthOfYear()+(t==="m"?r:0),a=e.day(),l=function(u){for(;i<u.minMonth;)o--,i+=u.monthsInYear(o);for(var c=u.monthsInYear(o);i>c-1+u.minMonth;)o++,i-=c,c=u.monthsInYear(o)};t==="y"?(e.month()!==this.fromMonthOfYear(o,i)&&(i=this.newDate(o,e.month(),this.minDay).monthOfYear()),i=Math.min(i,this.monthsInYear(o)),a=Math.min(a,this.daysInMonth(o,this.fromMonthOfYear(o,i)))):t==="m"&&(l(this),a=Math.min(a,this.daysInMonth(o,this.fromMonthOfYear(o,i))));var f=[o,this.fromMonthOfYear(o,i),a];return this._validateLevel--,f}catch(s){throw this._validateLevel--,s}},_correctAdd:function(e,r,t,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(r[0]===0||e.year()>0!=r[0]>0)){var a={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],o=t<0?-1:1;r=this._add(e,t*a[0]+o*a[1],a[2])}return e.date(r[0],r[1],r[2])},set:function(e,r,t){this._validate(e,this.minMonth,this.minDay,Sn.local.invalidDate||Sn.regionalOptions[""].invalidDate);var n=t==="y"?r:e.year(),a=t==="m"?r:e.month(),o=t==="d"?r:e.day();return(t==="y"||t==="m")&&(o=Math.min(o,this.daysInMonth(n,a))),e.date(n,a,o)},isValid:function(e,r,t){this._validateLevel++;var n=this.hasYearZero||e!==0;if(n){var a=this.newDate(e,r,this.minDay);n=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(a)&&t>=this.minDay&&t-this.minDay<this.daysInMonth(a)}return this._validateLevel--,n},toJSDate:function(e,r,t){var n=this._validate(e,r,t,Sn.local.invalidDate||Sn.regionalOptions[""].invalidDate);return Sn.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(e){return this.fromJD(Sn.instance().fromJSDate(e).toJD())},_validate:function(e,r,t,n){if(e.year){if(this._validateLevel===0&&this.name!==e.calendar().name)throw(Sn.local.differentCalendars||Sn.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,e.calendar().local.name);return e}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(e,r,t))throw n.replace(/\{0\}/,this.local.name);var a=this.newDate(e,r,t);return this._validateLevel--,a}catch(o){throw this._validateLevel--,o}}});function BS(e){this.local=this.regionalOptions[e]||this.regionalOptions[""]}BS.prototype=new NS;Ew(BS.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,Sn.local.invalidYear||Sn.regionalOptions[""].invalidYear),t=r.year()+(r.year()<0?1:0);return t%4===0&&(t%100!==0||t%400===0)},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,Sn.local.invalidMonth||Sn.regionalOptions[""].invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,Sn.local.invalidDate||Sn.regionalOptions[""].invalidDate);e=n.year(),r=n.month(),t=n.day(),e<0&&e++,r<3&&(r+=12,e--);var a=Math.floor(e/100),o=2-a+Math.floor(a/4);return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(r+1))+t+o-1524.5},fromJD:function(e){var r=Math.floor(e+.5),t=Math.floor((r-186721625e-2)/36524.25);t=r+1+t-Math.floor(t/4);var n=t+1524,a=Math.floor((n-122.1)/365.25),o=Math.floor(365.25*a),i=Math.floor((n-o)/30.6001),l=n-o-Math.floor(i*30.6001),f=i-(i>13.5?13:1),s=a-(f>2.5?4716:4715);return s<=0&&s--,this.newDate(s,f,l)},toJSDate:function(e,r,t){var n=this._validate(e,r,t,Sn.local.invalidDate||Sn.regionalOptions[""].invalidDate),a=new Date(n.year(),n.month()-1,n.day());return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.setHours(a.getHours()>12?a.getHours()+2:0),a},fromJSDate:function(e){return this.newDate(e.getFullYear(),e.getMonth()+1,e.getDate())}});var Sn=Jle.exports=new $le;Sn.cdate=OS;Sn.baseCalendar=NS;Sn.calendars.gregorian=BS});var Kle=fe(()=>{var zS=gi(),ji=Ao();zS(ji.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"});ji.local=ji.regionalOptions[""];zS(ji.cdate.prototype,{formatDate:function(e,r){return typeof e!="string"&&(r=e,e=""),this._calendar.formatDate(e||"",this,r)}});zS(ji.baseCalendar.prototype,{UNIX_EPOCH:ji.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:24*60*60,TICKS_EPOCH:ji.instance().jdEpoch,TICKS_PER_DAY:24*60*60*1e7,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(e,r,t){if(typeof e!="string"&&(t=r,r=e,e=""),!r)return"";if(r.calendar()!==this)throw ji.local.invalidFormat||ji.regionalOptions[""].invalidFormat;e=e||this.local.dateFormat,t=t||{};for(var n=t.dayNamesShort||this.local.dayNamesShort,a=t.dayNames||this.local.dayNames,o=t.monthNumbers||this.local.monthNumbers,i=t.monthNamesShort||this.local.monthNamesShort,l=t.monthNames||this.local.monthNames,f=t.calculateWeek||this.local.calculateWeek,s=function(b,T){for(var p=1;E+p<e.length&&e.charAt(E+p)===b;)p++;return E+=p-1,Math.floor(p/(T||1))>1},u=function(b,T,p,_){var g=""+T;if(s(b,_))for(;g.length<p;)g="0"+g;return g},c=function(b,T,p,_){return s(b)?_[T]:p[T]},v=this,x=function(b){return typeof o=="function"?o.call(v,b,s("m")):A(u("m",b.month(),2))},m=function(b,T){return T?typeof l=="function"?l.call(v,b):l[b.month()-v.minMonth]:typeof i=="function"?i.call(v,b):i[b.month()-v.minMonth]},w=this.local.digits,A=function(b){return t.localNumbers&&w?w(b):b},y="",M=!1,E=0;E<e.length;E++)if(M)e.charAt(E)==="'"&&!s("'")?M=!1:y+=e.charAt(E);else switch(e.charAt(E)){case"d":y+=A(u("d",r.day(),2));break;case"D":y+=c("D",r.dayOfWeek(),n,a);break;case"o":y+=u("o",r.dayOfYear(),3);break;case"w":y+=u("w",r.weekOfYear(),2);break;case"m":y+=x(r);break;case"M":y+=m(r,s("M"));break;case"y":y+=s("y",2)?r.year():(r.year()%100<10?"0":"")+r.year()%100;break;case"Y":s("Y",2),y+=r.formatYear();break;case"J":y+=r.toJD();break;case"@":y+=(r.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":y+=(r.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":s("'")?y+="'":M=!0;break;default:y+=e.charAt(E)}return y},parseDate:function(e,r,t){if(r==null)throw ji.local.invalidArguments||ji.regionalOptions[""].invalidArguments;if(r=typeof r=="object"?r.toString():r+"",r==="")return null;e=e||this.local.dateFormat,t=t||{};var n=t.shortYearCutoff||this.shortYearCutoff;n=typeof n!="string"?n:this.today().year()%100+parseInt(n,10);for(var a=t.dayNamesShort||this.local.dayNamesShort,o=t.dayNames||this.local.dayNames,i=t.parseMonth||this.local.parseMonth,l=t.monthNumbers||this.local.monthNumbers,f=t.monthNamesShort||this.local.monthNamesShort,s=t.monthNames||this.local.monthNames,u=-1,c=-1,v=-1,x=-1,m=-1,w=!1,A=!1,y=function(R,L){for(var F=1;h+F<e.length&&e.charAt(h+F)===R;)F++;return h+=F-1,Math.floor(F/(L||1))>1},M=function(R,L){var F=y(R,L),O=[2,3,F?4:2,F?4:2,10,11,20]["oyYJ@!".indexOf(R)+1],P=new RegExp("^-?\\d{1,"+O+"}"),I=r.substring(g).match(P);if(!I)throw(ji.local.missingNumberAt||ji.regionalOptions[""].missingNumberAt).replace(/\{0\}/,g);return g+=I[0].length,parseInt(I[0],10)},E=this,b=function(){if(typeof l=="function"){y("m");var R=l.call(E,r.substring(g));return g+=R.length,R}return M("m")},T=function(R,L,F,O){for(var P=y(R,O)?F:L,I=0;I<P.length;I++)if(r.substr(g,P[I].length).toLowerCase()===P[I].toLowerCase())return g+=P[I].length,I+E.minMonth;throw(ji.local.unknownNameAt||ji.regionalOptions[""].unknownNameAt).replace(/\{0\}/,g)},p=function(){if(typeof s=="function"){var R=y("M")?s.call(E,r.substring(g)):f.call(E,r.substring(g));return g+=R.length,R}return T("M",f,s)},_=function(){if(r.charAt(g)!==e.charAt(h))throw(ji.local.unexpectedLiteralAt||ji.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,g);g++},g=0,h=0;h<e.length;h++)if(A)e.charAt(h)==="'"&&!y("'")?A=!1:_();else switch(e.charAt(h)){case"d":x=M("d");break;case"D":T("D",a,o);break;case"o":m=M("o");break;case"w":M("w");break;case"m":v=b();break;case"M":v=p();break;case"y":var S=h;w=!y("y",2),h=S,c=M("y",2);break;case"Y":c=M("Y",2);break;case"J":u=M("J")+.5,r.charAt(g)==="."&&(g++,M("J"));break;case"@":u=M("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":u=M("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":g=r.length;break;case"'":y("'")?_():A=!0;break;default:_()}if(g<r.length)throw ji.local.unexpectedText||ji.regionalOptions[""].unexpectedText;if(c===-1?c=this.today().year():c<100&&w&&(c+=n===-1?1900:this.today().year()-this.today().year()%100-(c<=n?0:100)),typeof v=="string"&&(v=i.call(this,c,v)),m>-1){v=1,x=m;for(var d=this.daysInMonth(c,v);x>d;d=this.daysInMonth(c,v))v++,x-=d}return u>-1?this.fromJD(u):this.newDate(c,v,x)},determineDate:function(e,r,t,n,a){t&&typeof t!="object"&&(a=n,n=t,t=null),typeof n!="string"&&(a=n,n="");var o=this,i=function(l){try{return o.parseDate(n,l,a)}catch(c){}l=l.toLowerCase();for(var f=(l.match(/^c/)&&t?t.newDate():null)||o.today(),s=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,u=s.exec(l);u;)f.add(parseInt(u[1],10),u[2]||"d"),u=s.exec(l);return f};return r=r?r.newDate():null,e=e==null?r:typeof e=="string"?i(e):typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?r:o.today().add(e,"d"):o.newDate(e),e}})});var Qle=fe(()=>{var $0=Ao(),SFe=gi(),qS=$0.instance();function Sw(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}Sw.prototype=new $0.baseCalendar;SFe(Sw.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(e,r){if(typeof e=="string"){var t=e.match(kFe);return t?t[0]:""}var n=this._validateYear(e),a=e.month(),o=""+this.toChineseMonth(n,a);return r&&o.length<2&&(o="0"+o),this.isIntercalaryMonth(n,a)&&(o+="i"),o},monthNames:function(e){if(typeof e=="string"){var r=e.match(LFe);return r?r[0]:""}var t=this._validateYear(e),n=e.month(),a=this.toChineseMonth(t,n),o=["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"][a-1];return this.isIntercalaryMonth(t,n)&&(o="\u95F0"+o),o},monthNamesShort:function(e){if(typeof e=="string"){var r=e.match(RFe);return r?r[0]:""}var t=this._validateYear(e),n=e.month(),a=this.toChineseMonth(t,n),o=["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"][a-1];return this.isIntercalaryMonth(t,n)&&(o="\u95F0"+o),o},parseMonth:function(e,r){e=this._validateYear(e);var t=parseInt(r),n;if(isNaN(t))r[0]==="\u95F0"&&(n=!0,r=r.substring(1)),r[r.length-1]==="\u6708"&&(r=r.substring(0,r.length-1)),t=1+["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"].indexOf(r);else{var a=r[r.length-1];n=a==="i"||a==="I"}var o=this.toMonthIndex(e,t,n);return o},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(e,r){if(e.year&&(e=e.year()),typeof e!="number"||e<1888||e>2111)throw r.replace(/\{0\}/,this.local.name);return e},toMonthIndex:function(e,r,t){var n=this.intercalaryMonth(e),a=t&&r!==n;if(a||r<1||r>12)throw $0.local.invalidMonth.replace(/\{0\}/,this.local.name);var o;return n?!t&&r<=n?o=r-1:o=r:o=r-1,o},toChineseMonth:function(e,r){e.year&&(e=e.year(),r=e.month());var t=this.intercalaryMonth(e),n=t?12:11;if(r<0||r>n)throw $0.local.invalidMonth.replace(/\{0\}/,this.local.name);var a;return t?r<t?a=r+1:a=r:a=r+1,a},intercalaryMonth:function(e){e=this._validateYear(e);var r=J0[e-J0[0]],t=r>>13;return t},isIntercalaryMonth:function(e,r){e.year&&(e=e.year(),r=e.month());var t=this.intercalaryMonth(e);return!!t&&t===r},leapYear:function(e){return this.intercalaryMonth(e)!==0},weekOfYear:function(e,r,t){var n=this._validateYear(e,$0.local.invalidyear),a=K0[n-K0[0]],o=a>>9&4095,i=a>>5&15,l=a&31,f;f=qS.newDate(o,i,l),f.add(4-(f.dayOfWeek()||7),"d");var s=this.toJD(e,r,t)-f.toJD();return 1+Math.floor(s/7)},monthsInYear:function(e){return this.leapYear(e)?13:12},daysInMonth:function(e,r){e.year&&(r=e.month(),e=e.year()),e=this._validateYear(e);var t=J0[e-J0[0]],n=t>>13,a=n?12:11;if(r>a)throw $0.local.invalidMonth.replace(/\{0\}/,this.local.name);var o=t&1<<12-r?30:29;return o},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,o,t,$0.local.invalidDate);e=this._validateYear(n.year()),r=n.month(),t=n.day();var a=this.isIntercalaryMonth(e,r),o=this.toChineseMonth(e,r),i=DFe(e,o,t,a);return qS.toJD(i.year,i.month,i.day)},fromJD:function(e){var r=qS.fromJD(e),t=FFe(r.year(),r.month(),r.day()),n=this.toMonthIndex(t.year,t.month,t.isIntercalary);return this.newDate(t.year,n,t.day)},fromString:function(e){var r=e.match(CFe),t=this._validateYear(+r[1]),n=+r[2],a=!!r[3],o=this.toMonthIndex(t,n,a),i=+r[4];return this.newDate(t,o,i)},add:function(e,r,t){var n=e.year(),a=e.month(),o=this.isIntercalaryMonth(n,a),i=this.toChineseMonth(n,a),l=Object.getPrototypeOf(Sw.prototype).add.call(this,e,r,t);if(t==="y"){var f=l.year(),s=l.month(),u=this.isIntercalaryMonth(f,i),c=o&&u?this.toMonthIndex(f,i,!0):this.toMonthIndex(f,i,!1);c!==s&&l.month(c)}return l}});var CFe=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,kFe=/^\d?\d[iI]?/m,LFe=/^??[]?/m,RFe=/^??[]?/m;$0.calendars.chinese=Sw;var J0=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],K0=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function FFe(e,r,t,n){var a,o;if(typeof e=="object")a=e,o=r||{};else{var i=typeof e=="number"&&e>=1888&&e<=2111;if(!i)throw new Error("Solar year outside range 1888-2111");var l=typeof r=="number"&&r>=1&&r<=12;if(!l)throw new Error("Solar month outside range 1 - 12");var f=typeof t=="number"&&t>=1&&t<=31;if(!f)throw new Error("Solar day outside range 1 - 31");a={year:e,month:r,day:t},o=n||{}}var s=K0[a.year-K0[0]],u=a.year<<9|a.month<<5|a.day;o.year=u>=s?a.year:a.year-1,s=K0[o.year-K0[0]];var c=s>>9&4095,v=s>>5&15,x=s&31,m,w=new Date(c,v-1,x),A=new Date(a.year,a.month-1,a.day);m=Math.round((A-w)/(24*3600*1e3));var y=J0[o.year-J0[0]],M;for(M=0;M<13;M++){var E=y&1<<12-M?30:29;if(m<E)break;m-=E}var b=y>>13;return!b||M<b?(o.isIntercalary=!1,o.month=1+M):M===b?(o.isIntercalary=!0,o.month=M):(o.isIntercalary=!1,o.month=M),o.day=1+m,o}function DFe(e,r,t,n,a){var o,i;if(typeof e=="object")i=e,o=r||{};else{var l=typeof e=="number"&&e>=1888&&e<=2111;if(!l)throw new Error("Lunar year outside range 1888-2111");var f=typeof r=="number"&&r>=1&&r<=12;if(!f)throw new Error("Lunar month outside range 1 - 12");var s=typeof t=="number"&&t>=1&&t<=30;if(!s)throw new Error("Lunar day outside range 1 - 30");var u;typeof n=="object"?(u=!1,o=n):(u=!!n,o=a||{}),i={year:e,month:r,day:t,isIntercalary:u}}var c;c=i.day-1;var v=J0[i.year-J0[0]],x=v>>13,m;x&&(i.month>x||i.isIntercalary)?m=i.month:m=i.month-1;for(var w=0;w<m;w++){var A=v&1<<12-w?30:29;c+=A}var y=K0[i.year-K0[0]],M=y>>9&4095,E=y>>5&15,b=y&31,T=new Date(M,E-1,b+c);return o.year=T.getFullYear(),o.month=1+T.getMonth(),o.day=T.getDate(),o}});var ese=fe(()=>{var rd=Ao(),IFe=gi();function US(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}US.prototype=new rd.baseCalendar;IFe(US.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,rd.local.invalidYear),t=r.year()+(r.year()<0?1:0);return t%4===3||t%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,rd.local.invalidYear||rd.regionalOptions[""].invalidYear),13},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,rd.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===13&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,rd.local.invalidDate);return e=n.year(),e<0&&e++,n.day()+(n.month()-1)*30+(e-1)*365+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var r=Math.floor(e)+.5-this.jdEpoch,t=Math.floor((r-Math.floor((r+366)/1461))/365)+1;t<=0&&t--,r=Math.floor(e)+.5-this.newDate(t,1,1).toJD();var n=Math.floor(r/30)+1,a=r-(n-1)*30+1;return this.newDate(t,n,a)}});rd.calendars.coptic=US});var rse=fe(()=>{var _c=Ao(),PFe=gi();function GS(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}GS.prototype=new _c.baseCalendar;PFe(GS.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,_c.local.invalidYear),!1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,_c.local.invalidYear),13},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,_c.local.invalidYear),400},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/8)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,_c.local.invalidMonth);return this.daysPerMonth[t.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(e,r,t){var n=this._validate(e,r,t,_c.local.invalidDate);return(n.day()+1)%8},weekDay:function(e,r,t){var n=this.dayOfWeek(e,r,t);return n>=2&&n<=6},extraInfo:function(e,r,t){var n=this._validate(e,r,t,_c.local.invalidDate);return{century:OFe[Math.floor((n.year()-1)/100)+1]||""}},toJD:function(e,r,t){var n=this._validate(e,r,t,_c.local.invalidDate);return e=n.year()+(n.year()<0?1:0),r=n.month(),t=n.day(),t+(r>1?16:0)+(r>2?(r-2)*32:0)+(e-1)*400+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e+.5)-Math.floor(this.jdEpoch)-1;var r=Math.floor(e/400)+1;e-=(r-1)*400,e+=e>15?16:0;var t=Math.floor(e/32)+1,n=e-(t-1)*32+1;return this.newDate(r<=0?r-1:r,t,n)}});var OFe={20:"Fruitbat",21:"Anchovy"};_c.calendars.discworld=GS});var tse=fe(()=>{var td=Ao(),NFe=gi();function HS(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}HS.prototype=new td.baseCalendar;NFe(HS.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,td.local.invalidYear),t=r.year()+(r.year()<0?1:0);return t%4===3||t%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,td.local.invalidYear||td.regionalOptions[""].invalidYear),13},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,td.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===13&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,td.local.invalidDate);return e=n.year(),e<0&&e++,n.day()+(n.month()-1)*30+(e-1)*365+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var r=Math.floor(e)+.5-this.jdEpoch,t=Math.floor((r-Math.floor((r+366)/1461))/365)+1;t<=0&&t--,r=Math.floor(e)+.5-this.newDate(t,1,1).toJD();var n=Math.floor(r/30)+1,a=r-(n-1)*30+1;return this.newDate(t,n,a)}});td.calendars.ethiopian=HS});var nse=fe(()=>{var Q0=Ao(),BFe=gi();function VS(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}VS.prototype=new Q0.baseCalendar;BFe(VS.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Q0.local.invalidYear);return this._leapYear(r.year())},_leapYear:function(e){return e=e<0?e+1:e,Cw(e*7+1,19)<7},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Q0.local.invalidYear),this._leapYear(e.year?e.year():e)?13:12},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Q0.local.invalidYear);return e=r.year(),this.toJD(e===-1?1:e+1,7,1)-this.toJD(e,7,1)},daysInMonth:function(e,r){return e.year&&(r=e.month(),e=e.year()),this._validate(e,r,this.minDay,Q0.local.invalidMonth),r===12&&this.leapYear(e)||r===8&&Cw(this.daysInYear(e),10)===5?30:r===9&&Cw(this.daysInYear(e),10)===3?29:this.daysPerMonth[r-1]},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==6},extraInfo:function(e,r,t){var n=this._validate(e,r,t,Q0.local.invalidDate);return{yearType:(this.leapYear(n)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(n)%10-3]}},toJD:function(e,r,t){var n=this._validate(e,r,t,Q0.local.invalidDate);e=n.year(),r=n.month(),t=n.day();var a=e<=0?e+1:e,o=this.jdEpoch+this._delay1(a)+this._delay2(a)+t+1;if(r<7){for(var i=7;i<=this.monthsInYear(e);i++)o+=this.daysInMonth(e,i);for(var i=1;i<r;i++)o+=this.daysInMonth(e,i)}else for(var i=7;i<r;i++)o+=this.daysInMonth(e,i);return o},_delay1:function(e){var r=Math.floor((235*e-234)/19),t=12084+13753*r,n=r*29+Math.floor(t/25920);return Cw(3*(n+1),7)<3&&n++,n},_delay2:function(e){var r=this._delay1(e-1),t=this._delay1(e),n=this._delay1(e+1);return n-t===356?2:t-r===382?1:0},fromJD:function(e){e=Math.floor(e)+.5;for(var r=Math.floor((e-this.jdEpoch)*98496/35975351)-1;e>=this.toJD(r===-1?1:r+1,7,1);)r++;for(var t=e<this.toJD(r,1,1)?7:1;e>this.toJD(r,t,this.daysInMonth(r,t));)t++;var n=e-this.toJD(r,t,1)+1;return this.newDate(r,t,n)}});function Cw(e,r){return e-r*Math.floor(e/r)}Q0.calendars.hebrew=VS});var ase=fe(()=>{var g2=Ao(),zFe=gi();function YS(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}YS.prototype=new g2.baseCalendar;zFe(YS.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012Bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,g2.local.invalidYear);return(r.year()*11+14)%30<11},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){return this.leapYear(e)?355:354},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,g2.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===12&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==5},toJD:function(e,r,t){var n=this._validate(e,r,t,g2.local.invalidDate);return e=n.year(),r=n.month(),t=n.day(),e=e<=0?e+1:e,t+Math.ceil(29.5*(r-1))+(e-1)*354+Math.floor((3+11*e)/30)+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var r=Math.floor((30*(e-this.jdEpoch)+10646)/10631);r=r<=0?r-1:r;var t=Math.min(12,Math.ceil((e-29-this.toJD(r,1,1))/29.5)+1),n=e-this.toJD(r,t,1)+1;return this.newDate(r,t,n)}});g2.calendars.islamic=YS});var ise=fe(()=>{var y2=Ao(),qFe=gi();function WS(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}WS.prototype=new y2.baseCalendar;qFe(WS.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,y2.local.invalidYear),t=r.year()<0?r.year()+1:r.year();return t%4===0},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,y2.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,y2.local.invalidDate);return e=n.year(),r=n.month(),t=n.day(),e<0&&e++,r<=2&&(e--,r+=12),Math.floor(365.25*(e+4716))+Math.floor(30.6001*(r+1))+t-1524.5},fromJD:function(e){var r=Math.floor(e+.5),t=r+1524,n=Math.floor((t-122.1)/365.25),a=Math.floor(365.25*n),o=Math.floor((t-a)/30.6001),i=o-Math.floor(o<14?1:13),l=n-Math.floor(i>2?4716:4715),f=t-a-Math.floor(30.6001*o);return l<=0&&l--,this.newDate(l,i,f)}});y2.calendars.julian=WS});var lse=fe(()=>{var Rs=Ao(),UFe=gi();function jS(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}jS.prototype=new Rs.baseCalendar;UFe(jS.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,Rs.local.invalidYear),!1},formatYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Rs.local.invalidYear);e=r.year();var t=Math.floor(e/400);e=e%400,e+=e<0?400:0;var n=Math.floor(e/20);return t+"."+n+"."+e%20},forYear:function(e){if(e=e.split("."),e.length<3)throw"Invalid Mayan year";for(var r=0,t=0;t<e.length;t++){var n=parseInt(e[t],10);if(Math.abs(n)>19||t>0&&n<0)throw"Invalid Mayan year";r=r*20+n}return r},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Rs.local.invalidYear),18},weekOfYear:function(e,r,t){return this._validate(e,r,t,Rs.local.invalidDate),0},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Rs.local.invalidYear),360},daysInMonth:function(e,r){return this._validate(e,r,this.minDay,Rs.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(e,r,t){var n=this._validate(e,r,t,Rs.local.invalidDate);return n.day()},weekDay:function(e,r,t){return this._validate(e,r,t,Rs.local.invalidDate),!0},extraInfo:function(e,r,t){var n=this._validate(e,r,t,Rs.local.invalidDate),a=n.toJD(),o=this._toHaab(a),i=this._toTzolkin(a);return{haabMonthName:this.local.haabMonths[o[0]-1],haabMonth:o[0],haabDay:o[1],tzolkinDayName:this.local.tzolkinMonths[i[0]-1],tzolkinDay:i[0],tzolkinTrecena:i[1]}},_toHaab:function(e){e-=this.jdEpoch;var r=XS(e+8+17*20,365);return[Math.floor(r/20)+1,XS(r,20)]},_toTzolkin:function(e){return e-=this.jdEpoch,[ose(e+20,20),ose(e+4,13)]},toJD:function(e,r,t){var n=this._validate(e,r,t,Rs.local.invalidDate);return n.day()+n.month()*20+n.year()*360+this.jdEpoch},fromJD:function(e){e=Math.floor(e)+.5-this.jdEpoch;var r=Math.floor(e/360);e=e%360,e+=e<0?360:0;var t=Math.floor(e/20),n=e%20;return this.newDate(r,t,n)}});function XS(e,r){return e-r*Math.floor(e/r)}function ose(e,r){return XS(e-1,r)+1}Rs.calendars.mayan=jS});var fse=fe(()=>{var nd=Ao(),GFe=gi();function ZS(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}ZS.prototype=new nd.baseCalendar;var sse=nd.instance("gregorian");GFe(ZS.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,nd.local.invalidYear||nd.regionalOptions[""].invalidYear);return sse.leapYear(r.year()+(r.year()<1?1:0)+1469)},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(1-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,nd.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===12&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(a,r,t){var n=this._validate(a,r,t,nd.local.invalidMonth),a=n.year();a<0&&a++;for(var o=n.day(),i=1;i<n.month();i++)o+=this.daysPerMonth[i-1];return o+sse.toJD(a+1468,3,13)},fromJD:function(e){e=Math.floor(e+.5);for(var r=Math.floor((e-(this.jdEpoch-1))/366);e>=this.toJD(r+1,1,1);)r++;for(var t=e-Math.floor(this.toJD(r,1,1)+.5)+1,n=1;t>this.daysInMonth(r,n);)t-=this.daysInMonth(r,n),n++;return this.newDate(r,n,t)}});nd.calendars.nanakshahi=ZS});var use=fe(()=>{var ad=Ao(),HFe=gi();function $S(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}$S.prototype=new ad.baseCalendar;HFe($S.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(e){return this.daysInYear(e)!==this.daysPerYear},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,ad.local.invalidYear);if(e=r.year(),typeof this.NEPALI_CALENDAR_DATA[e]=="undefined")return this.daysPerYear;for(var t=0,n=this.minMonth;n<=12;n++)t+=this.NEPALI_CALENDAR_DATA[e][n];return t},daysInMonth:function(e,r){return e.year&&(r=e.month(),e=e.year()),this._validate(e,r,this.minDay,ad.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[e]=="undefined"?this.daysPerMonth[r-1]:this.NEPALI_CALENDAR_DATA[e][r]},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==6},toJD:function(e,r,t){var n=this._validate(e,r,t,ad.local.invalidDate);e=n.year(),r=n.month(),t=n.day();var a=ad.instance(),o=0,i=r,l=e;this._createMissingCalendarData(e);var f=e-(i>9||i===9&&t>=this.NEPALI_CALENDAR_DATA[l][0]?56:57);for(r!==9&&(o=t,i--);i!==9;)i<=0&&(i=12,l--),o+=this.NEPALI_CALENDAR_DATA[l][i],i--;return r===9?(o+=t-this.NEPALI_CALENDAR_DATA[l][0],o<0&&(o+=a.daysInYear(f))):o+=this.NEPALI_CALENDAR_DATA[l][9]-this.NEPALI_CALENDAR_DATA[l][0],a.newDate(f,1,1).add(o,"d").toJD()},fromJD:function(e){var r=ad.instance(),t=r.fromJD(e),n=t.year(),a=t.dayOfYear(),o=n+56;this._createMissingCalendarData(o);for(var i=9,l=this.NEPALI_CALENDAR_DATA[o][0],f=this.NEPALI_CALENDAR_DATA[o][i]-l+1;a>f;)i++,i>12&&(i=1,o++),f+=this.NEPALI_CALENDAR_DATA[o][i];var s=this.NEPALI_CALENDAR_DATA[o][i]-(f-a);return this.newDate(o,i,s)},_createMissingCalendarData:function(e){var r=this.daysPerMonth.slice(0);r.unshift(17);for(var t=e-1;t<e+2;t++)typeof this.NEPALI_CALENDAR_DATA[t]=="undefined"&&(this.NEPALI_CALENDAR_DATA[t]=r)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}});ad.calendars.nepali=$S});var cse=fe(()=>{var Pp=Ao(),VFe=gi();function Lw(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}function kw(e){var r=e-475;e<0&&r++;var t=.242197,n=t*r,a=t*(r+1),o=n-Math.floor(n),i=a-Math.floor(a);return o>i}Lw.prototype=new Pp.baseCalendar;VFe(Lw.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Dey","Bah","Esf"],dayNames:["Yekshanbeh","Doshanbeh","Seshanbeh","Chah\u0101rshanbeh","Panjshanbeh","Jom'eh","Shanbeh"],dayNamesShort:["Yek","Do","Se","Cha","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Pp.local.invalidYear);return kw(r.year())},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-((n.dayOfWeek()+1)%7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,Pp.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===12&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==5},toJD:function(e,r,t){var n=this._validate(e,r,t,Pp.local.invalidDate);e=n.year(),r=n.month(),t=n.day();var a=0;if(e>0)for(var o=1;o<e;o++)kw(o)&&a++;else if(e<0)for(var o=e;o<0;o++)kw(o)&&a--;return t+(r<=7?(r-1)*31:(r-1)*30+6)+(e>0?e-1:e)*365+a+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var r=475+(e-this.toJD(475,1,1))/365.242197,t=Math.floor(r);t<=0&&t--,e>this.toJD(t,12,kw(t)?30:29)&&(t++,t===0&&t++);var n=e-this.toJD(t,1,1)+1,a=n<=186?Math.ceil(n/31):Math.ceil((n-6)/30),o=e-this.toJD(t,a,1)+1;return this.newDate(t,a,o)}});Pp.calendars.persian=Lw;Pp.calendars.jalali=Lw});var hse=fe(()=>{var id=Ao(),YFe=gi(),Rw=id.instance();function JS(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}JS.prototype=new id.baseCalendar;YFe(JS.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,id.local.invalidYear),t=this._t2gYear(r.year());return Rw.leapYear(t)},weekOfYear:function(a,r,t){var n=this._validate(a,this.minMonth,this.minDay,id.local.invalidYear),a=this._t2gYear(n.year());return Rw.weekOfYear(a,n.month(),n.day())},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,id.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(a,r,t){var n=this._validate(a,r,t,id.local.invalidDate),a=this._t2gYear(n.year());return Rw.toJD(a,n.month(),n.day())},fromJD:function(e){var r=Rw.fromJD(e),t=this._g2tYear(r.year());return this.newDate(t,r.month(),r.day())},_t2gYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)},_g2tYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)}});id.calendars.taiwan=JS});var vse=fe(()=>{var od=Ao(),WFe=gi(),Fw=od.instance();function KS(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}KS.prototype=new od.baseCalendar;WFe(KS.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,od.local.invalidYear),t=this._t2gYear(r.year());return Fw.leapYear(t)},weekOfYear:function(a,r,t){var n=this._validate(a,this.minMonth,this.minDay,od.local.invalidYear),a=this._t2gYear(n.year());return Fw.weekOfYear(a,n.month(),n.day())},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,od.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(a,r,t){var n=this._validate(a,r,t,od.local.invalidDate),a=this._t2gYear(n.year());return Fw.toJD(a,n.month(),n.day())},fromJD:function(e){var r=Fw.fromJD(e),t=this._g2tYear(r.year());return this.newDate(t,r.month(),r.day())},_t2gYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)},_g2tYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)}});od.calendars.thai=KS});var dse=fe(()=>{var ld=Ao(),XFe=gi();function QS(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}QS.prototype=new ld.baseCalendar;XFe(QS.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012Bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,ld.local.invalidYear);return this.daysInYear(r.year())===355},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){for(var r=0,t=1;t<=12;t++)r+=this.daysInMonth(e,t);return r},daysInMonth:function(e,r){for(var t=this._validate(e,r,this.minDay,ld.local.invalidMonth),n=t.toJD()-24e5+.5,a=0,o=0;o<eh.length;o++){if(eh[o]>n)return eh[a]-eh[a-1];a++}return 30},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==5},toJD:function(e,r,t){var n=this._validate(e,r,t,ld.local.invalidDate),a=12*(n.year()-1)+n.month()-15292,o=n.day()+eh[a-1]-1;return o+24e5-.5},fromJD:function(e){for(var r=e-24e5+.5,t=0,n=0;n<eh.length&&!(eh[n]>r);n++)t++;var a=t+15292,o=Math.floor((a-1)/12),i=o+1,l=a-12*o,f=r-eh[t-1]+1;return this.newDate(i,l,f)},isValid:function(e,r,t){var n=ld.baseCalendar.prototype.isValid.apply(this,arguments);return n&&(e=e.year!=null?e.year:e,n=e>=1276&&e<=1500),n},_validate:function(e,r,t,n){var a=ld.baseCalendar.prototype._validate.apply(this,arguments);if(a.year<1276||a.year>1500)throw n.replace(/\{0\}/,this.local.name);return a}});ld.calendars.ummalqura=QS;var eh=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]});var gse=fe((aXe,pse)=>{"use strict";pse.exports=Ao();Kle();Qle();ese();rse();tse();nse();ase();ise();lse();fse();use();cse();hse();vse();dse()});var Ase=fe((iXe,wse)=>{"use strict";var mse=gse(),m2=tt(),xse=ui(),jFe=xse.EPOCHJD,ZFe=xse.ONEDAY,t9={valType:"enumerated",values:m2.sortObjectKeys(mse.calendars),editType:"calc",dflt:"gregorian"},bse=function(e,r,t,n){var a={};return a[t]=t9,m2.coerce(e,r,a,t,n)},$Fe=function(e,r,t,n){for(var a=0;a<t.length;a++)bse(e,r,t[a]+"calendar",n.calendar)},JFe={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},KFe={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},QFe={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},Dw="##",eDe={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:Dw,w:Dw,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function rDe(e,r,t){for(var n=Math.floor((r+.05)/ZFe)+jFe,a=_se(t).fromJD(n),o=0,i,l,f,s,u;(o=e.indexOf("%",o))!==-1;)i=e.charAt(o+1),i==="0"||i==="-"||i==="_"?(f=3,l=e.charAt(o+2),i==="_"&&(i="-")):(l=i,i="0",f=2),s=eDe[l],s?(s===Dw?u=Dw:u=a.formatDate(s[i]),e=e.substr(0,o)+u+e.substr(o+f),o+=u.length):o+=f;return e}var yse={};function _se(e){var r=yse[e];return r||(r=yse[e]=mse.instance(e),r)}function x2(e){return m2.extendFlat({},t9,{description:e})}function n9(e){return"Sets the calendar system to use with `"+e+"` date data."}var r9={xcalendar:x2(n9("x"))},du=m2.extendFlat({},r9,{ycalendar:x2(n9("y"))}),e9=m2.extendFlat({},du,{zcalendar:x2(n9("z"))}),Op=x2(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));wse.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:du,bar:du,box:du,heatmap:du,contour:du,histogram:du,histogram2d:du,histogram2dcontour:du,scatter3d:e9,surface:e9,mesh3d:e9,scattergl:du,ohlc:r9,candlestick:r9},layout:{calendar:x2(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:Op},yaxis:{calendar:Op},scene:{xaxis:{calendar:Op},yaxis:{calendar:Op},zaxis:{calendar:Op}},polar:{radialaxis:{calendar:Op}}}},layoutAttributes:t9,handleDefaults:bse,handleTraceDefaults:$Fe,CANONICAL_SUNDAY:KFe,CANONICAL_TICK:JFe,DFLTRANGE:QFe,getCal:_se,worldCalFmt:rDe}});var Mse=fe((oXe,Tse)=>{"use strict";Tse.exports=Ase()});var tDe=fe((lXe,Sse)=>{var Ese=uW();Ese.register([dZ(),G$(),Zle(),Mse()]);Sse.exports=Ese});return tDe();})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * pad-left <https://github.com/jonschlinkert/pad-left>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT license.
 */
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*! Bundled license information:

native-promise-only/lib/npo.src.js:
  (*! Native Promise Only
      v0.8.1 (c) Kyle Simpson
      MIT License: http://getify.mit-license.org
  *)

polybooljs/index.js:
  (*
   * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
   * @license MIT
   * @preserve Project Home: https://github.com/voidqk/polybooljs
   *)

assert/build/internal/util/comparisons.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/

window.Plotly = Plotly;
return Plotly;
}));